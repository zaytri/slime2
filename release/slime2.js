var fP=Object.defineProperty;var pP=(t,e,r)=>e in t?fP(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var fd=(t,e,r)=>(pP(t,typeof e!="symbol"?e+"":e,r),r);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var Ym=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function _s(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function mP(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var Fx={exports:{}},fc={},Ux={exports:{}},te={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ma=Symbol.for("react.element"),gP=Symbol.for("react.portal"),yP=Symbol.for("react.fragment"),vP=Symbol.for("react.strict_mode"),_P=Symbol.for("react.profiler"),wP=Symbol.for("react.provider"),xP=Symbol.for("react.context"),SP=Symbol.for("react.forward_ref"),bP=Symbol.for("react.suspense"),CP=Symbol.for("react.memo"),TP=Symbol.for("react.lazy"),u0=Symbol.iterator;function EP(t){return t===null||typeof t!="object"?null:(t=u0&&t[u0]||t["@@iterator"],typeof t=="function"?t:null)}var jx={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$x=Object.assign,qx={};function ws(t,e,r){this.props=t,this.context=e,this.refs=qx,this.updater=r||jx}ws.prototype.isReactComponent={};ws.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ws.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Vx(){}Vx.prototype=ws.prototype;function Xm(t,e,r){this.props=t,this.context=e,this.refs=qx,this.updater=r||jx}var Jm=Xm.prototype=new Vx;Jm.constructor=Xm;$x(Jm,ws.prototype);Jm.isPureReactComponent=!0;var c0=Array.isArray,Hx=Object.prototype.hasOwnProperty,Zm={current:null},zx={key:!0,ref:!0,__self:!0,__source:!0};function Gx(t,e,r){var n,i={},s=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)Hx.call(e,n)&&!zx.hasOwnProperty(n)&&(i[n]=e[n]);var a=arguments.length-2;if(a===1)i.children=r;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(n in a=t.defaultProps,a)i[n]===void 0&&(i[n]=a[n]);return{$$typeof:ma,type:t,key:s,ref:o,props:i,_owner:Zm.current}}function PP(t,e){return{$$typeof:ma,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function eg(t){return typeof t=="object"&&t!==null&&t.$$typeof===ma}function AP(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var d0=/\/+/g;function pd(t,e){return typeof t=="object"&&t!==null&&t.key!=null?AP(""+t.key):e.toString(36)}function _l(t,e,r,n,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case ma:case gP:o=!0}}if(o)return o=t,i=i(o),t=n===""?"."+pd(o,0):n,c0(i)?(r="",t!=null&&(r=t.replace(d0,"$&/")+"/"),_l(i,e,r,"",function(u){return u})):i!=null&&(eg(i)&&(i=PP(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(d0,"$&/")+"/")+t)),e.push(i)),1;if(o=0,n=n===""?".":n+":",c0(t))for(var a=0;a<t.length;a++){s=t[a];var l=n+pd(s,a);o+=_l(s,e,r,l,i)}else if(l=EP(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=n+pd(s,a++),o+=_l(s,e,r,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Ua(t,e,r){if(t==null)return t;var n=[],i=0;return _l(t,n,"","",function(s){return e.call(r,s,i++)}),n}function IP(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ot={current:null},wl={transition:null},kP={ReactCurrentDispatcher:ot,ReactCurrentBatchConfig:wl,ReactCurrentOwner:Zm};te.Children={map:Ua,forEach:function(t,e,r){Ua(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Ua(t,function(){e++}),e},toArray:function(t){return Ua(t,function(e){return e})||[]},only:function(t){if(!eg(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};te.Component=ws;te.Fragment=yP;te.Profiler=_P;te.PureComponent=Xm;te.StrictMode=vP;te.Suspense=bP;te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=kP;te.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=$x({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Zm.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Hx.call(e,l)&&!zx.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];n.children=a}return{$$typeof:ma,type:t.type,key:i,ref:s,props:n,_owner:o}};te.createContext=function(t){return t={$$typeof:xP,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:wP,_context:t},t.Consumer=t};te.createElement=Gx;te.createFactory=function(t){var e=Gx.bind(null,t);return e.type=t,e};te.createRef=function(){return{current:null}};te.forwardRef=function(t){return{$$typeof:SP,render:t}};te.isValidElement=eg;te.lazy=function(t){return{$$typeof:TP,_payload:{_status:-1,_result:t},_init:IP}};te.memo=function(t,e){return{$$typeof:CP,type:t,compare:e===void 0?null:e}};te.startTransition=function(t){var e=wl.transition;wl.transition={};try{t()}finally{wl.transition=e}};te.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};te.useCallback=function(t,e){return ot.current.useCallback(t,e)};te.useContext=function(t){return ot.current.useContext(t)};te.useDebugValue=function(){};te.useDeferredValue=function(t){return ot.current.useDeferredValue(t)};te.useEffect=function(t,e){return ot.current.useEffect(t,e)};te.useId=function(){return ot.current.useId()};te.useImperativeHandle=function(t,e,r){return ot.current.useImperativeHandle(t,e,r)};te.useInsertionEffect=function(t,e){return ot.current.useInsertionEffect(t,e)};te.useLayoutEffect=function(t,e){return ot.current.useLayoutEffect(t,e)};te.useMemo=function(t,e){return ot.current.useMemo(t,e)};te.useReducer=function(t,e,r){return ot.current.useReducer(t,e,r)};te.useRef=function(t){return ot.current.useRef(t)};te.useState=function(t){return ot.current.useState(t)};te.useSyncExternalStore=function(t,e,r){return ot.current.useSyncExternalStore(t,e,r)};te.useTransition=function(){return ot.current.useTransition()};te.version="18.2.0";Ux.exports=te;var U=Ux.exports;const tg=_s(U);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RP=U,MP=Symbol.for("react.element"),OP=Symbol.for("react.fragment"),DP=Object.prototype.hasOwnProperty,NP=RP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,BP={key:!0,ref:!0,__self:!0,__source:!0};function Wx(t,e,r){var n,i={},s=null,o=null;r!==void 0&&(s=""+r),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)DP.call(e,n)&&!BP.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:MP,type:t,key:s,ref:o,props:i,_owner:NP.current}}fc.Fragment=OP;fc.jsx=Wx;fc.jsxs=Wx;Fx.exports=fc;var de=Fx.exports,zf={},Qx={exports:{}},Et={},Kx={exports:{}},Yx={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(L,F){var z=L.length;L.push(F);e:for(;0<z;){var H=z-1>>>1,oe=L[H];if(0<i(oe,F))L[H]=F,L[z]=oe,z=H;else break e}}function r(L){return L.length===0?null:L[0]}function n(L){if(L.length===0)return null;var F=L[0],z=L.pop();if(z!==F){L[0]=z;e:for(var H=0,oe=L.length,Ht=oe>>>1;H<Ht;){var Ye=2*(H+1)-1,yt=L[Ye],Xe=Ye+1,wr=L[Xe];if(0>i(yt,z))Xe<oe&&0>i(wr,yt)?(L[H]=wr,L[Xe]=z,H=Xe):(L[H]=yt,L[Ye]=z,H=Ye);else if(Xe<oe&&0>i(wr,z))L[H]=wr,L[Xe]=z,H=Xe;else break e}}return F}function i(L,F){var z=L.sortIndex-F.sortIndex;return z!==0?z:L.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,h=null,d=3,p=!1,m=!1,_=!1,w=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(L){for(var F=r(u);F!==null;){if(F.callback===null)n(u);else if(F.startTime<=L)n(u),F.sortIndex=F.expirationTime,e(l,F);else break;F=r(u)}}function x(L){if(_=!1,y(L),!m)if(r(l)!==null)m=!0,V(C);else{var F=r(u);F!==null&&se(x,F.startTime-L)}}function C(L,F){m=!1,_&&(_=!1,v(A),A=-1),p=!0;var z=d;try{for(y(F),h=r(l);h!==null&&(!(h.expirationTime>F)||L&&!Q());){var H=h.callback;if(typeof H=="function"){h.callback=null,d=h.priorityLevel;var oe=H(h.expirationTime<=F);F=t.unstable_now(),typeof oe=="function"?h.callback=oe:h===r(l)&&n(l),y(F)}else n(l);h=r(l)}if(h!==null)var Ht=!0;else{var Ye=r(u);Ye!==null&&se(x,Ye.startTime-F),Ht=!1}return Ht}finally{h=null,d=z,p=!1}}var k=!1,O=null,A=-1,N=5,j=-1;function Q(){return!(t.unstable_now()-j<N)}function re(){if(O!==null){var L=t.unstable_now();j=L;var F=!0;try{F=O(!0,L)}finally{F?Z():(k=!1,O=null)}}else k=!1}var Z;if(typeof g=="function")Z=function(){g(re)};else if(typeof MessageChannel<"u"){var T=new MessageChannel,I=T.port2;T.port1.onmessage=re,Z=function(){I.postMessage(null)}}else Z=function(){w(re,0)};function V(L){O=L,k||(k=!0,Z())}function se(L,F){A=w(function(){L(t.unstable_now())},F)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,V(C))},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(L){switch(d){case 1:case 2:case 3:var F=3;break;default:F=d}var z=d;d=F;try{return L()}finally{d=z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(L,F){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var z=d;d=L;try{return F()}finally{d=z}},t.unstable_scheduleCallback=function(L,F,z){var H=t.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?H+z:H):z=H,L){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return oe=z+oe,L={id:c++,callback:F,priorityLevel:L,startTime:z,expirationTime:oe,sortIndex:-1},z>H?(L.sortIndex=z,e(u,L),r(l)===null&&L===r(u)&&(_?(v(A),A=-1):_=!0,se(x,z-H))):(L.sortIndex=oe,e(l,L),m||p||(m=!0,V(C))),L},t.unstable_shouldYield=Q,t.unstable_wrapCallback=function(L){var F=d;return function(){var z=d;d=F;try{return L.apply(this,arguments)}finally{d=z}}}})(Yx);Kx.exports=Yx;var LP=Kx.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xx=U,Ct=LP;function B(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Jx=new Set,vo={};function hi(t,e){is(t,e),is(t+"Capture",e)}function is(t,e){for(vo[t]=e,t=0;t<e.length;t++)Jx.add(e[t])}var Rr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Gf=Object.prototype.hasOwnProperty,FP=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h0={},f0={};function UP(t){return Gf.call(f0,t)?!0:Gf.call(h0,t)?!1:FP.test(t)?f0[t]=!0:(h0[t]=!0,!1)}function jP(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function $P(t,e,r,n){if(e===null||typeof e>"u"||jP(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function at(t,e,r,n,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Ke={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ke[t]=new at(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ke[e]=new at(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ke[t]=new at(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ke[t]=new at(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ke[t]=new at(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ke[t]=new at(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ke[t]=new at(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ke[t]=new at(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ke[t]=new at(t,5,!1,t.toLowerCase(),null,!1,!1)});var rg=/[\-:]([a-z])/g;function ng(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(rg,ng);Ke[e]=new at(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(rg,ng);Ke[e]=new at(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(rg,ng);Ke[e]=new at(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ke[t]=new at(t,1,!1,t.toLowerCase(),null,!1,!1)});Ke.xlinkHref=new at("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ke[t]=new at(t,1,!1,t.toLowerCase(),null,!0,!0)});function ig(t,e,r,n){var i=Ke.hasOwnProperty(e)?Ke[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&($P(e,r,i,n)&&(r=null),n||i===null?UP(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Br=Xx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ja=Symbol.for("react.element"),Ai=Symbol.for("react.portal"),Ii=Symbol.for("react.fragment"),sg=Symbol.for("react.strict_mode"),Wf=Symbol.for("react.profiler"),Zx=Symbol.for("react.provider"),eS=Symbol.for("react.context"),og=Symbol.for("react.forward_ref"),Qf=Symbol.for("react.suspense"),Kf=Symbol.for("react.suspense_list"),ag=Symbol.for("react.memo"),Kr=Symbol.for("react.lazy"),tS=Symbol.for("react.offscreen"),p0=Symbol.iterator;function Rs(t){return t===null||typeof t!="object"?null:(t=p0&&t[p0]||t["@@iterator"],typeof t=="function"?t:null)}var Ie=Object.assign,md;function zs(t){if(md===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);md=e&&e[1]||""}return`
`+md+t}var gd=!1;function yd(t,e){if(!t||gd)return"";gd=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=n.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{gd=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?zs(t):""}function qP(t){switch(t.tag){case 5:return zs(t.type);case 16:return zs("Lazy");case 13:return zs("Suspense");case 19:return zs("SuspenseList");case 0:case 2:case 15:return t=yd(t.type,!1),t;case 11:return t=yd(t.type.render,!1),t;case 1:return t=yd(t.type,!0),t;default:return""}}function Yf(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ii:return"Fragment";case Ai:return"Portal";case Wf:return"Profiler";case sg:return"StrictMode";case Qf:return"Suspense";case Kf:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case eS:return(t.displayName||"Context")+".Consumer";case Zx:return(t._context.displayName||"Context")+".Provider";case og:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ag:return e=t.displayName||null,e!==null?e:Yf(t.type)||"Memo";case Kr:e=t._payload,t=t._init;try{return Yf(t(e))}catch{}}return null}function VP(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Yf(e);case 8:return e===sg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function _n(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function rS(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function HP(t){var e=rS(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function $a(t){t._valueTracker||(t._valueTracker=HP(t))}function nS(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=rS(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function zl(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Xf(t,e){var r=e.checked;return Ie({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function m0(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=_n(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function iS(t,e){e=e.checked,e!=null&&ig(t,"checked",e,!1)}function Jf(t,e){iS(t,e);var r=_n(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Zf(t,e.type,r):e.hasOwnProperty("defaultValue")&&Zf(t,e.type,_n(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function g0(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function Zf(t,e,r){(e!=="number"||zl(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Gs=Array.isArray;function zi(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+_n(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function ep(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(B(91));return Ie({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function y0(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(B(92));if(Gs(r)){if(1<r.length)throw Error(B(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:_n(r)}}function sS(t,e){var r=_n(e.value),n=_n(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function v0(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function oS(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function tp(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?oS(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var qa,aS=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(qa=qa||document.createElement("div"),qa.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=qa.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function _o(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Js={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},zP=["Webkit","ms","Moz","O"];Object.keys(Js).forEach(function(t){zP.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Js[e]=Js[t]})});function lS(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Js.hasOwnProperty(t)&&Js[t]?(""+e).trim():e+"px"}function uS(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=lS(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var GP=Ie({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function rp(t,e){if(e){if(GP[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(B(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(B(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(B(61))}if(e.style!=null&&typeof e.style!="object")throw Error(B(62))}}function np(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ip=null;function lg(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var sp=null,Gi=null,Wi=null;function _0(t){if(t=va(t)){if(typeof sp!="function")throw Error(B(280));var e=t.stateNode;e&&(e=vc(e),sp(t.stateNode,t.type,e))}}function cS(t){Gi?Wi?Wi.push(t):Wi=[t]:Gi=t}function dS(){if(Gi){var t=Gi,e=Wi;if(Wi=Gi=null,_0(t),e)for(t=0;t<e.length;t++)_0(e[t])}}function hS(t,e){return t(e)}function fS(){}var vd=!1;function pS(t,e,r){if(vd)return t(e,r);vd=!0;try{return hS(t,e,r)}finally{vd=!1,(Gi!==null||Wi!==null)&&(fS(),dS())}}function wo(t,e){var r=t.stateNode;if(r===null)return null;var n=vc(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(B(231,e,typeof r));return r}var op=!1;if(Rr)try{var Ms={};Object.defineProperty(Ms,"passive",{get:function(){op=!0}}),window.addEventListener("test",Ms,Ms),window.removeEventListener("test",Ms,Ms)}catch{op=!1}function WP(t,e,r,n,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(c){this.onError(c)}}var Zs=!1,Gl=null,Wl=!1,ap=null,QP={onError:function(t){Zs=!0,Gl=t}};function KP(t,e,r,n,i,s,o,a,l){Zs=!1,Gl=null,WP.apply(QP,arguments)}function YP(t,e,r,n,i,s,o,a,l){if(KP.apply(this,arguments),Zs){if(Zs){var u=Gl;Zs=!1,Gl=null}else throw Error(B(198));Wl||(Wl=!0,ap=u)}}function fi(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function mS(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function w0(t){if(fi(t)!==t)throw Error(B(188))}function XP(t){var e=t.alternate;if(!e){if(e=fi(t),e===null)throw Error(B(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return w0(i),t;if(s===n)return w0(i),e;s=s.sibling}throw Error(B(188))}if(r.return!==n.return)r=i,n=s;else{for(var o=!1,a=i.child;a;){if(a===r){o=!0,r=i,n=s;break}if(a===n){o=!0,n=i,r=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===r){o=!0,r=s,n=i;break}if(a===n){o=!0,n=s,r=i;break}a=a.sibling}if(!o)throw Error(B(189))}}if(r.alternate!==n)throw Error(B(190))}if(r.tag!==3)throw Error(B(188));return r.stateNode.current===r?t:e}function gS(t){return t=XP(t),t!==null?yS(t):null}function yS(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=yS(t);if(e!==null)return e;t=t.sibling}return null}var vS=Ct.unstable_scheduleCallback,x0=Ct.unstable_cancelCallback,JP=Ct.unstable_shouldYield,ZP=Ct.unstable_requestPaint,Oe=Ct.unstable_now,eA=Ct.unstable_getCurrentPriorityLevel,ug=Ct.unstable_ImmediatePriority,_S=Ct.unstable_UserBlockingPriority,Ql=Ct.unstable_NormalPriority,tA=Ct.unstable_LowPriority,wS=Ct.unstable_IdlePriority,pc=null,hr=null;function rA(t){if(hr&&typeof hr.onCommitFiberRoot=="function")try{hr.onCommitFiberRoot(pc,t,void 0,(t.current.flags&128)===128)}catch{}}var Zt=Math.clz32?Math.clz32:sA,nA=Math.log,iA=Math.LN2;function sA(t){return t>>>=0,t===0?32:31-(nA(t)/iA|0)|0}var Va=64,Ha=4194304;function Ws(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Kl(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,s=t.pingedLanes,o=r&268435455;if(o!==0){var a=o&~i;a!==0?n=Ws(a):(s&=o,s!==0&&(n=Ws(s)))}else o=r&~i,o!==0?n=Ws(o):s!==0&&(n=Ws(s));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Zt(e),i=1<<r,n|=t[r],e&=~i;return n}function oA(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function aA(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Zt(s),a=1<<o,l=i[o];l===-1?(!(a&r)||a&n)&&(i[o]=oA(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function lp(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function xS(){var t=Va;return Va<<=1,!(Va&4194240)&&(Va=64),t}function _d(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function ga(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Zt(e),t[e]=r}function lA(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-Zt(r),s=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~s}}function cg(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Zt(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var me=0;function SS(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var bS,dg,CS,TS,ES,up=!1,za=[],an=null,ln=null,un=null,xo=new Map,So=new Map,Jr=[],uA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function S0(t,e){switch(t){case"focusin":case"focusout":an=null;break;case"dragenter":case"dragleave":ln=null;break;case"mouseover":case"mouseout":un=null;break;case"pointerover":case"pointerout":xo.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":So.delete(e.pointerId)}}function Os(t,e,r,n,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},e!==null&&(e=va(e),e!==null&&dg(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function cA(t,e,r,n,i){switch(e){case"focusin":return an=Os(an,t,e,r,n,i),!0;case"dragenter":return ln=Os(ln,t,e,r,n,i),!0;case"mouseover":return un=Os(un,t,e,r,n,i),!0;case"pointerover":var s=i.pointerId;return xo.set(s,Os(xo.get(s)||null,t,e,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,So.set(s,Os(So.get(s)||null,t,e,r,n,i)),!0}return!1}function PS(t){var e=Vn(t.target);if(e!==null){var r=fi(e);if(r!==null){if(e=r.tag,e===13){if(e=mS(r),e!==null){t.blockedOn=e,ES(t.priority,function(){CS(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function xl(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=cp(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);ip=n,r.target.dispatchEvent(n),ip=null}else return e=va(r),e!==null&&dg(e),t.blockedOn=r,!1;e.shift()}return!0}function b0(t,e,r){xl(t)&&r.delete(e)}function dA(){up=!1,an!==null&&xl(an)&&(an=null),ln!==null&&xl(ln)&&(ln=null),un!==null&&xl(un)&&(un=null),xo.forEach(b0),So.forEach(b0)}function Ds(t,e){t.blockedOn===e&&(t.blockedOn=null,up||(up=!0,Ct.unstable_scheduleCallback(Ct.unstable_NormalPriority,dA)))}function bo(t){function e(i){return Ds(i,t)}if(0<za.length){Ds(za[0],t);for(var r=1;r<za.length;r++){var n=za[r];n.blockedOn===t&&(n.blockedOn=null)}}for(an!==null&&Ds(an,t),ln!==null&&Ds(ln,t),un!==null&&Ds(un,t),xo.forEach(e),So.forEach(e),r=0;r<Jr.length;r++)n=Jr[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Jr.length&&(r=Jr[0],r.blockedOn===null);)PS(r),r.blockedOn===null&&Jr.shift()}var Qi=Br.ReactCurrentBatchConfig,Yl=!0;function hA(t,e,r,n){var i=me,s=Qi.transition;Qi.transition=null;try{me=1,hg(t,e,r,n)}finally{me=i,Qi.transition=s}}function fA(t,e,r,n){var i=me,s=Qi.transition;Qi.transition=null;try{me=4,hg(t,e,r,n)}finally{me=i,Qi.transition=s}}function hg(t,e,r,n){if(Yl){var i=cp(t,e,r,n);if(i===null)Id(t,e,n,Xl,r),S0(t,n);else if(cA(i,t,e,r,n))n.stopPropagation();else if(S0(t,n),e&4&&-1<uA.indexOf(t)){for(;i!==null;){var s=va(i);if(s!==null&&bS(s),s=cp(t,e,r,n),s===null&&Id(t,e,n,Xl,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else Id(t,e,n,null,r)}}var Xl=null;function cp(t,e,r,n){if(Xl=null,t=lg(n),t=Vn(t),t!==null)if(e=fi(t),e===null)t=null;else if(r=e.tag,r===13){if(t=mS(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Xl=t,null}function AS(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(eA()){case ug:return 1;case _S:return 4;case Ql:case tA:return 16;case wS:return 536870912;default:return 16}default:return 16}}var rn=null,fg=null,Sl=null;function IS(){if(Sl)return Sl;var t,e=fg,r=e.length,n,i="value"in rn?rn.value:rn.textContent,s=i.length;for(t=0;t<r&&e[t]===i[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===i[s-n];n++);return Sl=i.slice(t,1<n?1-n:void 0)}function bl(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ga(){return!0}function C0(){return!1}function Pt(t){function e(r,n,i,s,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(r=t[a],this[a]=r?r(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Ga:C0,this.isPropagationStopped=C0,this}return Ie(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Ga)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Ga)},persist:function(){},isPersistent:Ga}),e}var xs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pg=Pt(xs),ya=Ie({},xs,{view:0,detail:0}),pA=Pt(ya),wd,xd,Ns,mc=Ie({},ya,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mg,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ns&&(Ns&&t.type==="mousemove"?(wd=t.screenX-Ns.screenX,xd=t.screenY-Ns.screenY):xd=wd=0,Ns=t),wd)},movementY:function(t){return"movementY"in t?t.movementY:xd}}),T0=Pt(mc),mA=Ie({},mc,{dataTransfer:0}),gA=Pt(mA),yA=Ie({},ya,{relatedTarget:0}),Sd=Pt(yA),vA=Ie({},xs,{animationName:0,elapsedTime:0,pseudoElement:0}),_A=Pt(vA),wA=Ie({},xs,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),xA=Pt(wA),SA=Ie({},xs,{data:0}),E0=Pt(SA),bA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},CA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},TA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function EA(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=TA[t])?!!e[t]:!1}function mg(){return EA}var PA=Ie({},ya,{key:function(t){if(t.key){var e=bA[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=bl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?CA[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mg,charCode:function(t){return t.type==="keypress"?bl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?bl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),AA=Pt(PA),IA=Ie({},mc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),P0=Pt(IA),kA=Ie({},ya,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mg}),RA=Pt(kA),MA=Ie({},xs,{propertyName:0,elapsedTime:0,pseudoElement:0}),OA=Pt(MA),DA=Ie({},mc,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),NA=Pt(DA),BA=[9,13,27,32],gg=Rr&&"CompositionEvent"in window,eo=null;Rr&&"documentMode"in document&&(eo=document.documentMode);var LA=Rr&&"TextEvent"in window&&!eo,kS=Rr&&(!gg||eo&&8<eo&&11>=eo),A0=String.fromCharCode(32),I0=!1;function RS(t,e){switch(t){case"keyup":return BA.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function MS(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ki=!1;function FA(t,e){switch(t){case"compositionend":return MS(e);case"keypress":return e.which!==32?null:(I0=!0,A0);case"textInput":return t=e.data,t===A0&&I0?null:t;default:return null}}function UA(t,e){if(ki)return t==="compositionend"||!gg&&RS(t,e)?(t=IS(),Sl=fg=rn=null,ki=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return kS&&e.locale!=="ko"?null:e.data;default:return null}}var jA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function k0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!jA[t.type]:e==="textarea"}function OS(t,e,r,n){cS(n),e=Jl(e,"onChange"),0<e.length&&(r=new pg("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var to=null,Co=null;function $A(t){HS(t,0)}function gc(t){var e=Oi(t);if(nS(e))return t}function qA(t,e){if(t==="change")return e}var DS=!1;if(Rr){var bd;if(Rr){var Cd="oninput"in document;if(!Cd){var R0=document.createElement("div");R0.setAttribute("oninput","return;"),Cd=typeof R0.oninput=="function"}bd=Cd}else bd=!1;DS=bd&&(!document.documentMode||9<document.documentMode)}function M0(){to&&(to.detachEvent("onpropertychange",NS),Co=to=null)}function NS(t){if(t.propertyName==="value"&&gc(Co)){var e=[];OS(e,Co,t,lg(t)),pS($A,e)}}function VA(t,e,r){t==="focusin"?(M0(),to=e,Co=r,to.attachEvent("onpropertychange",NS)):t==="focusout"&&M0()}function HA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return gc(Co)}function zA(t,e){if(t==="click")return gc(e)}function GA(t,e){if(t==="input"||t==="change")return gc(e)}function WA(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var rr=typeof Object.is=="function"?Object.is:WA;function To(t,e){if(rr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!Gf.call(e,i)||!rr(t[i],e[i]))return!1}return!0}function O0(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function D0(t,e){var r=O0(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=O0(r)}}function BS(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?BS(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function LS(){for(var t=window,e=zl();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=zl(t.document)}return e}function yg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function QA(t){var e=LS(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&BS(r.ownerDocument.documentElement,r)){if(n!==null&&yg(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!t.extend&&s>n&&(i=n,n=s,s=i),i=D0(r,s);var o=D0(r,n);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var KA=Rr&&"documentMode"in document&&11>=document.documentMode,Ri=null,dp=null,ro=null,hp=!1;function N0(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;hp||Ri==null||Ri!==zl(n)||(n=Ri,"selectionStart"in n&&yg(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),ro&&To(ro,n)||(ro=n,n=Jl(dp,"onSelect"),0<n.length&&(e=new pg("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Ri)))}function Wa(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Mi={animationend:Wa("Animation","AnimationEnd"),animationiteration:Wa("Animation","AnimationIteration"),animationstart:Wa("Animation","AnimationStart"),transitionend:Wa("Transition","TransitionEnd")},Td={},FS={};Rr&&(FS=document.createElement("div").style,"AnimationEvent"in window||(delete Mi.animationend.animation,delete Mi.animationiteration.animation,delete Mi.animationstart.animation),"TransitionEvent"in window||delete Mi.transitionend.transition);function yc(t){if(Td[t])return Td[t];if(!Mi[t])return t;var e=Mi[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in FS)return Td[t]=e[r];return t}var US=yc("animationend"),jS=yc("animationiteration"),$S=yc("animationstart"),qS=yc("transitionend"),VS=new Map,B0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rn(t,e){VS.set(t,e),hi(e,[t])}for(var Ed=0;Ed<B0.length;Ed++){var Pd=B0[Ed],YA=Pd.toLowerCase(),XA=Pd[0].toUpperCase()+Pd.slice(1);Rn(YA,"on"+XA)}Rn(US,"onAnimationEnd");Rn(jS,"onAnimationIteration");Rn($S,"onAnimationStart");Rn("dblclick","onDoubleClick");Rn("focusin","onFocus");Rn("focusout","onBlur");Rn(qS,"onTransitionEnd");is("onMouseEnter",["mouseout","mouseover"]);is("onMouseLeave",["mouseout","mouseover"]);is("onPointerEnter",["pointerout","pointerover"]);is("onPointerLeave",["pointerout","pointerover"]);hi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));hi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));hi("onBeforeInput",["compositionend","keypress","textInput","paste"]);hi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));hi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));hi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),JA=new Set("cancel close invalid load scroll toggle".split(" ").concat(Qs));function L0(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,YP(n,e,void 0,t),t.currentTarget=null}function HS(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var s=void 0;if(e)for(var o=n.length-1;0<=o;o--){var a=n[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;L0(i,a,u),s=l}else for(o=0;o<n.length;o++){if(a=n[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;L0(i,a,u),s=l}}}if(Wl)throw t=ap,Wl=!1,ap=null,t}function we(t,e){var r=e[yp];r===void 0&&(r=e[yp]=new Set);var n=t+"__bubble";r.has(n)||(zS(e,t,2,!1),r.add(n))}function Ad(t,e,r){var n=0;e&&(n|=4),zS(r,t,n,e)}var Qa="_reactListening"+Math.random().toString(36).slice(2);function Eo(t){if(!t[Qa]){t[Qa]=!0,Jx.forEach(function(r){r!=="selectionchange"&&(JA.has(r)||Ad(r,!1,t),Ad(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Qa]||(e[Qa]=!0,Ad("selectionchange",!1,e))}}function zS(t,e,r,n){switch(AS(e)){case 1:var i=hA;break;case 4:i=fA;break;default:i=hg}r=i.bind(null,e,r,t),i=void 0,!op||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function Id(t,e,r,n,i){var s=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var a=n.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Vn(a),o===null)return;if(l=o.tag,l===5||l===6){n=s=o;continue e}a=a.parentNode}}n=n.return}pS(function(){var u=s,c=lg(r),h=[];e:{var d=VS.get(t);if(d!==void 0){var p=pg,m=t;switch(t){case"keypress":if(bl(r)===0)break e;case"keydown":case"keyup":p=AA;break;case"focusin":m="focus",p=Sd;break;case"focusout":m="blur",p=Sd;break;case"beforeblur":case"afterblur":p=Sd;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=T0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=gA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=RA;break;case US:case jS:case $S:p=_A;break;case qS:p=OA;break;case"scroll":p=pA;break;case"wheel":p=NA;break;case"copy":case"cut":case"paste":p=xA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=P0}var _=(e&4)!==0,w=!_&&t==="scroll",v=_?d!==null?d+"Capture":null:d;_=[];for(var g=u,y;g!==null;){y=g;var x=y.stateNode;if(y.tag===5&&x!==null&&(y=x,v!==null&&(x=wo(g,v),x!=null&&_.push(Po(g,x,y)))),w)break;g=g.return}0<_.length&&(d=new p(d,m,null,r,c),h.push({event:d,listeners:_}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",d&&r!==ip&&(m=r.relatedTarget||r.fromElement)&&(Vn(m)||m[Mr]))break e;if((p||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,p?(m=r.relatedTarget||r.toElement,p=u,m=m?Vn(m):null,m!==null&&(w=fi(m),m!==w||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=u),p!==m)){if(_=T0,x="onMouseLeave",v="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(_=P0,x="onPointerLeave",v="onPointerEnter",g="pointer"),w=p==null?d:Oi(p),y=m==null?d:Oi(m),d=new _(x,g+"leave",p,r,c),d.target=w,d.relatedTarget=y,x=null,Vn(c)===u&&(_=new _(v,g+"enter",m,r,c),_.target=y,_.relatedTarget=w,x=_),w=x,p&&m)t:{for(_=p,v=m,g=0,y=_;y;y=wi(y))g++;for(y=0,x=v;x;x=wi(x))y++;for(;0<g-y;)_=wi(_),g--;for(;0<y-g;)v=wi(v),y--;for(;g--;){if(_===v||v!==null&&_===v.alternate)break t;_=wi(_),v=wi(v)}_=null}else _=null;p!==null&&F0(h,d,p,_,!1),m!==null&&w!==null&&F0(h,w,m,_,!0)}}e:{if(d=u?Oi(u):window,p=d.nodeName&&d.nodeName.toLowerCase(),p==="select"||p==="input"&&d.type==="file")var C=qA;else if(k0(d))if(DS)C=GA;else{C=HA;var k=VA}else(p=d.nodeName)&&p.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(C=zA);if(C&&(C=C(t,u))){OS(h,C,r,c);break e}k&&k(t,d,u),t==="focusout"&&(k=d._wrapperState)&&k.controlled&&d.type==="number"&&Zf(d,"number",d.value)}switch(k=u?Oi(u):window,t){case"focusin":(k0(k)||k.contentEditable==="true")&&(Ri=k,dp=u,ro=null);break;case"focusout":ro=dp=Ri=null;break;case"mousedown":hp=!0;break;case"contextmenu":case"mouseup":case"dragend":hp=!1,N0(h,r,c);break;case"selectionchange":if(KA)break;case"keydown":case"keyup":N0(h,r,c)}var O;if(gg)e:{switch(t){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else ki?RS(t,r)&&(A="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(A="onCompositionStart");A&&(kS&&r.locale!=="ko"&&(ki||A!=="onCompositionStart"?A==="onCompositionEnd"&&ki&&(O=IS()):(rn=c,fg="value"in rn?rn.value:rn.textContent,ki=!0)),k=Jl(u,A),0<k.length&&(A=new E0(A,t,null,r,c),h.push({event:A,listeners:k}),O?A.data=O:(O=MS(r),O!==null&&(A.data=O)))),(O=LA?FA(t,r):UA(t,r))&&(u=Jl(u,"onBeforeInput"),0<u.length&&(c=new E0("onBeforeInput","beforeinput",null,r,c),h.push({event:c,listeners:u}),c.data=O))}HS(h,e)})}function Po(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Jl(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=wo(t,r),s!=null&&n.unshift(Po(t,s,i)),s=wo(t,e),s!=null&&n.push(Po(t,s,i))),t=t.return}return n}function wi(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function F0(t,e,r,n,i){for(var s=e._reactName,o=[];r!==null&&r!==n;){var a=r,l=a.alternate,u=a.stateNode;if(l!==null&&l===n)break;a.tag===5&&u!==null&&(a=u,i?(l=wo(r,s),l!=null&&o.unshift(Po(r,l,a))):i||(l=wo(r,s),l!=null&&o.push(Po(r,l,a)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var ZA=/\r\n?/g,eI=/\u0000|\uFFFD/g;function U0(t){return(typeof t=="string"?t:""+t).replace(ZA,`
`).replace(eI,"")}function Ka(t,e,r){if(e=U0(e),U0(t)!==e&&r)throw Error(B(425))}function Zl(){}var fp=null,pp=null;function mp(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var gp=typeof setTimeout=="function"?setTimeout:void 0,tI=typeof clearTimeout=="function"?clearTimeout:void 0,j0=typeof Promise=="function"?Promise:void 0,rI=typeof queueMicrotask=="function"?queueMicrotask:typeof j0<"u"?function(t){return j0.resolve(null).then(t).catch(nI)}:gp;function nI(t){setTimeout(function(){throw t})}function kd(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),bo(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);bo(e)}function cn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function $0(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Ss=Math.random().toString(36).slice(2),cr="__reactFiber$"+Ss,Ao="__reactProps$"+Ss,Mr="__reactContainer$"+Ss,yp="__reactEvents$"+Ss,iI="__reactListeners$"+Ss,sI="__reactHandles$"+Ss;function Vn(t){var e=t[cr];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Mr]||r[cr]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=$0(t);t!==null;){if(r=t[cr])return r;t=$0(t)}return e}t=r,r=t.parentNode}return null}function va(t){return t=t[cr]||t[Mr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Oi(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(B(33))}function vc(t){return t[Ao]||null}var vp=[],Di=-1;function Mn(t){return{current:t}}function xe(t){0>Di||(t.current=vp[Di],vp[Di]=null,Di--)}function _e(t,e){Di++,vp[Di]=t.current,t.current=e}var wn={},rt=Mn(wn),ht=Mn(!1),ii=wn;function ss(t,e){var r=t.type.contextTypes;if(!r)return wn;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=e[s];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function ft(t){return t=t.childContextTypes,t!=null}function eu(){xe(ht),xe(rt)}function q0(t,e,r){if(rt.current!==wn)throw Error(B(168));_e(rt,e),_e(ht,r)}function GS(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(B(108,VP(t)||"Unknown",i));return Ie({},r,n)}function tu(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||wn,ii=rt.current,_e(rt,t),_e(ht,ht.current),!0}function V0(t,e,r){var n=t.stateNode;if(!n)throw Error(B(169));r?(t=GS(t,e,ii),n.__reactInternalMemoizedMergedChildContext=t,xe(ht),xe(rt),_e(rt,t)):xe(ht),_e(ht,r)}var Sr=null,_c=!1,Rd=!1;function WS(t){Sr===null?Sr=[t]:Sr.push(t)}function oI(t){_c=!0,WS(t)}function On(){if(!Rd&&Sr!==null){Rd=!0;var t=0,e=me;try{var r=Sr;for(me=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}Sr=null,_c=!1}catch(i){throw Sr!==null&&(Sr=Sr.slice(t+1)),vS(ug,On),i}finally{me=e,Rd=!1}}return null}var Ni=[],Bi=0,ru=null,nu=0,It=[],kt=0,si=null,Cr=1,Tr="";function Un(t,e){Ni[Bi++]=nu,Ni[Bi++]=ru,ru=t,nu=e}function QS(t,e,r){It[kt++]=Cr,It[kt++]=Tr,It[kt++]=si,si=t;var n=Cr;t=Tr;var i=32-Zt(n)-1;n&=~(1<<i),r+=1;var s=32-Zt(e)+i;if(30<s){var o=i-i%5;s=(n&(1<<o)-1).toString(32),n>>=o,i-=o,Cr=1<<32-Zt(e)+i|r<<i|n,Tr=s+t}else Cr=1<<s|r<<i|n,Tr=t}function vg(t){t.return!==null&&(Un(t,1),QS(t,1,0))}function _g(t){for(;t===ru;)ru=Ni[--Bi],Ni[Bi]=null,nu=Ni[--Bi],Ni[Bi]=null;for(;t===si;)si=It[--kt],It[kt]=null,Tr=It[--kt],It[kt]=null,Cr=It[--kt],It[kt]=null}var bt=null,xt=null,Te=!1,Kt=null;function KS(t,e){var r=Mt(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function H0(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,bt=t,xt=cn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,bt=t,xt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=si!==null?{id:Cr,overflow:Tr}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Mt(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,bt=t,xt=null,!0):!1;default:return!1}}function _p(t){return(t.mode&1)!==0&&(t.flags&128)===0}function wp(t){if(Te){var e=xt;if(e){var r=e;if(!H0(t,e)){if(_p(t))throw Error(B(418));e=cn(r.nextSibling);var n=bt;e&&H0(t,e)?KS(n,r):(t.flags=t.flags&-4097|2,Te=!1,bt=t)}}else{if(_p(t))throw Error(B(418));t.flags=t.flags&-4097|2,Te=!1,bt=t}}}function z0(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;bt=t}function Ya(t){if(t!==bt)return!1;if(!Te)return z0(t),Te=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!mp(t.type,t.memoizedProps)),e&&(e=xt)){if(_p(t))throw YS(),Error(B(418));for(;e;)KS(t,e),e=cn(e.nextSibling)}if(z0(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(B(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){xt=cn(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}xt=null}}else xt=bt?cn(t.stateNode.nextSibling):null;return!0}function YS(){for(var t=xt;t;)t=cn(t.nextSibling)}function os(){xt=bt=null,Te=!1}function wg(t){Kt===null?Kt=[t]:Kt.push(t)}var aI=Br.ReactCurrentBatchConfig;function Wt(t,e){if(t&&t.defaultProps){e=Ie({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}var iu=Mn(null),su=null,Li=null,xg=null;function Sg(){xg=Li=su=null}function bg(t){var e=iu.current;xe(iu),t._currentValue=e}function xp(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Ki(t,e){su=t,xg=Li=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(dt=!0),t.firstContext=null)}function jt(t){var e=t._currentValue;if(xg!==t)if(t={context:t,memoizedValue:e,next:null},Li===null){if(su===null)throw Error(B(308));Li=t,su.dependencies={lanes:0,firstContext:t}}else Li=Li.next=t;return e}var Hn=null;function Cg(t){Hn===null?Hn=[t]:Hn.push(t)}function XS(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,Cg(e)):(r.next=i.next,i.next=r),e.interleaved=r,Or(t,n)}function Or(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Yr=!1;function Tg(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function JS(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Pr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function dn(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,le&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,Or(t,r)}return i=n.interleaved,i===null?(e.next=e,Cg(n)):(e.next=i.next,i.next=e),n.interleaved=e,Or(t,r)}function Cl(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,cg(t,r)}}function G0(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=o:s=s.next=o,r=r.next}while(r!==null);s===null?i=s=e:s=s.next=e}else i=s=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function ou(t,e,r,n){var i=t.updateQueue;Yr=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,c=u=l=null,a=s;do{var d=a.lane,p=a.eventTime;if((n&d)===d){c!==null&&(c=c.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=t,_=a;switch(d=e,p=r,_.tag){case 1:if(m=_.payload,typeof m=="function"){h=m.call(p,h,d);break e}h=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=_.payload,d=typeof m=="function"?m.call(p,h,d):m,d==null)break e;h=Ie({},h,d);break e;case 2:Yr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,d=i.effects,d===null?i.effects=[a]:d.push(a))}else p={eventTime:p,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=p,l=h):c=c.next=p,o|=d;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;d=a,a=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(1);if(c===null&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);ai|=o,t.lanes=o,t.memoizedState=h}}function W0(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(B(191,i));i.call(n)}}}var ZS=new Xx.Component().refs;function Sp(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:Ie({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var wc={isMounted:function(t){return(t=t._reactInternals)?fi(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=st(),i=fn(t),s=Pr(n,i);s.payload=e,r!=null&&(s.callback=r),e=dn(t,s,i),e!==null&&(er(e,t,i,n),Cl(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=st(),i=fn(t),s=Pr(n,i);s.tag=1,s.payload=e,r!=null&&(s.callback=r),e=dn(t,s,i),e!==null&&(er(e,t,i,n),Cl(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=st(),n=fn(t),i=Pr(r,n);i.tag=2,e!=null&&(i.callback=e),e=dn(t,i,n),e!==null&&(er(e,t,n,r),Cl(e,t,n))}};function Q0(t,e,r,n,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,s,o):e.prototype&&e.prototype.isPureReactComponent?!To(r,n)||!To(i,s):!0}function eb(t,e,r){var n=!1,i=wn,s=e.contextType;return typeof s=="object"&&s!==null?s=jt(s):(i=ft(e)?ii:rt.current,n=e.contextTypes,s=(n=n!=null)?ss(t,i):wn),e=new e(r,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=wc,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function K0(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&wc.enqueueReplaceState(e,e.state,null)}function bp(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs=ZS,Tg(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=jt(s):(s=ft(e)?ii:rt.current,i.context=ss(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Sp(t,e,s,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&wc.enqueueReplaceState(i,i.state,null),ou(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Bs(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(B(309));var n=r.stateNode}if(!n)throw Error(B(147,t));var i=n,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===ZS&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(B(284));if(!r._owner)throw Error(B(290,t))}return t}function Xa(t,e){throw t=Object.prototype.toString.call(e),Error(B(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Y0(t){var e=t._init;return e(t._payload)}function tb(t){function e(v,g){if(t){var y=v.deletions;y===null?(v.deletions=[g],v.flags|=16):y.push(g)}}function r(v,g){if(!t)return null;for(;g!==null;)e(v,g),g=g.sibling;return null}function n(v,g){for(v=new Map;g!==null;)g.key!==null?v.set(g.key,g):v.set(g.index,g),g=g.sibling;return v}function i(v,g){return v=pn(v,g),v.index=0,v.sibling=null,v}function s(v,g,y){return v.index=y,t?(y=v.alternate,y!==null?(y=y.index,y<g?(v.flags|=2,g):y):(v.flags|=2,g)):(v.flags|=1048576,g)}function o(v){return t&&v.alternate===null&&(v.flags|=2),v}function a(v,g,y,x){return g===null||g.tag!==6?(g=Fd(y,v.mode,x),g.return=v,g):(g=i(g,y),g.return=v,g)}function l(v,g,y,x){var C=y.type;return C===Ii?c(v,g,y.props.children,x,y.key):g!==null&&(g.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Kr&&Y0(C)===g.type)?(x=i(g,y.props),x.ref=Bs(v,g,y),x.return=v,x):(x=kl(y.type,y.key,y.props,null,v.mode,x),x.ref=Bs(v,g,y),x.return=v,x)}function u(v,g,y,x){return g===null||g.tag!==4||g.stateNode.containerInfo!==y.containerInfo||g.stateNode.implementation!==y.implementation?(g=Ud(y,v.mode,x),g.return=v,g):(g=i(g,y.children||[]),g.return=v,g)}function c(v,g,y,x,C){return g===null||g.tag!==7?(g=Xn(y,v.mode,x,C),g.return=v,g):(g=i(g,y),g.return=v,g)}function h(v,g,y){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Fd(""+g,v.mode,y),g.return=v,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case ja:return y=kl(g.type,g.key,g.props,null,v.mode,y),y.ref=Bs(v,null,g),y.return=v,y;case Ai:return g=Ud(g,v.mode,y),g.return=v,g;case Kr:var x=g._init;return h(v,x(g._payload),y)}if(Gs(g)||Rs(g))return g=Xn(g,v.mode,y,null),g.return=v,g;Xa(v,g)}return null}function d(v,g,y,x){var C=g!==null?g.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return C!==null?null:a(v,g,""+y,x);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case ja:return y.key===C?l(v,g,y,x):null;case Ai:return y.key===C?u(v,g,y,x):null;case Kr:return C=y._init,d(v,g,C(y._payload),x)}if(Gs(y)||Rs(y))return C!==null?null:c(v,g,y,x,null);Xa(v,y)}return null}function p(v,g,y,x,C){if(typeof x=="string"&&x!==""||typeof x=="number")return v=v.get(y)||null,a(g,v,""+x,C);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case ja:return v=v.get(x.key===null?y:x.key)||null,l(g,v,x,C);case Ai:return v=v.get(x.key===null?y:x.key)||null,u(g,v,x,C);case Kr:var k=x._init;return p(v,g,y,k(x._payload),C)}if(Gs(x)||Rs(x))return v=v.get(y)||null,c(g,v,x,C,null);Xa(g,x)}return null}function m(v,g,y,x){for(var C=null,k=null,O=g,A=g=0,N=null;O!==null&&A<y.length;A++){O.index>A?(N=O,O=null):N=O.sibling;var j=d(v,O,y[A],x);if(j===null){O===null&&(O=N);break}t&&O&&j.alternate===null&&e(v,O),g=s(j,g,A),k===null?C=j:k.sibling=j,k=j,O=N}if(A===y.length)return r(v,O),Te&&Un(v,A),C;if(O===null){for(;A<y.length;A++)O=h(v,y[A],x),O!==null&&(g=s(O,g,A),k===null?C=O:k.sibling=O,k=O);return Te&&Un(v,A),C}for(O=n(v,O);A<y.length;A++)N=p(O,v,A,y[A],x),N!==null&&(t&&N.alternate!==null&&O.delete(N.key===null?A:N.key),g=s(N,g,A),k===null?C=N:k.sibling=N,k=N);return t&&O.forEach(function(Q){return e(v,Q)}),Te&&Un(v,A),C}function _(v,g,y,x){var C=Rs(y);if(typeof C!="function")throw Error(B(150));if(y=C.call(y),y==null)throw Error(B(151));for(var k=C=null,O=g,A=g=0,N=null,j=y.next();O!==null&&!j.done;A++,j=y.next()){O.index>A?(N=O,O=null):N=O.sibling;var Q=d(v,O,j.value,x);if(Q===null){O===null&&(O=N);break}t&&O&&Q.alternate===null&&e(v,O),g=s(Q,g,A),k===null?C=Q:k.sibling=Q,k=Q,O=N}if(j.done)return r(v,O),Te&&Un(v,A),C;if(O===null){for(;!j.done;A++,j=y.next())j=h(v,j.value,x),j!==null&&(g=s(j,g,A),k===null?C=j:k.sibling=j,k=j);return Te&&Un(v,A),C}for(O=n(v,O);!j.done;A++,j=y.next())j=p(O,v,A,j.value,x),j!==null&&(t&&j.alternate!==null&&O.delete(j.key===null?A:j.key),g=s(j,g,A),k===null?C=j:k.sibling=j,k=j);return t&&O.forEach(function(re){return e(v,re)}),Te&&Un(v,A),C}function w(v,g,y,x){if(typeof y=="object"&&y!==null&&y.type===Ii&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case ja:e:{for(var C=y.key,k=g;k!==null;){if(k.key===C){if(C=y.type,C===Ii){if(k.tag===7){r(v,k.sibling),g=i(k,y.props.children),g.return=v,v=g;break e}}else if(k.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Kr&&Y0(C)===k.type){r(v,k.sibling),g=i(k,y.props),g.ref=Bs(v,k,y),g.return=v,v=g;break e}r(v,k);break}else e(v,k);k=k.sibling}y.type===Ii?(g=Xn(y.props.children,v.mode,x,y.key),g.return=v,v=g):(x=kl(y.type,y.key,y.props,null,v.mode,x),x.ref=Bs(v,g,y),x.return=v,v=x)}return o(v);case Ai:e:{for(k=y.key;g!==null;){if(g.key===k)if(g.tag===4&&g.stateNode.containerInfo===y.containerInfo&&g.stateNode.implementation===y.implementation){r(v,g.sibling),g=i(g,y.children||[]),g.return=v,v=g;break e}else{r(v,g);break}else e(v,g);g=g.sibling}g=Ud(y,v.mode,x),g.return=v,v=g}return o(v);case Kr:return k=y._init,w(v,g,k(y._payload),x)}if(Gs(y))return m(v,g,y,x);if(Rs(y))return _(v,g,y,x);Xa(v,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,g!==null&&g.tag===6?(r(v,g.sibling),g=i(g,y),g.return=v,v=g):(r(v,g),g=Fd(y,v.mode,x),g.return=v,v=g),o(v)):r(v,g)}return w}var as=tb(!0),rb=tb(!1),_a={},fr=Mn(_a),Io=Mn(_a),ko=Mn(_a);function zn(t){if(t===_a)throw Error(B(174));return t}function Eg(t,e){switch(_e(ko,e),_e(Io,t),_e(fr,_a),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:tp(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=tp(e,t)}xe(fr),_e(fr,e)}function ls(){xe(fr),xe(Io),xe(ko)}function nb(t){zn(ko.current);var e=zn(fr.current),r=tp(e,t.type);e!==r&&(_e(Io,t),_e(fr,r))}function Pg(t){Io.current===t&&(xe(fr),xe(Io))}var Ee=Mn(0);function au(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Md=[];function Ag(){for(var t=0;t<Md.length;t++)Md[t]._workInProgressVersionPrimary=null;Md.length=0}var Tl=Br.ReactCurrentDispatcher,Od=Br.ReactCurrentBatchConfig,oi=0,Ae=null,$e=null,ze=null,lu=!1,no=!1,Ro=0,lI=0;function Je(){throw Error(B(321))}function Ig(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!rr(t[r],e[r]))return!1;return!0}function kg(t,e,r,n,i,s){if(oi=s,Ae=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Tl.current=t===null||t.memoizedState===null?hI:fI,t=r(n,i),no){s=0;do{if(no=!1,Ro=0,25<=s)throw Error(B(301));s+=1,ze=$e=null,e.updateQueue=null,Tl.current=pI,t=r(n,i)}while(no)}if(Tl.current=uu,e=$e!==null&&$e.next!==null,oi=0,ze=$e=Ae=null,lu=!1,e)throw Error(B(300));return t}function Rg(){var t=Ro!==0;return Ro=0,t}function ar(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ze===null?Ae.memoizedState=ze=t:ze=ze.next=t,ze}function $t(){if($e===null){var t=Ae.alternate;t=t!==null?t.memoizedState:null}else t=$e.next;var e=ze===null?Ae.memoizedState:ze.next;if(e!==null)ze=e,$e=t;else{if(t===null)throw Error(B(310));$e=t,t={memoizedState:$e.memoizedState,baseState:$e.baseState,baseQueue:$e.baseQueue,queue:$e.queue,next:null},ze===null?Ae.memoizedState=ze=t:ze=ze.next=t}return ze}function Mo(t,e){return typeof e=="function"?e(t):e}function Dd(t){var e=$t(),r=e.queue;if(r===null)throw Error(B(311));r.lastRenderedReducer=t;var n=$e,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((oi&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var h={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=n):l=l.next=h,Ae.lanes|=c,ai|=c}u=u.next}while(u!==null&&u!==s);l===null?o=n:l.next=a,rr(n,e.memoizedState)||(dt=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do s=i.lane,Ae.lanes|=s,ai|=s,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function Nd(t){var e=$t(),r=e.queue;if(r===null)throw Error(B(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,s=e.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);rr(s,e.memoizedState)||(dt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),r.lastRenderedState=s}return[s,n]}function ib(){}function sb(t,e){var r=Ae,n=$t(),i=e(),s=!rr(n.memoizedState,i);if(s&&(n.memoizedState=i,dt=!0),n=n.queue,Mg(lb.bind(null,r,n,t),[t]),n.getSnapshot!==e||s||ze!==null&&ze.memoizedState.tag&1){if(r.flags|=2048,Oo(9,ab.bind(null,r,n,i,e),void 0,null),Ge===null)throw Error(B(349));oi&30||ob(r,e,i)}return i}function ob(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=Ae.updateQueue,e===null?(e={lastEffect:null,stores:null},Ae.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function ab(t,e,r,n){e.value=r,e.getSnapshot=n,ub(e)&&cb(t)}function lb(t,e,r){return r(function(){ub(e)&&cb(t)})}function ub(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!rr(t,r)}catch{return!0}}function cb(t){var e=Or(t,1);e!==null&&er(e,t,1,-1)}function X0(t){var e=ar();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Mo,lastRenderedState:t},e.queue=t,t=t.dispatch=dI.bind(null,Ae,t),[e.memoizedState,t]}function Oo(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=Ae.updateQueue,e===null?(e={lastEffect:null,stores:null},Ae.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function db(){return $t().memoizedState}function El(t,e,r,n){var i=ar();Ae.flags|=t,i.memoizedState=Oo(1|e,r,void 0,n===void 0?null:n)}function xc(t,e,r,n){var i=$t();n=n===void 0?null:n;var s=void 0;if($e!==null){var o=$e.memoizedState;if(s=o.destroy,n!==null&&Ig(n,o.deps)){i.memoizedState=Oo(e,r,s,n);return}}Ae.flags|=t,i.memoizedState=Oo(1|e,r,s,n)}function J0(t,e){return El(8390656,8,t,e)}function Mg(t,e){return xc(2048,8,t,e)}function hb(t,e){return xc(4,2,t,e)}function fb(t,e){return xc(4,4,t,e)}function pb(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function mb(t,e,r){return r=r!=null?r.concat([t]):null,xc(4,4,pb.bind(null,e,t),r)}function Og(){}function gb(t,e){var r=$t();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Ig(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function yb(t,e){var r=$t();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Ig(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function vb(t,e,r){return oi&21?(rr(r,e)||(r=xS(),Ae.lanes|=r,ai|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,dt=!0),t.memoizedState=r)}function uI(t,e){var r=me;me=r!==0&&4>r?r:4,t(!0);var n=Od.transition;Od.transition={};try{t(!1),e()}finally{me=r,Od.transition=n}}function _b(){return $t().memoizedState}function cI(t,e,r){var n=fn(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},wb(t))xb(e,r);else if(r=XS(t,e,r,n),r!==null){var i=st();er(r,t,n,i),Sb(r,e,n)}}function dI(t,e,r){var n=fn(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(wb(t))xb(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,r);if(i.hasEagerState=!0,i.eagerState=a,rr(a,o)){var l=e.interleaved;l===null?(i.next=i,Cg(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}r=XS(t,e,i,n),r!==null&&(i=st(),er(r,t,n,i),Sb(r,e,n))}}function wb(t){var e=t.alternate;return t===Ae||e!==null&&e===Ae}function xb(t,e){no=lu=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function Sb(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,cg(t,r)}}var uu={readContext:jt,useCallback:Je,useContext:Je,useEffect:Je,useImperativeHandle:Je,useInsertionEffect:Je,useLayoutEffect:Je,useMemo:Je,useReducer:Je,useRef:Je,useState:Je,useDebugValue:Je,useDeferredValue:Je,useTransition:Je,useMutableSource:Je,useSyncExternalStore:Je,useId:Je,unstable_isNewReconciler:!1},hI={readContext:jt,useCallback:function(t,e){return ar().memoizedState=[t,e===void 0?null:e],t},useContext:jt,useEffect:J0,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,El(4194308,4,pb.bind(null,e,t),r)},useLayoutEffect:function(t,e){return El(4194308,4,t,e)},useInsertionEffect:function(t,e){return El(4,2,t,e)},useMemo:function(t,e){var r=ar();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=ar();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=cI.bind(null,Ae,t),[n.memoizedState,t]},useRef:function(t){var e=ar();return t={current:t},e.memoizedState=t},useState:X0,useDebugValue:Og,useDeferredValue:function(t){return ar().memoizedState=t},useTransition:function(){var t=X0(!1),e=t[0];return t=uI.bind(null,t[1]),ar().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=Ae,i=ar();if(Te){if(r===void 0)throw Error(B(407));r=r()}else{if(r=e(),Ge===null)throw Error(B(349));oi&30||ob(n,e,r)}i.memoizedState=r;var s={value:r,getSnapshot:e};return i.queue=s,J0(lb.bind(null,n,s,t),[t]),n.flags|=2048,Oo(9,ab.bind(null,n,s,r,e),void 0,null),r},useId:function(){var t=ar(),e=Ge.identifierPrefix;if(Te){var r=Tr,n=Cr;r=(n&~(1<<32-Zt(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Ro++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=lI++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},fI={readContext:jt,useCallback:gb,useContext:jt,useEffect:Mg,useImperativeHandle:mb,useInsertionEffect:hb,useLayoutEffect:fb,useMemo:yb,useReducer:Dd,useRef:db,useState:function(){return Dd(Mo)},useDebugValue:Og,useDeferredValue:function(t){var e=$t();return vb(e,$e.memoizedState,t)},useTransition:function(){var t=Dd(Mo)[0],e=$t().memoizedState;return[t,e]},useMutableSource:ib,useSyncExternalStore:sb,useId:_b,unstable_isNewReconciler:!1},pI={readContext:jt,useCallback:gb,useContext:jt,useEffect:Mg,useImperativeHandle:mb,useInsertionEffect:hb,useLayoutEffect:fb,useMemo:yb,useReducer:Nd,useRef:db,useState:function(){return Nd(Mo)},useDebugValue:Og,useDeferredValue:function(t){var e=$t();return $e===null?e.memoizedState=t:vb(e,$e.memoizedState,t)},useTransition:function(){var t=Nd(Mo)[0],e=$t().memoizedState;return[t,e]},useMutableSource:ib,useSyncExternalStore:sb,useId:_b,unstable_isNewReconciler:!1};function us(t,e){try{var r="",n=e;do r+=qP(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Bd(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function Cp(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var mI=typeof WeakMap=="function"?WeakMap:Map;function bb(t,e,r){r=Pr(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){du||(du=!0,Dp=n),Cp(t,e)},r}function Cb(t,e,r){r=Pr(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){Cp(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){Cp(t,e),typeof n!="function"&&(hn===null?hn=new Set([this]):hn.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function Z0(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new mI;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=II.bind(null,t,e,r),e.then(t,t))}function ev(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function tv(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=Pr(-1,1),e.tag=2,dn(r,e,1))),r.lanes|=1),t)}var gI=Br.ReactCurrentOwner,dt=!1;function it(t,e,r,n){e.child=t===null?rb(e,null,r,n):as(e,t.child,r,n)}function rv(t,e,r,n,i){r=r.render;var s=e.ref;return Ki(e,i),n=kg(t,e,r,n,s,i),r=Rg(),t!==null&&!dt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Dr(t,e,i)):(Te&&r&&vg(e),e.flags|=1,it(t,e,n,i),e.child)}function nv(t,e,r,n,i){if(t===null){var s=r.type;return typeof s=="function"&&!$g(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=s,Tb(t,e,s,n,i)):(t=kl(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(r=r.compare,r=r!==null?r:To,r(o,n)&&t.ref===e.ref)return Dr(t,e,i)}return e.flags|=1,t=pn(s,n),t.ref=e.ref,t.return=e,e.child=t}function Tb(t,e,r,n,i){if(t!==null){var s=t.memoizedProps;if(To(s,n)&&t.ref===e.ref)if(dt=!1,e.pendingProps=n=s,(t.lanes&i)!==0)t.flags&131072&&(dt=!0);else return e.lanes=t.lanes,Dr(t,e,i)}return Tp(t,e,r,n,i)}function Eb(t,e,r){var n=e.pendingProps,i=n.children,s=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},_e(Ui,wt),wt|=r;else{if(!(r&1073741824))return t=s!==null?s.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,_e(Ui,wt),wt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,_e(Ui,wt),wt|=n}else s!==null?(n=s.baseLanes|r,e.memoizedState=null):n=r,_e(Ui,wt),wt|=n;return it(t,e,i,r),e.child}function Pb(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function Tp(t,e,r,n,i){var s=ft(r)?ii:rt.current;return s=ss(e,s),Ki(e,i),r=kg(t,e,r,n,s,i),n=Rg(),t!==null&&!dt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Dr(t,e,i)):(Te&&n&&vg(e),e.flags|=1,it(t,e,r,i),e.child)}function iv(t,e,r,n,i){if(ft(r)){var s=!0;tu(e)}else s=!1;if(Ki(e,i),e.stateNode===null)Pl(t,e),eb(e,r,n),bp(e,r,n,i),n=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=jt(u):(u=ft(r)?ii:rt.current,u=ss(e,u));var c=r.getDerivedStateFromProps,h=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==n||l!==u)&&K0(e,o,n,u),Yr=!1;var d=e.memoizedState;o.state=d,ou(e,n,o,i),l=e.memoizedState,a!==n||d!==l||ht.current||Yr?(typeof c=="function"&&(Sp(e,r,c,n),l=e.memoizedState),(a=Yr||Q0(e,r,a,n,d,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),o.props=n,o.state=l,o.context=u,n=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,JS(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Wt(e.type,a),o.props=u,h=e.pendingProps,d=o.context,l=r.contextType,typeof l=="object"&&l!==null?l=jt(l):(l=ft(r)?ii:rt.current,l=ss(e,l));var p=r.getDerivedStateFromProps;(c=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||d!==l)&&K0(e,o,n,l),Yr=!1,d=e.memoizedState,o.state=d,ou(e,n,o,i);var m=e.memoizedState;a!==h||d!==m||ht.current||Yr?(typeof p=="function"&&(Sp(e,r,p,n),m=e.memoizedState),(u=Yr||Q0(e,r,u,n,d,m,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,m,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,m,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=m),o.props=n,o.state=m,o.context=l,n=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),n=!1)}return Ep(t,e,r,n,s,i)}function Ep(t,e,r,n,i,s){Pb(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return i&&V0(e,r,!1),Dr(t,e,s);n=e.stateNode,gI.current=e;var a=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=as(e,t.child,null,s),e.child=as(e,null,a,s)):it(t,e,a,s),e.memoizedState=n.state,i&&V0(e,r,!0),e.child}function Ab(t){var e=t.stateNode;e.pendingContext?q0(t,e.pendingContext,e.pendingContext!==e.context):e.context&&q0(t,e.context,!1),Eg(t,e.containerInfo)}function sv(t,e,r,n,i){return os(),wg(i),e.flags|=256,it(t,e,r,n),e.child}var Pp={dehydrated:null,treeContext:null,retryLane:0};function Ap(t){return{baseLanes:t,cachePool:null,transitions:null}}function Ib(t,e,r){var n=e.pendingProps,i=Ee.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),_e(Ee,i&1),t===null)return wp(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,s?(n=e.mode,s=e.child,o={mode:"hidden",children:o},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Cc(o,n,0,null),t=Xn(t,n,r,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Ap(r),e.memoizedState=Pp,t):Dg(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return yI(t,e,o,n,a,i,r);if(s){s=n.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:n.children};return!(o&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=pn(i,l),n.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=pn(a,s):(s=Xn(s,o,r,null),s.flags|=2),s.return=e,n.return=e,n.sibling=s,e.child=n,n=s,s=e.child,o=t.child.memoizedState,o=o===null?Ap(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~r,e.memoizedState=Pp,n}return s=t.child,t=s.sibling,n=pn(s,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function Dg(t,e){return e=Cc({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ja(t,e,r,n){return n!==null&&wg(n),as(e,t.child,null,r),t=Dg(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function yI(t,e,r,n,i,s,o){if(r)return e.flags&256?(e.flags&=-257,n=Bd(Error(B(422))),Ja(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=n.fallback,i=e.mode,n=Cc({mode:"visible",children:n.children},i,0,null),s=Xn(s,i,o,null),s.flags|=2,n.return=e,s.return=e,n.sibling=s,e.child=n,e.mode&1&&as(e,t.child,null,o),e.child.memoizedState=Ap(o),e.memoizedState=Pp,s);if(!(e.mode&1))return Ja(t,e,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var a=n.dgst;return n=a,s=Error(B(419)),n=Bd(s,n,void 0),Ja(t,e,o,n)}if(a=(o&t.childLanes)!==0,dt||a){if(n=Ge,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Or(t,i),er(n,t,i,-1))}return jg(),n=Bd(Error(B(421))),Ja(t,e,o,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=kI.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,xt=cn(i.nextSibling),bt=e,Te=!0,Kt=null,t!==null&&(It[kt++]=Cr,It[kt++]=Tr,It[kt++]=si,Cr=t.id,Tr=t.overflow,si=e),e=Dg(e,n.children),e.flags|=4096,e)}function ov(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),xp(t.return,e,r)}function Ld(t,e,r,n,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function kb(t,e,r){var n=e.pendingProps,i=n.revealOrder,s=n.tail;if(it(t,e,n.children,r),n=Ee.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ov(t,r,e);else if(t.tag===19)ov(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(_e(Ee,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&au(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),Ld(e,!1,i,r,s);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&au(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}Ld(e,!0,r,null,s);break;case"together":Ld(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Pl(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Dr(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),ai|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(B(153));if(e.child!==null){for(t=e.child,r=pn(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=pn(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function vI(t,e,r){switch(e.tag){case 3:Ab(e),os();break;case 5:nb(e);break;case 1:ft(e.type)&&tu(e);break;case 4:Eg(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;_e(iu,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(_e(Ee,Ee.current&1),e.flags|=128,null):r&e.child.childLanes?Ib(t,e,r):(_e(Ee,Ee.current&1),t=Dr(t,e,r),t!==null?t.sibling:null);_e(Ee,Ee.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return kb(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),_e(Ee,Ee.current),n)break;return null;case 22:case 23:return e.lanes=0,Eb(t,e,r)}return Dr(t,e,r)}var Rb,Ip,Mb,Ob;Rb=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Ip=function(){};Mb=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,zn(fr.current);var s=null;switch(r){case"input":i=Xf(t,i),n=Xf(t,n),s=[];break;case"select":i=Ie({},i,{value:void 0}),n=Ie({},n,{value:void 0}),s=[];break;case"textarea":i=ep(t,i),n=ep(t,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Zl)}rp(r,n);var o;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(vo.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in n){var l=n[u];if(a=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(s||(s=[]),s.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(vo.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&we("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}r&&(s=s||[]).push("style",r);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};Ob=function(t,e,r,n){r!==n&&(e.flags|=4)};function Ls(t,e){if(!Te)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Ze(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function _I(t,e,r){var n=e.pendingProps;switch(_g(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ze(e),null;case 1:return ft(e.type)&&eu(),Ze(e),null;case 3:return n=e.stateNode,ls(),xe(ht),xe(rt),Ag(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Ya(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Kt!==null&&(Lp(Kt),Kt=null))),Ip(t,e),Ze(e),null;case 5:Pg(e);var i=zn(ko.current);if(r=e.type,t!==null&&e.stateNode!=null)Mb(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(B(166));return Ze(e),null}if(t=zn(fr.current),Ya(e)){n=e.stateNode,r=e.type;var s=e.memoizedProps;switch(n[cr]=e,n[Ao]=s,t=(e.mode&1)!==0,r){case"dialog":we("cancel",n),we("close",n);break;case"iframe":case"object":case"embed":we("load",n);break;case"video":case"audio":for(i=0;i<Qs.length;i++)we(Qs[i],n);break;case"source":we("error",n);break;case"img":case"image":case"link":we("error",n),we("load",n);break;case"details":we("toggle",n);break;case"input":m0(n,s),we("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},we("invalid",n);break;case"textarea":y0(n,s),we("invalid",n)}rp(r,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?n.textContent!==a&&(s.suppressHydrationWarning!==!0&&Ka(n.textContent,a,t),i=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Ka(n.textContent,a,t),i=["children",""+a]):vo.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&we("scroll",n)}switch(r){case"input":$a(n),g0(n,s,!0);break;case"textarea":$a(n),v0(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=Zl)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=oS(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[cr]=e,t[Ao]=n,Rb(t,e,!1,!1),e.stateNode=t;e:{switch(o=np(r,n),r){case"dialog":we("cancel",t),we("close",t),i=n;break;case"iframe":case"object":case"embed":we("load",t),i=n;break;case"video":case"audio":for(i=0;i<Qs.length;i++)we(Qs[i],t);i=n;break;case"source":we("error",t),i=n;break;case"img":case"image":case"link":we("error",t),we("load",t),i=n;break;case"details":we("toggle",t),i=n;break;case"input":m0(t,n),i=Xf(t,n),we("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=Ie({},n,{value:void 0}),we("invalid",t);break;case"textarea":y0(t,n),i=ep(t,n),we("invalid",t);break;default:i=n}rp(r,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?uS(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&aS(t,l)):s==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&_o(t,l):typeof l=="number"&&_o(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(vo.hasOwnProperty(s)?l!=null&&s==="onScroll"&&we("scroll",t):l!=null&&ig(t,s,l,o))}switch(r){case"input":$a(t),g0(t,n,!1);break;case"textarea":$a(t),v0(t);break;case"option":n.value!=null&&t.setAttribute("value",""+_n(n.value));break;case"select":t.multiple=!!n.multiple,s=n.value,s!=null?zi(t,!!n.multiple,s,!1):n.defaultValue!=null&&zi(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Zl)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ze(e),null;case 6:if(t&&e.stateNode!=null)Ob(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(B(166));if(r=zn(ko.current),zn(fr.current),Ya(e)){if(n=e.stateNode,r=e.memoizedProps,n[cr]=e,(s=n.nodeValue!==r)&&(t=bt,t!==null))switch(t.tag){case 3:Ka(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ka(n.nodeValue,r,(t.mode&1)!==0)}s&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[cr]=e,e.stateNode=n}return Ze(e),null;case 13:if(xe(Ee),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Te&&xt!==null&&e.mode&1&&!(e.flags&128))YS(),os(),e.flags|=98560,s=!1;else if(s=Ya(e),n!==null&&n.dehydrated!==null){if(t===null){if(!s)throw Error(B(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(B(317));s[cr]=e}else os(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ze(e),s=!1}else Kt!==null&&(Lp(Kt),Kt=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||Ee.current&1?qe===0&&(qe=3):jg())),e.updateQueue!==null&&(e.flags|=4),Ze(e),null);case 4:return ls(),Ip(t,e),t===null&&Eo(e.stateNode.containerInfo),Ze(e),null;case 10:return bg(e.type._context),Ze(e),null;case 17:return ft(e.type)&&eu(),Ze(e),null;case 19:if(xe(Ee),s=e.memoizedState,s===null)return Ze(e),null;if(n=(e.flags&128)!==0,o=s.rendering,o===null)if(n)Ls(s,!1);else{if(qe!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=au(t),o!==null){for(e.flags|=128,Ls(s,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)s=r,t=n,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return _e(Ee,Ee.current&1|2),e.child}t=t.sibling}s.tail!==null&&Oe()>cs&&(e.flags|=128,n=!0,Ls(s,!1),e.lanes=4194304)}else{if(!n)if(t=au(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Ls(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Te)return Ze(e),null}else 2*Oe()-s.renderingStartTime>cs&&r!==1073741824&&(e.flags|=128,n=!0,Ls(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(r=s.last,r!==null?r.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Oe(),e.sibling=null,r=Ee.current,_e(Ee,n?r&1|2:r&1),e):(Ze(e),null);case 22:case 23:return Ug(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?wt&1073741824&&(Ze(e),e.subtreeFlags&6&&(e.flags|=8192)):Ze(e),null;case 24:return null;case 25:return null}throw Error(B(156,e.tag))}function wI(t,e){switch(_g(e),e.tag){case 1:return ft(e.type)&&eu(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ls(),xe(ht),xe(rt),Ag(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Pg(e),null;case 13:if(xe(Ee),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(B(340));os()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return xe(Ee),null;case 4:return ls(),null;case 10:return bg(e.type._context),null;case 22:case 23:return Ug(),null;case 24:return null;default:return null}}var Za=!1,tt=!1,xI=typeof WeakSet=="function"?WeakSet:Set,$=null;function Fi(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){ke(t,e,n)}else r.current=null}function kp(t,e,r){try{r()}catch(n){ke(t,e,n)}}var av=!1;function SI(t,e){if(fp=Yl,t=LS(),yg(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var o=0,a=-1,l=-1,u=0,c=0,h=t,d=null;t:for(;;){for(var p;h!==r||i!==0&&h.nodeType!==3||(a=o+i),h!==s||n!==0&&h.nodeType!==3||(l=o+n),h.nodeType===3&&(o+=h.nodeValue.length),(p=h.firstChild)!==null;)d=h,h=p;for(;;){if(h===t)break t;if(d===r&&++u===i&&(a=o),d===s&&++c===n&&(l=o),(p=h.nextSibling)!==null)break;h=d,d=h.parentNode}h=p}r=a===-1||l===-1?null:{start:a,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(pp={focusedElem:t,selectionRange:r},Yl=!1,$=e;$!==null;)if(e=$,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,$=t;else for(;$!==null;){e=$;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var _=m.memoizedProps,w=m.memoizedState,v=e.stateNode,g=v.getSnapshotBeforeUpdate(e.elementType===e.type?_:Wt(e.type,_),w);v.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var y=e.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(B(163))}}catch(x){ke(e,e.return,x)}if(t=e.sibling,t!==null){t.return=e.return,$=t;break}$=e.return}return m=av,av=!1,m}function io(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&kp(e,r,s)}i=i.next}while(i!==n)}}function Sc(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function Rp(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function Db(t){var e=t.alternate;e!==null&&(t.alternate=null,Db(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[cr],delete e[Ao],delete e[yp],delete e[iI],delete e[sI])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Nb(t){return t.tag===5||t.tag===3||t.tag===4}function lv(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Nb(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Mp(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Zl));else if(n!==4&&(t=t.child,t!==null))for(Mp(t,e,r),t=t.sibling;t!==null;)Mp(t,e,r),t=t.sibling}function Op(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Op(t,e,r),t=t.sibling;t!==null;)Op(t,e,r),t=t.sibling}var We=null,Qt=!1;function qr(t,e,r){for(r=r.child;r!==null;)Bb(t,e,r),r=r.sibling}function Bb(t,e,r){if(hr&&typeof hr.onCommitFiberUnmount=="function")try{hr.onCommitFiberUnmount(pc,r)}catch{}switch(r.tag){case 5:tt||Fi(r,e);case 6:var n=We,i=Qt;We=null,qr(t,e,r),We=n,Qt=i,We!==null&&(Qt?(t=We,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):We.removeChild(r.stateNode));break;case 18:We!==null&&(Qt?(t=We,r=r.stateNode,t.nodeType===8?kd(t.parentNode,r):t.nodeType===1&&kd(t,r),bo(t)):kd(We,r.stateNode));break;case 4:n=We,i=Qt,We=r.stateNode.containerInfo,Qt=!0,qr(t,e,r),We=n,Qt=i;break;case 0:case 11:case 14:case 15:if(!tt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&kp(r,e,o),i=i.next}while(i!==n)}qr(t,e,r);break;case 1:if(!tt&&(Fi(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){ke(r,e,a)}qr(t,e,r);break;case 21:qr(t,e,r);break;case 22:r.mode&1?(tt=(n=tt)||r.memoizedState!==null,qr(t,e,r),tt=n):qr(t,e,r);break;default:qr(t,e,r)}}function uv(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new xI),e.forEach(function(n){var i=RI.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Gt(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:We=a.stateNode,Qt=!1;break e;case 3:We=a.stateNode.containerInfo,Qt=!0;break e;case 4:We=a.stateNode.containerInfo,Qt=!0;break e}a=a.return}if(We===null)throw Error(B(160));Bb(s,o,i),We=null,Qt=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){ke(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Lb(e,t),e=e.sibling}function Lb(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Gt(e,t),ir(t),n&4){try{io(3,t,t.return),Sc(3,t)}catch(_){ke(t,t.return,_)}try{io(5,t,t.return)}catch(_){ke(t,t.return,_)}}break;case 1:Gt(e,t),ir(t),n&512&&r!==null&&Fi(r,r.return);break;case 5:if(Gt(e,t),ir(t),n&512&&r!==null&&Fi(r,r.return),t.flags&32){var i=t.stateNode;try{_o(i,"")}catch(_){ke(t,t.return,_)}}if(n&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=r!==null?r.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&iS(i,s),np(a,o);var u=np(a,s);for(o=0;o<l.length;o+=2){var c=l[o],h=l[o+1];c==="style"?uS(i,h):c==="dangerouslySetInnerHTML"?aS(i,h):c==="children"?_o(i,h):ig(i,c,h,u)}switch(a){case"input":Jf(i,s);break;case"textarea":sS(i,s);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?zi(i,!!s.multiple,p,!1):d!==!!s.multiple&&(s.defaultValue!=null?zi(i,!!s.multiple,s.defaultValue,!0):zi(i,!!s.multiple,s.multiple?[]:"",!1))}i[Ao]=s}catch(_){ke(t,t.return,_)}}break;case 6:if(Gt(e,t),ir(t),n&4){if(t.stateNode===null)throw Error(B(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(_){ke(t,t.return,_)}}break;case 3:if(Gt(e,t),ir(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{bo(e.containerInfo)}catch(_){ke(t,t.return,_)}break;case 4:Gt(e,t),ir(t);break;case 13:Gt(e,t),ir(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Lg=Oe())),n&4&&uv(t);break;case 22:if(c=r!==null&&r.memoizedState!==null,t.mode&1?(tt=(u=tt)||c,Gt(e,t),tt=u):Gt(e,t),ir(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for($=t,c=t.child;c!==null;){for(h=$=c;$!==null;){switch(d=$,p=d.child,d.tag){case 0:case 11:case 14:case 15:io(4,d,d.return);break;case 1:Fi(d,d.return);var m=d.stateNode;if(typeof m.componentWillUnmount=="function"){n=d,r=d.return;try{e=n,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(_){ke(n,r,_)}}break;case 5:Fi(d,d.return);break;case 22:if(d.memoizedState!==null){dv(h);continue}}p!==null?(p.return=d,$=p):dv(h)}c=c.sibling}e:for(c=null,h=t;;){if(h.tag===5){if(c===null){c=h;try{i=h.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=lS("display",o))}catch(_){ke(t,t.return,_)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(_){ke(t,t.return,_)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Gt(e,t),ir(t),n&4&&uv(t);break;case 21:break;default:Gt(e,t),ir(t)}}function ir(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(Nb(r)){var n=r;break e}r=r.return}throw Error(B(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(_o(i,""),n.flags&=-33);var s=lv(t);Op(t,s,i);break;case 3:case 4:var o=n.stateNode.containerInfo,a=lv(t);Mp(t,a,o);break;default:throw Error(B(161))}}catch(l){ke(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function bI(t,e,r){$=t,Fb(t)}function Fb(t,e,r){for(var n=(t.mode&1)!==0;$!==null;){var i=$,s=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||Za;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||tt;a=Za;var u=tt;if(Za=o,(tt=l)&&!u)for($=i;$!==null;)o=$,l=o.child,o.tag===22&&o.memoizedState!==null?hv(i):l!==null?(l.return=o,$=l):hv(i);for(;s!==null;)$=s,Fb(s),s=s.sibling;$=i,Za=a,tt=u}cv(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,$=s):cv(t)}}function cv(t){for(;$!==null;){var e=$;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:tt||Sc(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!tt)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:Wt(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&W0(e,s,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}W0(e,o,r)}break;case 5:var a=e.stateNode;if(r===null&&e.flags&4){r=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&bo(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(B(163))}tt||e.flags&512&&Rp(e)}catch(d){ke(e,e.return,d)}}if(e===t){$=null;break}if(r=e.sibling,r!==null){r.return=e.return,$=r;break}$=e.return}}function dv(t){for(;$!==null;){var e=$;if(e===t){$=null;break}var r=e.sibling;if(r!==null){r.return=e.return,$=r;break}$=e.return}}function hv(t){for(;$!==null;){var e=$;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Sc(4,e)}catch(l){ke(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(l){ke(e,i,l)}}var s=e.return;try{Rp(e)}catch(l){ke(e,s,l)}break;case 5:var o=e.return;try{Rp(e)}catch(l){ke(e,o,l)}}}catch(l){ke(e,e.return,l)}if(e===t){$=null;break}var a=e.sibling;if(a!==null){a.return=e.return,$=a;break}$=e.return}}var CI=Math.ceil,cu=Br.ReactCurrentDispatcher,Ng=Br.ReactCurrentOwner,Dt=Br.ReactCurrentBatchConfig,le=0,Ge=null,Be=null,Qe=0,wt=0,Ui=Mn(0),qe=0,Do=null,ai=0,bc=0,Bg=0,so=null,ct=null,Lg=0,cs=1/0,xr=null,du=!1,Dp=null,hn=null,el=!1,nn=null,hu=0,oo=0,Np=null,Al=-1,Il=0;function st(){return le&6?Oe():Al!==-1?Al:Al=Oe()}function fn(t){return t.mode&1?le&2&&Qe!==0?Qe&-Qe:aI.transition!==null?(Il===0&&(Il=xS()),Il):(t=me,t!==0||(t=window.event,t=t===void 0?16:AS(t.type)),t):1}function er(t,e,r,n){if(50<oo)throw oo=0,Np=null,Error(B(185));ga(t,r,n),(!(le&2)||t!==Ge)&&(t===Ge&&(!(le&2)&&(bc|=r),qe===4&&Zr(t,Qe)),pt(t,n),r===1&&le===0&&!(e.mode&1)&&(cs=Oe()+500,_c&&On()))}function pt(t,e){var r=t.callbackNode;aA(t,e);var n=Kl(t,t===Ge?Qe:0);if(n===0)r!==null&&x0(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&x0(r),e===1)t.tag===0?oI(fv.bind(null,t)):WS(fv.bind(null,t)),rI(function(){!(le&6)&&On()}),r=null;else{switch(SS(n)){case 1:r=ug;break;case 4:r=_S;break;case 16:r=Ql;break;case 536870912:r=wS;break;default:r=Ql}r=Gb(r,Ub.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function Ub(t,e){if(Al=-1,Il=0,le&6)throw Error(B(327));var r=t.callbackNode;if(Yi()&&t.callbackNode!==r)return null;var n=Kl(t,t===Ge?Qe:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=fu(t,n);else{e=n;var i=le;le|=2;var s=$b();(Ge!==t||Qe!==e)&&(xr=null,cs=Oe()+500,Yn(t,e));do try{PI();break}catch(a){jb(t,a)}while(1);Sg(),cu.current=s,le=i,Be!==null?e=0:(Ge=null,Qe=0,e=qe)}if(e!==0){if(e===2&&(i=lp(t),i!==0&&(n=i,e=Bp(t,i))),e===1)throw r=Do,Yn(t,0),Zr(t,n),pt(t,Oe()),r;if(e===6)Zr(t,n);else{if(i=t.current.alternate,!(n&30)&&!TI(i)&&(e=fu(t,n),e===2&&(s=lp(t),s!==0&&(n=s,e=Bp(t,s))),e===1))throw r=Do,Yn(t,0),Zr(t,n),pt(t,Oe()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(B(345));case 2:jn(t,ct,xr);break;case 3:if(Zr(t,n),(n&130023424)===n&&(e=Lg+500-Oe(),10<e)){if(Kl(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){st(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=gp(jn.bind(null,t,ct,xr),e);break}jn(t,ct,xr);break;case 4:if(Zr(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var o=31-Zt(n);s=1<<o,o=e[o],o>i&&(i=o),n&=~s}if(n=i,n=Oe()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*CI(n/1960))-n,10<n){t.timeoutHandle=gp(jn.bind(null,t,ct,xr),n);break}jn(t,ct,xr);break;case 5:jn(t,ct,xr);break;default:throw Error(B(329))}}}return pt(t,Oe()),t.callbackNode===r?Ub.bind(null,t):null}function Bp(t,e){var r=so;return t.current.memoizedState.isDehydrated&&(Yn(t,e).flags|=256),t=fu(t,e),t!==2&&(e=ct,ct=r,e!==null&&Lp(e)),t}function Lp(t){ct===null?ct=t:ct.push.apply(ct,t)}function TI(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!rr(s(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Zr(t,e){for(e&=~Bg,e&=~bc,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Zt(e),n=1<<r;t[r]=-1,e&=~n}}function fv(t){if(le&6)throw Error(B(327));Yi();var e=Kl(t,0);if(!(e&1))return pt(t,Oe()),null;var r=fu(t,e);if(t.tag!==0&&r===2){var n=lp(t);n!==0&&(e=n,r=Bp(t,n))}if(r===1)throw r=Do,Yn(t,0),Zr(t,e),pt(t,Oe()),r;if(r===6)throw Error(B(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,jn(t,ct,xr),pt(t,Oe()),null}function Fg(t,e){var r=le;le|=1;try{return t(e)}finally{le=r,le===0&&(cs=Oe()+500,_c&&On())}}function li(t){nn!==null&&nn.tag===0&&!(le&6)&&Yi();var e=le;le|=1;var r=Dt.transition,n=me;try{if(Dt.transition=null,me=1,t)return t()}finally{me=n,Dt.transition=r,le=e,!(le&6)&&On()}}function Ug(){wt=Ui.current,xe(Ui)}function Yn(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,tI(r)),Be!==null)for(r=Be.return;r!==null;){var n=r;switch(_g(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&eu();break;case 3:ls(),xe(ht),xe(rt),Ag();break;case 5:Pg(n);break;case 4:ls();break;case 13:xe(Ee);break;case 19:xe(Ee);break;case 10:bg(n.type._context);break;case 22:case 23:Ug()}r=r.return}if(Ge=t,Be=t=pn(t.current,null),Qe=wt=e,qe=0,Do=null,Bg=bc=ai=0,ct=so=null,Hn!==null){for(e=0;e<Hn.length;e++)if(r=Hn[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var o=s.next;s.next=i,n.next=o}r.pending=n}Hn=null}return t}function jb(t,e){do{var r=Be;try{if(Sg(),Tl.current=uu,lu){for(var n=Ae.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}lu=!1}if(oi=0,ze=$e=Ae=null,no=!1,Ro=0,Ng.current=null,r===null||r.return===null){qe=1,Do=e,Be=null;break}e:{var s=t,o=r.return,a=r,l=e;if(e=Qe,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,h=c.tag;if(!(c.mode&1)&&(h===0||h===11||h===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=ev(o);if(p!==null){p.flags&=-257,tv(p,o,a,s,e),p.mode&1&&Z0(s,u,e),e=p,l=u;var m=e.updateQueue;if(m===null){var _=new Set;_.add(l),e.updateQueue=_}else m.add(l);break e}else{if(!(e&1)){Z0(s,u,e),jg();break e}l=Error(B(426))}}else if(Te&&a.mode&1){var w=ev(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),tv(w,o,a,s,e),wg(us(l,a));break e}}s=l=us(l,a),qe!==4&&(qe=2),so===null?so=[s]:so.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var v=bb(s,l,e);G0(s,v);break e;case 1:a=l;var g=s.type,y=s.stateNode;if(!(s.flags&128)&&(typeof g.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(hn===null||!hn.has(y)))){s.flags|=65536,e&=-e,s.lanes|=e;var x=Cb(s,a,e);G0(s,x);break e}}s=s.return}while(s!==null)}Vb(r)}catch(C){e=C,Be===r&&r!==null&&(Be=r=r.return);continue}break}while(1)}function $b(){var t=cu.current;return cu.current=uu,t===null?uu:t}function jg(){(qe===0||qe===3||qe===2)&&(qe=4),Ge===null||!(ai&268435455)&&!(bc&268435455)||Zr(Ge,Qe)}function fu(t,e){var r=le;le|=2;var n=$b();(Ge!==t||Qe!==e)&&(xr=null,Yn(t,e));do try{EI();break}catch(i){jb(t,i)}while(1);if(Sg(),le=r,cu.current=n,Be!==null)throw Error(B(261));return Ge=null,Qe=0,qe}function EI(){for(;Be!==null;)qb(Be)}function PI(){for(;Be!==null&&!JP();)qb(Be)}function qb(t){var e=zb(t.alternate,t,wt);t.memoizedProps=t.pendingProps,e===null?Vb(t):Be=e,Ng.current=null}function Vb(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=wI(r,e),r!==null){r.flags&=32767,Be=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{qe=6,Be=null;return}}else if(r=_I(r,e,wt),r!==null){Be=r;return}if(e=e.sibling,e!==null){Be=e;return}Be=e=t}while(e!==null);qe===0&&(qe=5)}function jn(t,e,r){var n=me,i=Dt.transition;try{Dt.transition=null,me=1,AI(t,e,r,n)}finally{Dt.transition=i,me=n}return null}function AI(t,e,r,n){do Yi();while(nn!==null);if(le&6)throw Error(B(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(B(177));t.callbackNode=null,t.callbackPriority=0;var s=r.lanes|r.childLanes;if(lA(t,s),t===Ge&&(Be=Ge=null,Qe=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||el||(el=!0,Gb(Ql,function(){return Yi(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=Dt.transition,Dt.transition=null;var o=me;me=1;var a=le;le|=4,Ng.current=null,SI(t,r),Lb(r,t),QA(pp),Yl=!!fp,pp=fp=null,t.current=r,bI(r),ZP(),le=a,me=o,Dt.transition=s}else t.current=r;if(el&&(el=!1,nn=t,hu=i),s=t.pendingLanes,s===0&&(hn=null),rA(r.stateNode),pt(t,Oe()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(du)throw du=!1,t=Dp,Dp=null,t;return hu&1&&t.tag!==0&&Yi(),s=t.pendingLanes,s&1?t===Np?oo++:(oo=0,Np=t):oo=0,On(),null}function Yi(){if(nn!==null){var t=SS(hu),e=Dt.transition,r=me;try{if(Dt.transition=null,me=16>t?16:t,nn===null)var n=!1;else{if(t=nn,nn=null,hu=0,le&6)throw Error(B(331));var i=le;for(le|=4,$=t.current;$!==null;){var s=$,o=s.child;if($.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for($=u;$!==null;){var c=$;switch(c.tag){case 0:case 11:case 15:io(8,c,s)}var h=c.child;if(h!==null)h.return=c,$=h;else for(;$!==null;){c=$;var d=c.sibling,p=c.return;if(Db(c),c===u){$=null;break}if(d!==null){d.return=p,$=d;break}$=p}}}var m=s.alternate;if(m!==null){var _=m.child;if(_!==null){m.child=null;do{var w=_.sibling;_.sibling=null,_=w}while(_!==null)}}$=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,$=o;else e:for(;$!==null;){if(s=$,s.flags&2048)switch(s.tag){case 0:case 11:case 15:io(9,s,s.return)}var v=s.sibling;if(v!==null){v.return=s.return,$=v;break e}$=s.return}}var g=t.current;for($=g;$!==null;){o=$;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,$=y;else e:for(o=g;$!==null;){if(a=$,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Sc(9,a)}}catch(C){ke(a,a.return,C)}if(a===o){$=null;break e}var x=a.sibling;if(x!==null){x.return=a.return,$=x;break e}$=a.return}}if(le=i,On(),hr&&typeof hr.onPostCommitFiberRoot=="function")try{hr.onPostCommitFiberRoot(pc,t)}catch{}n=!0}return n}finally{me=r,Dt.transition=e}}return!1}function pv(t,e,r){e=us(r,e),e=bb(t,e,1),t=dn(t,e,1),e=st(),t!==null&&(ga(t,1,e),pt(t,e))}function ke(t,e,r){if(t.tag===3)pv(t,t,r);else for(;e!==null;){if(e.tag===3){pv(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(hn===null||!hn.has(n))){t=us(r,t),t=Cb(e,t,1),e=dn(e,t,1),t=st(),e!==null&&(ga(e,1,t),pt(e,t));break}}e=e.return}}function II(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=st(),t.pingedLanes|=t.suspendedLanes&r,Ge===t&&(Qe&r)===r&&(qe===4||qe===3&&(Qe&130023424)===Qe&&500>Oe()-Lg?Yn(t,0):Bg|=r),pt(t,e)}function Hb(t,e){e===0&&(t.mode&1?(e=Ha,Ha<<=1,!(Ha&130023424)&&(Ha=4194304)):e=1);var r=st();t=Or(t,e),t!==null&&(ga(t,e,r),pt(t,r))}function kI(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),Hb(t,r)}function RI(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(B(314))}n!==null&&n.delete(e),Hb(t,r)}var zb;zb=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||ht.current)dt=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return dt=!1,vI(t,e,r);dt=!!(t.flags&131072)}else dt=!1,Te&&e.flags&1048576&&QS(e,nu,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Pl(t,e),t=e.pendingProps;var i=ss(e,rt.current);Ki(e,r),i=kg(null,e,n,t,i,r);var s=Rg();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ft(n)?(s=!0,tu(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Tg(e),i.updater=wc,e.stateNode=i,i._reactInternals=e,bp(e,n,t,r),e=Ep(null,e,n,!0,s,r)):(e.tag=0,Te&&s&&vg(e),it(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Pl(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=OI(n),t=Wt(n,t),i){case 0:e=Tp(null,e,n,t,r);break e;case 1:e=iv(null,e,n,t,r);break e;case 11:e=rv(null,e,n,t,r);break e;case 14:e=nv(null,e,n,Wt(n.type,t),r);break e}throw Error(B(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Wt(n,i),Tp(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Wt(n,i),iv(t,e,n,i,r);case 3:e:{if(Ab(e),t===null)throw Error(B(387));n=e.pendingProps,s=e.memoizedState,i=s.element,JS(t,e),ou(e,n,null,r);var o=e.memoizedState;if(n=o.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=us(Error(B(423)),e),e=sv(t,e,n,r,i);break e}else if(n!==i){i=us(Error(B(424)),e),e=sv(t,e,n,r,i);break e}else for(xt=cn(e.stateNode.containerInfo.firstChild),bt=e,Te=!0,Kt=null,r=rb(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(os(),n===i){e=Dr(t,e,r);break e}it(t,e,n,r)}e=e.child}return e;case 5:return nb(e),t===null&&wp(e),n=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,mp(n,i)?o=null:s!==null&&mp(n,s)&&(e.flags|=32),Pb(t,e),it(t,e,o,r),e.child;case 6:return t===null&&wp(e),null;case 13:return Ib(t,e,r);case 4:return Eg(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=as(e,null,n,r):it(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Wt(n,i),rv(t,e,n,i,r);case 7:return it(t,e,e.pendingProps,r),e.child;case 8:return it(t,e,e.pendingProps.children,r),e.child;case 12:return it(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,_e(iu,n._currentValue),n._currentValue=o,s!==null)if(rr(s.value,o)){if(s.children===i.children&&!ht.current){e=Dr(t,e,r);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===n){if(s.tag===1){l=Pr(-1,r&-r),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=r,l=s.alternate,l!==null&&(l.lanes|=r),xp(s.return,r,e),a.lanes|=r;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(B(341));o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),xp(o,r,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}it(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,Ki(e,r),i=jt(i),n=n(i),e.flags|=1,it(t,e,n,r),e.child;case 14:return n=e.type,i=Wt(n,e.pendingProps),i=Wt(n.type,i),nv(t,e,n,i,r);case 15:return Tb(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Wt(n,i),Pl(t,e),e.tag=1,ft(n)?(t=!0,tu(e)):t=!1,Ki(e,r),eb(e,n,i),bp(e,n,i,r),Ep(null,e,n,!0,t,r);case 19:return kb(t,e,r);case 22:return Eb(t,e,r)}throw Error(B(156,e.tag))};function Gb(t,e){return vS(t,e)}function MI(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mt(t,e,r,n){return new MI(t,e,r,n)}function $g(t){return t=t.prototype,!(!t||!t.isReactComponent)}function OI(t){if(typeof t=="function")return $g(t)?1:0;if(t!=null){if(t=t.$$typeof,t===og)return 11;if(t===ag)return 14}return 2}function pn(t,e){var r=t.alternate;return r===null?(r=Mt(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function kl(t,e,r,n,i,s){var o=2;if(n=t,typeof t=="function")$g(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Ii:return Xn(r.children,i,s,e);case sg:o=8,i|=8;break;case Wf:return t=Mt(12,r,e,i|2),t.elementType=Wf,t.lanes=s,t;case Qf:return t=Mt(13,r,e,i),t.elementType=Qf,t.lanes=s,t;case Kf:return t=Mt(19,r,e,i),t.elementType=Kf,t.lanes=s,t;case tS:return Cc(r,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Zx:o=10;break e;case eS:o=9;break e;case og:o=11;break e;case ag:o=14;break e;case Kr:o=16,n=null;break e}throw Error(B(130,t==null?t:typeof t,""))}return e=Mt(o,r,e,i),e.elementType=t,e.type=n,e.lanes=s,e}function Xn(t,e,r,n){return t=Mt(7,t,n,e),t.lanes=r,t}function Cc(t,e,r,n){return t=Mt(22,t,n,e),t.elementType=tS,t.lanes=r,t.stateNode={isHidden:!1},t}function Fd(t,e,r){return t=Mt(6,t,null,e),t.lanes=r,t}function Ud(t,e,r){return e=Mt(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function DI(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=_d(0),this.expirationTimes=_d(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_d(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function qg(t,e,r,n,i,s,o,a,l){return t=new DI(t,e,r,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Mt(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Tg(s),t}function NI(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ai,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function Wb(t){if(!t)return wn;t=t._reactInternals;e:{if(fi(t)!==t||t.tag!==1)throw Error(B(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ft(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(B(171))}if(t.tag===1){var r=t.type;if(ft(r))return GS(t,r,e)}return e}function Qb(t,e,r,n,i,s,o,a,l){return t=qg(r,n,!0,t,i,s,o,a,l),t.context=Wb(null),r=t.current,n=st(),i=fn(r),s=Pr(n,i),s.callback=e??null,dn(r,s,i),t.current.lanes=i,ga(t,i,n),pt(t,n),t}function Tc(t,e,r,n){var i=e.current,s=st(),o=fn(i);return r=Wb(r),e.context===null?e.context=r:e.pendingContext=r,e=Pr(s,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=dn(i,e,o),t!==null&&(er(t,i,o,s),Cl(t,i,o)),o}function pu(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function mv(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function Vg(t,e){mv(t,e),(t=t.alternate)&&mv(t,e)}function BI(){return null}var Kb=typeof reportError=="function"?reportError:function(t){console.error(t)};function Hg(t){this._internalRoot=t}Ec.prototype.render=Hg.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(B(409));Tc(t,e,null,null)};Ec.prototype.unmount=Hg.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;li(function(){Tc(null,t,null,null)}),e[Mr]=null}};function Ec(t){this._internalRoot=t}Ec.prototype.unstable_scheduleHydration=function(t){if(t){var e=TS();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Jr.length&&e!==0&&e<Jr[r].priority;r++);Jr.splice(r,0,t),r===0&&PS(t)}};function zg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Pc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function gv(){}function LI(t,e,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var u=pu(o);s.call(u)}}var o=Qb(e,n,t,0,null,!1,!1,"",gv);return t._reactRootContainer=o,t[Mr]=o.current,Eo(t.nodeType===8?t.parentNode:t),li(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var a=n;n=function(){var u=pu(l);a.call(u)}}var l=qg(t,0,!1,null,null,!1,!1,"",gv);return t._reactRootContainer=l,t[Mr]=l.current,Eo(t.nodeType===8?t.parentNode:t),li(function(){Tc(e,l,r,n)}),l}function Ac(t,e,r,n,i){var s=r._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=pu(o);a.call(l)}}Tc(e,o,t,i)}else o=LI(r,e,t,i,n);return pu(o)}bS=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Ws(e.pendingLanes);r!==0&&(cg(e,r|1),pt(e,Oe()),!(le&6)&&(cs=Oe()+500,On()))}break;case 13:li(function(){var n=Or(t,1);if(n!==null){var i=st();er(n,t,1,i)}}),Vg(t,1)}};dg=function(t){if(t.tag===13){var e=Or(t,134217728);if(e!==null){var r=st();er(e,t,134217728,r)}Vg(t,134217728)}};CS=function(t){if(t.tag===13){var e=fn(t),r=Or(t,e);if(r!==null){var n=st();er(r,t,e,n)}Vg(t,e)}};TS=function(){return me};ES=function(t,e){var r=me;try{return me=t,e()}finally{me=r}};sp=function(t,e,r){switch(e){case"input":if(Jf(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=vc(n);if(!i)throw Error(B(90));nS(n),Jf(n,i)}}}break;case"textarea":sS(t,r);break;case"select":e=r.value,e!=null&&zi(t,!!r.multiple,e,!1)}};hS=Fg;fS=li;var FI={usingClientEntryPoint:!1,Events:[va,Oi,vc,cS,dS,Fg]},Fs={findFiberByHostInstance:Vn,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},UI={bundleType:Fs.bundleType,version:Fs.version,rendererPackageName:Fs.rendererPackageName,rendererConfig:Fs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Br.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=gS(t),t===null?null:t.stateNode},findFiberByHostInstance:Fs.findFiberByHostInstance||BI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var tl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!tl.isDisabled&&tl.supportsFiber)try{pc=tl.inject(UI),hr=tl}catch{}}Et.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=FI;Et.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!zg(e))throw Error(B(200));return NI(t,e,null,r)};Et.createRoot=function(t,e){if(!zg(t))throw Error(B(299));var r=!1,n="",i=Kb;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=qg(t,1,!1,null,null,r,!1,n,i),t[Mr]=e.current,Eo(t.nodeType===8?t.parentNode:t),new Hg(e)};Et.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(B(188)):(t=Object.keys(t).join(","),Error(B(268,t)));return t=gS(e),t=t===null?null:t.stateNode,t};Et.flushSync=function(t){return li(t)};Et.hydrate=function(t,e,r){if(!Pc(e))throw Error(B(200));return Ac(null,t,e,!0,r)};Et.hydrateRoot=function(t,e,r){if(!zg(t))throw Error(B(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",o=Kb;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=Qb(e,null,t,1,r??null,i,!1,s,o),t[Mr]=e.current,Eo(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new Ec(e)};Et.render=function(t,e,r){if(!Pc(e))throw Error(B(200));return Ac(null,t,e,!1,r)};Et.unmountComponentAtNode=function(t){if(!Pc(t))throw Error(B(40));return t._reactRootContainer?(li(function(){Ac(null,null,t,!1,function(){t._reactRootContainer=null,t[Mr]=null})}),!0):!1};Et.unstable_batchedUpdates=Fg;Et.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Pc(r))throw Error(B(200));if(t==null||t._reactInternals===void 0)throw Error(B(38));return Ac(t,e,r,!1,n)};Et.version="18.2.0-next-9e3b772b8-20220608";function Yb(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Yb)}catch(t){console.error(t)}}Yb(),Qx.exports=Et;var jI=Qx.exports,yv=jI;zf.createRoot=yv.createRoot,zf.hydrateRoot=yv.hydrateRoot;function q(t){return t===void 0&&(t=!0),function(e,r){Object.defineProperty(e,r,{get:function(){},set:function(n){Object.defineProperty(this,r,{value:n,writable:!0,enumerable:t})},enumerable:t})}}var Fp=function(t,e){return Fp=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},Fp(t,e)};function bs(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Fp(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var ui=function(){return ui=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},ui.apply(this,arguments)};function S(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s}function tr(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(c){try{u(n.next(c))}catch(h){o(h)}}function l(c){try{u(n.throw(c))}catch(h){o(h)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((n=n.apply(t,e||[])).next())})}function Nt(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(c){return l([u,c])}}function l(u){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(r=0)),r;)try{if(n=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){r.label=u[1];break}if(u[0]===6&&r.label<s[1]){r.label=s[1],s=u;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(u);break}s[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(c){u=[6,c],i=0}finally{n=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function Rl(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Lr(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return s}function xn(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,s;n<i;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return t.concat(s||Array.prototype.slice.call(e))}function vv(t){var e;return(e=[]).concat.apply(e,xn([],Lr(t),!1))}function Up(t){return tr(this,void 0,Promise,function(){return Nt(this,function(e){switch(e.label){case 0:return typeof t!="function"?[3,2]:[4,t()];case 1:return[2,e.sent()];case 2:return[2,t]}})})}function $I(t){return typeof t=="function"?t():t}function Xb(t){var e,r,n;return Nt(this,function(i){switch(i.label){case 0:e=0,r=1,i.label=1;case 1:return e<t?[4,e]:[3,3];case 2:return i.sent(),n=Lr([r,e+r],2),e=n[0],r=n[1],[3,1];case 3:return[4,t];case 4:return i.sent(),[3,3];case 5:return[2]}})}function Ks(t,e){return Object.assign.apply(Object,xn([{}],Lr(t.map(e)),!1))}function jp(t,e){Object.entries(t).forEach(function(r){var n=Lr(r,2),i=n[0],s=n[1];return e(s,i)})}function Jb(t,e){if(typeof e!="function"){var r=e;e=function(n){return n[r].toString()}}return Ks(t,function(n){var i;return i={},i[e(n)]=n,i})}function Zb(t){return t==null}function yr(t,e){return Zb(t)?null:e(t)}function mr(t,e){return Zb(t)?void 0:e(t)}function qI(t){return tr(this,void 0,Promise,function(){return Nt(this,function(e){switch(e.label){case 0:return[4,new Promise(function(r){return setTimeout(r,t)})];case 1:return e.sent(),[2]}})})}function No(){var t,e,r=new Promise(function(n,i){t=n,e=i});return{promise:r,resolve:t,reject:e}}function VI(t,e,r){if(typeof t=="number"&&(t=t.toString()),e=e-t.length,e<=0)return t;r===void 0&&(r=" ");var n="";do(e&1)===1&&(n+=r),e>>=1,e&&(r+=r);while(e);return n+t}function Jn(t,e,r){var n=t.split(e);return n.length<=r?n:xn(xn([],Lr(n.slice(0,r-1)),!1),[n.slice(r-1).join(e)],!1)}function eC(t){return xn([],Lr(t),!1).length}function $p(t,e,r){return xn([],Lr(t),!1).slice(e,r).join("")}const HI=6e4;function zI(t){return yr(t.expiresIn,e=>t.obtainmentTimestamp+e*1e3-HI)}function Xi(t){var e;return(e=yr(zI(t),r=>Date.now()>r))!==null&&e!==void 0?e:!1}var qp={exports:{}};(function(t,e){var r=typeof self<"u"?self:Ym,n=function(){function s(){this.fetch=!1,this.DOMException=r.DOMException}return s.prototype=r,new s}();(function(s){(function(o){var a={searchParams:"URLSearchParams"in s,iterable:"Symbol"in s&&"iterator"in Symbol,blob:"FileReader"in s&&"Blob"in s&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in s,arrayBuffer:"ArrayBuffer"in s};function l(T){return T&&DataView.prototype.isPrototypeOf(T)}if(a.arrayBuffer)var u=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],c=ArrayBuffer.isView||function(T){return T&&u.indexOf(Object.prototype.toString.call(T))>-1};function h(T){if(typeof T!="string"&&(T=String(T)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(T))throw new TypeError("Invalid character in header field name");return T.toLowerCase()}function d(T){return typeof T!="string"&&(T=String(T)),T}function p(T){var I={next:function(){var V=T.shift();return{done:V===void 0,value:V}}};return a.iterable&&(I[Symbol.iterator]=function(){return I}),I}function m(T){this.map={},T instanceof m?T.forEach(function(I,V){this.append(V,I)},this):Array.isArray(T)?T.forEach(function(I){this.append(I[0],I[1])},this):T&&Object.getOwnPropertyNames(T).forEach(function(I){this.append(I,T[I])},this)}m.prototype.append=function(T,I){T=h(T),I=d(I);var V=this.map[T];this.map[T]=V?V+", "+I:I},m.prototype.delete=function(T){delete this.map[h(T)]},m.prototype.get=function(T){return T=h(T),this.has(T)?this.map[T]:null},m.prototype.has=function(T){return this.map.hasOwnProperty(h(T))},m.prototype.set=function(T,I){this.map[h(T)]=d(I)},m.prototype.forEach=function(T,I){for(var V in this.map)this.map.hasOwnProperty(V)&&T.call(I,this.map[V],V,this)},m.prototype.keys=function(){var T=[];return this.forEach(function(I,V){T.push(V)}),p(T)},m.prototype.values=function(){var T=[];return this.forEach(function(I){T.push(I)}),p(T)},m.prototype.entries=function(){var T=[];return this.forEach(function(I,V){T.push([V,I])}),p(T)},a.iterable&&(m.prototype[Symbol.iterator]=m.prototype.entries);function _(T){if(T.bodyUsed)return Promise.reject(new TypeError("Already read"));T.bodyUsed=!0}function w(T){return new Promise(function(I,V){T.onload=function(){I(T.result)},T.onerror=function(){V(T.error)}})}function v(T){var I=new FileReader,V=w(I);return I.readAsArrayBuffer(T),V}function g(T){var I=new FileReader,V=w(I);return I.readAsText(T),V}function y(T){for(var I=new Uint8Array(T),V=new Array(I.length),se=0;se<I.length;se++)V[se]=String.fromCharCode(I[se]);return V.join("")}function x(T){if(T.slice)return T.slice(0);var I=new Uint8Array(T.byteLength);return I.set(new Uint8Array(T)),I.buffer}function C(){return this.bodyUsed=!1,this._initBody=function(T){this._bodyInit=T,T?typeof T=="string"?this._bodyText=T:a.blob&&Blob.prototype.isPrototypeOf(T)?this._bodyBlob=T:a.formData&&FormData.prototype.isPrototypeOf(T)?this._bodyFormData=T:a.searchParams&&URLSearchParams.prototype.isPrototypeOf(T)?this._bodyText=T.toString():a.arrayBuffer&&a.blob&&l(T)?(this._bodyArrayBuffer=x(T.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):a.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(T)||c(T))?this._bodyArrayBuffer=x(T):this._bodyText=T=Object.prototype.toString.call(T):this._bodyText="",this.headers.get("content-type")||(typeof T=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):a.searchParams&&URLSearchParams.prototype.isPrototypeOf(T)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},a.blob&&(this.blob=function(){var T=_(this);if(T)return T;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?_(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(v)}),this.text=function(){var T=_(this);if(T)return T;if(this._bodyBlob)return g(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(y(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},a.formData&&(this.formData=function(){return this.text().then(N)}),this.json=function(){return this.text().then(JSON.parse)},this}var k=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function O(T){var I=T.toUpperCase();return k.indexOf(I)>-1?I:T}function A(T,I){I=I||{};var V=I.body;if(T instanceof A){if(T.bodyUsed)throw new TypeError("Already read");this.url=T.url,this.credentials=T.credentials,I.headers||(this.headers=new m(T.headers)),this.method=T.method,this.mode=T.mode,this.signal=T.signal,!V&&T._bodyInit!=null&&(V=T._bodyInit,T.bodyUsed=!0)}else this.url=String(T);if(this.credentials=I.credentials||this.credentials||"same-origin",(I.headers||!this.headers)&&(this.headers=new m(I.headers)),this.method=O(I.method||this.method||"GET"),this.mode=I.mode||this.mode||null,this.signal=I.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&V)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(V)}A.prototype.clone=function(){return new A(this,{body:this._bodyInit})};function N(T){var I=new FormData;return T.trim().split("&").forEach(function(V){if(V){var se=V.split("="),L=se.shift().replace(/\+/g," "),F=se.join("=").replace(/\+/g," ");I.append(decodeURIComponent(L),decodeURIComponent(F))}}),I}function j(T){var I=new m,V=T.replace(/\r?\n[\t ]+/g," ");return V.split(/\r?\n/).forEach(function(se){var L=se.split(":"),F=L.shift().trim();if(F){var z=L.join(":").trim();I.append(F,z)}}),I}C.call(A.prototype);function Q(T,I){I||(I={}),this.type="default",this.status=I.status===void 0?200:I.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in I?I.statusText:"OK",this.headers=new m(I.headers),this.url=I.url||"",this._initBody(T)}C.call(Q.prototype),Q.prototype.clone=function(){return new Q(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new m(this.headers),url:this.url})},Q.error=function(){var T=new Q(null,{status:0,statusText:""});return T.type="error",T};var re=[301,302,303,307,308];Q.redirect=function(T,I){if(re.indexOf(I)===-1)throw new RangeError("Invalid status code");return new Q(null,{status:I,headers:{location:T}})},o.DOMException=s.DOMException;try{new o.DOMException}catch{o.DOMException=function(I,V){this.message=I,this.name=V;var se=Error(I);this.stack=se.stack},o.DOMException.prototype=Object.create(Error.prototype),o.DOMException.prototype.constructor=o.DOMException}function Z(T,I){return new Promise(function(V,se){var L=new A(T,I);if(L.signal&&L.signal.aborted)return se(new o.DOMException("Aborted","AbortError"));var F=new XMLHttpRequest;function z(){F.abort()}F.onload=function(){var H={status:F.status,statusText:F.statusText,headers:j(F.getAllResponseHeaders()||"")};H.url="responseURL"in F?F.responseURL:H.headers.get("X-Request-URL");var oe="response"in F?F.response:F.responseText;V(new Q(oe,H))},F.onerror=function(){se(new TypeError("Network request failed"))},F.ontimeout=function(){se(new TypeError("Network request failed"))},F.onabort=function(){se(new o.DOMException("Aborted","AbortError"))},F.open(L.method,L.url,!0),L.credentials==="include"?F.withCredentials=!0:L.credentials==="omit"&&(F.withCredentials=!1),"responseType"in F&&a.blob&&(F.responseType="blob"),L.headers.forEach(function(H,oe){F.setRequestHeader(oe,H)}),L.signal&&(L.signal.addEventListener("abort",z),F.onreadystatechange=function(){F.readyState===4&&L.signal.removeEventListener("abort",z)}),F.send(typeof L._bodyInit>"u"?null:L._bodyInit)})}return Z.polyfill=!0,s.fetch||(s.fetch=Z,s.Headers=m,s.Request=A,s.Response=Q),o.Headers=m,o.Request=A,o.Response=Q,o.fetch=Z,Object.defineProperty(o,"__esModule",{value:!0}),o})({})})(n),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var i=n;e=i.fetch,e.default=i.fetch,e.fetch=i.fetch,e.Headers=i.Headers,e.Request=i.Request,e.Response=i.Response,t.exports=e})(qp,qp.exports);var tC=qp.exports;const GI=_s(tC);var jd=Object.prototype.hasOwnProperty,Ci=Array.isArray,sr=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),WI=function(e){for(;e.length>1;){var r=e.pop(),n=r.obj[r.prop];if(Ci(n)){for(var i=[],s=0;s<n.length;++s)typeof n[s]<"u"&&i.push(n[s]);r.obj[r.prop]=i}}},rC=function(e,r){for(var n=r&&r.plainObjects?Object.create(null):{},i=0;i<e.length;++i)typeof e[i]<"u"&&(n[i]=e[i]);return n},QI=function t(e,r,n){if(!r)return e;if(typeof r!="object"){if(Ci(e))e.push(r);else if(e&&typeof e=="object")(n&&(n.plainObjects||n.allowPrototypes)||!jd.call(Object.prototype,r))&&(e[r]=!0);else return[e,r];return e}if(!e||typeof e!="object")return[e].concat(r);var i=e;return Ci(e)&&!Ci(r)&&(i=rC(e,n)),Ci(e)&&Ci(r)?(r.forEach(function(s,o){if(jd.call(e,o)){var a=e[o];a&&typeof a=="object"&&s&&typeof s=="object"?e[o]=t(a,s,n):e.push(s)}else e[o]=s}),e):Object.keys(r).reduce(function(s,o){var a=r[o];return jd.call(s,o)?s[o]=t(s[o],a,n):s[o]=a,s},i)},KI=function(e,r){return Object.keys(r).reduce(function(n,i){return n[i]=r[i],n},e)},YI=function(t,e,r){var n=t.replace(/\+/g," ");if(r==="iso-8859-1")return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch{return n}},XI=function(e,r,n){if(e.length===0)return e;var i=e;if(typeof e=="symbol"?i=Symbol.prototype.toString.call(e):typeof e!="string"&&(i=String(e)),n==="iso-8859-1")return escape(i).replace(/%u[0-9a-f]{4}/gi,function(l){return"%26%23"+parseInt(l.slice(2),16)+"%3B"});for(var s="",o=0;o<i.length;++o){var a=i.charCodeAt(o);if(a===45||a===46||a===95||a===126||a>=48&&a<=57||a>=65&&a<=90||a>=97&&a<=122){s+=i.charAt(o);continue}if(a<128){s=s+sr[a];continue}if(a<2048){s=s+(sr[192|a>>6]+sr[128|a&63]);continue}if(a<55296||a>=57344){s=s+(sr[224|a>>12]+sr[128|a>>6&63]+sr[128|a&63]);continue}o+=1,a=65536+((a&1023)<<10|i.charCodeAt(o)&1023),s+=sr[240|a>>18]+sr[128|a>>12&63]+sr[128|a>>6&63]+sr[128|a&63]}return s},JI=function(e){for(var r=[{obj:{o:e},prop:"o"}],n=[],i=0;i<r.length;++i)for(var s=r[i],o=s.obj[s.prop],a=Object.keys(o),l=0;l<a.length;++l){var u=a[l],c=o[u];typeof c=="object"&&c!==null&&n.indexOf(c)===-1&&(r.push({obj:o,prop:u}),n.push(c))}return WI(r),e},ZI=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},ek=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},tk=function(e,r){return[].concat(e,r)},Gg={arrayToObject:rC,assign:KI,combine:tk,compact:JI,decode:YI,encode:XI,isBuffer:ek,isRegExp:ZI,merge:QI},rk=String.prototype.replace,nk=/%20/g,ik=Gg,_v={RFC1738:"RFC1738",RFC3986:"RFC3986"},sk=ik.assign({default:_v.RFC3986,formatters:{RFC1738:function(t){return rk.call(t,nk,"+")},RFC3986:function(t){return String(t)}}},_v),nC=Gg,ao=sk,ok=Object.prototype.hasOwnProperty,wv={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,r){return e+"["+r+"]"},repeat:function(e){return e}},Ji=Array.isArray,ak=Array.prototype.push,Vp=function(t,e){ak.apply(t,Ji(e)?e:[e])},lk=Date.prototype.toISOString,xv=ao.default,et={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:nC.encode,encodeValuesOnly:!1,format:xv,formatter:ao.formatters[xv],indices:!1,serializeDate:function(e){return lk.call(e)},skipNulls:!1,strictNullHandling:!1},uk=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},ck=function t(e,r,n,i,s,o,a,l,u,c,h,d,p){var m=e;if(typeof a=="function"?m=a(r,m):m instanceof Date?m=c(m):n==="comma"&&Ji(m)&&(m=m.join(",")),m===null){if(i)return o&&!d?o(r,et.encoder,p,"key"):r;m=""}if(uk(m)||nC.isBuffer(m)){if(o){var _=d?r:o(r,et.encoder,p,"key");return[h(_)+"="+h(o(m,et.encoder,p,"value"))]}return[h(r)+"="+h(String(m))]}var w=[];if(typeof m>"u")return w;var v;if(Ji(a))v=a;else{var g=Object.keys(m);v=l?g.sort(l):g}for(var y=0;y<v.length;++y){var x=v[y];s&&m[x]===null||(Ji(m)?Vp(w,t(m[x],typeof n=="function"?n(r,x):r,n,i,s,o,a,l,u,c,h,d,p)):Vp(w,t(m[x],r+(u?"."+x:"["+x+"]"),n,i,s,o,a,l,u,c,h,d,p)))}return w},dk=function(e){if(!e)return et;if(e.encoder!==null&&e.encoder!==void 0&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var r=e.charset||et.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=ao.default;if(typeof e.format<"u"){if(!ok.call(ao.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var i=ao.formatters[n],s=et.filter;return(typeof e.filter=="function"||Ji(e.filter))&&(s=e.filter),{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:et.addQueryPrefix,allowDots:typeof e.allowDots>"u"?et.allowDots:!!e.allowDots,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:et.charsetSentinel,delimiter:typeof e.delimiter>"u"?et.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:et.encode,encoder:typeof e.encoder=="function"?e.encoder:et.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:et.encodeValuesOnly,filter:s,formatter:i,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:et.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:et.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:et.strictNullHandling}},hk=function(t,e){var r=t,n=dk(e),i,s;typeof n.filter=="function"?(s=n.filter,r=s("",r)):Ji(n.filter)&&(s=n.filter,i=s);var o=[];if(typeof r!="object"||r===null)return"";var a;e&&e.arrayFormat in wv?a=e.arrayFormat:e&&"indices"in e?a=e.indices?"indices":"repeat":a="indices";var l=wv[a];i||(i=Object.keys(r)),n.sort&&i.sort(n.sort);for(var u=0;u<i.length;++u){var c=i[u];n.skipNulls&&r[c]===null||Vp(o,ck(r[c],c,l,n.strictNullHandling,n.skipNulls,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.formatter,n.encodeValuesOnly,n.charset))}var h=o.join(n.delimiter),d=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?d+="utf8=%26%2310003%3B&":d+="utf8=%E2%9C%93&"),h.length>0?d+h:""};const iC=_s(hk);var fk=Gg;fk.decode;const f=Symbol("twurpleRawData");class G{constructor(e){this[f]=e}}let vr=class extends Error{constructor(e,r){var n;super(e,r),Object.setPrototypeOf(this,new.target.prototype),(n=Error.captureStackTrace)===null||n===void 0||n.call(Error,this,new.target.constructor)}get name(){return this.constructor.name}};class pk extends vr{constructor(){super("Relation returned null - this may be a library bug or a race condition in your own code")}}function X(t){if(t==null)throw new pk;return t}function D(t,e,r){return n=>{const i=r?function(){return`[${e}#${this[r]} - please check https://twurple.js.org/reference/${t}/classes/${e}.html for available properties]`}:function(){return`[${e} - please check https://twurple.js.org/reference/${t}/classes/${e}.html for available properties]`};Object.defineProperty(n.prototype,Symbol.for("nodejs.util.inspect.custom"),{value:i,enumerable:!1})}}let Hp=class extends G{get authorName(){return this[f].author_name}get bitsEnabled(){return this[f].bits_enabled}get installable(){return this[f].can_install}get configurationLocation(){return this[f].configuration_location}get description(){return this[f].description}get tosUrl(){return this[f].eula_tos_url}get hasChatSupport(){return this[f].has_chat_support}get iconUrl(){return this[f].icon_url}getIconUrl(e){return this[f].icon_urls[e]}get id(){return this[f].id}get name(){return this[f].name}get privacyPolicyUrl(){return this[f].privacy_policy_url}get requestsIdentityLink(){return this[f].request_identity_link}get screenshotUrls(){return this[f].screenshot_urls}get state(){return this[f].state}get subscriptionsSupportLevel(){return this[f].subscriptions_support_level}get summary(){return this[f].summary}get supportEmail(){return this[f].support_email}get version(){return this[f].version}get viewerSummery(){return this[f].viewer_summary}get allowedConfigUrls(){return this[f].allowlisted_config_urls}get allowedPanelUrls(){return this[f].allowlisted_panel_urls}get mobileViewerUrl(){var e,r;return(r=(e=this[f].views.mobile)===null||e===void 0?void 0:e.viewer_url)!==null&&r!==void 0?r:null}get panelViewerUrl(){var e,r;return(r=(e=this[f].views.panel)===null||e===void 0?void 0:e.viewer_url)!==null&&r!==void 0?r:null}get panelHeight(){var e,r;return(r=(e=this[f].views.panel)===null||e===void 0?void 0:e.height)!==null&&r!==void 0?r:null}get panelCanLinkExternalContent(){var e,r;return(r=(e=this[f].views.panel)===null||e===void 0?void 0:e.can_link_external_content)!==null&&r!==void 0?r:null}get overlayViewerUrl(){var e,r;return(r=(e=this[f].views.video_overlay)===null||e===void 0?void 0:e.viewer_url)!==null&&r!==void 0?r:null}get overlayCanLinkExternalContent(){var e,r;return(r=(e=this[f].views.video_overlay)===null||e===void 0?void 0:e.can_link_external_content)!==null&&r!==void 0?r:null}get componentViewerUrl(){var e,r;return(r=(e=this[f].views.component)===null||e===void 0?void 0:e.viewer_url)!==null&&r!==void 0?r:null}get componentAspectWidth(){var e,r;return(r=(e=this[f].views.component)===null||e===void 0?void 0:e.aspect_width)!==null&&r!==void 0?r:null}get componentAspectHeight(){var e,r;return(r=(e=this[f].views.component)===null||e===void 0?void 0:e.aspect_height)!==null&&r!==void 0?r:null}get componentAspectRatioX(){var e,r;return(r=(e=this[f].views.component)===null||e===void 0?void 0:e.aspect_ratio_x)!==null&&r!==void 0?r:null}get componentAspectRatioY(){var e,r;return(r=(e=this[f].views.component)===null||e===void 0?void 0:e.aspect_ratio_y)!==null&&r!==void 0?r:null}get componentAutoScales(){var e,r;return(r=(e=this[f].views.component)===null||e===void 0?void 0:e.autoscale)!==null&&r!==void 0?r:null}get componentScalePixels(){var e,r;return(r=(e=this[f].views.component)===null||e===void 0?void 0:e.scale_pixels)!==null&&r!==void 0?r:null}get componentTargetHeight(){var e,r;return(r=(e=this[f].views.component)===null||e===void 0?void 0:e.target_height)!==null&&r!==void 0?r:null}get componentSize(){var e,r;return(r=(e=this[f].views.component)===null||e===void 0?void 0:e.size)!==null&&r!==void 0?r:null}get componentZoom(){var e,r;return(r=(e=this[f].views.component)===null||e===void 0?void 0:e.zoom)!==null&&r!==void 0?r:null}get componentZoomPixels(){var e,r;return(r=(e=this[f].views.component)===null||e===void 0?void 0:e.zoom_pixels)!==null&&r!==void 0?r:null}get componentCanLinkExternalContent(){var e,r;return(r=(e=this[f].views.component)===null||e===void 0?void 0:e.can_link_external_content)!==null&&r!==void 0?r:null}get configViewerUrl(){var e,r;return(r=(e=this[f].views.config)===null||e===void 0?void 0:e.viewer_url)!==null&&r!==void 0?r:null}get configCanLinkExternalContent(){var e,r;return(r=(e=this[f].views.config)===null||e===void 0?void 0:e.can_link_external_content)!==null&&r!==void 0?r:null}};Hp=S([D("api","HelixExtension","id")],Hp);class Sn extends vr{constructor(e){super(`${e} - this should never happen, please file a bug in the GitHub issue tracker`)}}function b(t){return typeof t=="string"?t:typeof t=="number"?t.toString(10):t.id}function lo(t){return typeof t=="string"?t:t.name}class ci extends vr{constructor(e,r,n,i,s,o){super(`Encountered HTTP status code ${e}: ${r}

URL: ${n}
Method: ${i}
Body:
${!o&&s.length>150?`${s.slice(0,147)}...`:s}`),this._statusCode=e,this._url=n,this._method=i,this._body=s}get statusCode(){return this._statusCode}get url(){return this._url}get method(){return this._method}get body(){return this._body}}async function zp(t,e){var r;if(!t.ok){const n=t.headers.get("Content-Type")==="application/json",i=n?JSON.stringify(await t.json(),null,2):await t.text(),s=iC(e.query,{arrayFormat:"repeat",addQueryPrefix:!0}),o=`${e.url}${s}`;throw new ci(t.status,t.statusText,o,(r=e.method)!==null&&r!==void 0?r:"GET",i,n)}}async function sC(t){if(t.status===204)return;const e=await t.text();if(e)return JSON.parse(e)}function mk(t,e){switch(e){case"helix":return`https://api.twitch.tv/helix/${t.replace(/^\//,"")}`;case"auth":return`https://id.twitch.tv/oauth2/${t.replace(/^\//,"")}`;case"custom":return t;default:return t}}async function Ic(t,e,r,n,i={}){var s,o;const a=(s=t.type)!==null&&s!==void 0?s:"helix",l=mk(t.url,a),u=iC(t.query,{arrayFormat:"repeat",addQueryPrefix:!0}),c=new tC.Headers({Accept:"application/json"});let h;t.jsonBody&&(h=JSON.stringify(t.jsonBody),c.append("Content-Type","application/json")),e&&a!=="auth"&&c.append("Client-ID",e),r&&c.append("Authorization",`${a==="helix"?n??"Bearer":"OAuth"} ${r}`);const d={...i,method:(o=t.method)!==null&&o!==void 0?o:"GET",headers:c,body:h};return await GI(`${l}${u}`,d)}async function wa(t,e,r,n,i={}){const s=await Ic(t,e,r,n,i);return await zp(s,t),await sC(s)}function he(t){return{broadcaster_id:b(t)}}class Zn extends vr{constructor(e){super("Invalid token supplied",e)}}class Ml extends vr{}function gk(t,e,r,n){return{grant_type:"authorization_code",client_id:t,client_secret:e,code:r,redirect_uri:n}}function yk(t,e){return{grant_type:"client_credentials",client_id:t,client_secret:e}}function vk(t,e,r){return{grant_type:"refresh_token",client_id:t,client_secret:e,refresh_token:r}}let mu=class extends G{constructor(e){super(e),this._obtainmentDate=new Date}get clientId(){return this[f].client_id}get userId(){var e;return(e=this[f].user_id)!==null&&e!==void 0?e:null}get userName(){var e;return(e=this[f].login)!==null&&e!==void 0?e:null}get scopes(){return this[f].scopes}get expiryDate(){return yr(this[f].expires_in,e=>new Date(this._obtainmentDate.getTime()+e*1e3))}};mu=S([D("auth","TokenInfo","clientId")],mu);function Wg(t){var e,r;return{accessToken:t.access_token,refreshToken:t.refresh_token||null,scope:(e=t.scope)!==null&&e!==void 0?e:[],expiresIn:(r=t.expires_in)!==null&&r!==void 0?r:null,obtainmentTimestamp:Date.now()}}async function _k(t,e,r,n){return Wg(await wa({type:"auth",url:"token",method:"POST",query:gk(t,e,r,n)}))}async function wk(t,e){return Wg(await wa({type:"auth",url:"token",method:"POST",query:yk(t,e)}))}async function Sv(t,e,r){return Wg(await wa({type:"auth",url:"token",method:"POST",query:vk(t,e,r)}))}async function ds(t,e){try{const r=await wa({type:"auth",url:"validate"},e,t);return new mu(r)}catch(r){throw r instanceof ci&&r.statusCode===401?new Zn({cause:r}):r}}const xk=new Map([["channel_commercial",["channel:edit:commercial"]],["channel_editor",["channel:manage:broadcast"]],["channel_read",["channel:read:stream_key"]],["channel_subscriptions",["channel:read:subscriptions"]],["user_blocks_read",["user:read:blocked_users"]],["user_blocks_edit",["user:manage:blocked_users"]],["user_follows_edit",["user:edit:follows"]],["user_read",["user:read:email"]],["user_subscriptions",["user:read:subscriptions"]],["user:edit:broadcast",["channel:manage:broadcast","channel:manage:extensions"]]]);function Sk(t,e){if(e!=null&&e.length){const r=new Set(t.flatMap(n=>{var i;return[n,...(i=xk.get(n))!==null&&i!==void 0?i:[]]}));if(e.every(n=>!r.has(n))){const n=e.join(", ");throw new Error(`This token does not have any of the requested scopes (${n}) and can not be upgraded.
If you need dynamically upgrading scopes, please implement the AuthProvider interface accordingly:

	https://twurple.js.org/reference/auth/interfaces/AuthProvider.html`)}}}function Gp(t,e){for(const r of e)Sk(t,r)}async function oC(t,e,r,n,i){if(i!=null&&i.length||!r){const s=await ds(e,t);if(!s.userId)throw new Error("Trying to use an app access token as a user access token");const o=n??s.scopes;return i&&Gp(o,i.filter(a=>!!a)),[o,s.userId]}return[n,r]}class bv{constructor(e){this._newTokenScopeSets=[],this._newTokenPromise=null,this._queuedScopeSets=[],this._queueExecutor=null,this._queuePromise=null,this._executor=e}async fetch(...e){var r;const n=e.filter(a=>!!a);if(this._newTokenPromise){if(!n.length)return await this._newTokenPromise;if(this._queueExecutor?this._queuedScopeSets.push(...n):this._queuedScopeSets=[...n],!this._queuePromise){const{promise:a,resolve:l,reject:u}=No();this._queuePromise=a,this._queueExecutor=async()=>{var c;if(this._queuePromise){this._newTokenScopeSets=this._queuedScopeSets,this._queuedScopeSets=[],this._newTokenPromise=this._queuePromise,this._queuePromise=null,this._queueExecutor=null;try{l(await this._executor(this._newTokenScopeSets))}catch(h){u(h)}finally{this._newTokenPromise=null,this._newTokenScopeSets=[],(c=this._queueExecutor)===null||c===void 0||c.call(this)}}}}return await this._queuePromise}this._newTokenScopeSets=[...n];const{promise:i,resolve:s,reject:o}=No();this._newTokenPromise=i;try{s(await this._executor(this._newTokenScopeSets))}catch(a){o(a)}finally{this._newTokenPromise=null,this._newTokenScopeSets=[],(r=this._queueExecutor)===null||r===void 0||r.call(this)}return await i}}class bk{constructor(e,r,n,i=!1){this.owner=e,this.event=r,this.listener=n,this._internal=i}unbind(){this.owner.removeListener(this)}}class Cs{constructor(){this._eventListeners=new Map,this._internalEventListeners=new Map}on(e,r){return this._addListener(!1,e,r)}addListener(e,r){return this._addListener(!1,e,r)}removeListener(e,r){this._removeListener(!1,e,r)}registerEvent(){const e=r=>this.addListener(e,r);return e}emit(e,...r){if(this._eventListeners.has(e))for(const n of this._eventListeners.get(e))n(...r);if(this._internalEventListeners.has(e))for(const n of this._internalEventListeners.get(e))n(...r)}registerInternalEvent(){const e=r=>this.addInternalListener(e,r);return e}addInternalListener(e,r){return this._addListener(!0,e,r)}removeInternalListener(e,r){this._removeListener(!0,e,r)}_addListener(e,r,n){const i=e?this._eventListeners:this._internalEventListeners;return i.has(r)?i.get(r).push(n):i.set(r,[n]),new bk(this,r,n,e)}_removeListener(e,r,n){const i=e?this._eventListeners:this._internalEventListeners;if(!r)i.clear();else if(typeof r=="object"){const s=r;this._removeListener(s._internal,s.event,s.listener)}else{const s=r;if(i.has(s))if(n){const o=i.get(s);let a=0;for(;(a=o.indexOf(n))!==-1;)o.splice(a,1)}else i.delete(s)}}}class Cv extends vr{constructor(e){super(`The user context for the user ${e} has been disabled.
This happened because the access token became invalid (e.g. by expiry) and refreshing it failed (e.g. because the account's password was changed).

Use .addUser(), .addUserForToken() or .addUserForCode() for the same user context to re-enable the user with a new, valid token.`),this.userId=e}}class Ck extends vr{constructor(e){super(`User ${e} was removed while trying to fetch a token.

Make sure you're not executing any actions when you want to remove a user.`),this.userId=e}}class Tk extends vr{constructor(e){super(`Unknown intent: ${e}`),this.intent=e}}let bn=class extends Cs{constructor(e){var r;super(),this._userAccessTokens=new Map,this._userTokenFetchers=new Map,this._intentToUserId=new Map,this._userIdToIntents=new Map,this._cachedRefreshFailures=new Set,this.onRefresh=this.registerEvent(),this.onRefreshFailure=this.registerEvent(),this._clientId=e.clientId,this._clientSecret=e.clientSecret,this._redirectUri=e.redirectUri,this._appImpliedScopes=(r=e.appImpliedScopes)!==null&&r!==void 0?r:[],this._appTokenFetcher=new bv(async n=>await this._fetchAppToken(n))}addUser(e,r,n){const i=b(e);if(!r.refreshToken)throw new Error(`Trying to add user ${i} without refresh token`);this._cachedRefreshFailures.delete(i),this._userAccessTokens.set(i,{...r,userId:i}),this._userTokenFetchers.has(i)||this._userTokenFetchers.set(i,new bv(async s=>await this._fetchUserToken(i,s))),n&&this.addIntentsToUser(e,n)}async addUserForToken(e,r){let n=null;if(e.accessToken&&!Xi(e))try{const a=await ds(e.accessToken);n=[e,a]}catch(a){if(!(a instanceof Zn))throw a}if(!n){if(!e.refreshToken)throw new Zn;const a=await Sv(this._clientId,this._clientSecret,e.refreshToken),l=await ds(a.accessToken);this.emit(this.onRefresh,l.userId,a),n=[a,l]}const[i,s]=n;if(!s.userId)throw new Ml("Could not determine a user ID for your token; you might be trying to disguise an app token as a user token.");const o=i.scope?i:{...i,scope:s.scopes};return this.addUser(s.userId,o,r),s.userId}async addUserForCode(e,r){if(!this._redirectUri)throw new Error("This method requires you to pass a `redirectUri` as a configuration property");const n=await _k(this._clientId,this._clientSecret,e,this._redirectUri);return await this.addUserForToken(n,r)}hasUser(e){return this._userTokenFetchers.has(b(e))}removeUser(e){const r=b(e);if(this._userIdToIntents.has(r)){const n=this._userIdToIntents.get(r);for(const i of n)this._intentToUserId.delete(i);this._userIdToIntents.delete(r)}this._userAccessTokens.delete(r),this._userTokenFetchers.delete(r),this._cachedRefreshFailures.delete(r)}addIntentsToUser(e,r){const n=b(e);if(!this._userAccessTokens.has(n))throw new Error("Trying to add intents to a user that was not added to this provider");for(const i of r)this._intentToUserId.has(i)&&this._userIdToIntents.get(this._intentToUserId.get(i)).delete(i),this._intentToUserId.set(i,n),this._userIdToIntents.has(n)?this._userIdToIntents.get(n).add(i):this._userIdToIntents.set(n,new Set([i]))}getIntentsForUser(e){const r=b(e);return this._userIdToIntents.has(r)?Array.from(this._userIdToIntents.get(r)):[]}removeIntents(e){var r;for(const n of e)if(this._intentToUserId.has(n)){const i=this._intentToUserId.get(n);(r=this._userIdToIntents.get(i))===null||r===void 0||r.delete(n),this._intentToUserId.delete(n)}}async refreshAccessTokenForUser(e){const r=b(e);if(this._cachedRefreshFailures.has(r))throw new Cv(r);const n=this._userAccessTokens.get(r);if(!n)throw new Error("Trying to refresh token for user that was not added to the provider");const i=await this._refreshUserTokenWithCallback(r,n.refreshToken);return this._checkIntermediateUserRemoval(r),this._userAccessTokens.set(r,{...i,userId:r}),this.emit(this.onRefresh,r,i),{...i,userId:r}}async refreshAccessTokenForIntent(e){if(!this._intentToUserId.has(e))throw new Tk(e);const r=this._intentToUserId.get(e);return await this.refreshAccessTokenForUser(r)}get clientId(){return this._clientId}getCurrentScopesForUser(e){var r;const n=this._userAccessTokens.get(b(e));if(!n)throw new Error("Trying to get scopes for user that was not added to the provider");return(r=n.scope)!==null&&r!==void 0?r:[]}async getAccessTokenForUser(e,...r){const n=b(e),i=this._userTokenFetchers.get(n);if(!i)return null;if(this._cachedRefreshFailures.has(n))throw new Cv(n);return await i.fetch(...r)}async getAccessTokenForIntent(e,...r){if(!this._intentToUserId.has(e))return null;const n=this._intentToUserId.get(e),i=await this.getAccessTokenForUser(n,...r);if(!i)throw new Sn(`Found intent ${e} corresponding to user ID ${n} but no token was found`);return{...i,userId:n}}async getAnyAccessToken(e){if(e){const r=b(e);if(this._userAccessTokens.has(r)){const n=await this.getAccessTokenForUser(r);if(!n)throw new Sn(`Token for user ID ${r} exists but nothing was returned by getAccessTokenForUser`);return{...n,userId:r}}}return await this.getAppAccessToken()}async getAppAccessToken(e=!1){return e&&(this._appAccessToken=void 0),await this._appTokenFetcher.fetch(...this._appImpliedScopes.map(r=>[r]))}_checkIntermediateUserRemoval(e){if(!this._userTokenFetchers.has(e))throw this._cachedRefreshFailures.delete(e),new Ck(e)}async _fetchUserToken(e,r){const n=this._userAccessTokens.get(e);if(!n)throw new Error("Trying to get token for user that was not added to the provider");if(n.accessToken&&!Xi(n))try{if(n.scope)return Gp(n.scope,r),n;const[s=[]]=await oC(this._clientId,n.accessToken,e,n.scope,r),o={...n,scope:s};return this._checkIntermediateUserRemoval(e),this._userAccessTokens.set(e,o),o}catch(s){if(!(s instanceof Zn))throw s}this._checkIntermediateUserRemoval(e);const i=await this.refreshAccessTokenForUser(e);return Gp(i.scope,r),i}async _refreshUserTokenWithCallback(e,r){try{return await Sv(this.clientId,this._clientSecret,r)}catch(n){throw this._cachedRefreshFailures.add(e),this.emit(this.onRefreshFailure,e),n}}async _fetchAppToken(e){if(e.length>0)for(const r of e)if(this._appImpliedScopes.length){if(r.every(n=>!this._appImpliedScopes.includes(n)))throw new Error(`One of the scopes ${r.join(", ")} requested but only the scope ${this._appImpliedScopes.join(", ")} is implied`)}else throw new Error(`One of the scopes ${r.join(", ")} requested but the client credentials flow does not support scopes`);return!this._appAccessToken||Xi(this._appAccessToken)?await this._refreshAppToken():this._appAccessToken}async _refreshAppToken(){return this._appAccessToken=await wk(this._clientId,this._clientSecret)}};S([q(!1)],bn.prototype,"_clientSecret",void 0);S([q(!1)],bn.prototype,"_userAccessTokens",void 0);S([q(!1)],bn.prototype,"_userTokenFetchers",void 0);S([q(!1)],bn.prototype,"_appAccessToken",void 0);S([q(!1)],bn.prototype,"_appTokenFetcher",void 0);bn=S([D("auth","RefreshingAuthProvider","clientId")],bn);let Bo=class{constructor(e,r,n){this._clientId=e||"",this._accessToken=typeof r=="string"?{accessToken:r,refreshToken:null,scope:n??[],expiresIn:null,obtainmentTimestamp:Date.now()}:r,this._scopes=n}get clientId(){return this._clientId}async getAccessTokenForUser(e,...r){return await this._getAccessToken(r)}async getAccessTokenForIntent(e,...r){return await this._getAccessToken(r)}async getAnyAccessToken(){return await this._getAccessToken()}getCurrentScopesForUser(){var e;return(e=this._scopes)!==null&&e!==void 0?e:[]}async _getAccessToken(e){const[r,n]=await oC(this._clientId,this._accessToken.accessToken,this._userId,this._scopes,e);return this._scopes=r,this._userId=n,{...this._accessToken,userId:n}}};S([q(!1)],Bo.prototype,"_clientId",void 0);S([q(!1)],Bo.prototype,"_accessToken",void 0);Bo=S([D("auth","StaticAuthProvider","clientId")],Bo);const kc=Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]";var Vr,W;(function(t){t[t.CRITICAL=0]="CRITICAL",t[t.ERROR=1]="ERROR",t[t.WARNING=2]="WARNING",t[t.INFO=3]="INFO",t[t.DEBUG=4]="DEBUG",t[t.TRACE=7]="TRACE"})(W||(W={}));function Qg(t){if(typeof t=="number"){if(Object.prototype.hasOwnProperty.call(W,t))return t;var e=Object.keys(W).map(function(n){return parseInt(n,10)}).filter(function(n){return!isNaN(n)&&n<t});return e.length?Math.max.apply(Math,e):W.WARNING}var r=t.replace(/\d+$/,"").toUpperCase();if(!Object.prototype.hasOwnProperty.call(W,r))throw new Error("Unknown log level string: ".concat(t));return W[r]}var Ek=kc?console.log.bind(console):console.debug.bind(console),aC=(Vr={},Vr[W.CRITICAL]=console.error.bind(console),Vr[W.ERROR]=console.error.bind(console),Vr[W.WARNING]=console.warn.bind(console),Vr[W.INFO]=console.info.bind(console),Vr[W.DEBUG]=Ek.bind(console),Vr[W.TRACE]=console.trace.bind(console),Vr),$d,qd,gu=typeof process>"u"?[]:(qd=($d={}.LOGGING)===null||$d===void 0?void 0:$d.split(";").map(function(t){var e=t.split("=",2),r=e[0],n=e[1];return n?[r==="default"?void 0:r.split(":"),Qg(n)]:null}).filter(function(t){return!!t}).sort(function(t,e){var r,n,i=t[0],s=e[0];return((r=s==null?void 0:s.length)!==null&&r!==void 0?r:0)-((n=i==null?void 0:i.length)!==null&&n!==void 0?n:0)}))!==null&&qd!==void 0?qd:[],Vd=gu.findIndex(function(t){var e=t[0];return!e}),lC=void 0;Vd!==-1&&(lC=gu[Vd][1],gu.splice(Vd));function Pk(t,e){return e.length<=t.length&&e.every(function(r,n){return r===t[n]})}function uC(t){for(var e=t.split(":"),r=0,n=gu;r<n.length;r++){var i=n[r],s=i[0],o=i[1];if(Pk(e,s))return o}return lC}var cC=function(){function t(e){var r=e.name,n=e.minLevel,i=e.emoji,s=i===void 0?!1:i,o=e.colors,a=e.timestamps,l=a===void 0?kc:a,u,c;this._name=r,this._minLevel=(c=(u=mr(n,function(h){return Qg(h)}))!==null&&u!==void 0?u:uC(r))!==null&&c!==void 0?c:W.WARNING,this._emoji=s,this._colors=o,this._timestamps=l}return t.prototype.crit=function(e){this.log(W.CRITICAL,e)},t.prototype.error=function(e){this.log(W.ERROR,e)},t.prototype.warn=function(e){this.log(W.WARNING,e)},t.prototype.info=function(e){this.log(W.INFO,e)},t.prototype.debug=function(e){this.log(W.DEBUG,e)},t.prototype.trace=function(e){this.log(W.TRACE,e)},t}(),Ak=function(t){bs(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.log=function(r,n){if(!(r>this._minLevel)){var i=aC[r],s="[".concat(this._name,"] ").concat(n);this._timestamps&&(s="[".concat(new Date().toISOString(),"] ").concat(n)),i(s)}},e}(cC),Ik=function(){function t(e){var r=e.name,n=e.minLevel,i=e.custom,s;this._minLevel=(s=mr(n,function(o){return Qg(o)}))!==null&&s!==void 0?s:uC(r),this._override=typeof i=="function"?{log:i}:i}return t.prototype.log=function(e,r){this._shouldLog(e)&&this._override.log(e,r)},t.prototype.crit=function(e){this._override.crit?this._shouldLog(W.CRITICAL)&&this._override.crit(e):this.log(W.CRITICAL,e)},t.prototype.error=function(e){this._override.error?this._shouldLog(W.ERROR)&&this._override.error(e):this.log(W.ERROR,e)},t.prototype.warn=function(e){this._override.warn?this._shouldLog(W.WARNING)&&this._override.warn(e):this.log(W.WARNING,e)},t.prototype.info=function(e){this._override.info?this._shouldLog(W.INFO)&&this._override.info(e):this.log(W.INFO,e)},t.prototype.debug=function(e){this._override.debug?this._shouldLog(W.DEBUG)&&this._override.debug(e):this.log(W.DEBUG,e)},t.prototype.trace=function(e){this._override.trace?this._shouldLog(W.TRACE)&&this._override.trace(e):this.log(W.TRACE,e)},t.prototype._shouldLog=function(e){return this._minLevel===void 0||this._minLevel>=e},t}(),Hr,zr,Gr,kk=(Hr={},Hr[W.CRITICAL]="",Hr[W.ERROR]="",Hr[W.WARNING]=" ",Hr[W.INFO]=" ",Hr[W.DEBUG]="",Hr[W.TRACE]="",Hr),Rk={black:30,red:31,green:32,yellow:33,blue:34,magenta:35,cyan:36,white:37,blackBright:90,redBright:91,greenBright:92,yellowBright:93,blueBright:94,magentaBright:95,cyanBright:96,whiteBright:97},Mk={bgBlack:40,bgRed:41,bgGreen:42,bgYellow:43,bgBlue:44,bgMagenta:45,bgCyan:46,bgWhite:47,bgBlackBright:100,bgRedBright:101,bgGreenBright:102,bgYellowBright:103,bgBlueBright:104,bgMagentaBright:105,bgCyanBright:106,bgWhiteBright:107};function Rc(t,e,r){return function(n){return"\x1B[".concat(t,"m").concat(r?r(n):n,"\x1B[").concat(e,"m")}}function dr(t){return Rc(Rk[t],39)}function Us(t,e){return Rc(Mk[t],49,e)}var Ok=(zr={},zr[W.CRITICAL]=dr("red"),zr[W.ERROR]=dr("redBright"),zr[W.WARNING]=dr("yellow"),zr[W.INFO]=dr("blue"),zr[W.DEBUG]=dr("magenta"),zr[W.TRACE]=Rc(0,0),zr),Tv=(Gr={},Gr[W.CRITICAL]=Us("bgRed",dr("white")),Gr[W.ERROR]=Us("bgRedBright",dr("white")),Gr[W.WARNING]=Us("bgYellow",dr("black")),Gr[W.INFO]=Us("bgBlue",dr("white")),Gr[W.DEBUG]=Us("bgMagenta",dr("black")),Gr[W.TRACE]=Rc(7,27),Gr),Dk=function(t){bs(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.log=function(r,n){var i,s,o;if(!(r>this._minLevel)){var a=aC[r],l="";if(this._timestamps&&(l+="[".concat(new Date().toISOString(),"] ")),this._emoji){var u=kk[r];l+="".concat(u," ")}var c=(o=(i=this._colors)!==null&&i!==void 0?i:(s=process.stdout)===null||s===void 0?void 0:s.isTTY)!==null&&o!==void 0?o:!0;c?l+="".concat(Tv[r](this._name)," ").concat(Tv[r](W[r])," ").concat(Ok[r](n)):l+="[".concat(this._name,":").concat(W[r].toLowerCase(),"] ").concat(n),a(l)}},e}(cC);function Ts(t){return t.custom?new Ik(t):kc?new Dk(t):new Ak(t)}var dC=function(t){bs(e,t);function e(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var i=this.constructor,s=this,o;return s=t.apply(this,xn([],Lr(r),!1))||this,Object.setPrototypeOf(s,i.prototype),(o=Error.captureStackTrace)===null||o===void 0||o.call(Error,s,i.constructor),s}return Object.defineProperty(e.prototype,"name",{get:function(){return this.constructor.name},enumerable:!1,configurable:!0}),e}(Error),Ev=function(t){bs(e,t);function e(r){var n=t.call(this,"Need to retry after ".concat(r," ms"))||this;return n._retryAt=Date.now()+r,n}return Object.defineProperty(e.prototype,"retryAt",{get:function(){return this._retryAt},enumerable:!1,configurable:!0}),e}(dC),Kg=function(t){bs(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(dC),hC={exports:{}},fC={exports:{}},Nk="Function.prototype.bind called on incompatible ",Hd=Array.prototype.slice,Bk=Object.prototype.toString,Lk="[object Function]",Fk=function(e){var r=this;if(typeof r!="function"||Bk.call(r)!==Lk)throw new TypeError(Nk+r);for(var n=Hd.call(arguments,1),i,s=function(){if(this instanceof i){var c=r.apply(this,n.concat(Hd.call(arguments)));return Object(c)===c?c:this}else return r.apply(e,n.concat(Hd.call(arguments)))},o=Math.max(0,r.length-n.length),a=[],l=0;l<o;l++)a.push("$"+l);if(i=Function("binder","return function ("+a.join(",")+"){ return binder.apply(this,arguments); }")(s),r.prototype){var u=function(){};u.prototype=r.prototype,i.prototype=new u,u.prototype=null}return i},Uk=Fk,Yg=Function.prototype.bind||Uk,Xg=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;e[r]=i;for(r in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var s=Object.getOwnPropertySymbols(e);if(s.length!==1||s[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var o=Object.getOwnPropertyDescriptor(e,r);if(o.value!==i||o.enumerable!==!0)return!1}return!0},Pv=typeof Symbol<"u"&&Symbol,jk=Xg,Jg=function(){return typeof Pv!="function"||typeof Symbol!="function"||typeof Pv("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:jk()},Av={foo:{}},$k=Object,pC=function(){return{__proto__:Av}.foo===Av.foo&&!({__proto__:null}instanceof $k)},qk=Yg,Dn=qk.call(Function.call,Object.prototype.hasOwnProperty),ee,hs=SyntaxError,mC=Function,Zi=TypeError,zd=function(t){try{return mC('"use strict"; return ('+t+").constructor;")()}catch{}},ei=Object.getOwnPropertyDescriptor;if(ei)try{ei({},"")}catch{ei=null}var Gd=function(){throw new Zi},Vk=ei?function(){try{return arguments.callee,Gd}catch{try{return ei(arguments,"callee").get}catch{return Gd}}}():Gd,xi=Jg(),Hk=pC(),Ve=Object.getPrototypeOf||(Hk?function(t){return t.__proto__}:null),Ti={},zk=typeof Uint8Array>"u"||!Ve?ee:Ve(Uint8Array),ti={"%AggregateError%":typeof AggregateError>"u"?ee:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?ee:ArrayBuffer,"%ArrayIteratorPrototype%":xi&&Ve?Ve([][Symbol.iterator]()):ee,"%AsyncFromSyncIteratorPrototype%":ee,"%AsyncFunction%":Ti,"%AsyncGenerator%":Ti,"%AsyncGeneratorFunction%":Ti,"%AsyncIteratorPrototype%":Ti,"%Atomics%":typeof Atomics>"u"?ee:Atomics,"%BigInt%":typeof BigInt>"u"?ee:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?ee:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?ee:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?ee:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?ee:Float32Array,"%Float64Array%":typeof Float64Array>"u"?ee:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?ee:FinalizationRegistry,"%Function%":mC,"%GeneratorFunction%":Ti,"%Int8Array%":typeof Int8Array>"u"?ee:Int8Array,"%Int16Array%":typeof Int16Array>"u"?ee:Int16Array,"%Int32Array%":typeof Int32Array>"u"?ee:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":xi&&Ve?Ve(Ve([][Symbol.iterator]())):ee,"%JSON%":typeof JSON=="object"?JSON:ee,"%Map%":typeof Map>"u"?ee:Map,"%MapIteratorPrototype%":typeof Map>"u"||!xi||!Ve?ee:Ve(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?ee:Promise,"%Proxy%":typeof Proxy>"u"?ee:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?ee:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?ee:Set,"%SetIteratorPrototype%":typeof Set>"u"||!xi||!Ve?ee:Ve(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?ee:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":xi&&Ve?Ve(""[Symbol.iterator]()):ee,"%Symbol%":xi?Symbol:ee,"%SyntaxError%":hs,"%ThrowTypeError%":Vk,"%TypedArray%":zk,"%TypeError%":Zi,"%Uint8Array%":typeof Uint8Array>"u"?ee:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?ee:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?ee:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?ee:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?ee:WeakMap,"%WeakRef%":typeof WeakRef>"u"?ee:WeakRef,"%WeakSet%":typeof WeakSet>"u"?ee:WeakSet};if(Ve)try{null.error}catch(t){var Gk=Ve(Ve(t));ti["%Error.prototype%"]=Gk}var Wk=function t(e){var r;if(e==="%AsyncFunction%")r=zd("async function () {}");else if(e==="%GeneratorFunction%")r=zd("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=zd("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&Ve&&(r=Ve(i.prototype))}return ti[e]=r,r},Iv={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},xa=Yg,yu=Dn,Qk=xa.call(Function.call,Array.prototype.concat),Kk=xa.call(Function.apply,Array.prototype.splice),kv=xa.call(Function.call,String.prototype.replace),vu=xa.call(Function.call,String.prototype.slice),Yk=xa.call(Function.call,RegExp.prototype.exec),Xk=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Jk=/\\(\\)?/g,Zk=function(e){var r=vu(e,0,1),n=vu(e,-1);if(r==="%"&&n!=="%")throw new hs("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new hs("invalid intrinsic syntax, expected opening `%`");var i=[];return kv(e,Xk,function(s,o,a,l){i[i.length]=a?kv(l,Jk,"$1"):o||s}),i},eR=function(e,r){var n=e,i;if(yu(Iv,n)&&(i=Iv[n],n="%"+i[0]+"%"),yu(ti,n)){var s=ti[n];if(s===Ti&&(s=Wk(n)),typeof s>"u"&&!r)throw new Zi("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:s}}throw new hs("intrinsic "+e+" does not exist!")},ie=function(e,r){if(typeof e!="string"||e.length===0)throw new Zi("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new Zi('"allowMissing" argument must be a boolean');if(Yk(/^%?[^%]*%?$/,e)===null)throw new hs("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=Zk(e),i=n.length>0?n[0]:"",s=eR("%"+i+"%",r),o=s.name,a=s.value,l=!1,u=s.alias;u&&(i=u[0],Kk(n,Qk([0,1],u)));for(var c=1,h=!0;c<n.length;c+=1){var d=n[c],p=vu(d,0,1),m=vu(d,-1);if((p==='"'||p==="'"||p==="`"||m==='"'||m==="'"||m==="`")&&p!==m)throw new hs("property names with quotes must have matching quotes");if((d==="constructor"||!h)&&(l=!0),i+="."+d,o="%"+i+"%",yu(ti,o))a=ti[o];else if(a!=null){if(!(d in a)){if(!r)throw new Zi("base intrinsic for "+e+" exists, but the property is not available.");return}if(ei&&c+1>=n.length){var _=ei(a,d);h=!!_,h&&"get"in _&&!("originalValue"in _.get)?a=_.get:a=a[d]}else h=yu(a,d),a=a[d];h&&!l&&(ti[o]=a)}}return a};(function(t){var e=Yg,r=ie,n=r("%Function.prototype.apply%"),i=r("%Function.prototype.call%"),s=r("%Reflect.apply%",!0)||e.call(i,n),o=r("%Object.getOwnPropertyDescriptor%",!0),a=r("%Object.defineProperty%",!0),l=r("%Math.max%");if(a)try{a({},"a",{value:1})}catch{a=null}t.exports=function(h){var d=s(e,i,arguments);if(o&&a){var p=o(d,"length");p.configurable&&a(d,"length",{value:1+l(0,h.length-(arguments.length-1))})}return d};var u=function(){return s(e,n,arguments)};a?a(t.exports,"apply",{value:u}):t.exports.apply=u})(fC);var Sa=fC.exports,Rv=Object.prototype.toString,gC=function(e){var r=Rv.call(e),n=r==="[object Arguments]";return n||(n=r!=="[object Array]"&&e!==null&&typeof e=="object"&&typeof e.length=="number"&&e.length>=0&&Rv.call(e.callee)==="[object Function]"),n},Wd,Mv;function tR(){if(Mv)return Wd;Mv=1;var t;if(!Object.keys){var e=Object.prototype.hasOwnProperty,r=Object.prototype.toString,n=gC,i=Object.prototype.propertyIsEnumerable,s=!i.call({toString:null},"toString"),o=i.call(function(){},"prototype"),a=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],l=function(d){var p=d.constructor;return p&&p.prototype===d},u={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},c=function(){if(typeof window>"u")return!1;for(var d in window)try{if(!u["$"+d]&&e.call(window,d)&&window[d]!==null&&typeof window[d]=="object")try{l(window[d])}catch{return!0}}catch{return!0}return!1}(),h=function(d){if(typeof window>"u"||!c)return l(d);try{return l(d)}catch{return!1}};t=function(p){var m=p!==null&&typeof p=="object",_=r.call(p)==="[object Function]",w=n(p),v=m&&r.call(p)==="[object String]",g=[];if(!m&&!_&&!w)throw new TypeError("Object.keys called on a non-object");var y=o&&_;if(v&&p.length>0&&!e.call(p,0))for(var x=0;x<p.length;++x)g.push(String(x));if(w&&p.length>0)for(var C=0;C<p.length;++C)g.push(String(C));else for(var k in p)!(y&&k==="prototype")&&e.call(p,k)&&g.push(String(k));if(s)for(var O=h(p),A=0;A<a.length;++A)!(O&&a[A]==="constructor")&&e.call(p,a[A])&&g.push(a[A]);return g}}return Wd=t,Wd}var rR=Array.prototype.slice,nR=gC,Ov=Object.keys,Ol=Ov?function(e){return Ov(e)}:tR(),Dv=Object.keys;Ol.shim=function(){if(Object.keys){var e=function(){var r=Object.keys(arguments);return r&&r.length===arguments.length}(1,2);e||(Object.keys=function(n){return nR(n)?Dv(rR.call(n)):Dv(n)})}else Object.keys=Ol;return Object.keys||Ol};var iR=Ol,sR=ie,Wp=sR("%Object.defineProperty%",!0),Qp=function(){if(Wp)try{return Wp({},"a",{value:1}),!0}catch{return!1}return!1};Qp.hasArrayLengthDefineBug=function(){if(!Qp())return null;try{return Wp([],"length",{value:1}).length!==1}catch{return!0}};var yC=Qp,oR=iR,aR=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",lR=Object.prototype.toString,uR=Array.prototype.concat,vC=Object.defineProperty,cR=function(t){return typeof t=="function"&&lR.call(t)==="[object Function]"},dR=yC(),_C=vC&&dR,hR=function(t,e,r,n){if(e in t){if(n===!0){if(t[e]===r)return}else if(!cR(n)||!n())return}_C?vC(t,e,{configurable:!0,enumerable:!1,value:r,writable:!0}):t[e]=r},wC=function(t,e){var r=arguments.length>2?arguments[2]:{},n=oR(e);aR&&(n=uR.call(n,Object.getOwnPropertySymbols(e)));for(var i=0;i<n.length;i+=1)hR(t,n[i],e[n[i]],r[n[i]])};wC.supportsDescriptors=!!_C;var Es=wC,Mc=function(){if(typeof Promise!="function")throw new TypeError("`Promise.allSettled` requires a global `Promise` be available.")},Qd,Nv;function fR(){if(Nv)return Qd;Nv=1;var t=ie,e=Sa,r=t("%Promise.resolve%",!0),n=r&&e(r);return Qd=function(s,o){if(!n)throw new SyntaxError("This environment does not support Promises.");return n(s,o)},Qd}var Kd,Bv;function xC(){return Bv||(Bv=1,Kd=function(e){if(e===null)return"Null";if(typeof e>"u")return"Undefined";if(typeof e=="function"||typeof e=="object")return"Object";if(typeof e=="number")return"Number";if(typeof e=="boolean")return"Boolean";if(typeof e=="string")return"String"}),Kd}var Yd,Lv;function pR(){if(Lv)return Yd;Lv=1;var t=xC();return Yd=function(r){return typeof r=="symbol"?"Symbol":typeof r=="bigint"?"BigInt":t(r)},Yd}var js={exports:{}},Xd,Fv;function Oc(){if(Fv)return Xd;Fv=1;var t=Xg;return Xd=function(){return t()&&!!Symbol.toStringTag},Xd}var Jd,Uv;function Vt(){if(Uv)return Jd;Uv=1;var t=ie,e=Sa,r=e(t("String.prototype.indexOf"));return Jd=function(i,s){var o=t(i,!!s);return typeof o=="function"&&r(i,".prototype.")>-1?e(o):o},Jd}var Zd,jv;function mR(){if(jv)return Zd;jv=1;var t=Oc()(),e=Vt(),r=e("Object.prototype.toString"),n=function(a){return t&&a&&typeof a=="object"&&Symbol.toStringTag in a?!1:r(a)==="[object Arguments]"},i=function(a){return n(a)?!0:a!==null&&typeof a=="object"&&typeof a.length=="number"&&a.length>=0&&r(a)!=="[object Array]"&&r(a.callee)==="[object Function]"},s=function(){return n(arguments)}();return n.isLegacyArguments=i,Zd=s?n:i,Zd}const gR={},yR=Object.freeze(Object.defineProperty({__proto__:null,default:gR},Symbol.toStringTag,{value:"Module"})),vR=mP(yR);var eh,$v;function SC(){if($v)return eh;$v=1;var t=typeof Map=="function"&&Map.prototype,e=Object.getOwnPropertyDescriptor&&t?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,r=t&&e&&typeof e.get=="function"?e.get:null,n=t&&Map.prototype.forEach,i=typeof Set=="function"&&Set.prototype,s=Object.getOwnPropertyDescriptor&&i?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,o=i&&s&&typeof s.get=="function"?s.get:null,a=i&&Set.prototype.forEach,l=typeof WeakMap=="function"&&WeakMap.prototype,u=l?WeakMap.prototype.has:null,c=typeof WeakSet=="function"&&WeakSet.prototype,h=c?WeakSet.prototype.has:null,d=typeof WeakRef=="function"&&WeakRef.prototype,p=d?WeakRef.prototype.deref:null,m=Boolean.prototype.valueOf,_=Object.prototype.toString,w=Function.prototype.toString,v=String.prototype.match,g=String.prototype.slice,y=String.prototype.replace,x=String.prototype.toUpperCase,C=String.prototype.toLowerCase,k=RegExp.prototype.test,O=Array.prototype.concat,A=Array.prototype.join,N=Array.prototype.slice,j=Math.floor,Q=typeof BigInt=="function"?BigInt.prototype.valueOf:null,re=Object.getOwnPropertySymbols,Z=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,T=typeof Symbol=="function"&&typeof Symbol.iterator=="object",I=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===T||"symbol")?Symbol.toStringTag:null,V=Object.prototype.propertyIsEnumerable,se=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(E){return E.__proto__}:null);function L(E,P){if(E===1/0||E===-1/0||E!==E||E&&E>-1e3&&E<1e3||k.call(/e/,P))return P;var ce=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof E=="number"){var ve=E<0?-j(-E):j(E);if(ve!==E){var Me=String(ve),J=g.call(P,Me.length+1);return y.call(Me,ce,"$&_")+"."+y.call(y.call(J,/([0-9]{3})/g,"$&_"),/_$/,"")}}return y.call(P,ce,"$&_")}var F=vR,z=F.custom,H=nr(z)?z:null;eh=function E(P,ce,ve,Me){var J=ce||{};if(Fr(J,"quoteStyle")&&J.quoteStyle!=="single"&&J.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Fr(J,"maxStringLength")&&(typeof J.maxStringLength=="number"?J.maxStringLength<0&&J.maxStringLength!==1/0:J.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var jr=Fr(J,"customInspect")?J.customInspect:!0;if(typeof jr!="boolean"&&jr!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Fr(J,"indent")&&J.indent!==null&&J.indent!=="	"&&!(parseInt(J.indent,10)===J.indent&&J.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Fr(J,"numericSeparator")&&typeof J.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var Ln=J.numericSeparator;if(typeof P>"u")return"undefined";if(P===null)return"null";if(typeof P=="boolean")return P?"true":"false";if(typeof P=="string")return Zy(P,J);if(typeof P=="number"){if(P===0)return 1/0/P>0?"0":"-0";var vt=String(P);return Ln?L(P,vt):vt}if(typeof P=="bigint"){var $r=String(P)+"n";return Ln?L(P,$r):$r}var od=typeof J.depth>"u"?5:J.depth;if(typeof ve>"u"&&(ve=0),ve>=od&&od>0&&typeof P=="object")return Ye(P)?"[Array]":"[Object]";var vi=cP(J,ve);if(typeof Me>"u")Me=[];else if(Jy(Me,P)>=0)return"[Circular]";function zt(_i,Fa,hP){if(Fa&&(Me=N.call(Me),Me.push(Fa)),hP){var l0={depth:J.depth};return Fr(J,"quoteStyle")&&(l0.quoteStyle=J.quoteStyle),E(_i,l0,ve+1,Me)}return E(_i,J,ve+1,Me)}if(typeof P=="function"&&!Xe(P)){var t0=tP(P),r0=Ba(P,zt);return"[Function"+(t0?": "+t0:" (anonymous)")+"]"+(r0.length>0?" { "+A.call(r0,", ")+" }":"")}if(nr(P)){var n0=T?y.call(String(P),/^(Symbol\(.*\))_[^)]*$/,"$1"):Z.call(P);return typeof P=="object"&&!T?Is(n0):n0}if(aP(P)){for(var ks="<"+C.call(String(P.nodeName)),ad=P.attributes||[],La=0;La<ad.length;La++)ks+=" "+ad[La].name+"="+oe(Ht(ad[La].value),"double",J);return ks+=">",P.childNodes&&P.childNodes.length&&(ks+="..."),ks+="</"+C.call(String(P.nodeName))+">",ks}if(Ye(P)){if(P.length===0)return"[]";var ld=Ba(P,zt);return vi&&!uP(ld)?"["+sd(ld,vi)+"]":"[ "+A.call(ld,", ")+" ]"}if(wr(P)){var ud=Ba(P,zt);return!("cause"in Error.prototype)&&"cause"in P&&!V.call(P,"cause")?"{ ["+String(P)+"] "+A.call(O.call("[cause]: "+zt(P.cause),ud),", ")+" }":ud.length===0?"["+String(P)+"]":"{ ["+String(P)+"] "+A.call(ud,", ")+" }"}if(typeof P=="object"&&jr){if(H&&typeof P[H]=="function"&&F)return F(P,{depth:od-ve});if(jr!=="symbol"&&typeof P.inspect=="function")return P.inspect()}if(rP(P)){var i0=[];return n&&n.call(P,function(_i,Fa){i0.push(zt(Fa,P,!0)+" => "+zt(_i,P))}),e0("Map",r.call(P),i0,vi)}if(sP(P)){var s0=[];return a&&a.call(P,function(_i){s0.push(zt(_i,P))}),e0("Set",o.call(P),s0,vi)}if(nP(P))return id("WeakMap");if(oP(P))return id("WeakSet");if(iP(P))return id("WeakRef");if(As(P))return Is(zt(Number(P)));if(Da(P))return Is(zt(Q.call(P)));if(yi(P))return Is(m.call(P));if(nd(P))return Is(zt(String(P)));if(!yt(P)&&!Xe(P)){var cd=Ba(P,zt),o0=se?se(P)===Object.prototype:P instanceof Object||P.constructor===Object,dd=P instanceof Object?"":"null prototype",a0=!o0&&I&&Object(P)===P&&I in P?g.call(Ur(P),8,-1):dd?"Object":"",dP=o0||typeof P.constructor!="function"?"":P.constructor.name?P.constructor.name+" ":"",hd=dP+(a0||dd?"["+A.call(O.call([],a0||[],dd||[]),": ")+"] ":"");return cd.length===0?hd+"{}":vi?hd+"{"+sd(cd,vi)+"}":hd+"{ "+A.call(cd,", ")+" }"}return String(P)};function oe(E,P,ce){var ve=(ce.quoteStyle||P)==="double"?'"':"'";return ve+E+ve}function Ht(E){return y.call(String(E),/"/g,"&quot;")}function Ye(E){return Ur(E)==="[object Array]"&&(!I||!(typeof E=="object"&&I in E))}function yt(E){return Ur(E)==="[object Date]"&&(!I||!(typeof E=="object"&&I in E))}function Xe(E){return Ur(E)==="[object RegExp]"&&(!I||!(typeof E=="object"&&I in E))}function wr(E){return Ur(E)==="[object Error]"&&(!I||!(typeof E=="object"&&I in E))}function nd(E){return Ur(E)==="[object String]"&&(!I||!(typeof E=="object"&&I in E))}function As(E){return Ur(E)==="[object Number]"&&(!I||!(typeof E=="object"&&I in E))}function yi(E){return Ur(E)==="[object Boolean]"&&(!I||!(typeof E=="object"&&I in E))}function nr(E){if(T)return E&&typeof E=="object"&&E instanceof Symbol;if(typeof E=="symbol")return!0;if(!E||typeof E!="object"||!Z)return!1;try{return Z.call(E),!0}catch{}return!1}function Da(E){if(!E||typeof E!="object"||!Q)return!1;try{return Q.call(E),!0}catch{}return!1}var Na=Object.prototype.hasOwnProperty||function(E){return E in this};function Fr(E,P){return Na.call(E,P)}function Ur(E){return _.call(E)}function tP(E){if(E.name)return E.name;var P=v.call(w.call(E),/^function\s*([\w$]+)/);return P?P[1]:null}function Jy(E,P){if(E.indexOf)return E.indexOf(P);for(var ce=0,ve=E.length;ce<ve;ce++)if(E[ce]===P)return ce;return-1}function rP(E){if(!r||!E||typeof E!="object")return!1;try{r.call(E);try{o.call(E)}catch{return!0}return E instanceof Map}catch{}return!1}function nP(E){if(!u||!E||typeof E!="object")return!1;try{u.call(E,u);try{h.call(E,h)}catch{return!0}return E instanceof WeakMap}catch{}return!1}function iP(E){if(!p||!E||typeof E!="object")return!1;try{return p.call(E),!0}catch{}return!1}function sP(E){if(!o||!E||typeof E!="object")return!1;try{o.call(E);try{r.call(E)}catch{return!0}return E instanceof Set}catch{}return!1}function oP(E){if(!h||!E||typeof E!="object")return!1;try{h.call(E,h);try{u.call(E,u)}catch{return!0}return E instanceof WeakSet}catch{}return!1}function aP(E){return!E||typeof E!="object"?!1:typeof HTMLElement<"u"&&E instanceof HTMLElement?!0:typeof E.nodeName=="string"&&typeof E.getAttribute=="function"}function Zy(E,P){if(E.length>P.maxStringLength){var ce=E.length-P.maxStringLength,ve="... "+ce+" more character"+(ce>1?"s":"");return Zy(g.call(E,0,P.maxStringLength),P)+ve}var Me=y.call(y.call(E,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,lP);return oe(Me,"single",P)}function lP(E){var P=E.charCodeAt(0),ce={8:"b",9:"t",10:"n",12:"f",13:"r"}[P];return ce?"\\"+ce:"\\x"+(P<16?"0":"")+x.call(P.toString(16))}function Is(E){return"Object("+E+")"}function id(E){return E+" { ? }"}function e0(E,P,ce,ve){var Me=ve?sd(ce,ve):A.call(ce,", ");return E+" ("+P+") {"+Me+"}"}function uP(E){for(var P=0;P<E.length;P++)if(Jy(E[P],`
`)>=0)return!1;return!0}function cP(E,P){var ce;if(E.indent==="	")ce="	";else if(typeof E.indent=="number"&&E.indent>0)ce=A.call(Array(E.indent+1)," ");else return null;return{base:ce,prev:A.call(Array(P+1),ce)}}function sd(E,P){if(E.length===0)return"";var ce=`
`+P.prev+P.base;return ce+A.call(E,","+ce)+`
`+P.prev}function Ba(E,P){var ce=Ye(E),ve=[];if(ce){ve.length=E.length;for(var Me=0;Me<E.length;Me++)ve[Me]=Fr(E,Me)?P(E[Me],E):""}var J=typeof re=="function"?re(E):[],jr;if(T){jr={};for(var Ln=0;Ln<J.length;Ln++)jr["$"+J[Ln]]=J[Ln]}for(var vt in E)Fr(E,vt)&&(ce&&String(Number(vt))===vt&&vt<E.length||T&&jr["$"+vt]instanceof Symbol||(k.call(/[^\w$]/,vt)?ve.push(P(vt,E)+": "+P(E[vt],E)):ve.push(vt+": "+P(E[vt],E))));if(typeof re=="function")for(var $r=0;$r<J.length;$r++)V.call(E,J[$r])&&ve.push("["+P(J[$r])+"]: "+P(E[J[$r]],E));return ve}return eh}var th,qv;function _R(){if(qv)return th;qv=1;var t=ie,e=Vt(),r=SC(),n=t("%TypeError%"),i=t("%WeakMap%",!0),s=t("%Map%",!0),o=e("WeakMap.prototype.get",!0),a=e("WeakMap.prototype.set",!0),l=e("WeakMap.prototype.has",!0),u=e("Map.prototype.get",!0),c=e("Map.prototype.set",!0),h=e("Map.prototype.has",!0),d=function(w,v){for(var g=w,y;(y=g.next)!==null;g=y)if(y.key===v)return g.next=y.next,y.next=w.next,w.next=y,y},p=function(w,v){var g=d(w,v);return g&&g.value},m=function(w,v,g){var y=d(w,v);y?y.value=g:w.next={key:v,next:w.next,value:g}},_=function(w,v){return!!d(w,v)};return th=function(){var v,g,y,x={assert:function(C){if(!x.has(C))throw new n("Side channel does not contain "+r(C))},get:function(C){if(i&&C&&(typeof C=="object"||typeof C=="function")){if(v)return o(v,C)}else if(s){if(g)return u(g,C)}else if(y)return p(y,C)},has:function(C){if(i&&C&&(typeof C=="object"||typeof C=="function")){if(v)return l(v,C)}else if(s){if(g)return h(g,C)}else if(y)return _(y,C);return!1},set:function(C,k){i&&C&&(typeof C=="object"||typeof C=="function")?(v||(v=new i),a(v,C,k)):s?(g||(g=new s),c(g,C,k)):(y||(y={key:{},next:null}),m(y,C,k))}};return x},th}var rh,Vv;function wR(){if(Vv)return rh;Vv=1;var t=ie,e=Dn,r=_R()(),n=t("%TypeError%"),i={assert:function(s,o){if(!s||typeof s!="object"&&typeof s!="function")throw new n("`O` is not an object");if(typeof o!="string")throw new n("`slot` must be a string");if(r.assert(s),!i.has(s,o))throw new n("`"+o+"` is not present on `O`")},get:function(s,o){if(!s||typeof s!="object"&&typeof s!="function")throw new n("`O` is not an object");if(typeof o!="string")throw new n("`slot` must be a string");var a=r.get(s);return a&&a["$"+o]},has:function(s,o){if(!s||typeof s!="object"&&typeof s!="function")throw new n("`O` is not an object");if(typeof o!="string")throw new n("`slot` must be a string");var a=r.get(s);return!!a&&e(a,"$"+o)},set:function(s,o,a){if(!s||typeof s!="object"&&typeof s!="function")throw new n("`O` is not an object");if(typeof o!="string")throw new n("`slot` must be a string");var l=r.get(s);l||(l={},r.set(s,l)),l["$"+o]=a}};return Object.freeze&&Object.freeze(i),rh=i,rh}var nh,Hv;function xR(){if(Hv)return nh;Hv=1;var t=wR(),e=SyntaxError,r=typeof StopIteration=="object"?StopIteration:null;return nh=function(i){if(!r)throw new e("this environment lacks StopIteration");t.set(i,"[[Done]]",!1);var s={next:function(){var a=t.get(this,"[[Iterator]]"),l=t.get(a,"[[Done]]");try{return{done:l,value:l?void 0:a.next()}}catch(u){if(t.set(a,"[[Done]]",!0),u!==r)throw u;return{done:!0,value:void 0}}}};return t.set(s,"[[Iterator]]",i),s},nh}var ih,zv;function SR(){if(zv)return ih;zv=1;var t={}.toString;return ih=Array.isArray||function(e){return t.call(e)=="[object Array]"},ih}var sh,Gv;function bC(){if(Gv)return sh;Gv=1;var t=String.prototype.valueOf,e=function(o){try{return t.call(o),!0}catch{return!1}},r=Object.prototype.toString,n="[object String]",i=Oc()();return sh=function(o){return typeof o=="string"?!0:typeof o!="object"?!1:i?e(o):r.call(o)===n},sh}var oh,Wv;function bR(){if(Wv)return oh;Wv=1;var t=typeof Map=="function"&&Map.prototype?Map:null,e=typeof Set=="function"&&Set.prototype?Set:null,r;t||(r=function(o){return!1});var n=t?Map.prototype.has:null,i=e?Set.prototype.has:null;return!r&&!n&&(r=function(o){return!1}),oh=r||function(o){if(!o||typeof o!="object")return!1;try{if(n.call(o),i)try{i.call(o)}catch{return!0}return o instanceof t}catch{}return!1},oh}var ah,Qv;function CR(){if(Qv)return ah;Qv=1;var t=typeof Map=="function"&&Map.prototype?Map:null,e=typeof Set=="function"&&Set.prototype?Set:null,r;e||(r=function(o){return!1});var n=t?Map.prototype.has:null,i=e?Set.prototype.has:null;return!r&&!i&&(r=function(o){return!1}),ah=r||function(o){if(!o||typeof o!="object")return!1;try{if(i.call(o),n)try{n.call(o)}catch{return!0}return o instanceof e}catch{}return!1},ah}var Kv;function TR(){if(Kv)return js.exports;Kv=1;var t=mR(),e=xR();if(Jg()||Xg()){var r=Symbol.iterator;js.exports=function(N){if(N!=null&&typeof N[r]<"u")return N[r]();if(t(N))return Array.prototype[r].call(N)}}else{var n=SR(),i=bC(),s=ie,o=s("%Map%",!0),a=s("%Set%",!0),l=Vt(),u=l("Array.prototype.push"),c=l("String.prototype.charCodeAt"),h=l("String.prototype.slice"),d=function(N,j){var Q=N.length;if(j+1>=Q)return j+1;var re=c(N,j);if(re<55296||re>56319)return j+1;var Z=c(N,j+1);return Z<56320||Z>57343?j+1:j+2},p=function(N){var j=0;return{next:function(){var re=j>=N.length,Z;return re||(Z=N[j],j+=1),{done:re,value:Z}}}},m=function(N,j){if(n(N)||t(N))return p(N);if(i(N)){var Q=0;return{next:function(){var Z=d(N,Q),T=h(N,Q,Z);return Q=Z,{done:Z>N.length,value:T}}}}if(j&&typeof N["_es6-shim iterator_"]<"u")return N["_es6-shim iterator_"]()};if(!o&&!a)js.exports=function(N){if(N!=null)return m(N,!0)};else{var _=bR(),w=CR(),v=l("Map.prototype.forEach",!0),g=l("Set.prototype.forEach",!0);if(typeof process>"u"||!process.versions||!process.versions.node)var y=l("Map.prototype.iterator",!0),x=l("Set.prototype.iterator",!0);var C=l("Map.prototype.@@iterator",!0)||l("Map.prototype._es6-shim iterator_",!0),k=l("Set.prototype.@@iterator",!0)||l("Set.prototype._es6-shim iterator_",!0),O=function(N){if(_(N)){if(y)return e(y(N));if(C)return C(N);if(v){var j=[];return v(N,function(re,Z){u(j,[Z,re])}),p(j)}}if(w(N)){if(x)return e(x(N));if(k)return k(N);if(g){var Q=[];return g(N,function(re){u(Q,re)}),p(Q)}}};js.exports=function(N){return O(N)||m(N)}}}return js.exports}var lh,Yv;function ER(){if(Yv)return lh;Yv=1;var t=TypeError;return lh=function(r){if(!r||typeof r.next!="function")throw new t("iterator must be an object with a `next` method");if(arguments.length>1){var n=arguments[1];if(typeof n!="function")throw new t("`callback`, if provided, must be a function")}for(var i=n||[],s;(s=r.next())&&!s.done;)n?n(s.value):i.push(s.value);if(!n)return i},lh}var uh,Xv;function PR(){if(Xv)return uh;Xv=1;var t=TR(),e=TypeError,r=ER();return uh=function(i){var s=t(i);if(!s)throw new e("non-iterable value provided");return arguments.length>1?r(s,arguments[1]):r(s)},uh}var ch,Jv;function AR(){if(Jv)return ch;Jv=1;var t=ie,e=t("%TypeError%");return ch=function(n,i){if(n==null)throw new e(i||"Cannot call method on "+n);return n},ch}var dh,Zv;function Dc(){return Zv||(Zv=1,dh=AR()),dh}var hh,e_;function Zg(){return e_||(e_=1,hh=Number.isNaN||function(e){return e!==e}),hh}var fh,t_;function CC(){if(t_)return fh;t_=1;var t=Zg();return fh=function(e){return(typeof e=="number"||typeof e=="bigint")&&!t(e)&&e!==1/0&&e!==-1/0},fh}var ph,r_;function ey(){if(r_)return ph;r_=1;var t=ie,e=t("%Math.abs%"),r=t("%Math.floor%"),n=Zg(),i=CC();return ph=function(o){if(typeof o!="number"||n(o)||!i(o))return!1;var a=e(o);return r(a)===a},ph}var mh,n_;function IR(){if(n_)return mh;n_=1;var t=ie,e=t("%Array.prototype%"),r=t("%RangeError%"),n=t("%SyntaxError%"),i=t("%TypeError%"),s=ey(),o=Math.pow(2,32)-1,a=pC(),l=t("%Object.setPrototypeOf%",!0)||(a?function(u,c){return u.__proto__=c,u}:null);return mh=function(c){if(!s(c)||c<0)throw new i("Assertion failed: `length` must be an integer Number >= 0");if(c>o)throw new r("length is greater than (2**32 - 1)");var h=arguments.length>1?arguments[1]:e,d=[];if(h!==e){if(!l)throw new n("ArrayCreate: a `proto` argument that is not `Array.prototype` is not supported in an environment that does not support setting the [[Prototype]]");l(d,h)}return c!==0&&(d.length=c),d},mh}var gh,i_;function pi(){return i_||(i_=1,gh=function(e){return typeof e=="string"||typeof e=="symbol"}),gh}var yh,s_;function lt(){if(s_)return yh;s_=1;var t=xC();return yh=function(r){return typeof r=="symbol"?"Symbol":typeof r=="bigint"?"BigInt":t(r)},yh}var vh,o_;function TC(){if(o_)return vh;o_=1;var t=ie,e=t("%TypeError%"),r=SC(),n=pi(),i=lt();return vh=function(o,a){if(i(o)!=="Object")throw new e("Assertion failed: Type(O) is not Object");if(!n(a))throw new e("Assertion failed: IsPropertyKey(P) is not true, got "+r(a));return o[a]},vh}var _h,a_;function EC(){if(a_)return _h;a_=1;var t=ie,e=t("%Array%"),r=!e.isArray&&Vt()("Object.prototype.toString");return _h=e.isArray||function(i){return r(i)==="[object Array]"},_h}var wh,l_;function PC(){return l_||(l_=1,wh=EC()),wh}var rl={exports:{}},xh,u_;function kR(){return u_||(u_=1,xh=ie),xh}var Sh,c_;function ty(){if(c_)return Sh;c_=1;var t=ie,e=Dn,r=t("%TypeError%");return Sh=function(i,s){if(i.Type(s)!=="Object")return!1;var o={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};for(var a in s)if(e(s,a)&&!o[a])return!1;if(i.IsDataDescriptor(s)&&i.IsAccessorDescriptor(s))throw new r("Property Descriptors may not be both accessor and data descriptors");return!0},Sh}var bh,d_;function AC(){if(d_)return bh;d_=1;var t=yC,e=ie,r=t()&&e("%Object.defineProperty%",!0),n=t.hasArrayLengthDefineBug(),i=n&&EC(),s=Vt(),o=s("Object.prototype.propertyIsEnumerable");return bh=function(l,u,c,h,d,p){if(!r){if(!l(p)||!p["[[Configurable]]"]||!p["[[Writable]]"]||d in h&&o(h,d)!==!!p["[[Enumerable]]"])return!1;var m=p["[[Value]]"];return h[d]=m,u(h[d],m)}return n&&d==="length"&&"[[Value]]"in p&&i(h)&&h.length!==p["[[Value]]"]?(h.length=p["[[Value]]"],h.length===p["[[Value]]"]):(r(h,d,c(p)),!0)},bh}var Ch,h_;function RR(){if(h_)return Ch;h_=1;var t=Dn;return Ch=function(r){return t(r,"[[StartIndex]]")&&t(r,"[[EndIndex]]")&&r["[[StartIndex]]"]>=0&&r["[[EndIndex]]"]>=r["[[StartIndex]]"]&&String(parseInt(r["[[StartIndex]]"],10))===String(r["[[StartIndex]]"])&&String(parseInt(r["[[EndIndex]]"],10))===String(r["[[EndIndex]]"])},Ch}var Th,f_;function Nc(){if(f_)return Th;f_=1;var t=ie,e=t("%TypeError%"),r=t("%SyntaxError%"),n=Dn,i=ey(),s=RR(),o={"Property Descriptor":function(l){var u={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};if(!l)return!1;for(var c in l)if(n(l,c)&&!u[c])return!1;var h=n(l,"[[Value]]"),d=n(l,"[[Get]]")||n(l,"[[Set]]");if(h&&d)throw new e("Property Descriptors may not be both accessor and data descriptors");return!0},"Match Record":s,"Iterator Record":function(l){return n(l,"[[Iterator]]")&&n(l,"[[NextMethod]]")&&n(l,"[[Done]]")},"PromiseCapability Record":function(l){return!!l&&n(l,"[[Resolve]]")&&typeof l["[[Resolve]]"]=="function"&&n(l,"[[Reject]]")&&typeof l["[[Reject]]"]=="function"&&n(l,"[[Promise]]")&&l["[[Promise]]"]&&typeof l["[[Promise]]"].then=="function"},"AsyncGeneratorRequest Record":function(l){return!!l&&n(l,"[[Completion]]")&&n(l,"[[Capability]]")&&o["PromiseCapability Record"](l["[[Capability]]"])},"RegExp Record":function(l){return l&&n(l,"[[IgnoreCase]]")&&typeof l["[[IgnoreCase]]"]=="boolean"&&n(l,"[[Multiline]]")&&typeof l["[[Multiline]]"]=="boolean"&&n(l,"[[DotAll]]")&&typeof l["[[DotAll]]"]=="boolean"&&n(l,"[[Unicode]]")&&typeof l["[[Unicode]]"]=="boolean"&&n(l,"[[CapturingGroupsCount]]")&&typeof l["[[CapturingGroupsCount]]"]=="number"&&i(l["[[CapturingGroupsCount]]"])&&l["[[CapturingGroupsCount]]"]>=0}};return Th=function(l,u,c,h){var d=o[u];if(typeof d!="function")throw new r("unknown record type: "+u);if(l(h)!=="Object"||!d(h))throw new e(c+" must be a "+u)},Th}var Eh,p_;function MR(){return p_||(p_=1,Eh=function(e){if(typeof e>"u")return e;var r={};return"[[Value]]"in e&&(r.value=e["[[Value]]"]),"[[Writable]]"in e&&(r.writable=!!e["[[Writable]]"]),"[[Get]]"in e&&(r.get=e["[[Get]]"]),"[[Set]]"in e&&(r.set=e["[[Set]]"]),"[[Enumerable]]"in e&&(r.enumerable=!!e["[[Enumerable]]"]),"[[Configurable]]"in e&&(r.configurable=!!e["[[Configurable]]"]),r}),Eh}var Ph,m_;function IC(){if(m_)return Ph;m_=1;var t=Nc(),e=MR(),r=lt();return Ph=function(i){return typeof i<"u"&&t(r,"Property Descriptor","Desc",i),e(i)},Ph}var Ah,g_;function Bc(){if(g_)return Ah;g_=1;var t=Dn,e=lt(),r=Nc();return Ah=function(i){return!(typeof i>"u"||(r(e,"Property Descriptor","Desc",i),!t(i,"[[Get]]")&&!t(i,"[[Set]]")))},Ah}var Ih,y_;function Lc(){if(y_)return Ih;y_=1;var t=Dn,e=lt(),r=Nc();return Ih=function(i){return!(typeof i>"u"||(r(e,"Property Descriptor","Desc",i),!t(i,"[[Value]]")&&!t(i,"[[Writable]]")))},Ih}var kh,v_;function ry(){if(v_)return kh;v_=1;var t=Zg();return kh=function(r,n){return r===n?r===0?1/r===1/n:!0:t(r)&&t(n)},kh}var Rh,__;function OR(){return __||(__=1,Rh=function(e){return!!e}),Rh}var Mh,w_;function kC(){if(w_)return Mh;w_=1;var t=Function.prototype.toString,e=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,r,n;if(typeof e=="function"&&typeof Object.defineProperty=="function")try{r=Object.defineProperty({},"length",{get:function(){throw n}}),n={},e(function(){throw 42},null,r)}catch(g){g!==n&&(e=null)}else e=null;var i=/^\s*class\b/,s=function(y){try{var x=t.call(y);return i.test(x)}catch{return!1}},o=function(y){try{return s(y)?!1:(t.call(y),!0)}catch{return!1}},a=Object.prototype.toString,l="[object Object]",u="[object Function]",c="[object GeneratorFunction]",h="[object HTMLAllCollection]",d="[object HTML document.all class]",p="[object HTMLCollection]",m=typeof Symbol=="function"&&!!Symbol.toStringTag,_=!(0 in[,]),w=function(){return!1};if(typeof document=="object"){var v=document.all;a.call(v)===a.call(document.all)&&(w=function(y){if((_||!y)&&(typeof y>"u"||typeof y=="object"))try{var x=a.call(y);return(x===h||x===d||x===p||x===l)&&y("")==null}catch{}return!1})}return Mh=e?function(y){if(w(y))return!0;if(!y||typeof y!="function"&&typeof y!="object")return!1;try{e(y,null,r)}catch(x){if(x!==n)return!1}return!s(y)&&o(y)}:function(y){if(w(y))return!0;if(!y||typeof y!="function"&&typeof y!="object")return!1;if(m)return o(y);if(s(y))return!1;var x=a.call(y);return x!==u&&x!==c&&!/^\[object HTML/.test(x)?!1:o(y)},Mh}var Oh,x_;function RC(){return x_||(x_=1,Oh=kC()),Oh}var Dh,S_;function MC(){if(S_)return Dh;S_=1;var t=Dn,e=ie,r=e("%TypeError%"),n=lt(),i=OR(),s=RC();return Dh=function(a){if(n(a)!=="Object")throw new r("ToPropertyDescriptor requires an object");var l={};if(t(a,"enumerable")&&(l["[[Enumerable]]"]=i(a.enumerable)),t(a,"configurable")&&(l["[[Configurable]]"]=i(a.configurable)),t(a,"value")&&(l["[[Value]]"]=a.value),t(a,"writable")&&(l["[[Writable]]"]=i(a.writable)),t(a,"get")){var u=a.get;if(typeof u<"u"&&!s(u))throw new r("getter must be a function");l["[[Get]]"]=u}if(t(a,"set")){var c=a.set;if(typeof c<"u"&&!s(c))throw new r("setter must be a function");l["[[Set]]"]=c}if((t(l,"[[Get]]")||t(l,"[[Set]]"))&&(t(l,"[[Value]]")||t(l,"[[Writable]]")))throw new r("Invalid property descriptor. Cannot both specify accessors and a value or writable attribute");return l},Dh}var Nh,b_;function DR(){if(b_)return Nh;b_=1;var t=ie,e=t("%TypeError%"),r=ty(),n=AC(),i=IC(),s=Bc(),o=Lc(),a=pi(),l=ry(),u=MC(),c=lt();return Nh=function(d,p,m){if(c(d)!=="Object")throw new e("Assertion failed: Type(O) is not Object");if(!a(p))throw new e("Assertion failed: IsPropertyKey(P) is not true");var _=r({Type:c,IsDataDescriptor:o,IsAccessorDescriptor:s},m)?m:u(m);if(!r({Type:c,IsDataDescriptor:o,IsAccessorDescriptor:s},_))throw new e("Assertion failed: Desc is not a valid Property Descriptor");return n(o,l,i,d,p,_)},Nh}var C_;function NR(){if(C_)return rl.exports;C_=1;var t=kR(),e=t("%Reflect.construct%",!0),r=DR();try{r({},"",{"[[Get]]":function(){}})}catch{r=null}if(r&&e){var n={},i={};r(i,"length",{"[[Get]]":function(){throw n},"[[Enumerable]]":!0}),rl.exports=function(o){try{e(o,i)}catch(a){return a===n}}}else rl.exports=function(o){return typeof o=="function"&&!!o.prototype};return rl.exports}var Bh,T_;function BR(){if(T_)return Bh;T_=1;var t=ie,e=t("%Symbol.species%",!0),r=t("%TypeError%"),n=IR(),i=TC(),s=PC(),o=NR(),a=lt(),l=ey();return Bh=function(c,h){if(!l(h)||h<0)throw new r("Assertion failed: length must be an integer >= 0");var d=s(c);if(!d)return n(h);var p=i(c,"constructor");if(e&&a(p)==="Object"&&(p=i(p,e),p===null&&(p=void 0)),typeof p>"u")return n(h);if(!o(p))throw new r("C must be a constructor");return new p(h)},Bh}var Lh,E_;function LR(){if(E_)return Lh;E_=1;var t=ie,e=Vt(),r=t("%TypeError%"),n=PC(),i=t("%Reflect.apply%",!0)||e("Function.prototype.apply");return Lh=function(o,a){var l=arguments.length>2?arguments[2]:[];if(!n(l))throw new r("Assertion failed: optional `argumentsList`, if provided, must be a List");return i(o,a,l)},Lh}var Fh,P_;function FR(){if(P_)return Fh;P_=1;var t=ie,e=t("%Object.getOwnPropertyDescriptor%",!0);if(e)try{e([],"length")}catch{e=null}return Fh=e,Fh}var Uh,A_;function OC(){return A_||(A_=1,Uh=function(e){return e===null||typeof e!="function"&&typeof e!="object"}),Uh}var jh,I_;function UR(){if(I_)return jh;I_=1;var t=ie,e=t("%Object.preventExtensions%",!0),r=t("%Object.isExtensible%",!0),n=OC();return jh=e?function(s){return!n(s)&&r(s)}:function(s){return!n(s)},jh}var $h,k_;function jR(){return k_||(k_=1,$h=function(e,r){return!!r&&typeof r=="object"&&"[[Enumerable]]"in r&&"[[Configurable]]"in r&&(e.IsAccessorDescriptor(r)||e.IsDataDescriptor(r))}),$h}var qh,R_;function $R(){if(R_)return qh;R_=1;var t=Nc(),e=Bc(),r=Lc(),n=lt();return qh=function(s){return typeof s>"u"?!1:(t(n,"Property Descriptor","Desc",s),!e(s)&&!r(s))},qh}var Vh,M_;function qR(){if(M_)return Vh;M_=1;var t=ie,e=t("%TypeError%"),r=AC(),n=jR(),i=ty(),s=IC(),o=Bc(),a=Lc(),l=$R(),u=pi(),c=ry(),h=lt();return Vh=function(p,m,_,w,v){var g=h(p);if(g!=="Undefined"&&g!=="Object")throw new e("Assertion failed: O must be undefined or an Object");if(!u(m))throw new e("Assertion failed: P must be a Property Key");if(h(_)!=="Boolean")throw new e("Assertion failed: extensible must be a Boolean");if(!i({Type:h,IsDataDescriptor:a,IsAccessorDescriptor:o},w))throw new e("Assertion failed: Desc must be a Property Descriptor");if(h(v)!=="Undefined"&&!i({Type:h,IsDataDescriptor:a,IsAccessorDescriptor:o},v))throw new e("Assertion failed: current must be a Property Descriptor, or undefined");if(h(v)==="Undefined")return _?g==="Undefined"?!0:o(w)?r(a,c,s,p,m,w):r(a,c,s,p,m,{"[[Configurable]]":!!w["[[Configurable]]"],"[[Enumerable]]":!!w["[[Enumerable]]"],"[[Value]]":w["[[Value]]"],"[[Writable]]":!!w["[[Writable]]"]}):!1;if(!n({IsAccessorDescriptor:o,IsDataDescriptor:a},v))throw new e("`current`, when present, must be a fully populated and valid Property Descriptor");if(!v["[[Configurable]]"]){if("[[Configurable]]"in w&&w["[[Configurable]]"]||"[[Enumerable]]"in w&&!c(w["[[Enumerable]]"],v["[[Enumerable]]"])||!l(w)&&!c(o(w),o(v)))return!1;if(o(v)){if("[[Get]]"in w&&!c(w["[[Get]]"],v["[[Get]]"])||"[[Set]]"in w&&!c(w["[[Set]]"],v["[[Set]]"]))return!1}else if(!v["[[Writable]]"]&&("[[Writable]]"in w&&w["[[Writable]]"]||"[[Value]]"in w&&!c(w["[[Value]]"],v["[[Value]]"])))return!1}if(g!=="Undefined"){var y,x;return a(v)&&o(w)?(y=("[[Configurable]]"in w?w:v)["[[Configurable]]"],x=("[[Enumerable]]"in w?w:v)["[[Enumerable]]"],r(a,c,s,p,m,{"[[Configurable]]":!!y,"[[Enumerable]]":!!x,"[[Get]]":("[[Get]]"in w?w:v)["[[Get]]"],"[[Set]]":("[[Set]]"in w?w:v)["[[Set]]"]})):o(v)&&a(w)?(y=("[[Configurable]]"in w?w:v)["[[Configurable]]"],x=("[[Enumerable]]"in w?w:v)["[[Enumerable]]"],r(a,c,s,p,m,{"[[Configurable]]":!!y,"[[Enumerable]]":!!x,"[[Value]]":("[[Value]]"in w?w:v)["[[Value]]"],"[[Writable]]":!!("[[Writable]]"in w?w:v)["[[Writable]]"]})):r(a,c,s,p,m,w)}return!0},Vh}var Hh,O_;function VR(){if(O_)return Hh;O_=1;var t=ie,e=FR(),r=t("%SyntaxError%"),n=t("%TypeError%"),i=ty(),s=Bc(),o=Lc(),a=UR(),l=pi(),u=MC(),c=ry(),h=lt(),d=qR();return Hh=function(m,_,w){if(h(m)!=="Object")throw new n("Assertion failed: O must be an Object");if(!l(_))throw new n("Assertion failed: P must be a Property Key");if(!i({Type:h,IsDataDescriptor:o,IsAccessorDescriptor:s},w))throw new n("Assertion failed: Desc must be a Property Descriptor");if(!e){if(s(w))throw new r("This environment does not support accessor property descriptors.");var v=!(_ in m)&&w["[[Writable]]"]&&w["[[Enumerable]]"]&&w["[[Configurable]]"]&&"[[Value]]"in w,g=_ in m&&(!("[[Configurable]]"in w)||w["[[Configurable]]"])&&(!("[[Enumerable]]"in w)||w["[[Enumerable]]"])&&(!("[[Writable]]"in w)||w["[[Writable]]"])&&"[[Value]]"in w;if(v||g)return m[_]=w["[[Value]]"],c(m[_],w["[[Value]]"]);throw new r("This environment does not support defining non-writable, non-enumerable, or non-configurable properties")}var y=e(m,_),x=y&&u(y),C=a(m);return d(m,_,C,w,x)},Hh}var zh,D_;function HR(){if(D_)return zh;D_=1;var t=ie,e=t("%TypeError%"),r=pi(),n=VR(),i=lt();return zh=function(o,a,l){if(i(o)!=="Object")throw new e("Assertion failed: Type(O) is not Object");if(!r(a))throw new e("Assertion failed: IsPropertyKey(P) is not true");var u={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Value]]":l,"[[Writable]]":!0};return n(o,a,u)},zh}var Gh,N_;function zR(){if(N_)return Gh;N_=1;var t=ie,e=t("%TypeError%"),r=HR(),n=pi(),i=lt();return Gh=function(o,a,l){if(i(o)!=="Object")throw new e("Assertion failed: Type(O) is not Object");if(!n(a))throw new e("Assertion failed: IsPropertyKey(P) is not true");var u=r(o,a,l);if(!u)throw new e("unable to create data property")},Gh}var Wh,B_;function GR(){if(B_)return Wh;B_=1;var t=ie,e=t("%TypeError%"),r=pi(),n=lt();return Wh=function(s,o){if(n(s)!=="Object")throw new e("Assertion failed: `O` must be an Object");if(!r(o))throw new e("Assertion failed: `P` must be a Property Key");return o in s},Wh}var Qh,L_;function WR(){if(L_)return Qh;L_=1;var t=Math.floor;return Qh=function(r,n){var i=r%n;return t(i>=0?i:i+n)},Qh}var Kh,F_;function QR(){if(F_)return Kh;F_=1;var t=WR();return Kh=function(r,n){return t(r,n)},Kh}var Yh,U_;function KR(){return U_||(U_=1,Yh=function(e){return e===null||typeof e!="function"&&typeof e!="object"}),Yh}var Xh,j_;function YR(){if(j_)return Xh;j_=1;var t=Date.prototype.getDay,e=function(o){try{return t.call(o),!0}catch{return!1}},r=Object.prototype.toString,n="[object Date]",i=Oc()();return Xh=function(o){return typeof o!="object"||o===null?!1:i?e(o):r.call(o)===n},Xh}var nl={exports:{}},$_;function XR(){if($_)return nl.exports;$_=1;var t=Object.prototype.toString,e=Jg();if(e){var r=Symbol.prototype.toString,n=/^Symbol\(.*\)$/,i=function(o){return typeof o.valueOf()!="symbol"?!1:n.test(r.call(o))};nl.exports=function(o){if(typeof o=="symbol")return!0;if(t.call(o)!=="[object Symbol]")return!1;try{return i(o)}catch{return!1}}}else nl.exports=function(o){return!1};return nl.exports}var Jh,q_;function JR(){if(q_)return Jh;q_=1;var t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol",e=KR(),r=kC(),n=YR(),i=XR(),s=function(l,u){if(typeof l>"u"||l===null)throw new TypeError("Cannot call method on "+l);if(typeof u!="string"||u!=="number"&&u!=="string")throw new TypeError('hint must be "string" or "number"');var c=u==="string"?["toString","valueOf"]:["valueOf","toString"],h,d,p;for(p=0;p<c.length;++p)if(h=l[c[p]],r(h)&&(d=h.call(l),e(d)))return d;throw new TypeError("No default value")},o=function(l,u){var c=l[u];if(c!==null&&typeof c<"u"){if(!r(c))throw new TypeError(c+" returned for property "+u+" of object "+l+" is not a function");return c}};return Jh=function(l){if(e(l))return l;var u="default";arguments.length>1&&(arguments[1]===String?u="string":arguments[1]===Number&&(u="number"));var c;if(t&&(Symbol.toPrimitive?c=o(l,Symbol.toPrimitive):i(l)&&(c=Symbol.prototype.valueOf)),typeof c<"u"){var h=c.call(l,u);if(e(h))return h;throw new TypeError("unable to convert exotic object to primitive")}return u==="default"&&(n(l)||i(l))&&(u="string"),s(l,u==="default"?"number":u)},Jh}var Zh,V_;function ZR(){if(V_)return Zh;V_=1;var t=JR();return Zh=function(r){return arguments.length>1?t(r,arguments[1]):t(r)},Zh}var ef,H_;function eM(){if(H_)return ef;H_=1;var t=Vt(),e=Oc()(),r,n,i,s;if(e){r=t("Object.prototype.hasOwnProperty"),n=t("RegExp.prototype.exec"),i={};var o=function(){throw i};s={toString:o,valueOf:o},typeof Symbol.toPrimitive=="symbol"&&(s[Symbol.toPrimitive]=o)}var a=t("Object.prototype.toString"),l=Object.getOwnPropertyDescriptor,u="[object RegExp]";return ef=e?function(h){if(!h||typeof h!="object")return!1;var d=l(h,"lastIndex"),p=d&&r(d,"value");if(!p)return!1;try{n(h,s)}catch(m){return m===i}}:function(h){return!h||typeof h!="object"&&typeof h!="function"?!1:a(h)===u},ef}var tf,z_;function tM(){if(z_)return tf;z_=1;var t=Vt(),e=ie,r=eM(),n=t("RegExp.prototype.exec"),i=e("%TypeError%");return tf=function(o){if(!r(o))throw new i("`regex` must be a RegExp");return function(l){return n(o,l)!==null}},tf}var rf,G_;function DC(){if(G_)return rf;G_=1;var t=ie,e=t("%String%"),r=t("%TypeError%");return rf=function(i){if(typeof i=="symbol")throw new r("Cannot convert a Symbol value to a string");return e(i)},rf}var nf,W_;function NC(){if(W_)return nf;W_=1;var t=Dc(),e=DC(),r=Vt(),n=r("String.prototype.replace"),i=/^\s$/.test(""),s=i?/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+/:/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+/,o=i?/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+$/:/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+$/;return nf=function(){var l=e(t(this));return n(n(l,s,""),o,"")},nf}var sf,Q_;function BC(){if(Q_)return sf;Q_=1;var t=NC(),e="",r="";return sf=function(){return String.prototype.trim&&e.trim()===e&&r.trim()===r&&("_"+r).trim()==="_"+r&&(r+"_").trim()===r+"_"?String.prototype.trim:t},sf}var of,K_;function rM(){if(K_)return of;K_=1;var t=Es,e=BC();return of=function(){var n=e();return t(String.prototype,{trim:n},{trim:function(){return String.prototype.trim!==n}}),n},of}var af,Y_;function nM(){if(Y_)return af;Y_=1;var t=Sa,e=Es,r=Dc(),n=NC(),i=BC(),s=rM(),o=t(i()),a=function(u){return r(u),o(u)};return e(a,{getPolyfill:i,implementation:n,shim:s}),af=a,af}var lf,X_;function iM(){if(X_)return lf;X_=1;var t=ie,e=t("%Number%"),r=t("%RegExp%"),n=t("%TypeError%"),i=t("%parseInt%"),s=Vt(),o=tM(),a=s("String.prototype.slice"),l=o(/^0b[01]+$/i),u=o(/^0o[0-7]+$/i),c=o(/^[-+]0x[0-9a-f]+$/i),h=["","",""].join(""),d=new r("["+h+"]","g"),p=o(d),m=nM(),_=lt();return lf=function w(v){if(_(v)!=="String")throw new n("Assertion failed: `argument` is not a String");if(l(v))return e(i(a(v,2),2));if(u(v))return e(i(a(v,2),8));if(p(v)||c(v))return NaN;var g=m(v);return g!==v?w(g):e(v)},lf}var uf,J_;function sM(){if(J_)return uf;J_=1;var t=ie,e=t("%TypeError%"),r=t("%Number%"),n=OC(),i=ZR(),s=iM();return uf=function(a){var l=n(a)?a:i(a,r);if(typeof l=="symbol")throw new e("Cannot convert a Symbol value to a number");if(typeof l=="bigint")throw new e("Conversion from 'BigInt' to 'number' is not allowed.");return typeof l=="string"?s(l):r(l)},uf}var cf,Z_;function oM(){if(Z_)return cf;Z_=1;var t=lt(),e=Math.floor;return cf=function(n){return t(n)==="BigInt"?n:e(n)},cf}var df,ew;function aM(){if(ew)return df;ew=1;var t=ie,e=oM(),r=t("%TypeError%");return df=function(i){if(typeof i!="number"&&typeof i!="bigint")throw new r("argument must be a Number or a BigInt");var s=i<0?-e(-i):e(i);return s===0?0:s},df}var hf,tw;function lM(){if(tw)return hf;tw=1;var t=QR(),e=sM(),r=aM(),n=CC(),i=4294967296;return hf=function(o){var a=e(o);if(!n(a)||a===0)return 0;var l=r(a),u=t(l,i);return u===0?0:u},hf}var ff,rw;function uM(){if(rw)return ff;rw=1;var t=ie,e=t("%Object%"),r=Dc();return ff=function(i){return r(i),e(i)},ff}var pf,nw;function LC(){if(nw)return pf;nw=1;var t=BR(),e=LR(),r=zR(),n=TC(),i=GR(),s=RC(),o=lM(),a=uM(),l=DC(),u=Vt(),c=bC(),h=Object("a"),d=h[0]!=="a"||!(0 in h),p=u("String.prototype.split");return pf=function(_){var w=a(this),v=d&&c(w)?p(w,""):w,g=o(v.length);if(!s(_))throw new TypeError("Array.prototype.map callback must be a function");var y;arguments.length>1&&(y=arguments[1]);for(var x=t(w,g),C=0;C<g;){var k=l(C),O=i(w,k);if(O){var A=n(w,k),N=e(_,y,[A,C,w]);r(x,k,N)}C+=1}return x},pf}var mf,iw;function cM(){return iw||(iw=1,mf=function(e){var r=!0,n=!0,i=!1;if(typeof e=="function"){try{e.call("f",function(s,o,a){typeof a!="object"&&(r=!1)}),e.call([null],function(){"use strict";n=typeof this=="string"},"x")}catch{i=!0}return!i&&r&&n}return!1}),mf}var gf,sw;function FC(){if(sw)return gf;sw=1;var t=cM(),e=LC();return gf=function(){var n=Array.prototype.map;return t(n)?n:e},gf}var yf,ow;function dM(){if(ow)return yf;ow=1;var t=Es,e=FC();return yf=function(){var n=e();return t(Array.prototype,{map:n},{map:function(){return Array.prototype.map!==n}}),n},yf}var vf,aw;function hM(){if(aw)return vf;aw=1;var t=Es,e=Dc(),r=Vt(),n=LC(),i=FC(),s=i(),o=dM(),a=r("Array.prototype.slice"),l=function(c,h){return e(c),s.apply(c,a(arguments,1))};return t(l,{getPolyfill:i,implementation:n,shim:o}),vf=l,vf}var fM=Mc;fM();var pM=fR(),mM=pR(),gM=PR(),yM=hM(),UC=ie,jC=Sa,vM=jC(UC("%Promise.all%")),_M=jC(UC("%Promise.reject%")),$C=function(e){var r=this;if(mM(r)!=="Object")throw new TypeError("`this` value must be an object");var n=gM(e);return vM(r,yM(n,function(i){var s=function(l){return{status:"fulfilled",value:l}},o=function(l){return{status:"rejected",reason:l}},a=pM(r,i);try{return a.then(s,o)}catch(l){return _M(r,l)}}))},wM=Mc,xM=$C,qC=function(){return wM(),typeof Promise.allSettled=="function"?Promise.allSettled:xM},SM=Mc,bM=qC,CM=Es,TM=function(){SM();var e=bM();return CM(Promise,{allSettled:e},{allSettled:function(){return Promise.allSettled!==e}}),e};(function(t){var e=Sa,r=Es,n=Mc,i=$C,s=qC,o=TM;n();var a=e(s()),l=function(c){return a(typeof this>"u"?Promise:this,c)};r(l,{getPolyfill:s,implementation:i,shim:o}),t.exports=l,t.exports.default=l})(hC);var EM=hC.exports;const PM=_s(EM);var ny=function(){function t(e){var r=e.logger;this._queue=[],this._batchRunning=!1,this._paused=!1,this._logger=Ts(ui({name:"rate-limiter",emoji:!0},r))}return t.prototype.request=function(e,r){return tr(this,void 0,Promise,function(){var n=this;return Nt(this,function(i){switch(i.label){case 0:return this._logger.trace("request start"),[4,new Promise(function(s,o){var a,l={req:e,resolve:s,reject:o,limitReachedBehavior:(a=r==null?void 0:r.limitReachedBehavior)!==null&&a!==void 0?a:"enqueue"};n._batchRunning||n._nextBatchTimer||n._paused?(n._logger.trace("request queued batchRunning:".concat(n._batchRunning.toString()," hasNextBatchTimer:").concat((!!n._nextBatchTimer).toString()," paused:").concat(n._paused.toString())),n._queue.push(l)):n._runRequestBatch([l])})];case 1:return[2,i.sent()]}})})},t.prototype.clear=function(){this._queue=[]},t.prototype.pause=function(){this._paused=!0},t.prototype.resume=function(){this._paused=!1,this._runNextBatch()},Object.defineProperty(t.prototype,"stats",{get:function(){var e,r,n,i,s;return{lastKnownLimit:(r=(e=this._parameters)===null||e===void 0?void 0:e.limit)!==null&&r!==void 0?r:null,lastKnownRemainingRequests:(i=(n=this._parameters)===null||n===void 0?void 0:n.remaining)!==null&&i!==void 0?i:null,lastKnownResetDate:yr((s=this._parameters)===null||s===void 0?void 0:s.resetsAt,function(o){return new Date(o)})}},enumerable:!1,configurable:!0}),t.prototype._runRequestBatch=function(e){return tr(this,void 0,void 0,function(){var r,n,i,s,o,a,l,u,c=this;return Nt(this,function(h){switch(h.label){case 0:return this._logger.trace("runRequestBatch start specs:".concat(e.length)),this._batchRunning=!0,this._parameters&&this._logger.debug("Remaining requests: ".concat(this._parameters.remaining)),this._logger.debug("Doing ".concat(e.length," requests, new queue length is ").concat(this._queue.length)),r=e.map(function(d){return tr(c,void 0,Promise,function(){var p,m,_,w,v,g,y;return Nt(this,function(x){switch(x.label){case 0:p=d.req,m=d.resolve,_=d.reject,x.label=1;case 1:return x.trys.push([1,3,,4]),[4,this.doRequest(p)];case 2:if(w=x.sent(),v=this.needsToRetryAfter(w),v!==null)throw this._queue.unshift(d),this._logger.info("Retrying after ".concat(v," ms")),new Ev(v);return g=this.getParametersFromResponse(w),m(w),[2,g];case 3:if(y=x.sent(),y instanceof Ev)throw y;return _(y),[2,void 0];case 4:return[2]}})})}),[4,PM.call(Promise,r)];case 1:return n=h.sent(),i=n.filter(function(d){return d.status==="rejected"}),s=Date.now(),i.length?(this._logger.trace("runRequestBatch some rejected"),o=Math.max.apply(Math,xn([s],Lr(i.map(function(d){return d.reason.retryAt})),!1)),a=o-s,this._logger.warn("Waiting for ".concat(a," ms because the rate limit was exceeded")),this._nextBatchTimer=setTimeout(function(){c._parameters=void 0,c._runNextBatch()},a)):(this._logger.trace("runRequestBatch none rejected"),l=n.filter(function(d){return d.status==="fulfilled"&&d.value!==void 0}).map(function(d){return d.value}).reduce(function(d,p){return d?p.remaining<d.remaining?p:d:p},void 0),this._batchRunning=!1,l&&(this._parameters=l,l.resetsAt<s||l.remaining>0?(this._logger.trace("runRequestBatch canRunMore"),this._runNextBatch()):(u=l.resetsAt-s,this._logger.trace("runRequestBatch delay:".concat(u)),this._logger.warn("Waiting for ".concat(u," ms because the rate limit was reached")),this._queue=this._queue.filter(function(d){switch(d.limitReachedBehavior){case"enqueue":return!0;case"null":return d.resolve(null),!1;case"throw":return d.reject(new Kg("Request removed from queue because the rate limit was reached")),!1;default:throw new Error("this should never happen")}}),this._nextBatchTimer=setTimeout(function(){c._parameters=void 0,c._runNextBatch()},u)))),this._logger.trace("runRequestBatch end"),[2]}})})},t.prototype._runNextBatch=function(){if(!this._paused){this._logger.trace("runNextBatch start"),this._nextBatchTimer&&(clearTimeout(this._nextBatchTimer),this._nextBatchTimer=void 0);var e=this._parameters?Math.min(this._parameters.remaining,this._parameters.limit/10):1,r=this._queue.splice(0,e);r.length&&this._runRequestBatch(r),this._logger.trace("runNextBatch end")}},t}(),AM=function(){function t(e){this._children=new Map,this._paused=!1,this._partitionKeyCallback=e.getPartitionKey,this._createChildCallback=e.createChild}return t.prototype.request=function(e,r){return tr(this,void 0,Promise,function(){var n,i;return Nt(this,function(s){switch(s.label){case 0:return n=this._partitionKeyCallback(e),i=this._getChild(n),[4,i.request(e,r)];case 1:return[2,s.sent()]}})})},t.prototype.clear=function(){var e,r;try{for(var n=Rl(this._children.values()),i=n.next();!i.done;i=n.next()){var s=i.value;s.clear()}}catch(o){e={error:o}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}},t.prototype.pause=function(){var e,r;this._paused=!0;try{for(var n=Rl(this._children.values()),i=n.next();!i.done;i=n.next()){var s=i.value;s.pause()}}catch(o){e={error:o}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}},t.prototype.resume=function(){var e,r;this._paused=!1;try{for(var n=Rl(this._children.values()),i=n.next();!i.done;i=n.next()){var s=i.value;s.resume()}}catch(o){e={error:o}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}},t.prototype.getChildStats=function(e){if(!this._children.has(e))return null;var r=this._children.get(e);return r instanceof ny?r.stats:null},t.prototype._getChild=function(e){if(this._children.has(e))return this._children.get(e);var r=this._createChildCallback(e);return this._paused&&r.pause(),this._children.set(e,r),r},t}(),VC=function(){function t(e){var r=e.logger,n=e.bucketSize,i=e.timeFrame,s=e.doRequest,o=e.getPartitionKey;this._partitionedQueue=new Map,this._usedFromBucket=new Map,this._paused=!1,this._logger=Ts(ui({name:"rate-limiter",emoji:!0},r)),this._bucketSize=n,this._timeFrame=i,this._callback=s,this._partitionKeyCallback=o}return t.prototype.request=function(e,r){return tr(this,void 0,Promise,function(){var n=this;return Nt(this,function(i){switch(i.label){case 0:return[4,new Promise(function(s,o){var a,l,u={req:e,resolve:s,reject:o,limitReachedBehavior:(a=r==null?void 0:r.limitReachedBehavior)!==null&&a!==void 0?a:"enqueue"},c=n._partitionKeyCallback(e),h=(l=n._usedFromBucket.get(c))!==null&&l!==void 0?l:0;if(h>=n._bucketSize||n._paused)switch(u.limitReachedBehavior){case"enqueue":{var d=n._getPartitionedQueue(c);d.push(u),h+d.length>=n._bucketSize?n._logger.warn("Rate limit of ".concat(n._bucketSize," for ").concat(c?"partition ".concat(c):"default partition"," was reached, waiting for ").concat(n._paused?"the limiter to be unpaused":"a free bucket entry","; queue size is ").concat(d.length)):n._logger.info("Enqueueing request for ".concat(c?"partition ".concat(c):"default partition"," because the rate limiter is paused; queue size is ").concat(d.length));break}case"null":{u.resolve(null),n._paused?n._logger.info("Returning null for request for ".concat(c?"partition ".concat(c):"default partition"," because the rate limiter is paused")):n._logger.warn("Rate limit of ".concat(n._bucketSize," for ").concat(c?"partition ".concat(c):"default partition"," was reached, dropping request and returning null"));break}case"throw":{u.reject(new Kg("Request dropped because ".concat(n._paused?"the rate limiter is paused":"the rate limit for ".concat(c?"partition ".concat(c):"default partition"," was reached"))));break}default:throw new Error("this should never happen")}else n._runRequest(u,c)})];case 1:return[2,i.sent()]}})})},t.prototype.clear=function(){this._partitionedQueue.clear()},t.prototype.pause=function(){this._paused=!0},t.prototype.resume=function(){var e,r;this._paused=!1;try{for(var n=Rl(this._partitionedQueue.keys()),i=n.next();!i.done;i=n.next()){var s=i.value;this._runNextRequest(s)}}catch(o){e={error:o}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}},t.prototype._getPartitionedQueue=function(e){if(this._partitionedQueue.has(e))return this._partitionedQueue.get(e);var r=[];return this._partitionedQueue.set(e,r),r},t.prototype._runRequest=function(e,r){var n;return tr(this,void 0,void 0,function(){var i,s,o,a,l,u,c=this;return Nt(this,function(h){switch(h.label){case 0:i=this._getPartitionedQueue(r),this._logger.debug("doing a request for ".concat(r?"partition ".concat(r):"default partition",", new queue length is ").concat(i.length)),this._usedFromBucket.set(r,((n=this._usedFromBucket.get(r))!==null&&n!==void 0?n:0)+1),s=e.req,o=e.resolve,a=e.reject,h.label=1;case 1:return h.trys.push([1,3,4,5]),l=o,[4,this._callback(s)];case 2:return l.apply(void 0,[h.sent()]),[3,5];case 3:return u=h.sent(),a(u),[3,5];case 4:return setTimeout(function(){var d=c._usedFromBucket.get(r)-1;c._usedFromBucket.set(r,d),i.length&&d<c._bucketSize&&c._runNextRequest(r)},this._timeFrame),[7];case 5:return[2]}})})},t.prototype._runNextRequest=function(e){if(!this._paused){var r=this._getPartitionedQueue(e),n=r.shift();n&&this._runRequest(n,e)}},t}(),Kp=function(){function t(e){var r=e.logger,n=e.bucketSize,i=e.timeFrame,s=e.doRequest;this._queue=[],this._usedFromBucket=0,this._paused=!1,this._logger=Ts(ui({name:"rate-limiter",emoji:!0},r)),this._bucketSize=n,this._timeFrame=i,this._callback=s}return t.prototype.request=function(e,r){return tr(this,void 0,Promise,function(){var n=this;return Nt(this,function(i){switch(i.label){case 0:return[4,new Promise(function(s,o){var a,l={req:e,resolve:s,reject:o,limitReachedBehavior:(a=r==null?void 0:r.limitReachedBehavior)!==null&&a!==void 0?a:"enqueue"};if(n._usedFromBucket>=n._bucketSize||n._paused)switch(l.limitReachedBehavior){case"enqueue":{n._queue.push(l),n._usedFromBucket+n._queue.length>=n._bucketSize?n._logger.warn("Rate limit of ".concat(n._bucketSize," was reached, waiting for ").concat(n._paused?"the limiter to be unpaused":"a free bucket entry","; queue size is ").concat(n._queue.length)):n._logger.info("Enqueueing request because the rate limiter is paused; queue size is ".concat(n._queue.length));break}case"null":{l.resolve(null),n._logger.warn("Rate limit of ".concat(n._bucketSize," was reached, dropping request and returning null")),n._paused?n._logger.info("Returning null for request because the rate limiter is paused"):n._logger.warn("Rate limit of ".concat(n._bucketSize," was reached, dropping request and returning null"));break}case"throw":{l.reject(new Kg("Request dropped because ".concat(n._paused?"the rate limiter is paused":"the rate limit was reached")));break}default:throw new Error("this should never happen")}else n._runRequest(l)})];case 1:return[2,i.sent()]}})})},t.prototype.clear=function(){this._queue=[]},t.prototype.pause=function(){this._paused=!0},t.prototype.resume=function(){this._paused=!1,this._runNextRequest()},t.prototype._runRequest=function(e){return tr(this,void 0,void 0,function(){var r,n,i,s,o,a=this;return Nt(this,function(l){switch(l.label){case 0:this._logger.debug("doing a request, new queue length is ".concat(this._queue.length)),this._usedFromBucket+=1,r=e.req,n=e.resolve,i=e.reject,l.label=1;case 1:return l.trys.push([1,3,4,5]),s=n,[4,this._callback(r)];case 2:return s.apply(void 0,[l.sent()]),[3,5];case 3:return o=l.sent(),i(o),[3,5];case 4:return setTimeout(function(){a._usedFromBucket-=1,a._queue.length&&a._usedFromBucket<a._bucketSize&&a._runNextRequest()},this._timeFrame),[7];case 5:return[2]}})})},t.prototype._runNextRequest=function(){if(!this._paused){var e=this._queue.shift();e&&this._runRequest(e)}},t}(),IM=function(t){bs(e,t);function e(r,n){return t.call(this,ui(ui({},n),{doRequest:function(i,s){return tr(this,void 0,Promise,function(){return Nt(this,function(o){switch(o.label){case 0:return[4,r.request(i,s)];case 1:return[2,o.sent()]}})})}}))||this}return e}(Kp);class kM extends vr{}class RM extends ny{async doRequest({options:e,clientId:r,accessToken:n,authorizationType:i,fetchOptions:s}){return await Ic(e,r,n,i,s)}needsToRetryAfter(e){return e.status===429&&(!e.headers.has("ratelimit-remaining")||Number(e.headers.get("ratelimit-remaining"))===0)?+e.headers.get("ratelimit-reset")*1e3-Date.now():null}getParametersFromResponse(e){const r=e.headers;return{limit:+r.get("ratelimit-limit"),remaining:+r.get("ratelimit-remaining"),resetsAt:+r.get("ratelimit-reset")*1e3}}}function MM(t){switch(typeof t){case"undefined":return"";case"object":{if(t===null)return"";if("cacheKey"in t)return t.cacheKey;const e=JSON.stringify(t);if(e!=="{}")return e}default:return t.toString()}}function HC(t,e,r){return[t,...e.map(MM)].join("/")+(r?"/":"")}function ba(t){return class extends t{constructor(){super(...arguments),this.cache=new Map}getFromCache(e){if(this._cleanCache(),this.cache.has(e)){const r=this.cache.get(e);if(r)return r.value}}setCache(e,r,n){this.cache.set(e,{value:r,expires:Date.now()+n*1e3})}removeFromCache(e,r){const n=this._getInternalCacheKey(e,r);r?this.cache.forEach((i,s)=>{s.startsWith(n)&&this.cache.delete(s)}):this.cache.delete(n)}_cleanCache(){const e=Date.now();this.cache.forEach((r,n)=>{r.expires<e&&this.cache.delete(n)})}_getInternalCacheKey(e,r){if(typeof e=="string"){let n=e;return n.endsWith("/")||(n+="/"),n}else{const n=e.shift();return HC(n,e,r)}}}}function ye(t=1/0){return function(e,r,n){if(n.get){const i=n.get;n.get=function(){const s=HC(r,[]),o=this.getFromCache(s);if(o)return o;const a=i.call(this);return this.setCache(s,a,t),a}}return n}}var zC={};function qt(t,e){typeof e=="boolean"&&(e={forever:e}),this._originalTimeouts=JSON.parse(JSON.stringify(t)),this._timeouts=t,this._options=e||{},this._maxRetryTime=e&&e.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._timer=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}var OM=qt;qt.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts.slice(0)};qt.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timer&&clearTimeout(this._timer),this._timeouts=[],this._cachedTimeouts=null};qt.prototype.retry=function(t){if(this._timeout&&clearTimeout(this._timeout),!t)return!1;var e=new Date().getTime();if(t&&e-this._operationStart>=this._maxRetryTime)return this._errors.push(t),this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(t);var r=this._timeouts.shift();if(r===void 0)if(this._cachedTimeouts)this._errors.splice(0,this._errors.length-1),r=this._cachedTimeouts.slice(-1);else return!1;var n=this;return this._timer=setTimeout(function(){n._attempts++,n._operationTimeoutCb&&(n._timeout=setTimeout(function(){n._operationTimeoutCb(n._attempts)},n._operationTimeout),n._options.unref&&n._timeout.unref()),n._fn(n._attempts)},r),this._options.unref&&this._timer.unref(),!0};qt.prototype.attempt=function(t,e){this._fn=t,e&&(e.timeout&&(this._operationTimeout=e.timeout),e.cb&&(this._operationTimeoutCb=e.cb));var r=this;this._operationTimeoutCb&&(this._timeout=setTimeout(function(){r._operationTimeoutCb()},r._operationTimeout)),this._operationStart=new Date().getTime(),this._fn(this._attempts)};qt.prototype.try=function(t){console.log("Using RetryOperation.try() is deprecated"),this.attempt(t)};qt.prototype.start=function(t){console.log("Using RetryOperation.start() is deprecated"),this.attempt(t)};qt.prototype.start=qt.prototype.try;qt.prototype.errors=function(){return this._errors};qt.prototype.attempts=function(){return this._attempts};qt.prototype.mainError=function(){if(this._errors.length===0)return null;for(var t={},e=null,r=0,n=0;n<this._errors.length;n++){var i=this._errors[n],s=i.message,o=(t[s]||0)+1;t[s]=o,o>=r&&(e=i,r=o)}return e};(function(t){var e=OM;t.operation=function(r){var n=t.timeouts(r);return new e(n,{forever:r&&(r.forever||r.retries===1/0),unref:r&&r.unref,maxRetryTime:r&&r.maxRetryTime})},t.timeouts=function(r){if(r instanceof Array)return[].concat(r);var n={retries:10,factor:2,minTimeout:1*1e3,maxTimeout:1/0,randomize:!1};for(var i in r)n[i]=r[i];if(n.minTimeout>n.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var s=[],o=0;o<n.retries;o++)s.push(this.createTimeout(o,n));return r&&r.forever&&!s.length&&s.push(this.createTimeout(o,n)),s.sort(function(a,l){return a-l}),s},t.createTimeout=function(r,n){var i=n.randomize?Math.random()+1:1,s=Math.round(i*Math.max(n.minTimeout,1)*Math.pow(n.factor,r));return s=Math.min(s,n.maxTimeout),s},t.wrap=function(r,n,i){if(n instanceof Array&&(i=n,n=null),!i){i=[];for(var s in r)typeof r[s]=="function"&&i.push(s)}for(var o=0;o<i.length;o++){var a=i[o],l=r[a];r[a]=(function(c){var h=t.operation(n),d=Array.prototype.slice.call(arguments,1),p=d.pop();d.push(function(m){h.retry(m)||(m&&(arguments[0]=h.mainError()),p.apply(this,arguments))}),h.attempt(function(){c.apply(r,d)})}).bind(r,l),r[a].options=n}}})(zC);var DM=zC;function NM(t={}){const{count:e=10,period:r="all",startDate:n,contextUserId:i}=t;return{count:e.toString(),period:r,started_at:n==null?void 0:n.toISOString(),user_id:i}}class Ce{constructor(e){this._client=e}_getUserContextIdWithDefault(e){var r;return(r=this._client._getUserIdFromRequestContext(e))!==null&&r!==void 0?r:e}}S([q(!1)],Ce.prototype,"_client",void 0);let _u=class extends G{constructor(e,r){super(e),this._client=r}get userId(){return this[f].user_id}get userName(){return this[f].user_login}get userDisplayName(){return this[f].user_name}get rank(){return this[f].rank}get amount(){return this[f].score}async getUser(){return X(await this._client.users.getUserById(this[f].user_id))}};S([q(!1)],_u.prototype,"_client",void 0);_u=S([D("api","HelixBitsLeaderboardEntry","userId")],_u);let Lo=class extends G{constructor(e,r){super(e),this._client=r}get entries(){return this[f].data.map(e=>new _u(e,this._client))}get totalCount(){return this[f].total}};S([q(!1)],Lo.prototype,"_client",void 0);S([ye()],Lo.prototype,"entries",null);Lo=S([ba,D("api","HelixBitsLeaderboard")],Lo);let Yp=class extends G{constructor(e){super(Jb(e,r=>r.prefix.toLowerCase()))}getCheermoteDisplayInfo(e,r,n){e=e.toLowerCase();const{background:i,state:s,scale:o}=n,l=this[f][e].tiers.sort((u,c)=>c.min_bits-u.min_bits).find(u=>u.min_bits<=r);if(!l)throw new Sn(`Cheermote "${e}" does not have an applicable tier for ${r} bits`);return{url:l.images[i][s][o],color:l.color}}getPossibleNames(){return Object.keys(this[f])}};Yp=S([D("api","HelixCheermoteList")],Yp);let Xp=class extends Ce{async getLeaderboard(e,r={}){const n=await this._client.callApi({type:"helix",url:"bits/leaderboard",userId:b(e),scopes:["bits:read"],query:NM(r)});return new Lo(n,this._client)}async getCheermotes(e){const r=await this._client.callApi({type:"helix",url:"bits/cheermotes",userId:mr(e,b),query:mr(e,he)});return new Yp(r.data)}};Xp=S([D("api","HelixBitsApi")],Xp);function BM(t){var e;return{game_id:t.gameId,broadcaster_language:t.language,title:t.title,delay:(e=t.delay)===null||e===void 0?void 0:e.toString(),tags:t.tags}}function LM(t,e){return{broadcaster_id:b(t),length:e}}function lw(t,e){return{broadcaster_id:b(t),user_id:b(e)}}function _f(t,e){return{broadcaster_id:b(t),user_id:mr(e,b)}}function uw(t,e){return{broadcaster_id:mr(e,b),user_id:b(t)}}function Ne(t,e){return{[t]:e}}function cw(t){return{user_id:b(t)}}function GC(t,e){return{broadcaster_id:t,moderator_id:e}}function Fc(t,e){return{broadcaster_id:b(t),id:e}}function WC(t,e){return{broadcaster_id:b(t),user_id:e.map(b)}}let ri=class extends G{constructor(e,r){super(e),this._client=r}get id(){return this[f].user_id}get name(){return this[f].user_login}get displayName(){return this[f].user_name}async getUser(){return X(await this._client.users.getUserById(this[f].user_id))}};S([q(!1)],ri.prototype,"_client",void 0);ri=S([D("api","HelixUserRelation","id")],ri);class Bt{constructor(e,r,n,i,s,o=100){this._callOptions=e,this._queryParamName=r,this._matchKey=n,this._mapper=s,this._limitPerRequest=o,this._requestedIds=[],this._requestResolversById=new Map,this._waitTimer=null,this._client=i,this._delay=i._batchDelay}async request(e){const{promise:r,resolve:n,reject:i}=No();return this._requestedIds.includes(e)||this._requestedIds.push(e),this._requestResolversById.has(e)?this._requestResolversById.get(e).push({resolve:n,reject:i}):this._requestResolversById.set(e,[{resolve:n,reject:i}]),this._waitTimer&&(clearTimeout(this._waitTimer),this._waitTimer=null),this._requestedIds.length>=this._limitPerRequest?this._handleBatch(this._requestedIds.splice(0,this._limitPerRequest)):this._waitTimer=setTimeout(()=>{this._handleBatch(this._requestedIds.splice(0,this._limitPerRequest))},this._delay),await r}async _handleBatch(e){var r;try{const{data:n}=await this._doRequest(e),i=Jb(n,this._matchKey);for(const s of e){for(const o of(r=this._requestResolversById.get(s))!==null&&r!==void 0?r:[])Object.prototype.hasOwnProperty.call(i,s)?o.resolve(this._mapper(i[s])):o.resolve(null);this._requestResolversById.delete(s)}}catch{await Promise.all(e.map(async i=>{var s,o;try{const a=await this._doRequest([i]);for(const l of(s=this._requestResolversById.get(i))!==null&&s!==void 0?s:[])l.resolve(a.data.length?this._mapper(a.data[0]):null)}catch(a){for(const l of(o=this._requestResolversById.get(i))!==null&&o!==void 0?o:[])l.reject(a)}this._requestResolversById.delete(i)}))}}async _doRequest(e){return await this._client.callApi({type:"helix",...this._callOptions,query:{...this._callOptions.query,[this._queryParamName]:e}})}}S([q(!1)],Bt.prototype,"_client",void 0);var wf;Object.prototype.hasOwnProperty.call(Symbol,"asyncIterator")||(Symbol.asyncIterator=(wf=Symbol.asyncIterator)!==null&&wf!==void 0?wf:Symbol.for("Symbol.asyncIterator"));let Se=class{constructor(e,r,n,i=100){this._callOptions=e,this._mapper=n,this._limitPerPage=i,this._isFinished=!1,this._client=r}get current(){var e;return(e=this._currentData)===null||e===void 0?void 0:e.data}async getNext(){var e;if(this._isFinished)return[];const r=await this._fetchData();return!((e=r.data)===null||e===void 0)&&e.length?this._processResult(r):(this._isFinished=!0,[])}async getAll(){this.reset();const e=[];do{const r=await this.getNext();if(!r.length)break;e.push(...r)}while(this._currentCursor);return this.reset(),e}get currentCursor(){return this._currentCursor}reset(){this._currentCursor=void 0,this._isFinished=!1,this._currentData=void 0}async*[Symbol.asyncIterator](){for(this.reset();;){const e=await this.getNext();if(!e.length)break;yield*e[Symbol.iterator]()}}async _fetchData(e={}){return await this._client.callApi({type:"helix",...this._callOptions,...e,query:{...this._callOptions.query,after:this._currentCursor,first:this._limitPerPage.toString(),...e.query}})}_processResult(e){return this._currentCursor=e.pagination?e.pagination.cursor:void 0,this._currentCursor===void 0&&(this._isFinished=!0),this._currentData=e,e.data.reduce((r,n)=>{const i=this._mapper(n);return Array.isArray(i)?[...r,...i]:[...r,i]},[])}};S([q(!1)],Se.prototype,"_client",void 0);Se=S([D("api","HelixPaginatedRequest")],Se);let di=class extends Se{async getTotalCount(){var e;return((e=this._currentData)!==null&&e!==void 0?e:await this._fetchData({query:{after:void 0}})).total}};di=S([D("api","HelixPaginatedRequestWithTotal")],di);function Fe(t,e,r){var n;let i;return{get data(){var s,o;return i??(i=(o=(s=t.data)===null||s===void 0?void 0:s.map(a=>new e(a,r)))!==null&&o!==void 0?o:[])},cursor:(n=t.pagination)===null||n===void 0?void 0:n.cursor}}function sn(t,e,r){let n;return{get data(){var i,s;return n??(n=(s=(i=t.data)===null||i===void 0?void 0:i.map(o=>new e(o,r)))!==null&&s!==void 0?s:[])},cursor:t.pagination.cursor,total:t.total}}function ue({after:t,before:e,limit:r}={}){return{after:t,before:e,first:r==null?void 0:r.toString()}}let es=class extends G{constructor(e,r){super(e),this._client=r}get id(){return this[f].broadcaster_id}get name(){return this[f].broadcaster_login}get displayName(){return this[f].broadcaster_name}async getBroadcaster(){return X(await this._client.users.getUserById(this[f].broadcaster_id))}get language(){return this[f].broadcaster_language}get gameId(){return this[f].game_id}get gameName(){return this[f].game_name}async getGame(){return this[f].game_id?X(await this._client.games.getGameById(this[f].game_id)):null}get title(){return this[f].title}get delay(){return this[f].delay}get tags(){return this[f].tags}};S([q(!1)],es.prototype,"_client",void 0);es=S([D("api","HelixChannel","id")],es);let wu=class extends G{constructor(e,r){super(e),this._client=r}get userId(){return this[f].user_id}get userDisplayName(){return this[f].user_name}async getUser(){return X(await this._client.users.getUserById(this[f].user_id))}get creationDate(){return new Date(this[f].created_at)}};S([q(!1)],wu.prototype,"_client",void 0);wu=S([D("api","HelixChannelEditor","userId")],wu);let Fo=class extends G{constructor(e,r){super(e),this._client=r}get userId(){return this[f].user_id}get userName(){return this[f].user_login}get userDisplayName(){return this[f].user_name}async getUser(){return X(await this._client.users.getUserById(this[f].user_id))}get followDate(){return new Date(this[f].followed_at)}};S([q(!1)],Fo.prototype,"_client",void 0);Fo=S([D("api","HelixChannelFollower","userId")],Fo);let Uo=class extends G{constructor(e,r){super(e),this._client=r}get broadcasterId(){return this[f].broadcaster_id}get broadcasterName(){return this[f].broadcaster_login}get broadcasterDisplayName(){return this[f].broadcaster_name}async getBroadcaster(){return X(await this._client.users.getUserById(this[f].broadcaster_id))}get followDate(){return new Date(this[f].followed_at)}};S([q(!1)],Uo.prototype,"_client",void 0);Uo=S([D("api","HelixFollowedChannel","broadcasterId")],Uo);let xu=class extends Ce{constructor(){super(...arguments),this._getChannelByIdBatcher=new Bt({url:"channels"},"broadcaster_id","broadcaster_id",this._client,e=>new es(e,this._client))}async getChannelInfoById(e){const r=b(e),n=await this._client.callApi({type:"helix",url:"channels",userId:r,query:he(r)});return yr(n.data[0],i=>new es(i,this._client))}async getChannelInfoByIdBatched(e){return await this._getChannelByIdBatcher.request(b(e))}async getChannelInfoByIds(e){const r=e.map(b);return(await this._client.callApi({type:"helix",url:"channels",query:Ne("broadcaster_id",r)})).data.map(i=>new es(i,this._client))}async updateChannelInfo(e,r){await this._client.callApi({type:"helix",url:"channels",method:"PATCH",userId:b(e),scopes:["channel:manage:broadcast"],query:he(e),jsonBody:BM(r)})}async startChannelCommercial(e,r){await this._client.callApi({type:"helix",url:"channels/commercial",method:"POST",userId:b(e),scopes:["channel:edit:commercial"],jsonBody:LM(e,r)})}async getChannelEditors(e){return(await this._client.callApi({type:"helix",url:"channels/editors",userId:b(e),scopes:["channel:read:editors"],query:he(e)})).data.map(n=>new wu(n,this._client))}async getVips(e,r){const n=await this._client.callApi({type:"helix",url:"channels/vips",userId:b(e),scopes:["channel:read:vips","channel:manage:vips"],query:{...he(e),...ue(r)}});return Fe(n,ri,this._client)}getVipsPaginated(e){return new Se({url:"channels/vips",userId:b(e),scopes:["channel:read:vips","channel:manage:vips"],query:he(e)},this._client,r=>new ri(r,this._client))}async checkVipForUsers(e,r){return(await this._client.callApi({type:"helix",url:"channels/vips",userId:b(e),scopes:["channel:read:vips","channel:manage:vips"],query:WC(e,r)})).data.map(i=>new ri(i,this._client))}async checkVipForUser(e,r){const n=b(r);return(await this.checkVipForUsers(e,[n])).some(s=>s.id===n)}async addVip(e,r){await this._client.callApi({type:"helix",url:"channels/vips",method:"POST",userId:b(e),scopes:["channel:manage:vips"],query:lw(e,r)})}async removeVip(e,r){await this._client.callApi({type:"helix",url:"channels/vips",method:"DELETE",userId:b(e),scopes:["channel:manage:vips"],query:lw(e,r)})}async getChannelFollowerCount(e){return(await this._client.callApi({type:"helix",url:"channels/followers",method:"GET",userId:b(e),query:{..._f(e),...ue({limit:1})}})).total}async getChannelFollowers(e,r,n){const i=await this._client.callApi({type:"helix",url:"channels/followers",method:"GET",userId:b(e),canOverrideScopedUserContext:!0,scopes:["moderator:read:followers"],query:{..._f(e,r),...ue(n)}});return sn(i,Fo,this._client)}getChannelFollowersPaginated(e){return new di({url:"channels/followers",method:"GET",userId:b(e),canOverrideScopedUserContext:!0,scopes:["moderator:read:followers"],query:_f(e)},this._client,r=>new Fo(r,this._client))}async getFollowedChannels(e,r,n){const i=await this._client.callApi({type:"helix",url:"channels/followed",method:"GET",userId:b(e),scopes:["user:read:follows"],query:{...uw(e,r),...ue(n)}});return sn(i,Uo,this._client)}getFollowedChannelsPaginated(e,r){return new di({url:"channels/followed",method:"GET",userId:b(e),scopes:["user:read:follows"],query:uw(e,r)},this._client,n=>new Uo(n,this._client))}};S([q(!1)],xu.prototype,"_getChannelByIdBatcher",void 0);xu=S([D("api","HelixChannelApi")],xu);function FM(t,e){return{broadcaster_id:b(t),only_manageable_rewards:e==null?void 0:e.toString()}}function dw(t,e){return{broadcaster_id:b(t),id:e}}function hw(t){var e,r,n;const i={title:t.title,cost:t.cost,prompt:t.prompt,background_color:t.backgroundColor,is_enabled:t.isEnabled,is_user_input_required:t.userInputRequired,should_redemptions_skip_request_queue:t.autoFulfill};return t.maxRedemptionsPerStream!==void 0&&(i.is_max_per_stream_enabled=!!t.maxRedemptionsPerStream,i.max_per_stream=(e=t.maxRedemptionsPerStream)!==null&&e!==void 0?e:0),t.maxRedemptionsPerUserPerStream!==void 0&&(i.is_max_per_user_per_stream_enabled=!!t.maxRedemptionsPerUserPerStream,i.max_per_user_per_stream=(r=t.maxRedemptionsPerUserPerStream)!==null&&r!==void 0?r:0),t.globalCooldown!==void 0&&(i.is_global_cooldown_enabled=!!t.globalCooldown,i.global_cooldown_seconds=(n=t.globalCooldown)!==null&&n!==void 0?n:0),"isPaused"in t&&(i.is_paused=t.isPaused),i}function fw(t,e,r){return{broadcaster_id:b(t),reward_id:e,id:r}}function pw(t,e,r,n){return{broadcaster_id:b(t),reward_id:e,status:r,sort:n.newestFirst?"NEWEST":"OLDEST"}}let Gn=class extends G{constructor(e,r){super(e),this._client=r}get id(){return this[f].id}get broadcasterId(){return this[f].broadcaster_id}get broadcasterName(){return this[f].broadcaster_login}get broadcasterDisplayName(){return this[f].broadcaster_name}async getBroadcaster(){return X(await this._client.users.getUserById(this[f].broadcaster_id))}getImageUrl(e){var r,n;const i=`url_${e}x`;return(n=(r=this[f].image)===null||r===void 0?void 0:r[i])!==null&&n!==void 0?n:this[f].default_image[i]}get backgroundColor(){return this[f].background_color}get isEnabled(){return this[f].is_enabled}get cost(){return this[f].cost}get title(){return this[f].title}get prompt(){return this[f].prompt}get userInputRequired(){return this[f].is_user_input_required}get maxRedemptionsPerStream(){return this[f].max_per_stream_setting.is_enabled?this[f].max_per_stream_setting.max_per_stream:null}get maxRedemptionsPerUserPerStream(){return this[f].max_per_user_per_stream_setting.is_enabled?this[f].max_per_user_per_stream_setting.max_per_user_per_stream:null}get globalCooldown(){return this[f].global_cooldown_setting.is_enabled?this[f].global_cooldown_setting.global_cooldown_seconds:null}get isPaused(){return this[f].is_paused}get isInStock(){return this[f].is_in_stock}get redemptionsThisStream(){return this[f].redemptions_redeemed_current_stream}get autoFulfill(){return this[f].should_redemptions_skip_request_queue}get cooldownExpiryDate(){return this[f].cooldown_expires_at?new Date(this[f].cooldown_expires_at):null}};S([q(!1)],Gn.prototype,"_client",void 0);Gn=S([D("api","HelixCustomReward","id")],Gn);let Wn=class extends G{constructor(e,r){super(e),this._client=r}get id(){return this[f].id}get broadcasterId(){return this[f].broadcaster_id}get broadcasterName(){return this[f].broadcaster_login}get broadcasterDisplayName(){return this[f].broadcaster_name}async getBroadcaster(){return X(await this._client.users.getUserById(this[f].broadcaster_id))}get userId(){return this[f].user_id}get userName(){return this[f].user_login}get userDisplayName(){return this[f].user_name}async getUser(){return X(await this._client.users.getUserById(this[f].user_id))}get userInput(){return this[f].user_input}get isFulfilled(){return this[f].status==="FULFILLED"}get isCanceled(){return this[f].status==="CANCELED"}get redemptionDate(){return new Date(this[f].redeemed_at)}get rewardId(){return this[f].reward.id}get rewardTitle(){return this[f].reward.title}get rewardPrompt(){return this[f].reward.prompt}get rewardCost(){return this[f].reward.cost}async getReward(){return X(await this._client.channelPoints.getCustomRewardById(this[f].broadcaster_id,this[f].reward.id))}async updateStatus(e){return(await this._client.channelPoints.updateRedemptionStatusByIds(this[f].broadcaster_id,this[f].reward.id,[this[f].id],e))[0]}};S([q(!1)],Wn.prototype,"_client",void 0);Wn=S([D("api","HelixCustomRewardRedemption","id")],Wn);let Jp=class extends Ce{async getCustomRewards(e,r){return(await this._client.callApi({type:"helix",url:"channel_points/custom_rewards",userId:b(e),scopes:["channel:read:redemptions","channel:manage:redemptions"],query:FM(e,r)})).data.map(i=>new Gn(i,this._client))}async getCustomRewardsByIds(e,r){return r.length?(await this._client.callApi({type:"helix",url:"channel_points/custom_rewards",userId:b(e),scopes:["channel:read:redemptions","channel:manage:redemptions"],query:Fc(e,r)})).data.map(i=>new Gn(i,this._client)):[]}async getCustomRewardById(e,r){const n=await this.getCustomRewardsByIds(e,[r]);return n.length?n[0]:null}async createCustomReward(e,r){const n=await this._client.callApi({type:"helix",url:"channel_points/custom_rewards",method:"POST",userId:b(e),scopes:["channel:manage:redemptions"],query:he(e),jsonBody:hw(r)});return new Gn(n.data[0],this._client)}async updateCustomReward(e,r,n){const i=await this._client.callApi({type:"helix",url:"channel_points/custom_rewards",method:"PATCH",userId:b(e),scopes:["channel:manage:redemptions"],query:dw(e,r),jsonBody:hw(n)});return new Gn(i.data[0],this._client)}async deleteCustomReward(e,r){await this._client.callApi({type:"helix",url:"channel_points/custom_rewards",method:"DELETE",userId:b(e),scopes:["channel:manage:redemptions"],query:dw(e,r)})}async getRedemptionsByIds(e,r,n){return n.length?(await this._client.callApi({type:"helix",url:"channel_points/custom_rewards/redemptions",userId:b(e),scopes:["channel:read:redemptions","channel:manage:redemptions"],query:fw(e,r,n)})).data.map(s=>new Wn(s,this._client)):[]}async getRedemptionById(e,r,n){const i=await this.getRedemptionsByIds(e,r,[n]);return i.length?i[0]:null}async getRedemptionsForBroadcaster(e,r,n,i){const s=await this._client.callApi({type:"helix",url:"channel_points/custom_rewards/redemptions",userId:b(e),scopes:["channel:read:redemptions","channel:manage:redemptions"],query:{...pw(e,r,n,i),...ue(i)}});return Fe(s,Wn,this._client)}getRedemptionsForBroadcasterPaginated(e,r,n,i){return new Se({url:"channel_points/custom_rewards/redemptions",userId:b(e),scopes:["channel:read:redemptions","channel:manage:redemptions"],query:pw(e,r,n,i)},this._client,s=>new Wn(s,this._client),50)}async updateRedemptionStatusByIds(e,r,n,i){return n.length?(await this._client.callApi({type:"helix",url:"channel_points/custom_rewards/redemptions",method:"PATCH",userId:b(e),scopes:["channel:manage:redemptions"],query:fw(e,r,n),jsonBody:{status:i}})).data.map(o=>new Wn(o,this._client)):[]}};Jp=S([D("api","HelixChannelPointsApi")],Jp);let jo=class extends G{get value(){return this[f].value}get decimalPlaces(){return this[f].decimal_places}get localizedValue(){return this.value/10**this.decimalPlaces}get currency(){return this[f].currency}};jo=S([D("api","HelixCharityCampaignAmount")],jo);let Su=class extends G{constructor(e,r){super(e),this._client=r}get id(){return this[f].id}get broadcasterId(){return this[f].broadcaster_id}get broadcasterName(){return this[f].broadcaster_login}get broadcasterDisplayName(){return this[f].broadcaster_name}async getBroadcaster(){return X(await this._client.users.getUserById(this[f].broadcaster_id))}get charityName(){return this[f].charity_name}get charityDescription(){return this[f].charity_description}get charityLogo(){return this[f].charity_logo}get charityWebsite(){return this[f].charity_website}get currentAmount(){return new jo(this[f].current_amount)}get targetAmount(){return new jo(this[f].target_amount)}};S([q(!1)],Su.prototype,"_client",void 0);Su=S([D("api","HelixCharityCampaign","id")],Su);let bu=class extends G{constructor(e,r){super(e),this._client=r}get campaignId(){return this[f].campaign_id}get donorId(){return this[f].user_id}get donorName(){return this[f].user_login}get donorDisplayName(){return this[f].user_name}async getDonor(){return X(await this._client.users.getUserById(this[f].user_id))}get amount(){return new jo(this[f].amount)}};S([q(!1)],bu.prototype,"_client",void 0);bu=S([D("api","HelixCharityCampaignDonation")],bu);let Zp=class extends Ce{async getCharityCampaign(e){const r=await this._client.callApi({type:"helix",url:"charity/campaigns",method:"GET",userId:b(e),scopes:["channel:read:charity"],query:he(e)});return new Su(r.data[0],this._client)}async getCharityCampaignDonations(e,r){const n=await this._client.callApi({type:"helix",url:"charity/donations",userId:b(e),scopes:["channel:read:charity"],query:{...he(e),...ue(r)}});return Fe(n,bu,this._client)}};Zp=S([D("api","HelixCharityApi")],Zp);function UM(t){return{slow_mode:t.slowModeEnabled,slow_mode_wait_time:t.slowModeDelay,follower_mode:t.followerOnlyModeEnabled,follower_mode_duration:t.followerOnlyModeDelay,subscriber_mode:t.subscriberOnlyModeEnabled,emote_mode:t.emoteOnlyModeEnabled,unique_chat_mode:t.uniqueChatModeEnabled,non_moderator_chat_delay:t.nonModeratorChatDelayEnabled,non_moderator_chat_delay_duration:t.nonModeratorChatDelay}}function jM(t,e){return{user_id:b(t),color:e}}function $M(t,e,r){return{from_broadcaster_id:b(t),to_broadcaster_id:b(e),moderator_id:r}}let $o=class extends G{get id(){return this[f].id}get name(){return this[f].name}get formats(){return this[f].format}get scales(){return this[f].scale}get themeModes(){return this[f].theme_mode}getImageUrl(e){return this[f].images[`url_${e}x`]}getStaticImageUrl(e="1.0",r="light"){return this[f].format.includes("static")&&this[f].scale.includes(e)?this.getFormattedImageUrl(e,"static",r):null}getAnimatedImageUrl(e="1.0",r="light"){return this[f].format.includes("animated")&&this[f].scale.includes(e)?this.getFormattedImageUrl(e,"animated",r):null}getFormattedImageUrl(e="1.0",r="static",n="light"){return`https://static-cdn.jtvnw.net/emoticons/v2/${this[f].id}/${r}/${n}/${e}`}};$o=S([D("api","HelixEmote","id")],$o);let Cu=class extends $o{constructor(e,r){super(e),this._client=r}get tier(){return this[f].tier||null}get type(){return this[f].emote_type}get emoteSetId(){return this[f].emote_set_id}async getAllEmotesFromSet(){return await this._client.chat.getEmotesFromSets([this[f].emote_set_id])}};S([q(!1)],Cu.prototype,"_client",void 0);Cu=S([D("api","HelixChannelEmote","id")],Cu);let em=class extends G{get id(){return this[f].id}getImageUrl(e){return this[f][`image_url_${e}x`]}get title(){return this[f].title}get description(){return this[f].description}get clickAction(){return this[f].click_action}get clickUrl(){return this[f].click_url}};em=S([D("api","HelixChatBadgeVersion","id")],em);let qo=class extends G{get id(){return this[f].set_id}get versions(){return this[f].versions.map(e=>new em(e))}getVersion(e){var r;return(r=this.versions.find(n=>n.id===e))!==null&&r!==void 0?r:null}};S([ye()],qo.prototype,"versions",null);qo=S([ba,D("api","HelixChatBadgeSet","id")],qo);let Vo=class extends G{constructor(e,r){super(e),this._client=r}get userId(){return this[f].user_id}get userName(){return this[f].user_login}get userDisplayName(){return this[f].user_name}async getUser(){return X(await this._client.users.getUserById(this[f].user_id))}};S([q(!1)],Vo.prototype,"_client",void 0);Vo=S([D("api","HelixChatChatter")],Vo);let Tu=class extends G{get broadcasterId(){return this[f].broadcaster_id}get slowModeEnabled(){return this[f].slow_mode}get slowModeDelay(){return this[f].slow_mode_wait_time}get followerOnlyModeEnabled(){return this[f].follower_mode}get followerOnlyModeDelay(){return this[f].follower_mode_duration}get subscriberOnlyModeEnabled(){return this[f].subscriber_mode}get emoteOnlyModeEnabled(){return this[f].emote_mode}get uniqueChatModeEnabled(){return this[f].unique_chat_mode}};Tu=S([D("api","HelixChatSettings","broadcasterId")],Tu);let Eu=class extends $o{constructor(e,r){super(e),this._client=r}get type(){return this[f].emote_type}get emoteSetId(){return this[f].emote_set_id}get ownerId(){switch(this[f].owner_id){case"0":case"twitch":return null;default:return this[f].owner_id}}async getOwner(){switch(this[f].owner_id){case"0":case"twitch":return null;default:return await this._client.users.getUserById(this[f].owner_id)}}};S([q(!1)],Eu.prototype,"_client",void 0);Eu=S([D("api","HelixEmoteFromSet","id")],Eu);let Pu=class extends Tu{get nonModeratorChatDelayEnabled(){return this[f].non_moderator_chat_delay}get nonModeratorChatDelay(){return this[f].non_moderator_chat_delay_duration}};Pu=S([D("api","HelixPrivilegedChatSettings","broadcasterId")],Pu);let tm=class extends Ce{async getChatters(e,r){const n=b(e),i=await this._client.callApi({type:"helix",url:"chat/chatters",userId:n,canOverrideScopedUserContext:!0,scopes:["moderator:read:chatters"],query:{...this._createModeratorActionQuery(n),...ue(r)}});return sn(i,Vo,this._client)}getChattersPaginated(e){const r=b(e);return new di({url:"chat/chatters",userId:r,canOverrideScopedUserContext:!0,scopes:["moderator:read:chatters"],query:this._createModeratorActionQuery(r)},this._client,n=>new Vo(n,this._client))}async getGlobalBadges(){return(await this._client.callApi({type:"helix",url:"chat/badges/global"})).data.map(r=>new qo(r))}async getChannelBadges(e){return(await this._client.callApi({type:"helix",url:"chat/badges",userId:b(e),query:he(e)})).data.map(n=>new qo(n))}async getGlobalEmotes(){return(await this._client.callApi({type:"helix",url:"chat/emotes/global"})).data.map(r=>new $o(r))}async getChannelEmotes(e){return(await this._client.callApi({type:"helix",url:"chat/emotes",userId:b(e),query:he(e)})).data.map(n=>new Cu(n,this._client))}async getEmotesFromSets(e){return(await this._client.callApi({type:"helix",url:"chat/emotes/set",query:Ne("emote_set_id",e)})).data.map(n=>new Eu(n,this._client))}async getSettings(e){const r=await this._client.callApi({type:"helix",url:"chat/settings",userId:b(e),query:he(e)});return new Tu(r.data[0])}async getSettingsPrivileged(e){const r=b(e),n=await this._client.callApi({type:"helix",url:"chat/settings",userId:r,canOverrideScopedUserContext:!0,scopes:["moderator:read:chat_settings"],query:this._createModeratorActionQuery(r)});return new Pu(n.data[0])}async updateSettings(e,r){const n=b(e),i=await this._client.callApi({type:"helix",url:"chat/settings",method:"PATCH",userId:n,canOverrideScopedUserContext:!0,scopes:["moderator:manage:chat_settings"],query:this._createModeratorActionQuery(n),jsonBody:UM(r)});return new Pu(i.data[0])}async sendAnnouncement(e,r){const n=b(e);await this._client.callApi({type:"helix",url:"chat/announcements",method:"POST",userId:n,canOverrideScopedUserContext:!0,scopes:["moderator:manage:announcements"],query:this._createModeratorActionQuery(n),jsonBody:{message:r.message,color:r.color}})}async getColorsForUsers(e){const r=await this._client.callApi({type:"helix",url:"chat/color",query:Ne("user_id",e.map(b))});return new Map(r.data.map(n=>[n.user_id,n.color||null]))}async getColorForUser(e){const r=await this._client.callApi({type:"helix",url:"chat/color",userId:b(e),query:Ne("user_id",b(e))});if(r.data.length)return r.data[0].color||null}async setColorForUser(e,r){await this._client.callApi({type:"helix",url:"chat/color",method:"PUT",userId:b(e),scopes:["user:manage:chat_color"],query:jM(e,r)})}async shoutoutUser(e,r){const n=b(e);await this._client.callApi({type:"helix",url:"chat/shoutouts",method:"POST",userId:n,canOverrideScopedUserContext:!0,scopes:["moderator:manage:shoutouts"],query:$M(e,r,this._getUserContextIdWithDefault(n))})}_createModeratorActionQuery(e){return GC(e,this._getUserContextIdWithDefault(e))}};tm=S([D("api","HelixChatApi")],tm);function qM(t,e){return{broadcaster_id:b(t),has_delay:e.toString()}}function mw(t){const{filterType:e,ids:r,startDate:n,endDate:i}=t;return{[e]:r,started_at:n,ended_at:i}}let ts=class extends G{constructor(e,r){super(e),this._client=r}get id(){return this[f].id}get url(){return this[f].url}get embedUrl(){return this[f].embed_url}get broadcasterId(){return this[f].broadcaster_id}get broadcasterDisplayName(){return this[f].broadcaster_name}async getBroadcaster(){return X(await this._client.users.getUserById(this[f].broadcaster_id))}get creatorId(){return this[f].creator_id}get creatorDisplayName(){return this[f].creator_name}async getCreator(){return X(await this._client.users.getUserById(this[f].creator_id))}get videoId(){return this[f].video_id}async getVideo(){return X(await this._client.videos.getVideoById(this[f].video_id))}get gameId(){return this[f].game_id}async getGame(){return this[f].game_id?X(await this._client.games.getGameById(this[f].game_id)):null}get language(){return this[f].language}get title(){return this[f].title}get views(){return this[f].view_count}get creationDate(){return new Date(this[f].created_at)}get thumbnailUrl(){return this[f].thumbnail_url}get duration(){return this[f].duration}get vodOffset(){return this[f].vod_offset}};S([q(!1)],ts.prototype,"_client",void 0);ts=S([D("api","HelixClip","id")],ts);let Au=class extends Ce{constructor(){super(...arguments),this._getClipByIdBatcher=new Bt({url:"clips"},"id","id",this._client,e=>new ts(e,this._client))}async getClipsForBroadcaster(e,r={}){return await this._getClips({...r,filterType:"broadcaster_id",ids:b(e),userId:b(e)})}getClipsForBroadcasterPaginated(e,r={}){return this._getClipsPaginated({...r,filterType:"broadcaster_id",ids:b(e),userId:b(e)})}async getClipsForGame(e,r={}){return await this._getClips({...r,filterType:"game_id",ids:e})}getClipsForGamePaginated(e,r={}){return this._getClipsPaginated({...r,filterType:"game_id",ids:e})}async getClipsByIds(e){return(await this._getClips({filterType:"id",ids:e})).data}async getClipById(e){const r=await this.getClipsByIds([e]);return r.length?r[0]:null}async getClipByIdBatched(e){return await this._getClipByIdBatcher.request(e)}async createClip(e){const{channel:r,createAfterDelay:n=!1}=e;return(await this._client.callApi({type:"helix",url:"clips",method:"POST",userId:b(r),scopes:["clips:edit"],canOverrideScopedUserContext:!0,query:qM(r,n)})).data[0].id}async _getClips(e){if(!e.ids.length)return{data:[]};const r=await this._client.callApi({type:"helix",url:"clips",userId:e.userId,query:{...mw(e),...ue(e)}});return Fe(r,ts,this._client)}_getClipsPaginated(e){return new Se({url:"clips",userId:e.userId,query:mw(e)},this._client,r=>new ts(r,this._client))}};S([q(!1)],Au.prototype,"_getClipByIdBatcher",void 0);Au=S([D("api","HelixClipApi")],Au);function gw(t,e){return{user_id:e?mr(t.user,b):void 0,game_id:t.gameId,fulfillment_status:t.fulfillmentStatus}}function VM(t,e){return{fulfillment_status:e,entitlement_ids:t}}let Qn=class extends G{constructor(e,r){super(e),this._client=r}get id(){return this[f].id}get rewardId(){return this[f].benefit_id}get grantDate(){return new Date(this[f].timestamp)}get userId(){return this[f].user_id}async getUser(){return X(await this._client.users.getUserById(this[f].user_id))}get gameId(){return this[f].game_id}async getGame(){return X(await this._client.games.getGameById(this[f].game_id))}get fulfillmentStatus(){return this[f].fulfillment_status}get updateDate(){return new Date(this[f].last_updated)}};S([q(!1)],Qn.prototype,"_client",void 0);Qn=S([D("api","HelixDropsEntitlement")],Qn);let Iu=class extends Ce{constructor(){super(...arguments),this._getDropsEntitlementByIdBatcher=new Bt({url:"entitlements/drops"},"id","id",this._client,e=>new Qn(e,this._client))}async getDropsEntitlements(e,r=!1){const n=await this._client.callApi({type:"helix",url:"entitlements/drops",userId:mr(e.user,b),forceType:e.user&&r?"app":void 0,query:{...gw(e,r),...ue(e)}});return Fe(n,Qn,this._client)}getDropsEntitlementsPaginated(e,r=!1){return new Se({url:"entitlements/drops",userId:mr(e.user,b),forceType:e.user&&r?"app":void 0,query:gw(e,r)},this._client,n=>new Qn(n,this._client))}async getDropsEntitlementsByIds(e){return(await this._client.callApi({type:"helix",url:"entitlements/drops",query:{id:e}})).data.map(n=>new Qn(n,this._client))}async getDropsEntitlementById(e){var r;return(r=(await this.getDropsEntitlementsByIds([e]))[0])!==null&&r!==void 0?r:null}async getDropsEntitlementByIdBatched(e){return await this._getDropsEntitlementByIdBatcher.request(e)}async updateDropsEntitlements(e,r){const n=await this._client.callApi({type:"helix",url:"entitlements/drops",method:"PATCH",jsonBody:VM(e,r)});return new Map(n.data.flatMap(i=>i.ids.map(s=>[s,i.status])))}};S([q(!1)],Iu.prototype,"_getDropsEntitlementByIdBatcher",void 0);Iu=S([D("api","HelixEntitlementApi")],Iu);function ne(t){return{broadcaster_user_id:b(t)}}function il(t,e){return{broadcaster_user_id:b(t),reward_id:e}}function $s(t,e){return{broadcaster_user_id:t,moderator_user_id:e}}function HM(t){return{organization_id:t.organizationId,category_id:t.categoryId,campaign_id:t.campaignId}}let br=class extends G{constructor(e,r){super(e),this._client=r}get id(){return this[f].id}get status(){return this[f].status}get type(){return this[f].type}get cost(){return this[f].cost}get condition(){return this[f].condition}get creationDate(){return new Date(this[f].created_at)}async unsubscribe(){await this._client.eventSub.deleteSubscription(this[f].id)}get _transport(){return this[f].transport}set _status(e){this[f].status=e}};S([q(!1)],br.prototype,"_client",void 0);br=S([D("api","HelixEventSubSubscription","id")],br);let ji=class extends di{constructor(e,r,n){super({url:"eventsub/subscriptions",userId:r,query:e},n,i=>new br(i,n))}async getTotalCost(){var e;return((e=this._currentData)!==null&&e!==void 0?e:await this._fetchData({query:{after:void 0}})).total_cost}async getMaxTotalCost(){var e;return((e=this._currentData)!==null&&e!==void 0?e:await this._fetchData({query:{after:void 0}})).max_total_cost}};ji=S([D("api","HelixPaginatedEventSubSubscriptionsRequest")],ji);let rm=class extends Ce{async getSubscriptions(e){const r=await this._client.callApi({type:"helix",url:"eventsub/subscriptions",query:ue(e)});return{...sn(r,br,this._client),totalCost:r.total_cost,maxTotalCost:r.max_total_cost}}getSubscriptionsPaginated(){return new ji({},void 0,this._client)}async getSubscriptionsForStatus(e,r){const n=await this._client.callApi({type:"helix",url:"eventsub/subscriptions",query:{...ue(r),status:e}});return{...sn(n,br,this._client),totalCost:n.total_cost,maxTotalCost:n.max_total_cost}}getSubscriptionsForStatusPaginated(e){return new ji({status:e},void 0,this._client)}async getSubscriptionsForType(e,r){const n=await this._client.callApi({type:"helix",url:"eventsub/subscriptions",query:{...ue(r),type:e}});return{...sn(n,br,this._client),totalCost:n.total_cost,maxTotalCost:n.max_total_cost}}getSubscriptionsForTypePaginated(e){return new ji({type:e},void 0,this._client)}async getSubscriptionsForUser(e,r){const n=await this._client.callApi({type:"helix",url:"eventsub/subscriptions",userId:b(e),query:{...Ne("user_id",b(e)),...ue(r)}});return{...sn(n,br,this._client),totalCost:n.total_cost,maxTotalCost:n.max_total_cost}}getSubscriptionsForUserPaginated(e){const r=b(e);return new ji(Ne("user_id",r),r,this._client)}async createSubscription(e,r,n,i,s,o,a,l){const u=i.method==="webhook",c=u?void 0:o;if(!u&&!s)throw new Error(`Transport ${i.method} can only handle subscriptions with user context`);const h={type:e,version:r,condition:n,transport:i};l&&(h.is_batching_enabled=!0);const d=await this._client.callApi({type:"helix",url:"eventsub/subscriptions",method:"POST",scopes:c,userId:mr(s,b),forceType:u?"app":"user",jsonBody:h});return new br(d.data[0],this._client)}async deleteSubscription(e){await this._client.callApi({type:"helix",url:"eventsub/subscriptions",method:"DELETE",query:{id:e}})}async deleteAllSubscriptions(){await this._deleteSubscriptionsWithCondition()}async deleteBrokenSubscriptions(){await this._deleteSubscriptionsWithCondition(e=>e.status!=="enabled"&&e.status!=="webhook_callback_verification_pending")}async subscribeToStreamOnlineEvents(e,r){return await this.createSubscription("stream.online","1",ne(e),r,e)}async subscribeToStreamOfflineEvents(e,r){return await this.createSubscription("stream.offline","1",ne(e),r,e)}async subscribeToChannelUpdateEvents(e,r){return await this.createSubscription("channel.update","1",ne(e),r,e)}async subscribeToChannelFollowEvents(e,r){const n=b(e);return await this.createSubscription("channel.follow","2",$s(n,this._getUserContextIdWithDefault(n)),r,n,["moderator:read:followers"],!0)}async subscribeToChannelSubscriptionEvents(e,r){return await this.createSubscription("channel.subscribe","1",ne(e),r,e,["channel:read:subscriptions"])}async subscribeToChannelSubscriptionGiftEvents(e,r){return await this.createSubscription("channel.subscription.gift","1",ne(e),r,e,["channel:read:subscriptions"])}async subscribeToChannelSubscriptionMessageEvents(e,r){return await this.createSubscription("channel.subscription.message","1",ne(e),r,e,["channel:read:subscriptions"])}async subscribeToChannelSubscriptionEndEvents(e,r){return await this.createSubscription("channel.subscription.end","1",ne(e),r,e,["channel:read:subscriptions"])}async subscribeToChannelCheerEvents(e,r){return await this.createSubscription("channel.cheer","1",ne(e),r,e,["bits:read"])}async subscribeToChannelCharityCampaignStartEvents(e,r){return await this.createSubscription("channel.charity_campaign.start","1",ne(e),r,e,["channel:read:charity"])}async subscribeToChannelCharityCampaignStopEvents(e,r){return await this.createSubscription("channel.charity_campaign.stop","1",ne(e),r,e,["channel:read:charity"])}async subscribeToChannelCharityDonationEvents(e,r){return await this.createSubscription("channel.charity_campaign.donate","1",ne(e),r,e,["channel:read:charity"])}async subscribeToChannelCharityCampaignProgressEvents(e,r){return await this.createSubscription("channel.charity_campaign.progress","1",ne(e),r,e,["channel:read:charity"])}async subscribeToChannelBanEvents(e,r){return await this.createSubscription("channel.ban","1",ne(e),r,e,["channel:moderate"])}async subscribeToChannelUnbanEvents(e,r){return await this.createSubscription("channel.unban","1",ne(e),r,e,["channel:moderate"])}async subscribeToChannelShieldModeBeginEvents(e,r){const n=b(e);return await this.createSubscription("channel.shield_mode.begin","1",$s(n,this._getUserContextIdWithDefault(n)),r,n,["moderator:read:shield_mode","moderator:manage:shield_mode"],!0)}async subscribeToChannelShieldModeEndEvents(e,r){const n=b(e);return await this.createSubscription("channel.shield_mode.end","1",$s(n,this._getUserContextIdWithDefault(n)),r,n,["moderator:read:shield_mode","moderator:manage:shield_mode"],!0)}async subscribeToChannelModeratorAddEvents(e,r){return await this.createSubscription("channel.moderator.add","1",ne(e),r,e,["moderation:read"])}async subscribeToChannelModeratorRemoveEvents(e,r){return await this.createSubscription("channel.moderator.remove","1",ne(e),r,e,["moderation:read"])}async subscribeToChannelRaidEventsFrom(e,r){return await this.createSubscription("channel.raid","1",Ne("from_broadcaster_user_id",b(e)),r,e)}async subscribeToChannelRaidEventsTo(e,r){return await this.createSubscription("channel.raid","1",Ne("to_broadcaster_user_id",b(e)),r,e)}async subscribeToChannelRewardAddEvents(e,r){return await this.createSubscription("channel.channel_points_custom_reward.add","1",ne(e),r,e,["channel:read:redemptions","channel:manage:redemptions"])}async subscribeToChannelRewardUpdateEvents(e,r){return await this.createSubscription("channel.channel_points_custom_reward.update","1",ne(e),r,e,["channel:read:redemptions","channel:manage:redemptions"])}async subscribeToChannelRewardUpdateEventsForReward(e,r,n){return await this.createSubscription("channel.channel_points_custom_reward.update","1",il(e,r),n,e,["channel:read:redemptions","channel:manage:redemptions"])}async subscribeToChannelRewardRemoveEvents(e,r){return await this.createSubscription("channel.channel_points_custom_reward.remove","1",ne(e),r,e,["channel:read:redemptions","channel:manage:redemptions"])}async subscribeToChannelRewardRemoveEventsForReward(e,r,n){return await this.createSubscription("channel.channel_points_custom_reward.remove","1",il(e,r),n,e,["channel:read:redemptions","channel:manage:redemptions"])}async subscribeToChannelRedemptionAddEvents(e,r){return await this.createSubscription("channel.channel_points_custom_reward_redemption.add","1",ne(e),r,e,["channel:read:redemptions","channel:manage:redemptions"])}async subscribeToChannelRedemptionAddEventsForReward(e,r,n){return await this.createSubscription("channel.channel_points_custom_reward_redemption.add","1",il(e,r),n,e,["channel:read:redemptions","channel:manage:redemptions"])}async subscribeToChannelRedemptionUpdateEvents(e,r){return await this.createSubscription("channel.channel_points_custom_reward_redemption.update","1",ne(e),r,e,["channel:read:redemptions","channel:manage:redemptions"])}async subscribeToChannelRedemptionUpdateEventsForReward(e,r,n){return await this.createSubscription("channel.channel_points_custom_reward_redemption.update","1",il(e,r),n,e,["channel:read:redemptions","channel:manage:redemptions"])}async subscribeToChannelPollBeginEvents(e,r){return await this.createSubscription("channel.poll.begin","1",ne(e),r,e,["channel:read:polls","channel:manage:polls"])}async subscribeToChannelPollProgressEvents(e,r){return await this.createSubscription("channel.poll.progress","1",ne(e),r,e,["channel:read:polls","channel:manage:polls"])}async subscribeToChannelPollEndEvents(e,r){return await this.createSubscription("channel.poll.end","1",ne(e),r,e,["channel:read:polls","channel:manage:polls"])}async subscribeToChannelPredictionBeginEvents(e,r){return await this.createSubscription("channel.prediction.begin","1",ne(e),r,e,["channel:read:predictions","channel:manage:predictions"])}async subscribeToChannelPredictionProgressEvents(e,r){return await this.createSubscription("channel.prediction.progress","1",ne(e),r,e,["channel:read:predictions","channel:manage:predictions"])}async subscribeToChannelPredictionLockEvents(e,r){return await this.createSubscription("channel.prediction.lock","1",ne(e),r,e,["channel:read:predictions","channel:manage:predictions"])}async subscribeToChannelPredictionEndEvents(e,r){return await this.createSubscription("channel.prediction.end","1",ne(e),r,e,["channel:read:predictions","channel:manage:predictions"])}async subscribeToChannelGoalBeginEvents(e,r){return await this.createSubscription("channel.goal.begin","1",ne(e),r,e,["channel:read:goals"])}async subscribeToChannelGoalProgressEvents(e,r){return await this.createSubscription("channel.goal.progress","1",ne(e),r,e,["channel:read:goals"])}async subscribeToChannelGoalEndEvents(e,r){return await this.createSubscription("channel.goal.end","1",ne(e),r,e,["channel:read:goals"])}async subscribeToChannelHypeTrainBeginEvents(e,r){return await this.createSubscription("channel.hype_train.begin","1",ne(e),r,e,["channel:read:hype_train"])}async subscribeToChannelHypeTrainProgressEvents(e,r){return await this.createSubscription("channel.hype_train.progress","1",ne(e),r,e,["channel:read:hype_train"])}async subscribeToChannelHypeTrainEndEvents(e,r){return await this.createSubscription("channel.hype_train.end","1",ne(e),r,e,["channel:read:hype_train"])}async subscribeToChannelShoutoutCreateEvents(e,r){const n=b(e);return await this.createSubscription("channel.shoutout.create","1",$s(n,this._getUserContextIdWithDefault(n)),r,n,["moderator:read:shoutouts","moderator:manage:shoutouts"],!0)}async subscribeToChannelShoutoutReceiveEvents(e,r){const n=b(e);return await this.createSubscription("channel.shoutout.receive","1",$s(n,this._getUserContextIdWithDefault(n)),r,n,["moderator:read:shoutouts","moderator:manage:shoutouts"],!0)}async subscribeToExtensionBitsTransactionCreateEvents(e,r){return await this.createSubscription("extension.bits_transaction.create","1",Ne("extension_client_id",e),r)}async subscribeToUserAuthorizationGrantEvents(e,r){return await this.createSubscription("user.authorization.grant","1",Ne("client_id",e),r)}async subscribeToUserAuthorizationRevokeEvents(e,r){return await this.createSubscription("user.authorization.revoke","1",Ne("client_id",e),r)}async subscribeToUserUpdateEvents(e,r,n){return await this.createSubscription("user.update","1",Ne("user_id",b(e)),r,e,n?["user:read:email"]:void 0)}async subscribeToDropEntitlementGrantEvents(e,r){return await this.createSubscription("drop.entitlement.grant","1",HM(e),r,void 0,void 0,!1,!0)}async _deleteSubscriptionsWithCondition(e){const r=this.getSubscriptionsPaginated();for await(const n of r)(!e||e(n))&&await n.unsubscribe()}};rm=S([D("api","HelixEventSubApi")],rm);function zM(t,e){return{extension_id:t,extension_version:e}}function GM(t){return{sku:t.sku,cost:{amount:t.cost,type:"bits"},display_name:t.displayName,in_development:t.inDevelopment,expiration:t.expirationDate,is_broadcast:t.broadcast}}function yw(t,e){return{extension_id:t,id:e.transactionIds}}let Ho=class extends G{constructor(e,r){super(e),this._client=r}get id(){return this[f].broadcaster_id}get displayName(){return this[f].broadcaster_name}async getChannel(){return X(await this._client.channels.getChannelInfoById(this[f].broadcaster_id))}async getBroadcaster(){return X(await this._client.users.getUserById(this[f].broadcaster_id))}get gameId(){return this[f].game_id}get gameName(){return this[f].game_name}async getGame(){return this[f].game_id?X(await this._client.games.getGameById(this[f].game_id)):null}get title(){return this[f].title}};S([q(!1)],Ho.prototype,"_client",void 0);Ho=S([D("api","HelixChannelReference","id")],Ho);let ku=class extends G{get sku(){return this[f].sku}get cost(){return this[f].cost.amount}get displayName(){return this[f].display_name}get inDevelopment(){return this[f].in_development}get isBroadcast(){return this[f].is_broadcast}get expirationDate(){return yr(this[f].expiration,e=>new Date(e))}};ku=S([D("api","HelixExtensionBitsProduct","sku")],ku);let zo=class extends G{constructor(e,r){super(e),this._client=r}get id(){return this[f].id}get transactionDate(){return new Date(this[f].timestamp)}get broadcasterId(){return this[f].broadcaster_id}get broadcasterName(){return this[f].broadcaster_name}get broadcasterDisplayName(){return this[f].broadcaster_name}async getBroadcaster(){return X(await this._client.users.getUserById(this[f].broadcaster_id))}get userId(){return this[f].user_id}get userName(){return this[f].user_login}get userDisplayName(){return this[f].user_name}async getUser(){return X(await this._client.users.getUserById(this[f].user_id))}get productType(){return this[f].product_type}get productSku(){return this[f].product_data.sku}get productCost(){return this[f].product_data.cost.amount}get productDisplayName(){return this[f].product_data.displayName}get productInDevelopment(){return this[f].product_data.inDevelopment}};S([q(!1)],zo.prototype,"_client",void 0);zo=S([D("api","HelixExtensionTransaction","id")],zo);let nm=class extends Ce{async getReleasedExtension(e,r){const n=await this._client.callApi({type:"helix",url:"extensions/released",query:zM(e,r)});return new Hp(n.data[0])}async getLiveChannelsWithExtension(e,r){const n=await this._client.callApi({type:"helix",url:"extensions/live",query:{...Ne("extension_id",e),...ue(r)}});return Fe(n,Ho,this._client)}getLiveChannelsWithExtensionPaginated(e){return new Se({url:"extensions/live",query:Ne("extension_id",e)},this._client,r=>new Ho(r,this._client))}async getExtensionBitsProducts(e){return(await this._client.callApi({type:"helix",url:"bits/extensions",forceType:"app",query:Ne("should_include_all",e==null?void 0:e.toString())})).data.map(n=>new ku(n))}async putExtensionBitsProduct(e){const r=await this._client.callApi({type:"helix",url:"bits/extensions",method:"PUT",forceType:"app",jsonBody:GM(e)});return new ku(r.data[0])}async getExtensionTransactions(e,r={}){const n=await this._client.callApi({type:"helix",url:"extensions/transactions",forceType:"app",query:{...yw(e,r),...ue(r)}});return Fe(n,zo,this._client)}getExtensionTransactionsPaginated(e,r={}){return new Se({url:"extensions/transactions",forceType:"app",query:yw(e,r)},this._client,n=>new zo(n,this._client))}};nm=S([D("api","HelixExtensionsApi")],nm);let Yt=class extends G{constructor(e,r){super(e),this._client=r}get id(){return this[f].id}get name(){return this[f].name}get boxArtUrl(){return this[f].box_art_url}get igdbId(){return this[f].igdb_id||null}getBoxArtUrl(e,r){return this[f].box_art_url.replace("{width}",e.toString()).replace("{height}",r.toString())}async getStreams(e){return await this._client.streams.getStreams({...e,game:this[f].id})}getStreamsPaginated(){return this._client.streams.getStreamsPaginated({game:this[f].id})}};S([q(!1)],Yt.prototype,"_client",void 0);Yt=S([D("api","HelixGame","id")],Yt);let fs=class extends Ce{constructor(){super(...arguments),this._getGameByIdBatcher=new Bt({url:"games"},"id","id",this._client,e=>new Yt(e,this._client)),this._getGameByNameBatcher=new Bt({url:"games"},"name","name",this._client,e=>new Yt(e,this._client)),this._getGameByIgdbIdBatcher=new Bt({url:"games"},"igdb_id","igdb_id",this._client,e=>new Yt(e,this._client))}async getGamesByIds(e){return await this._getGames("id",e)}async getGamesByNames(e){return await this._getGames("name",e)}async getGamesByIgdbIds(e){return await this._getGames("igdb_id",e)}async getGameById(e){var r;return(r=(await this._getGames("id",[e]))[0])!==null&&r!==void 0?r:null}async getGameByName(e){var r;return(r=(await this._getGames("name",[e]))[0])!==null&&r!==void 0?r:null}async getGameByIgdbId(e){var r;return(r=(await this._getGames("igdb_id",[e]))[0])!==null&&r!==void 0?r:null}async getGameByIdBatched(e){return await this._getGameByIdBatcher.request(e)}async getGameByNameBatched(e){return await this._getGameByNameBatcher.request(e)}async getGameByIgdbIdBatched(e){return await this._getGameByIgdbIdBatcher.request(e)}async getTopGames(e){const r=await this._client.callApi({type:"helix",url:"games/top",query:ue(e)});return Fe(r,Yt,this._client)}getTopGamesPaginated(){return new Se({url:"games/top"},this._client,e=>new Yt(e,this._client))}async _getGames(e,r){return r.length?(await this._client.callApi({type:"helix",url:"games",query:{[e]:r}})).data.map(i=>new Yt(i,this._client)):[]}};S([q(!1)],fs.prototype,"_getGameByIdBatcher",void 0);S([q(!1)],fs.prototype,"_getGameByNameBatcher",void 0);S([q(!1)],fs.prototype,"_getGameByIgdbIdBatcher",void 0);fs=S([D("api","HelixGameApi")],fs);let Ru=class extends G{constructor(e,r){super(e),this._client=r}get id(){return this[f].id}get broadcasterId(){return this[f].broadcaster_id}get broadcasterDisplayName(){return this[f].broadcaster_name}get broadcasterName(){return this[f].broadcaster_login}async getBroadcaster(){return X(await this._client.users.getUserById(this[f].broadcaster_id))}get type(){return this[f].type}get description(){return this[f].description}get currentAmount(){return this[f].current_amount}get targetAmount(){return this[f].target_amount}get creationDate(){return this[f].created_at}};S([q(!1)],Ru.prototype,"_client",void 0);Ru=S([D("api","HelixGoal","id")],Ru);let im=class extends Ce{async getGoals(e){return(await this._client.callApi({type:"helix",url:"goals",userId:b(e),scopes:["channel:read:goals"],query:he(e)})).data.map(n=>new Ru(n,this._client))}};im=S([D("api","HelixGoalApi")],im);let Go=class extends G{constructor(e,r){super(e),this._client=r}get userId(){return this[f].user}async getUser(){return X(await this._client.users.getUserById(this[f].user))}get type(){return this[f].type}get total(){return this[f].total}};S([q(!1)],Go.prototype,"_client",void 0);Go=S([D("api","HelixHypeTrainContribution","userId")],Go);let Wo=class extends G{constructor(e,r){super(e),this._client=r}get eventId(){return this[f].id}get eventType(){return this[f].event_type}get eventDate(){return new Date(this[f].event_timestamp)}get eventVersion(){return this[f].version}get id(){return this[f].event_data.id}get broadcasterId(){return this[f].event_data.broadcaster_id}async getBroadcaster(){return X(await this._client.users.getUserById(this[f].event_data.broadcaster_id))}get level(){return this[f].event_data.level}get startDate(){return new Date(this[f].event_data.started_at)}get expiryDate(){return new Date(this[f].event_data.expires_at)}get cooldownDate(){return new Date(this[f].event_data.cooldown_end_time)}get total(){return this[f].event_data.total}get goal(){return this[f].event_data.goal}get lastContribution(){return new Go(this[f].event_data.last_contribution,this._client)}get topContributions(){return this[f].event_data.top_contributions.map(e=>new Go(e,this._client))}};S([q(!1)],Wo.prototype,"_client",void 0);Wo=S([D("api","HelixHypeTrainEvent","id")],Wo);class WM extends Ce{async getHypeTrainEventsForBroadcaster(e,r){const n=await this._client.callApi({type:"helix",url:"hypetrain/events",userId:b(e),scopes:["channel:read:hype_train"],query:{...he(e),...ue(r)}});return Fe(n,Wo,this._client)}getHypeTrainEventsForBroadcasterPaginated(e){return new Se({url:"hypetrain/events",userId:b(e),scopes:["channel:read:hype_train"],query:he(e)},this._client,r=>new Wo(r,this._client))}}function vw(t,e){return{broadcaster_id:b(t),user_id:e==null?void 0:e.userId}}function _w(t,e){return{broadcaster_id:b(t),user_id:b(e)}}function QM(t,e,r){return{user_id:b(t),msg_id:e,action:r?"ALLOW":"DENY"}}function KM(t){return{overall_level:t.overallLevel,aggression:t.aggression,bullying:t.bullying,disability:t.disability,misogyny:t.misogyny,race_ethnicity_or_religion:t.raceEthnicityOrReligion,sex_based_terms:t.sexBasedTerms,sexuality_sex_or_gender:t.sexualitySexOrGender,swearing:t.swearing}}function YM(t){return{data:{duration:t.duration,reason:t.reason,user_id:b(t.user)}}}function XM(t){return{is_active:t}}let Mu=class extends G{get broadcasterId(){return this[f].broadcaster_id}get moderatorId(){return this[f].moderator_id}get overallLevel(){return this[f].overall_level?this[f].overall_level:null}get disability(){return this[f].disability}get aggression(){return this[f].aggression}get sexualitySexOrGender(){return this[f].sexuality_sex_or_gender}get misogyny(){return this[f].misogyny}get bullying(){return this[f].bullying}get swearing(){return this[f].swearing}get raceEthnicityOrReligion(){return this[f].race_ethnicity_or_religion}get sexBasedTerms(){return this[f].sex_based_terms}};Mu=S([D("api","HelixAutoModSettings","broadcasterId")],Mu);let sm=class extends G{get messageId(){return this[f].msg_id}get isPermitted(){return this[f].is_permitted}};sm=S([D("api","HelixAutoModStatus","messageId")],sm);let ps=class extends G{constructor(e,r,n){super(e),this._expiryTimestamp=r,this._client=n}get creationDate(){return new Date(this[f].created_at)}get expiryDate(){return yr(this._expiryTimestamp,e=>new Date(e))}get moderatorId(){return this[f].moderator_id}async getModerator(){return X(await this._client.users.getUserById(this[f].moderator_id))}get userId(){return this[f].user_id}async getUser(){return X(await this._client.users.getUserById(this[f].user_id))}};S([q(!1)],ps.prototype,"_client",void 0);S([q(!1)],ps.prototype,"_expiryTimestamp",void 0);ps=S([D("api","HelixBanUser","userId")],ps);let Ou=class extends ps{constructor(e,r){super(e,e.expires_at||null,r)}get userName(){return this[f].user_login}get userDisplayName(){return this[f].user_name}get moderatorName(){return this[f].moderator_login}get moderatorDisplayName(){return this[f].moderator_name}get reason(){return this[f].reason||null}};Ou=S([D("api","HelixBan","userId")],Ou);let Du=class extends G{get broadcasterId(){return this[f].broadcaster_id}get creationDate(){return new Date(this[f].created_at)}get expirationDate(){return this[f].expires_at?new Date(this[f].expires_at):null}get id(){return this[f].id}get moderatorId(){return this[f].moderator_id}get text(){return this[f].text}get updatedDate(){return new Date(this[f].updated_at)}};Du=S([D("api","HelixBlockedTerm","id")],Du);let Qo=class extends G{constructor(e,r){super(e),this._client=r}get userId(){return this[f].user_id}get userName(){return this[f].user_login}get userDisplayName(){return this[f].user_name}async getUser(){return X(await this._client.users.getUserById(this[f].user_id))}};S([q(!1)],Qo.prototype,"_client",void 0);Qo=S([D("api","HelixModerator","userId")],Qo);let Ko=class extends G{constructor(e,r){super(e),this._client=r}get isActive(){return this[f].is_active}get moderatorId(){return this[f].moderator_id}get moderatorName(){return this[f].moderator_login}get moderatorDisplayName(){return this[f].moderator_name}async getModerator(){return X(await this._client.users.getUserById(this[f].moderator_id))}get lastActivationDate(){return this[f].last_activated_at===""?null:new Date(this[f].last_activated_at)}};S([q(!1)],Ko.prototype,"_client",void 0);Ko=S([D("api","HelixShieldModeStatus")],Ko);let om=class extends Ce{async getBannedUsers(e,r){const n=await this._client.callApi({type:"helix",url:"moderation/banned",userId:b(e),scopes:["moderation:read"],query:{...vw(e,r),...ue(r)}});return Fe(n,Ou,this._client)}getBannedUsersPaginated(e){return new Se({url:"moderation/banned",userId:b(e),scopes:["moderation:read"],query:he(e)},this._client,r=>new Ou(r,this._client),50)}async checkUserBan(e,r){const n=b(r);return(await this.getBannedUsers(e,{userId:n})).data.some(s=>s.userId===n)}async getModerators(e,r){const n=await this._client.callApi({type:"helix",url:"moderation/moderators",userId:b(e),scopes:["moderation:read","channel:manage:moderators"],query:{...vw(e,r),...ue(r)}});return Fe(n,Qo,this._client)}getModeratorsPaginated(e){return new Se({url:"moderation/moderators",userId:b(e),scopes:["moderation:read","channel:manage:moderators"],query:he(e)},this._client,r=>new Qo(r,this._client))}async checkUserMod(e,r){const n=b(r);return(await this.getModerators(e,{userId:n})).data.some(s=>s.userId===n)}async addModerator(e,r){await this._client.callApi({type:"helix",url:"moderation/moderators",method:"POST",userId:b(e),scopes:["channel:manage:moderators"],query:_w(e,r)})}async removeModerator(e,r){await this._client.callApi({type:"helix",url:"moderation/moderators",method:"DELETE",userId:b(e),scopes:["channel:manage:moderators"],query:_w(e,r)})}async checkAutoModStatus(e,r){return(await this._client.callApi({type:"helix",url:"moderation/enforcements/status",method:"POST",userId:b(e),scopes:["moderation:read"],query:he(e),jsonBody:{data:r}})).data.map(i=>new sm(i))}async processHeldAutoModMessage(e,r,n){await this._client.callApi({type:"helix",url:"moderation/automod/message",method:"POST",userId:b(e),scopes:["moderator:manage:automod"],jsonBody:QM(e,r,n)})}async getAutoModSettings(e){const r=b(e);return(await this._client.callApi({type:"helix",url:"moderation/automod/settings",userId:r,scopes:["moderator:read:automod_settings"],canOverrideScopedUserContext:!0,query:this._createModeratorActionQuery(r)})).data.map(i=>new Mu(i))}async updateAutoModSettings(e,r){const n=b(e);return(await this._client.callApi({type:"helix",url:"moderation/automod/settings",method:"PUT",userId:n,scopes:["moderator:manage:automod_settings"],canOverrideScopedUserContext:!0,query:this._createModeratorActionQuery(n),jsonBody:KM(r)})).data.map(s=>new Mu(s))}async banUser(e,r){const n=b(e);return(await this._client.callApi({type:"helix",url:"moderation/bans",method:"POST",userId:n,scopes:["moderator:manage:banned_users"],canOverrideScopedUserContext:!0,query:this._createModeratorActionQuery(n),jsonBody:YM(r)})).data.map(s=>new ps(s,s.end_time,this._client))}async unbanUser(e,r){const n=b(e);await this._client.callApi({type:"helix",url:"moderation/bans",method:"DELETE",userId:n,scopes:["moderator:manage:banned_users"],canOverrideScopedUserContext:!0,query:{...this._createModeratorActionQuery(n),...Ne("user_id",b(r))}})}async getBlockedTerms(e,r){const n=b(e),i=await this._client.callApi({type:"helix",url:"moderation/blocked_terms",userId:n,scopes:["moderator:read:blocked_terms"],canOverrideScopedUserContext:!0,query:{...this._createModeratorActionQuery(n),...ue(r)}});return Fe(i,Du,this._client)}async addBlockedTerm(e,r){const n=b(e);return(await this._client.callApi({type:"helix",url:"moderation/blocked_terms",method:"POST",userId:n,scopes:["moderator:manage:blocked_terms"],canOverrideScopedUserContext:!0,query:this._createModeratorActionQuery(n),jsonBody:{text:r}})).data.map(s=>new Du(s))}async removeBlockedTerm(e,r,n){const i=b(e);await this._client.callApi({type:"helix",url:"moderation/blocked_terms",method:"DELETE",userId:i,scopes:["moderator:manage:blocked_terms"],canOverrideScopedUserContext:!0,query:{...this._createModeratorActionQuery(i),id:n}})}async deleteChatMessages(e,r){const n=b(e);await this._client.callApi({type:"helix",url:"moderation/chat",method:"DELETE",userId:n,scopes:["moderator:manage:chat_messages"],canOverrideScopedUserContext:!0,query:{...this._createModeratorActionQuery(n),...Ne("message_id",r)}})}async getShieldModeStatus(e){const r=b(e),n=await this._client.callApi({type:"helix",url:"moderation/shield_mode",method:"GET",userId:r,scopes:["moderator:read:shield_mode","moderator:manage:shield_mode"],canOverrideScopedUserContext:!0,query:this._createModeratorActionQuery(r)});return new Ko(n.data[0],this._client)}async updateShieldModeStatus(e,r){const n=b(e),i=await this._client.callApi({type:"helix",url:"moderation/shield_mode",method:"PUT",userId:n,scopes:["moderator:manage:shield_mode"],canOverrideScopedUserContext:!0,query:this._createModeratorActionQuery(n),jsonBody:XM(r)});return new Ko(i.data[0],this._client)}_createModeratorActionQuery(e){return GC(e,this._getUserContextIdWithDefault(e))}};om=S([D("api","HelixModerationApi")],om);function JM(t,e){var r;return{broadcaster_id:b(t),title:e.title,choices:e.choices.map(n=>({title:n})),duration:e.duration,channel_points_voting_enabled:e.channelPointsPerVote!=null,channel_points_per_vote:(r=e.channelPointsPerVote)!==null&&r!==void 0?r:0}}function ZM(t,e,r){return{broadcaster_id:b(t),id:e,status:r?"TERMINATED":"ARCHIVED"}}let am=class extends G{get id(){return this[f].id}get title(){return this[f].title}get totalVotes(){return this[f].votes}get channelPointsVotes(){return this[f].channel_points_votes}};am=S([D("api","HelixPollChoice","id")],am);let en=class extends G{constructor(e,r){super(e),this._client=r}get id(){return this[f].id}get broadcasterId(){return this[f].broadcaster_id}get broadcasterName(){return this[f].broadcaster_login}get broadcasterDisplayName(){return this[f].broadcaster_name}async getBroadcaster(){return X(await this._client.users.getUserById(this[f].broadcaster_id))}get title(){return this[f].title}get isChannelPointsVotingEnabled(){return this[f].channel_points_voting_enabled}get channelPointsPerVote(){return this[f].channel_points_per_vote}get status(){return this[f].status}get durationInSeconds(){return this[f].duration}get startDate(){return new Date(this[f].started_at)}get endDate(){return new Date(this.startDate.getTime()+this[f].duration*1e3)}get choices(){return this[f].choices.map(e=>new am(e))}};S([q(!1)],en.prototype,"_client",void 0);en=S([D("api","HelixPoll","id")],en);let lm=class extends Ce{async getPolls(e,r){const n=await this._client.callApi({type:"helix",url:"polls",userId:b(e),scopes:["channel:read:polls"],query:{...he(e),...ue(r)}});return Fe(n,en,this._client)}getPollsPaginated(e){return new Se({url:"polls",userId:b(e),scopes:["channel:read:polls"],query:he(e)},this._client,r=>new en(r,this._client),20)}async getPollsByIds(e,r){return r.length?(await this._client.callApi({type:"helix",url:"polls",userId:b(e),scopes:["channel:read:polls"],query:Fc(e,r)})).data.map(i=>new en(i,this._client)):[]}async getPollById(e,r){const n=await this.getPollsByIds(e,[r]);return n.length?n[0]:null}async createPoll(e,r){const n=await this._client.callApi({type:"helix",url:"polls",method:"POST",userId:b(e),scopes:["channel:manage:polls"],jsonBody:JM(e,r)});return new en(n.data[0],this._client)}async endPoll(e,r,n=!0){const i=await this._client.callApi({type:"helix",url:"polls",method:"PATCH",userId:b(e),scopes:["channel:manage:polls"],jsonBody:ZM(e,r,n)});return new en(i.data[0],this._client)}};lm=S([D("api","HelixPollApi")],lm);function e3(t,e){return{broadcaster_id:b(t),title:e.title,outcomes:e.outcomes.map(r=>({title:r})),prediction_window:e.autoLockAfter}}function t3(t,e,r,n){return{broadcaster_id:b(t),id:e,status:r,winning_outcome_id:n}}let Nu=class extends G{constructor(e,r){super(e),this._client=r}get userId(){return this[f].id}get userName(){return this[f].login}get userDisplayName(){return this[f].name}async getUser(){return await this._client.users.getUserById(this[f].id)}get channelPointsUsed(){return this[f].channel_points_used}get channelPointsWon(){return this[f].channel_points_won}};S([q(!1)],Nu.prototype,"_client",void 0);Nu=S([D("api","HelixPredictor","userId")],Nu);let Yo=class extends G{constructor(e,r){super(e),this._client=r}get id(){return this[f].id}get title(){return this[f].title}get users(){return this[f].users}get totalChannelPoints(){return this[f].channel_points}get color(){return this[f].color}get topPredictors(){var e,r;return(r=(e=this[f].top_predictors)===null||e===void 0?void 0:e.map(n=>new Nu(n,this._client)))!==null&&r!==void 0?r:[]}};S([q(!1)],Yo.prototype,"_client",void 0);Yo=S([D("api","HelixPredictionOutcome","id")],Yo);let tn=class extends G{constructor(e,r){super(e),this._client=r}get id(){return this[f].id}get broadcasterId(){return this[f].broadcaster_id}get broadcasterName(){return this[f].broadcaster_login}get broadcasterDisplayName(){return this[f].broadcaster_name}async getBroadcaster(){return X(await this._client.users.getUserById(this[f].broadcaster_id))}get title(){return this[f].title}get status(){return this[f].status}get autoLockAfter(){return this[f].prediction_window}get creationDate(){return new Date(this[f].created_at)}get endDate(){return this[f].ended_at?new Date(this[f].ended_at):null}get lockDate(){return this[f].locked_at?new Date(this[f].locked_at):null}get outcomes(){return this[f].outcomes.map(e=>new Yo(e,this._client))}get winningOutcomeId(){return this[f].winning_outcome_id||null}get winningOutcome(){if(!this[f].winning_outcome_id)return null;const e=this[f].outcomes.find(r=>r.id===this[f].winning_outcome_id);if(!e)throw new Sn("Winning outcome not found in outcomes array");return new Yo(e,this._client)}};S([q(!1)],tn.prototype,"_client",void 0);tn=S([D("api","HelixPrediction","id")],tn);let um=class extends Ce{async getPredictions(e,r){const n=await this._client.callApi({type:"helix",url:"predictions",userId:b(e),scopes:["channel:read:predictions"],query:{...he(e),...ue(r)}});return Fe(n,tn,this._client)}getPredictionsPaginated(e){return new Se({url:"predictions",userId:b(e),scopes:["channel:read:predictions"],query:he(e)},this._client,r=>new tn(r,this._client),20)}async getPredictionsByIds(e,r){return r.length?(await this._client.callApi({type:"helix",url:"predictions",userId:b(e),scopes:["channel:read:predictions"],query:Fc(e,r)})).data.map(i=>new tn(i,this._client)):[]}async getPredictionById(e,r){const n=await this.getPredictionsByIds(e,[r]);return n.length?n[0]:null}async createPrediction(e,r){const n=await this._client.callApi({type:"helix",url:"predictions",method:"POST",userId:b(e),scopes:["channel:manage:predictions"],jsonBody:e3(e,r)});return new tn(n.data[0],this._client)}async lockPrediction(e,r){return await this._endPrediction(e,r,"LOCKED")}async resolvePrediction(e,r,n){return await this._endPrediction(e,r,"RESOLVED",n)}async cancelPrediction(e,r){return await this._endPrediction(e,r,"CANCELED")}async _endPrediction(e,r,n,i){const s=await this._client.callApi({type:"helix",url:"predictions",method:"PATCH",userId:b(e),scopes:["channel:manage:predictions"],jsonBody:t3(e,r,n,i)});return new tn(s.data[0],this._client)}};um=S([D("api","HelixPredictionApi")],um);function r3(t,e){return{from_broadcaster_id:b(t),to_broadcaster_id:b(e)}}let cm=class extends G{get creationDate(){return new Date(this[f].created_at)}get targetIsMature(){return this[f].is_mature}};cm=S([D("api","HelixRaid")],cm);let dm=class extends Ce{async startRaid(e,r){const n=await this._client.callApi({type:"helix",url:"raids",method:"POST",userId:b(e),scopes:["channel:manage:raids"],query:r3(e,r)});return new cm(n.data[0])}async cancelRaid(e){await this._client.callApi({type:"helix",url:"raids",method:"DELETE",userId:b(e),scopes:["channel:manage:raids"],query:he(e)})}};dm=S([D("api","HelixRaidApi")],dm);function QC(t,e){var r;return{broadcaster_id:b(t),start_time:e==null?void 0:e.startDate,utc_offset:(r=e==null?void 0:e.utcOffset)===null||r===void 0?void 0:r.toString()}}function n3(t,e){return e.vacation?{broadcaster_id:b(t),is_vacation_enabled:"true",vacation_start_time:e.vacation.startDate,vacation_end_time:e.vacation.endDate,timezone:e.vacation.timezone}:{broadcaster_id:b(t),is_vacation_enabled:"false"}}function i3(t){return{start_time:t.startDate,timezone:t.timezone,is_recurring:t.isRecurring,duration:t.duration,category_id:t.categoryId,title:t.title}}function ww(t,e){return{broadcaster_id:b(t),id:e}}function s3(t){return{start_time:t.startDate,timezone:t.timezone,is_canceled:t.isCanceled,duration:t.duration,category_id:t.categoryId,title:t.title}}let mn=class extends G{constructor(e,r){super(e),this._client=r}get id(){return this[f].id}get startDate(){return new Date(this[f].start_time)}get endDate(){return new Date(this[f].end_time)}get title(){return this[f].title}get cancelEndDate(){return yr(this[f].canceled_until,e=>new Date(e))}get categoryId(){var e,r;return(r=(e=this[f].category)===null||e===void 0?void 0:e.id)!==null&&r!==void 0?r:null}get categoryName(){var e,r;return(r=(e=this[f].category)===null||e===void 0?void 0:e.name)!==null&&r!==void 0?r:null}async getCategory(){var e;const r=(e=this[f].category)===null||e===void 0?void 0:e.id;return r?await this._client.games.getGameById(r):null}get isRecurring(){return this[f].is_recurring}};S([q(!1)],mn.prototype,"_client",void 0);mn=S([D("api","HelixScheduleSegment","id")],mn);let hm=class extends Se{constructor(e,r,n){super({url:"schedule",query:QC(e,n)},r,i=>new mn(i,r),25)}async _fetchData(e={}){var r;const n=await super._fetchData(e);return{data:(r=n.data.segments)!==null&&r!==void 0?r:[],pagination:n.pagination}}};hm=S([D("api","HelixPaginatedScheduleSegmentRequest")],hm);let Bu=class extends G{constructor(e,r){super(e),this._client=r}get segments(){var e,r;return(r=(e=this[f].segments)===null||e===void 0?void 0:e.map(n=>new mn(n,this._client)))!==null&&r!==void 0?r:[]}get broadcasterId(){return this[f].broadcaster_id}get broadcasterName(){return this[f].broadcaster_login}get broadcasterDisplayName(){return this[f].broadcaster_name}async getBroadcaster(){return X(await this._client.users.getUserById(this[f].broadcaster_id))}get vacationStartDate(){var e;const r=(e=this[f].vacation)===null||e===void 0?void 0:e.start_time;return r?new Date(r):null}get vacationEndDate(){var e;const r=(e=this[f].vacation)===null||e===void 0?void 0:e.end_time;return r?new Date(r):null}};S([q(!1)],Bu.prototype,"_client",void 0);Bu=S([D("api","HelixSchedule","broadcasterId")],Bu);class o3 extends Ce{async getSchedule(e,r){const n=await this._client.callApi({type:"helix",url:"schedule",userId:b(e),query:{...QC(e,r),...ue(r)}});return{data:new Bu(n.data,this._client),cursor:n.pagination.cursor}}getScheduleSegmentsPaginated(e,r){return new hm(e,this._client,r)}async getScheduleSegmentsByIds(e,r){var n,i;return(i=(n=(await this._client.callApi({type:"helix",url:"schedule",userId:b(e),query:Fc(e,r)})).data.segments)===null||n===void 0?void 0:n.map(o=>new mn(o,this._client)))!==null&&i!==void 0?i:[]}async getScheduleSegmentById(e,r){const n=await this.getScheduleSegmentsByIds(e,[r]);return n.length?n[0]:null}async getScheduleAsIcal(e){return await this._client.callApi({type:"helix",url:"schedule/icalendar",query:he(e)})}async updateScheduleSettings(e,r){await this._client.callApi({type:"helix",url:"schedule/settings",method:"PATCH",userId:b(e),scopes:["channel:manage:schedule"],query:n3(e,r)})}async createScheduleSegment(e,r){const n=await this._client.callApi({type:"helix",url:"schedule/segment",method:"POST",userId:b(e),scopes:["channel:manage:schedule"],query:he(e),jsonBody:i3(r)});return new mn(n.data.segments[0],this._client)}async updateScheduleSegment(e,r,n){const i=await this._client.callApi({type:"helix",url:"schedule/segment",method:"PATCH",userId:b(e),scopes:["channel:manage:schedule"],query:ww(e,r),jsonBody:s3(n)});return new mn(i.data.segments[0],this._client)}async deleteScheduleSegment(e,r){await this._client.callApi({type:"helix",url:"schedule/segment",method:"DELETE",userId:b(e),scopes:["channel:manage:schedule"],query:ww(e,r)})}}function xw(t,e){var r;return{query:t,live_only:(r=e.liveOnly)===null||r===void 0?void 0:r.toString()}}let Xo=class extends G{constructor(e,r){super(e),this._client=r}get language(){return this[f].broadcaster_language}get id(){return this[f].id}get name(){return this[f].broadcaster_login}get displayName(){return this[f].display_name}async getUser(){return X(await this._client.users.getUserById(this[f].id))}get gameId(){return this[f].game_id}get gameName(){return this[f].game_name}async getGame(){return this[f].game_id?X(await this._client.games.getGameById(this[f].game_id)):null}get isLive(){return this[f].is_live}get tags(){return this[f].tags}get thumbnailUrl(){return this[f].thumbnail_url}get startDate(){return this[f].is_live?new Date(this[f].started_at):null}};S([q(!1)],Xo.prototype,"_client",void 0);Xo=S([D("api","HelixChannelSearchResult","id")],Xo);let fm=class extends Ce{async searchCategories(e,r){const n=await this._client.callApi({type:"helix",url:"search/categories",query:{query:e,...ue(r)}});return Fe(n,Yt,this._client)}searchCategoriesPaginated(e){return new Se({url:"search/categories",query:{query:e}},this._client,r=>new Yt(r,this._client))}async searchChannels(e,r={}){const n=await this._client.callApi({type:"helix",url:"search/channels",query:{...xw(e,r),...ue(r)}});return Fe(n,Xo,this._client)}searchChannelsPaginated(e,r={}){return new Se({url:"search/channels",query:xw(e,r)},this._client,n=>new Xo(n,this._client))}};fm=S([D("api","HelixSearchApi")],fm);class a3 extends vr{constructor(e){super("Your stream needs to be live to do this",e)}}function xf(t){return{game_id:t.game,language:t.language,type:t.type,user_id:t.userId,user_login:t.userName}}function l3(t,e){return{user_id:b(t),description:e}}function Sw(t){return{video_id:t}}let ur=class extends G{constructor(e,r){super(e),this._client=r}get id(){return this[f].id}get userId(){return this[f].user_id}get userName(){return this[f].user_login}get userDisplayName(){return this[f].user_name}async getUser(){return X(await this._client.users.getUserById(this[f].user_id))}get gameId(){return this[f].game_id}get gameName(){return this[f].game_name}async getGame(){return this[f].game_id?X(await this._client.games.getGameById(this[f].game_id)):null}get type(){return this[f].type}get title(){return this[f].title}get viewers(){return this[f].viewer_count}get startDate(){return new Date(this[f].started_at)}get language(){return this[f].language}get thumbnailUrl(){return this[f].thumbnail_url}getThumbnailUrl(e,r){return this[f].thumbnail_url.replace("{width}",e.toString()).replace("{height}",r.toString())}get tags(){return this[f].tags}get isMature(){return this[f].is_mature}};S([q(!1)],ur.prototype,"_client",void 0);ur=S([D("api","HelixStream","id")],ur);let Jo=class extends G{constructor(e,r){super(e),this._client=r}get id(){return this[f].id}get creationDate(){return new Date(this[f].created_at)}get description(){return this[f].description}get positionInSeconds(){return this[f].position_seconds}};S([q(!1)],Jo.prototype,"_client",void 0);Jo=S([D("api","HelixStreamMarker","id")],Jo);let pm=class extends Jo{constructor(e,r,n){super(e,n),this._videoId=r}get url(){return this[f].URL}get videoId(){return this._videoId}async getVideo(){return X(await this._client.videos.getVideoById(this._videoId))}};pm=S([D("api","HelixStreamMarkerWithVideo","id")],pm);var Ei;let Zo=Ei=class extends Ce{constructor(){super(...arguments),this._getStreamByUserIdBatcher=new Bt({url:"streams"},"user_id","user_id",this._client,e=>new ur(e,this._client)),this._getStreamByUserNameBatcher=new Bt({url:"streams"},"user_login","user_login",this._client,e=>new ur(e,this._client))}async getStreams(e={}){const r=await this._client.callApi({url:"streams",type:"helix",query:{...xf(e),...ue(e)}});return Fe(r,ur,this._client)}getStreamsPaginated(e={}){return new Se({url:"streams",query:xf(e)},this._client,r=>new ur(r,this._client))}async getStreamsByUserNames(e){return(await this.getStreams({userName:e.map(lo)})).data}async getStreamByUserName(e){var r;return(r=(await this.getStreamsByUserNames([e]))[0])!==null&&r!==void 0?r:null}async getStreamByUserNameBatched(e){return await this._getStreamByUserNameBatcher.request(lo(e))}async getStreamsByUserIds(e){return(await this.getStreams({userId:e.map(b)})).data}async getStreamByUserId(e){const r=b(e),n=await this._client.callApi({url:"streams",type:"helix",userId:r,query:xf({userId:r})});return yr(n.data[0],i=>new ur(i,this._client))}async getStreamByUserIdBatched(e){return await this._getStreamByUserIdBatcher.request(b(e))}async getStreamMarkersForUser(e,r){var n;const i=await this._client.callApi({url:"streams/markers",type:"helix",query:{...cw(e),...ue(r)},userId:b(e),scopes:["user:read:broadcast"],canOverrideScopedUserContext:!0});return{data:vv(i.data.map(s=>Ei._mapGetStreamMarkersResult(s,this._client))),cursor:(n=i.pagination)===null||n===void 0?void 0:n.cursor}}getStreamMarkersForUserPaginated(e){return new Se({url:"streams/markers",query:cw(e),userId:b(e),scopes:["user:read:broadcast"],canOverrideScopedUserContext:!0},this._client,r=>Ei._mapGetStreamMarkersResult(r,this._client))}async getStreamMarkersForVideo(e,r,n){var i;const s=await this._client.callApi({url:"streams/markers",type:"helix",query:{...Sw(r),...ue(n)},userId:b(e),scopes:["user:read:broadcast"],canOverrideScopedUserContext:!0});return{data:vv(s.data.map(o=>Ei._mapGetStreamMarkersResult(o,this._client))),cursor:(i=s.pagination)===null||i===void 0?void 0:i.cursor}}getStreamMarkersForVideoPaginated(e,r){return new Se({url:"streams/markers",query:Sw(r),userId:b(e),scopes:["user:read:broadcast"],canOverrideScopedUserContext:!0},this._client,n=>Ei._mapGetStreamMarkersResult(n,this._client))}async createStreamMarker(e,r){try{const n=await this._client.callApi({url:"streams/markers",method:"POST",type:"helix",userId:b(e),scopes:["channel:manage:broadcast"],canOverrideScopedUserContext:!0,jsonBody:l3(e,r)});return new Jo(n.data[0],this._client)}catch(n){throw n instanceof ci&&n.statusCode===404?new a3({cause:n}):n}}async getStreamKey(e){const r=b(e);return(await this._client.callApi({type:"helix",url:"streams/key",userId:r,scopes:["channel:read:stream_key"],query:he(e)})).data[0].stream_key}async getFollowedStreams(e,r){const n=b(e),i=await this._client.callApi({type:"helix",url:"streams/followed",userId:n,scopes:["user:read:follows"],query:{...Ne("user_id",n),...ue(r)}});return Fe(i,ur,this._client)}getFollowedStreamsPaginated(e){const r=b(e);return new Se({url:"streams/followed",userId:r,scopes:["user:read:follows"],query:Ne("user_id",r)},this._client,n=>new ur(n,this._client))}static _mapGetStreamMarkersResult(e,r){return e.videos.reduce((n,i)=>[...n,...i.markers.map(s=>new pm(s,i.video_id,r))],[])}};S([q(!1)],Zo.prototype,"_getStreamByUserIdBatcher",void 0);S([q(!1)],Zo.prototype,"_getStreamByUserNameBatcher",void 0);Zo=Ei=S([D("api","HelixStreamApi")],Zo);function u3(t,e){return{broadcaster_id:b(t),user_id:b(e)}}let ea=class extends G{constructor(e,r){super(e),this._client=r}get broadcasterId(){return this[f].broadcaster_id}get broadcasterName(){return this[f].broadcaster_login}get broadcasterDisplayName(){return this[f].broadcaster_name}async getBroadcaster(){return await this._client.users.getUserById(this[f].broadcaster_id)}get isGift(){return this[f].is_gift}get tier(){return this[f].tier}};S([q(!1)],ea.prototype,"_client",void 0);ea=S([D("api","HelixUserSubscription","broadcasterId")],ea);let ta=class extends ea{get broadcasterId(){return this[f].broadcaster_id}get broadcasterName(){return this[f].broadcaster_login}get broadcasterDisplayName(){return this[f].broadcaster_name}async getBroadcaster(){return X(await this._client.users.getUserById(this[f].broadcaster_id))}get gifterId(){return this[f].is_gift?this[f].gifter_id:null}get gifterName(){return this[f].is_gift?this[f].gifter_login:null}get gifterDisplayName(){return this[f].is_gift?this[f].gifter_name:null}async getGifter(){return this[f].is_gift?X(await this._client.users.getUserById(this[f].gifter_id)):null}get userId(){return this[f].user_id}get userName(){return this[f].user_login}get userDisplayName(){return this[f].user_name}async getUser(){return X(await this._client.users.getUserById(this[f].user_id))}};ta=S([D("api","HelixSubscription","userId")],ta);let mm=class extends di{constructor(e,r){super({url:"subscriptions",scopes:["channel:read:subscriptions"],userId:b(e),query:he(e)},r,n=>new ta(n,r))}async getPoints(){var e;return((e=this._currentData)!==null&&e!==void 0?e:await this._fetchData({query:{after:void 0}})).points}};mm=S([D("api","HelixPaginatedSubscriptionsRequest")],mm);let gm=class extends Ce{async getSubscriptions(e,r){const n=await this._client.callApi({url:"subscriptions",scopes:["channel:read:subscriptions"],type:"helix",userId:b(e),query:{...he(e),...ue(r)}});return{...sn(n,ta,this._client),points:n.points}}getSubscriptionsPaginated(e){return new mm(e,this._client)}async getSubscriptionsForUsers(e,r){return(await this._client.callApi({type:"helix",url:"subscriptions",userId:b(e),scopes:["channel:read:subscriptions"],query:WC(e,r)})).data.map(i=>new ta(i,this._client))}async getSubscriptionForUser(e,r){const n=await this.getSubscriptionsForUsers(e,[r]);return n.length?n[0]:null}async checkUserSubscription(e,r){try{const n=await this._client.callApi({type:"helix",url:"subscriptions/user",userId:b(e),scopes:["user:read:subscriptions"],query:u3(r,e)});return new ea(n.data[0],this._client)}catch(n){if(n instanceof ci&&n.statusCode===404)return null;throw n}}};gm=S([D("api","HelixSubscriptionApi")],gm);let ra=class extends G{constructor(e,r){super(e),this._client=r}get id(){return this[f].id}get name(){return this[f].team_name}get displayName(){return this[f].team_display_name}get backgroundImageUrl(){return this[f].background_image_url}get bannerUrl(){return this[f].banner}get creationDate(){return new Date(this[f].created_at)}get updateDate(){return new Date(this[f].updated_at)}get info(){return this[f].info}get logoThumbnailUrl(){return this[f].thumbnail_url}async getUserRelations(){return(await this._client.teams.getTeamById(this.id)).userRelations}};S([q(!1)],ra.prototype,"_client",void 0);ra=S([D("api","HelixTeam","id")],ra);let Lu=class extends ra{get userRelations(){return this[f].users.map(e=>new ri(e,this._client))}};Lu=S([D("api","HelixTeamWithUsers","id")],Lu);let ym=class extends Ce{async getTeamsForBroadcaster(e){var r,n;return(n=(r=(await this._client.callApi({type:"helix",url:"teams/channel",userId:b(e),query:he(e)})).data)===null||r===void 0?void 0:r.map(s=>new ra(s,this._client)))!==null&&n!==void 0?n:[]}async getTeamById(e){try{const r=await this._client.callApi({type:"helix",url:"teams",query:{id:e}});return new Lu(r.data[0],this._client)}catch(r){if(r instanceof ci&&r.statusCode===500)return null;throw r}}async getTeamByName(e){try{const r=await this._client.callApi({type:"helix",url:"teams",query:{name:e}});return new Lu(r.data[0],this._client)}catch(r){if(r instanceof ci&&r.statusCode===404)return null;throw r}}};ym=S([D("api","HelixTeamApi")],ym);function c3(t,e){return{target_user_id:b(t),source_context:e.sourceContext,reason:e.reason}}function d3(t){return{target_user_id:b(t)}}class KC extends G{get id(){return this[f].id}get version(){return this[f].version}get name(){return this[f].name}}let uo=class extends KC{constructor(e,r,n){super(n),this._slotType=e,this._slotId=r}get slotType(){return this._slotType}get slotId(){return this._slotId}};uo=S([D("api","HelixInstalledExtension","id")],uo);let Fu=class extends G{getExtensionAtSlot(e,r){const n=this[f][e][r];return n.active?new uo(e,r,n):null}getExtensionsForSlotType(e){return[...Object.entries(this[f][e])].filter(r=>r[1].active).map(([r,n])=>new uo(e,r,n))}getAllExtensions(){return[...Object.entries(this[f])].flatMap(([e,r])=>[...Object.entries(r)].filter(n=>n[1].active).map(([n,i])=>new uo(e,n,i)))}};Fu=S([D("api","HelixInstalledExtensionList")],Fu);let vm=class extends KC{get canActivate(){return this[f].can_activate}get types(){return this[f].type}};vm=S([D("api","HelixUserExtension","id")],vm);let on=class extends G{constructor(e,r){super(e),this._client=r}get id(){return this[f].id}get name(){return this[f].login}get displayName(){return this[f].display_name}get description(){return this[f].description}get type(){return this[f].type}get broadcasterType(){return this[f].broadcaster_type}get profilePictureUrl(){return this[f].profile_image_url}get offlinePlaceholderUrl(){return this[f].offline_image_url}get creationDate(){return new Date(this[f].created_at)}async getStream(){return await this._client.streams.getStreamByUserId(this)}async getFollowedChannels(){return await this._client.channels.getFollowedChannels(this)}async getFollowedChannel(e){var r;return(r=(await this._client.channels.getFollowedChannels(this,e)).data[0])!==null&&r!==void 0?r:null}async follows(e){return await this.getFollowedChannel(e)!==null}async getChannelFollowers(){return await this._client.channels.getChannelFollowers(this)}async getChannelFollower(e){var r;return(r=(await this._client.channels.getChannelFollowers(this,e)).data[0])!==null&&r!==void 0?r:null}async isFollowedBy(e){return await this.getChannelFollower(e)!==null}async getSubscriptionTo(e){return await this._client.subscriptions.checkUserSubscription(this,e)}async isSubscribedTo(e){return await this.getSubscriptionTo(e)!==null}async getSubscriber(e){return await this._client.subscriptions.getSubscriptionForUser(this,e)}async hasSubscriber(e){return await this.getSubscriber(e)!==null}};S([q(!1)],on.prototype,"_client",void 0);on=S([D("api","HelixUser","id")],on);let Uu=class extends on{get email(){return this[f].email}async setDescription(e){return await this._client.users.updateAuthenticatedUser(this,{description:e})}};Uu=S([D("api","HelixPrivilegedUser","id")],Uu);let na=class extends G{constructor(e,r){super(e),this._client=r}get userId(){return this[f].user_id}get userName(){return this[f].user_login}get userDisplayName(){return this[f].display_name}async getUser(){return X(await this._client.users.getUserById(this[f].user_id))}};S([q(!1)],na.prototype,"_client",void 0);na=S([D("api","HelixUserBlock","userId")],na);let ia=class extends Ce{constructor(){super(...arguments),this._getUserByIdBatcher=new Bt({url:"users"},"id","id",this._client,e=>new on(e,this._client)),this._getUserByNameBatcher=new Bt({url:"users"},"login","login",this._client,e=>new on(e,this._client))}async getUsersByIds(e){return await this._getUsers("id",e.map(b))}async getUsersByNames(e){return await this._getUsers("login",e.map(lo))}async getUserById(e){const r=b(e),n=await this._client.callApi({type:"helix",url:"users",userId:r,query:{id:r}});return yr(n.data[0],i=>new on(i,this._client))}async getUserByIdBatched(e){return await this._getUserByIdBatcher.request(b(e))}async getUserByName(e){const r=await this._getUsers("login",[lo(e)]);return r.length?r[0]:null}async getUserByNameBatched(e){return await this._getUserByNameBatcher.request(lo(e))}async getAuthenticatedUser(e,r=!1){var n;const i=await this._client.callApi({type:"helix",url:"users",forceType:"user",userId:b(e),scopes:r?["user:read:email"]:void 0});if(!(!((n=i.data)===null||n===void 0)&&n.length))throw new Sn("Could not get authenticated user");return new Uu(i.data[0],this._client)}async updateAuthenticatedUser(e,r){const n=await this._client.callApi({type:"helix",url:"users",method:"PUT",userId:b(e),scopes:["user:edit"],query:{description:r.description}});return new Uu(n.data[0],this._client)}async getBlocks(e,r){const n=await this._client.callApi({type:"helix",url:"users/blocks",userId:b(e),scopes:["user:read:blocked_users"],query:{...he(e),...ue(r)}});return Fe(n,na,this._client)}getBlocksPaginated(e){return new Se({url:"users/blocks",userId:b(e),scopes:["user:read:blocked_users"],query:he(e)},this._client,r=>new na(r,this._client))}async createBlock(e,r,n={}){await this._client.callApi({type:"helix",url:"users/blocks",method:"PUT",userId:b(e),scopes:["user:manage:blocked_users"],query:c3(r,n)})}async deleteBlock(e,r){await this._client.callApi({type:"helix",url:"users/blocks",method:"DELETE",userId:b(e),scopes:["user:manage:blocked_users"],query:d3(r)})}async getExtensionsForAuthenticatedUser(e,r=!1){return(await this._client.callApi({type:"helix",url:"users/extensions/list",userId:b(e),scopes:r?["user:edit:broadcast"]:["user:read:broadcast","user:edit:broadcast"]})).data.map(i=>new vm(i))}async getActiveExtensions(e,r=!1){const n=b(e),i=await this._client.callApi({type:"helix",url:"users/extensions",userId:n,scopes:r?["user:read:broadcast","user:edit:broadcast"]:void 0,query:Ne("user_id",n)});return new Fu(i.data)}async updateActiveExtensionsForAuthenticatedUser(e,r){const n=await this._client.callApi({type:"helix",url:"users/extensions",method:"PUT",userId:b(e),scopes:["user:edit:broadcast"],jsonBody:{data:r}});return new Fu(n.data)}async _getUsers(e,r){if(r.length===0)return[];const n={[e]:r};return(await this._client.callApi({type:"helix",url:"users",query:n})).data.map(s=>new on(s,this._client))}};S([q(!1)],ia.prototype,"_getUserByIdBatcher",void 0);S([q(!1)],ia.prototype,"_getUserByNameBatcher",void 0);ia=S([D("api","HelixUserApi")],ia);let ni=class extends G{constructor(e,r){super(e),this._client=r}get id(){return this[f].id}get userId(){return this[f].user_id}get userName(){return this[f].user_login}get userDisplayName(){return this[f].user_name}async getUser(){return X(await this._client.users.getUserById(this[f].user_id))}get title(){return this[f].title}get description(){return this[f].description}get creationDate(){return new Date(this[f].created_at)}get publishDate(){return new Date(this[f].published_at)}get url(){return this[f].url}get thumbnailUrl(){return this[f].thumbnail_url}getThumbnailUrl(e,r){return this[f].thumbnail_url.replace("%{width}",e.toString()).replace("%{height}",r.toString())}get isPublic(){return this[f].viewable==="public"}get views(){return this[f].view_count}get language(){return this[f].language}get type(){return this[f].type}get duration(){return this[f].duration}get durationInSeconds(){const e=this[f].duration.match(/\d+[hms]/g);if(!e)throw new Sn(`Could not parse duration string: ${this[f].duration}`);return e.map(r=>{const n=/(\d+)([hms])/.exec(r);if(!n)throw new Sn(`Could not parse partial duration string: ${r}`);const[,i,s]=n;return parseInt(i,10)*{h:3600,m:60,s:1}[s]}).reduce((r,n)=>r+n)}get streamId(){return this[f].stream_id}get mutedSegmentData(){var e,r;return(r=(e=this[f].muted_segments)===null||e===void 0?void 0:e.slice())!==null&&r!==void 0?r:[]}isMutedAt(e,r,n=!1){if(this[f].muted_segments===null)return!1;if(r==null)return this[f].muted_segments.some(s=>s.offset<=e&&e<=s.offset+s.duration);const i=e+r;return n?this[f].muted_segments.some(s=>{const o=s.offset+s.duration;return e<o&&s.offset<i}):this[f].muted_segments.some(s=>{const o=s.offset+s.duration;return s.offset<=e&&i<=o})}};S([q(!1)],ni.prototype,"_client",void 0);S([ye()],ni.prototype,"durationInSeconds",null);ni=S([ba,D("api","HelixVideo","id")],ni);var Dl;let ju=Dl=class extends Ce{constructor(){super(...arguments),this._getVideoByIdBatcher=new Bt({url:"videos"},"id","id",this._client,e=>new ni(e,this._client))}async getVideosByIds(e){return(await this._getVideos("id",e)).data}async getVideoById(e){const r=await this.getVideosByIds([e]);return r.length?r[0]:null}async getVideoByIdBatched(e){return await this._getVideoByIdBatcher.request(e)}async getVideosByUser(e,r={}){const n=b(e);return await this._getVideos("user_id",[n],r)}getVideosByUserPaginated(e,r={}){const n=b(e);return this._getVideosPaginated("user_id",[n],r)}async getVideosByGame(e,r={}){return await this._getVideos("game_id",[e],r)}getVideosByGamePaginated(e,r={}){return this._getVideosPaginated("game_id",[e],r)}async deleteVideosByIds(e,r){await this._client.callApi({type:"helix",url:"videos",method:"DELETE",scopes:["channel:manage:videos"],userId:b(e),query:{id:r}})}async _getVideos(e,r,n={}){if(!r.length)return{data:[]};const i=await this._client.callApi({type:"helix",url:"videos",userId:e==="user_id"?r[0]:void 0,query:{...Dl._makeVideosQuery(e,r,n),...ue(n)}});return Fe(i,ni,this._client)}_getVideosPaginated(e,r,n={}){return new Se({url:"videos",userId:e==="user_id"?r[0]:void 0,query:Dl._makeVideosQuery(e,r,n)},this._client,i=>new ni(i,this._client))}static _makeVideosQuery(e,r,n={}){const{language:i,period:s,orderBy:o,type:a}=n;return{[e]:r,language:i,period:s,sort:o,type:a}}};S([q(!1)],ju.prototype,"_getVideoByIdBatcher",void 0);ju=Dl=S([D("api","HelixVideoApi")],ju);function h3(t,e){return{from_user_id:b(t),to_user_id:b(e)}}let _m=class extends Ce{async sendWhisper(e,r,n){await this._client.callApi({type:"helix",url:"whispers",method:"POST",userId:b(e),scopes:["user:manage:whispers"],query:h3(e,r),jsonBody:{message:n}})}};_m=S([D("api","HelixWhisperApi")],_m);class f3{constructor(e,r,n){this._options=e,this._httpStatus=r,this._resolvedUserId=n}get options(){return this._options}get httpStatus(){return this._httpStatus}get resolvedUserId(){return this._resolvedUserId}}let ge=class extends Cs{constructor(e,r,n){super(),this.onRequest=this.registerEvent(),this._config=e,this._logger=r,this._rateLimiter=n}async requestScopesForUser(e,r){await this._config.authProvider.getAccessTokenForUser(e,...r.map(n=>[n]))}async getTokenInfo(){try{const e=await this.callApi({type:"auth",url:"validate"});return new mu(e)}catch(e){throw e instanceof ci&&e.statusCode===401?new Zn({cause:e}):e}}async callApi(e){var r;const{authProvider:n}=this._config;if(!((r=e.auth)!==null&&r!==void 0?r:!0))return await wa(e,n.clientId,void 0,void 0,this._config.fetchOptions);let s=!1;if(e.forceType)switch(e.forceType){case"app":{if(!n.getAppAccessToken)throw new Error("Tried to make an API call that requires an app access token but your auth provider does not support that");const l=await n.getAppAccessToken();return await this._callApiUsingInitialToken(e,l)}case"user":{s=!0;break}default:throw new Sn(`Unknown forced token type: ${e.forceType}`)}if(e.scopes&&(s=!0),s){const l=e.canOverrideScopedUserContext?this._getUserIdFromRequestContext(e.userId):e.userId;if(!l)throw new Error("Tried to make an API call with a user context but no context user ID");const u=await n.getAccessTokenForUser(l,e.scopes);if(!u)throw new Error(`Tried to make an API call with a user context for user ID ${l} but no token was found`);if(Xi(u)&&n.refreshAccessTokenForUser){const c=await n.refreshAccessTokenForUser(l);return await this._callApiUsingInitialToken(e,c,!0)}return await this._callApiUsingInitialToken(e,u)}const o=this._getUserIdFromRequestContext(e.userId),a=o===null?await n.getAnyAccessToken():await n.getAnyAccessToken(o??e.userId);if(Xi(a)&&a.userId&&n.refreshAccessTokenForUser){const l=await n.refreshAccessTokenForUser(a.userId);return await this._callApiUsingInitialToken(e,l,!0)}return await this._callApiUsingInitialToken(e,a)}get bits(){return new Xp(this)}get channels(){return new xu(this)}get channelPoints(){return new Jp(this)}get charity(){return new Zp(this)}get chat(){return new tm(this)}get clips(){return new Au(this)}get entitlements(){return new Iu(this)}get eventSub(){return new rm(this)}get extensions(){return new nm(this)}get games(){return new fs(this)}get hypeTrain(){return new WM(this)}get goals(){return new im(this)}get moderation(){return new om(this)}get polls(){return new lm(this)}get predictions(){return new um(this)}get raids(){return new dm(this)}get schedule(){return new o3(this)}get search(){return new fm(this)}get streams(){return new Zo(this)}get subscriptions(){return new gm(this)}get teams(){return new ym(this)}get users(){return new ia(this)}get videos(){return new ju(this)}get whispers(){return new _m(this)}get rateLimiterStats(){return this._rateLimiter instanceof ny?this._rateLimiter.stats:null}get _authProvider(){return this._config.authProvider}get _batchDelay(){var e;return(e=this._config.batchDelay)!==null&&e!==void 0?e:0}_getUserIdFromRequestContext(e){return e}async _callApiUsingInitialToken(e,r,n=!1){var i;const{authProvider:s}=this._config,o=s.authorizationType;let a=await this._callApiInternal(e,s.clientId,r.accessToken,o);if(a.status===401&&!n){if(r.userId){if(s.refreshAccessTokenForUser){const l=await s.refreshAccessTokenForUser(r.userId);a=await this._callApiInternal(e,s.clientId,l.accessToken,o)}}else if(s.getAppAccessToken){const l=await s.getAppAccessToken(!0);a=await this._callApiInternal(e,s.clientId,l.accessToken,o)}}return this.emit(this.onRequest,new f3(e,a.status,(i=r.userId)!==null&&i!==void 0?i:null)),await zp(a,e),await sC(a)}async _callApiInternal(e,r,n,i){var s,o,a;const{fetchOptions:l}=this._config,u=(s=e.type)!==null&&s!==void 0?s:"helix";this._logger.debug(`Calling ${u} API: ${(o=e.method)!==null&&o!==void 0?o:"GET"} ${e.url}`),this._logger.trace(`Query: ${JSON.stringify(e.query)}`),e.jsonBody&&this._logger.trace(`Request body: ${JSON.stringify(e.jsonBody)}`);const c=DM.operation({retries:3,minTimeout:500,factor:2}),{promise:h,resolve:d,reject:p}=No();c.attempt(async()=>{try{const _=u==="helix"?await this._rateLimiter.request({options:e,clientId:r,accessToken:n,authorizationType:i,fetchOptions:l}):await Ic(e,r,n,i,l);!_.ok&&_.status>=500&&_.status<600&&await zp(_,e),d(_)}catch(_){if(c.retry(_))return;p(c.mainError())}});const m=await h;return this._logger.debug(`Called ${u} API: ${(a=e.method)!==null&&a!==void 0?a:"GET"} ${e.url} - result: ${m.status}`),m}};S([ye()],ge.prototype,"bits",null);S([ye()],ge.prototype,"channels",null);S([ye()],ge.prototype,"channelPoints",null);S([ye()],ge.prototype,"charity",null);S([ye()],ge.prototype,"chat",null);S([ye()],ge.prototype,"clips",null);S([ye()],ge.prototype,"entitlements",null);S([ye()],ge.prototype,"eventSub",null);S([ye()],ge.prototype,"extensions",null);S([ye()],ge.prototype,"games",null);S([ye()],ge.prototype,"hypeTrain",null);S([ye()],ge.prototype,"goals",null);S([ye()],ge.prototype,"moderation",null);S([ye()],ge.prototype,"polls",null);S([ye()],ge.prototype,"predictions",null);S([ye()],ge.prototype,"raids",null);S([ye()],ge.prototype,"schedule",null);S([ye()],ge.prototype,"search",null);S([ye()],ge.prototype,"streams",null);S([ye()],ge.prototype,"subscriptions",null);S([ye()],ge.prototype,"teams",null);S([ye()],ge.prototype,"users",null);S([ye()],ge.prototype,"videos",null);S([ye()],ge.prototype,"whispers",null);ge=S([ba,D("api","ApiClient")],ge);let wm=class extends ge{_getUserIdFromRequestContext(){return null}};wm=S([D("api","ApiClient")],wm);let $u=class extends ge{constructor(e,r,n,i){super(e,r,n),this._userId=i}_getUserIdFromRequestContext(){return this._userId}};$u=S([D("api","ApiClient")],$u);let xm=class extends ge{constructor(e){if(!e.authProvider)throw new kM("No auth provider given. Please supply the `authProvider` option.");const r={name:"twurple:api:rate-limiter",...e.logger};super(e,Ts({name:"twurple:api:client",...e.logger}),kc?new AM({getPartitionKey:n=>{var i;return(i=n.userId)!==null&&i!==void 0?i:null},createChild:()=>new RM({logger:r})}):new VC({logger:r,bucketSize:800,timeFrame:64e3,doRequest:async({options:n,clientId:i,accessToken:s,authorizationType:o,fetchOptions:a})=>await Ic(n,i,s,o,a),getPartitionKey:n=>{var i;return(i=n.userId)!==null&&i!==void 0?i:null}}))}async asUser(e,r){const n=new $u(this._config,this._logger,this._rateLimiter,b(e));return await r(n)}async asIntent(e,r){if(!this._authProvider.getAccessTokenForIntent)throw new Error("Trying to use intents with an auth provider that does not support them");for(const n of e){const i=await this._authProvider.getAccessTokenForIntent(n);if(i){const s=new $u(this._config,this._logger,this._rateLimiter,i.userId);return await r(s)}}throw new Error(`Intents [${e.join(", ")}] not found in auth provider`)}async withoutUser(e){const r=new wm(this._config,this._logger,this._rateLimiter);return await e(r)}};xm=S([D("api","ApiClient")],xm);const YC="xrjkdmui65qd33jdx8itfslt61qys8",XC=slime2Tokens.twitch||"",JC=new Bo(YC,XC),ms=new xm({authProvider:JC});let qu=null,bw=!1;function Nn(){if(!qu)throw new Error("tokenInfo is not defined!");const{userId:t,userName:e}=qu;return{broadcaster:{id:t,userName:e}}}function p3(){const[t,e]=U.useState(!0);return U.useEffect(()=>{async function r(){bw||(qu=await ds(XC,YC).catch(()=>null)),e(!1),bw=!0}r()},[]),{loading:t,tokenInfo:qu}}var m3={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function g3(t){if(typeof t=="number")return{value:t,unit:"px"};var e,r=(t.match(/^[0-9.]*/)||"").toString();r.includes(".")?e=parseFloat(r):e=parseInt(r,10);var n=(t.match(/[^0-9]*$/)||"").toString();return m3[n]?{value:e,unit:n}:(console.warn("React Spinners: ".concat(t," is not a valid css value. Defaulting to ").concat(e,"px.")),{value:e,unit:"px"})}function sl(t){var e=g3(t);return"".concat(e.value).concat(e.unit)}var y3=function(t,e,r){var n="react-spinners-".concat(t,"-").concat(r);if(typeof window>"u"||!window.document)return n;var i=document.createElement("style");document.head.appendChild(i);var s=i.sheet,o=`
    @keyframes `.concat(n,` {
      `).concat(e,`
    }
  `);return s&&s.insertRule(o,0),n},Vu=globalThis&&globalThis.__assign||function(){return Vu=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Vu.apply(this,arguments)},v3=globalThis&&globalThis.__rest||function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r},_3=y3("ScaleLoader","0% {transform: scaley(1.0)} 50% {transform: scaley(0.4)} 100% {transform: scaley(1.0)}","scale");function w3(t){var e=t.loading,r=e===void 0?!0:e,n=t.color,i=n===void 0?"#000000":n,s=t.speedMultiplier,o=s===void 0?1:s,a=t.cssOverride,l=a===void 0?{}:a,u=t.height,c=u===void 0?35:u,h=t.width,d=h===void 0?4:h,p=t.radius,m=p===void 0?2:p,_=t.margin,w=_===void 0?2:_,v=v3(t,["loading","color","speedMultiplier","cssOverride","height","width","radius","margin"]),g=Vu({display:"inherit"},l),y=function(x){return{backgroundColor:i,width:sl(d),height:sl(c),margin:sl(w),borderRadius:sl(m),display:"inline-block",animation:"".concat(_3," ").concat(1/o,"s ").concat(x*.1,"s infinite cubic-bezier(0.2, 0.68, 0.18, 1.08)"),animationFillMode:"both"}};return r?U.createElement("span",Vu({style:g},v),U.createElement("span",{style:y(1)}),U.createElement("span",{style:y(2)}),U.createElement("span",{style:y(3)}),U.createElement("span",{style:y(4)}),U.createElement("span",{style:y(5)})):null}function ZC({message:t}){const e=de.jsx(w3,{color:"#ecfccb",loading:!0,speedMultiplier:.5,height:16,width:3,radius:10});return de.jsxs("div",{className:"bg-emerald-800 absolute top-3 inset-x-3 rounded-xl p-3 flex items-center justify-center",children:[e,de.jsx("span",{className:"text-lime-100 text-md mx-3 font-grandstander",children:t}),e]})}function x3(){return de.jsx("div",{className:"bg-rose-900 absolute top-3 inset-x-3 rounded-xl p-3 flex items-center justify-center",children:de.jsxs("span",{className:"text-white text-md mx-3 font-radiocanada",children:[de.jsx("strong",{className:"font-semibold",children:"Token Invalid"}),": You haven't set a token or your token expired. Get a new token at"," ","[",de.jsx("a",{href:"https://slime2.stream/token",target:"_blank",rel:"noreferrer",className:"text-rose-200 underline",children:"slime2.stream/token"}),"]"]})})}const iy=[],e2=U.createContext(iy),t2=U.createContext(()=>null);function S3({children:t}){const[e,r]=U.useReducer(C3,iy);return de.jsx(e2.Provider,{value:e,children:de.jsx(t2.Provider,{value:r,children:t})})}function b3(){return U.useContext(e2)}function sy(){return U.useContext(t2)}function C3(t,e){switch(e.type){case"add":{const r=[...t];return r.push(e.payload),r}case"clear":{const r=e.payload?t.filter(n=>n.user.id!==e.payload):iy;return slime2Chat.onModDelete(e.payload?{type:"user",id:e.payload}:{type:"all",id:null}),r}case"remove":{const r=t.filter(n=>n.id!==e.payload);return e.moderator&&slime2Chat.onModDelete({type:"single",id:e.payload}),r}}}class T3 extends Cs{constructor({lineBased:e,logger:r,additionalOptions:n}={}){super(),this._currentLine="",this._connecting=!1,this._connected=!1,this.onReceive=this.registerEvent(),this.onConnect=this.registerEvent(),this.onDisconnect=this.registerEvent(),this.onEnd=this.registerEvent(),this._lineBased=e??!1,this._logger=r,this._additionalOptions=n}get isConnecting(){return this._connecting}get isConnected(){return this._connected}sendLine(e){this._connected&&(e=e.replace(/[\0\r\n]/g,""),this.sendRaw(`${e}\r
`))}assumeExternalDisconnect(){var e;(e=this._logger)===null||e===void 0||e.trace("AbstractConnection assumeExternalDisconnect"),this._connected=!1,this._connecting=!1,this.clearSocket(),this.emit(this.onDisconnect,!1)}receiveRaw(e){var r,n;if(!this._lineBased){this.emit(this.onReceive,e);return}const i=e.split(`\r
`);if(this._currentLine+=(r=i.shift())!==null&&r!==void 0?r:"",i.length){this.emit(this.onReceive,this._currentLine),this._currentLine=(n=i.pop())!==null&&n!==void 0?n:"";for(const s of i)this.emit(this.onReceive,s)}}}class E3{constructor(){throw new Error("DirectConnection is not implemented in a browser environment")}}class P3 extends Cs{constructor(e,r,n={}){var i;super(),this._type=e,this._target=r,this._config=n,this._retryLimit=1/0,this._initialRetryLimit=3,this._connecting=!1,this._connectionRetryCount=0,this.onReceive=this.registerEvent(),this.onConnect=this.registerEvent(),this.onDisconnect=this.registerEvent(),this.onEnd=this.registerEvent(),this._retryLimit=(i=n.retryLimit)!==null&&i!==void 0?i:1/0,this._logger=n.logger}get isConnected(){var e,r;return(r=(e=this._currentConnection)===null||e===void 0?void 0:e.isConnected)!==null&&r!==void 0?r:!1}get isConnecting(){var e,r;return(r=(e=this._currentConnection)===null||e===void 0?void 0:e.isConnecting)!==null&&r!==void 0?r:this._connecting}get hasSocket(){var e,r;return(r=(e=this._currentConnection)===null||e===void 0?void 0:e.hasSocket)!==null&&r!==void 0?r:!1}sendLine(e){var r;(r=this._currentConnection)===null||r===void 0||r.sendLine(e)}connect(){if(this._currentConnection||this._connecting)throw new Error("Connection already present");this._connecting=!0,this._connectionRetryCount=0,this._tryConnect(!0)}disconnect(){var e;if((e=this._logger)===null||e===void 0||e.trace(`PersistentConnection disconnect currentConnectionExists:${(!!this._currentConnection).toString()} connecting:${this._connecting.toString()}`),this._connecting=!1,this._currentConnection){const r=this._currentConnection;this._currentConnection=void 0,r.disconnect()}}assumeExternalDisconnect(){var e,r;(e=this._logger)===null||e===void 0||e.trace("PersistentConnection assumeExternalDisconnect"),(r=this._currentConnection)===null||r===void 0||r.assumeExternalDisconnect()}reconnect(){this._reconnect(!0)}acknowledgeSuccessfulReconnect(){this._previousConnection&&(this._previousConnection.disconnect(),this._previousConnection=void 0)}_startTryingToConnect(e=!1){this._connecting=!0,this._connectionRetryCount=0,this._tryConnect(e)}_tryConnect(e=!1){var r,n;(r=this._logger)===null||r===void 0||r.trace(`PersistentConnection tryConnect currentConnectionExists:${(!!this._currentConnection).toString()} connecting:${this._connecting.toString()}`);const i=e?this._initialRetryLimit:this._retryLimit;(n=this._retryTimerGenerator)!==null&&n!==void 0||(this._retryTimerGenerator=Xb(120));const s=this._currentConnection=new this._type($I(this._target),this._config);s.onReceive(o=>this.emit(this.onReceive,o)),s.onConnect(()=>{this.emit(this.onConnect),this._connecting=!1,this._retryTimerGenerator=void 0}),s.onDisconnect((o,a)=>{var l,u,c;if(this.emit(this.onDisconnect,o,a),o)this.emit(this.onEnd,!0),this._connecting=!1,this._retryTimerGenerator=void 0,s.disconnect(),this._currentConnection===s&&(this._currentConnection=void 0),this._previousConnection===s&&(this._previousConnection=void 0);else if(this._connecting){if((l=this._logger)===null||l===void 0||l.debug(`Connection error caught: ${(u=a==null?void 0:a.message)!==null&&u!==void 0?u:"unknown error"}`),this._connectionRetryCount>=i)return;this._connectionRetryCount++;const h=this._retryTimerGenerator.next().value;h!==0&&((c=this._logger)===null||c===void 0||c.info(`Retrying in ${h} seconds`)),setTimeout(()=>{var d;this._connecting&&((d=this._logger)===null||d===void 0||d.info(e?"Retrying connection":"Trying to reconnect"),this._tryConnect())},h*1e3)}else this._reconnect()}),s.connect()}_reconnect(e=!1){e&&this._config.overlapManualReconnect?(this._previousConnection=this._currentConnection,this._currentConnection=void 0):this.disconnect(),this._startTryingToConnect(e)}}var Pi=null;typeof WebSocket<"u"?Pi=WebSocket:typeof MozWebSocket<"u"?Pi=MozWebSocket:typeof global<"u"?Pi=global.WebSocket||global.MozWebSocket:typeof window<"u"?Pi=window.WebSocket||window.MozWebSocket:typeof self<"u"&&(Pi=self.WebSocket||self.MozWebSocket);class A3 extends T3{constructor(e,r){if(super(r),this._socket=null,this._closingOnDemand=!1,e.hostName&&e.port)this._url=`ws${e.secure?"s":""}://${e.hostName}:${e.port}`;else if(e.url)this._url=e.url;else throw new Error("WebSocketConnection requires either hostName & port or url to be set")}get hasSocket(){return!!this._socket}sendRaw(e){var r;(r=this._socket)===null||r===void 0||r.send(e)}connect(){var e,r;(e=this._logger)===null||e===void 0||e.trace("WebSocketConnection connect"),this._connecting=!0,this._socket=new Pi(this._url,(r=this._additionalOptions)===null||r===void 0?void 0:r.wsOptions),this._socket.onopen=()=>{var n;(n=this._logger)===null||n===void 0||n.trace("WebSocketConnection onOpen"),this._connected=!0,this._connecting=!1,this.emit(this.onConnect)},this._socket.onmessage=({data:n})=>{this.receiveRaw(n.toString())},this._socket.onerror=n=>{var i;(i=this._logger)===null||i===void 0||i.trace(`WebSocketConnection onError message:${n.message}`)},this._socket.onclose=n=>{var i;const s=this._connected,o=this._connecting;if((i=this._logger)===null||i===void 0||i.trace(`WebSocketConnection onClose wasConnected:${s.toString()} wasConnecting:${o.toString()} closingOnDemand:${this._closingOnDemand.toString()} wasClean:${n.wasClean.toString()}`),this._connected=!1,this._connecting=!1,n.wasClean||this._closingOnDemand)this._closingOnDemand=!1,this.emit(this.onDisconnect,!0),this.emit(this.onEnd,!0);else{const a=new Error(`[${n.code}] ${n.reason}`);this.emit(this.onDisconnect,!1,a),this.emit(this.onEnd,!1,a)}this.clearSocket()}}disconnect(){var e,r;(e=this._logger)===null||e===void 0||e.trace("WebSocketConnection disconnect"),this._closingOnDemand=!0,(r=this._socket)===null||r===void 0||r.close()}clearSocket(){this._socket&&(this._socket.onopen=null,this._socket.onmessage=null,this._socket.onerror=null,this._socket.onclose=null,this._socket=null)}}function co(t){var e,r,n;if(Array.isArray(t)){for(r=Array(e=t.length);e--;)r[e]=(n=t[e])&&typeof n=="object"?co(n):n;return r}if(Object.prototype.toString.call(t)==="[object Object]"){r={};for(e in t)e==="__proto__"?Object.defineProperty(r,e,{value:co(t[e]),configurable:!0,enumerable:!0,writable:!0}):r[e]=(n=t[e])&&typeof n=="object"?co(n):n;return r}return t}const I3={name:"away-notify"};class Hu extends Error{constructor(e,r,n){super(`command "${e}" expected ${r} or more parameters, got ${n}`),this._command=e,this._expectedParams=r,this._actualParams=n,Object.setPrototypeOf(this,Hu.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Hu)}get command(){return this._command}get expectedParams(){return this._expectedParams}get actualParams(){return this._actualParams}}class zu extends Error{constructor(e,r,n,i){var s;super(`required parameter "${r}" did not validate against ${(s=n.type)!==null&&s!==void 0?s:"regex"} validation: "${i}"`),this._command=e,this._paramName=r,this._paramSpec=n,this._givenValue=i,Object.setPrototypeOf(this,zu.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,zu)}get command(){return this._command}get paramName(){return this._paramName}get paramSpec(){return this._paramSpec}get givenValue(){return this._givenValue}}const rs={channelTypes:"#&",supportedUserModes:"iwso",supportedChannelModes:{prefix:"ov",list:"b",alwaysWithParam:"ovk",paramWhenSet:"l",noParam:"imnpst"},prefixes:[{modeChar:"v",prefix:"+"},{modeChar:"o",prefix:"@"}]};var r2={exports:{}};(function(t){t.exports=e=>{if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")},t.exports.default=t.exports})(r2);var k3=r2.exports;const R3=_s(k3);function Sm(t,e="#&"){return new RegExp(`^[${R3(e)}][^ \b\0
\r,]+$`).test(t)}const Cw={0:"\0",n:`
`,r:"\r","":""};function Tw(t){if(!t.startsWith("")||(t=t.substring(1),t.endsWith("")&&(t=t.slice(0,-1)),!t))return!1;t=t.replace(/\x10(.)/,(n,i)=>i in Cw?Cw[i]:"");let[e,r=""]=Jn(t," ",2);return e=e?e.toUpperCase():"",{command:e,params:r}}const M3={"\\":"\\",";":":","\n":"n","\r":"r"," ":"s"};function O3(t){return t.replace(/[\\;\n\r ]/g,e=>`\\${M3[e]}`)}function D3(t){let e=`${t.nick}`;return t.user&&(e+=`!${t.user}`),t.host&&(e+=`@${t.host}`),e}function N3(t,e,r,n,i=rs,s=!1){const o=new t(t.COMMAND,void 0,{serverProperties:i}),a={};if(o._paramSpec&&jp(o._paramSpec,(l,u)=>{if(!(s&&l.noServer)&&!(!s&&l.noClient)){if(u in e){const c=e[u];if(c!==void 0){if(t.checkParam(c,l,i))a[u]={value:c,trailing:!!l.trailing};else if(!l.optional)throw new Error(`required parameter "${u}" did not suit requirements: "${c}"`)}}if(!(u in a)&&!l.optional)throw new Error(`required parameter "${u}" not found in command "${t.COMMAND}"`)}}),o._parsedParams=a,o._paramSpec)for(const l of Object.keys(o._paramSpec))Object.defineProperty(o,l,{get(){var u,c;return(c=(u=this._parsedParams)===null||u===void 0?void 0:u[l])===null||c===void 0?void 0:c.value}});return o._initPrefixAndTags(r,n),o}let M=class n2{static checkParam(e,r,n=rs){return!(r.type==="channel"&&!Sm(e,n.channelTypes)||r.type==="channelList"&&!e.split(",").every(s=>Sm(s,n.channelTypes))||r.match&&!r.match.test(e))}constructor(e,{params:r,tags:n,prefix:i,rawLine:s}={},{serverProperties:o=rs,isServer:a=!1,shouldParseParams:l=!0}={},u){this._params=[],this._serverProperties=rs,this._paramSpec=u,this._command=e,this._params=r,this._tags=n??new Map,this._prefix=i,this._serverProperties=o,this._raw=s,l&&this.parseParams(a)}getMinParamCount(e=!1){return this._paramSpec?Object.values(this._paramSpec).filter(r=>r.noServer&&e||r.noClient&&!e?!1:!r.optional).length:0}get paramCount(){var e,r;return(r=(e=this._params)===null||e===void 0?void 0:e.length)!==null&&r!==void 0?r:0}prefixToString(){return this._prefix?D3(this._prefix):""}tagsToString(){return[...this._tags.entries()].map(([e,r])=>r?`${e}=${O3(r)}`:e).join(";")}toString(e=!1,r=!1){const i=[r?this._buildCommandFromRawParams():this._buildCommandFromNamedParams()];if(e){const o=this.prefixToString();o&&i.unshift(`:${o}`)}const s=this.tagsToString();return s&&i.unshift(`@${s}`),i.join(" ")}_initPrefixAndTags(e,r){this._prefix=e,r&&(this._tags=r)}parseParams(e=!1){if(this._params){let r=this.getMinParamCount(e);if(r>this._params.length)throw new Hu(this._command,r,this._params.length);const n=this._paramSpec;if(!n)return;let i=0;const s={};for(const[o,a]of Object.entries(n)){if(a.noServer&&e||a.noClient&&!e)continue;if(this._params.length-i<=r){if(a.optional)continue;if(this._params.length-i!==r)throw new Error("not enough parameters left for required parameters parsing (this is a library bug)")}let l=this._params[i];if(!l){if(a.optional)break;throw new Error("unexpected parameter underflow")}if(a.rest){const u=[];for(;this._params[i]&&!this._params[i].trailing;)u.push(this._params[i].value),++i;if(!u.length){if(a.optional)continue;throw new Error(`no parameters left for required rest parameter "${o}"`)}l={value:u.join(" "),trailing:!1}}if(n2.checkParam(l.value,a))s[o]={...l},a.optional||--r,a.rest||++i;else if(!a.optional)throw new zu(this._command,o,a,l.value);if(a.trailing)break}if(this._parsedParams=s,this._paramSpec)for(const o of Object.keys(this._paramSpec))Object.defineProperty(this,o,{get(){var a,l;return(l=(a=this._parsedParams)===null||a===void 0?void 0:a[o])===null||l===void 0?void 0:l.value}})}}get rawParamValues(){var e,r;return(r=(e=this._params)===null||e===void 0?void 0:e.map(n=>n.value))!==null&&r!==void 0?r:[]}get prefix(){return this._prefix}get command(){return this._command}get tags(){return this._tags}get rawLine(){return this._raw}isResponseTo(e){return!1}endsResponseTo(e){return!1}_acceptsInReplyCollection(e){return e.isResponseTo(this)}_buildCommandFromNamedParams(){const e=this._paramSpec?Object.keys(this._paramSpec):[];return[this._command,...e.map(r=>{var n;const i=(n=this._parsedParams)===null||n===void 0?void 0:n[r];if(i)return(i.trailing?":":"")+i.value}).filter(r=>r!==void 0)].join(" ")}_buildCommandFromRawParams(){var e,r;return[this._command,...(r=(e=this._params)===null||e===void 0?void 0:e.map(n=>`${n.trailing?":":""}${n.value}`))!==null&&r!==void 0?r:[]].join(" ")}};M.COMMAND="";M.SUPPORTS_CAPTURE=!1;class i2 extends M{constructor(e,r,n){super(e,r,n,{reference:{},type:{optional:!0},additionalParams:{optional:!0}})}}i2.COMMAND="BATCH";const B3={name:"batch",messageTypes:[i2],usesTags:!0},L3={name:"cap-notify"};class s2 extends M{constructor(e,r,n){super(e,r,n,{newUser:{},newHost:{}})}}s2.COMMAND="CHGHOST";const F3={name:"chghost",messageTypes:[s2]},U3={name:"invite-notify"};class o2 extends M{}o2.COMMAND="ACK";const j3={name:"labeled-response",messageTypes:[o2],usesTags:!0},$3={name:"message-tags",usesTags:!0},q3={name:"multi-prefix"},V3=Object.freeze(Object.defineProperty({__proto__:null,AwayNotify:I3,Batch:B3,CapNotify:L3,ChgHost:F3,InviteNotify:U3,LabeledResponse:j3,MessageTags:$3,MultiPrefix:q3},Symbol.toStringTag,{value:"Module"}));class H3{constructor(e,r,...n){this._client=e,this._originalMessage=r,this._messages=[],this._endEventHandlers=new Map,this._types=new Set(n)}untilEvent(e){this._cleanEndEventHandler(e);const r=this._client.on(e,()=>this.end());this._endEventHandlers.set(e,r)}async promise(){return this._promise||(this._promise=new Promise(e=>this._promiseResolve=e)),await this._promise}collect(e){return this._originalMessage._acceptsInReplyCollection(e)?(this._messages.push(e),e.endsResponseTo(this._originalMessage)&&this.end(),!0):!1}end(){this._client.stopCollect(this),this._cleanEndEventHandlers(),this._promiseResolve&&this._promiseResolve(this._messages)}_cleanEndEventHandlers(){this._endEventHandlers.forEach(e=>this._client.removeListener(e)),this._endEventHandlers.clear()}_cleanEndEventHandler(e){this._endEventHandlers.has(e)&&(this._client.removeListener(this._endEventHandlers.get(e)),this._endEventHandlers.delete(e))}}class oy extends M{constructor(e,r,n){super(e,r,n,{password:{}})}}oy.COMMAND="PASS";class ho extends M{constructor(e,r,n){super(e,r,n,{nick:{}})}}ho.COMMAND="NICK";class ay extends M{constructor(e,r,n){super(e,r,n,{user:{},mode:{},unused:{},realName:{trailing:!0}})}}ay.COMMAND="USER";class a2 extends M{constructor(e,r,n){super(e,r,n,{name:{},password:{}})}}a2.COMMAND="OPER";class ly extends M{constructor(e,r,n){super(e,r,n,{text:{trailing:!0,optional:!0}})}}ly.COMMAND="QUIT";class l2 extends M{constructor(e,r,n){super(e,r,n,{server:{},reason:{trailing:!0}})}}l2.COMMAND="SQUIT";class sa extends M{constructor(e,r,n){super(e,r,n,{channel:{type:"channel"},key:{optional:!0}})}}sa.COMMAND="JOIN";class oa extends M{constructor(e,r,n){super(e,r,n,{channel:{type:"channel"},reason:{trailing:!0,optional:!0}})}}oa.COMMAND="PART";class Gu extends Error{constructor(e){super(`Unknown channel mode character ${e}`),this._char=e,Object.setPrototypeOf(this,Gu.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Gu)}get char(){return this._char}}class u2 extends M{constructor(e,r,n){super(e,r,n,{target:{},modes:{rest:!0,optional:!0}})}get isChannel(){return Sm(this.target,this._serverProperties.channelTypes)}separate(){const e=[],r=this.modes;if(!r)throw new Error("can't separate a channel mode request, just set actions");const n=r.split(" "),i=n.shift();let s="add";for(const o of i){let a=s;switch(o){case"+":{s="add";break}case"-":{s="remove";break}default:{let l=!1,u=!0;if(this.isChannel){if(this._serverProperties.supportedChannelModes.alwaysWithParam.includes(o)||this._serverProperties.supportedChannelModes.prefix.includes(o))l=!0;else if(this._serverProperties.supportedChannelModes.paramWhenSet.includes(o))s==="add"&&(l=!0);else if(this._serverProperties.supportedChannelModes.list.includes(o))n.length?l=!0:a="getList";else if(!this._serverProperties.supportedChannelModes.noParam.includes(o))throw new Gu(o)}else u=this._serverProperties.supportedUserModes.includes(o);if(l&&!n.length)continue;e.push({prefix:this._prefix,action:a,letter:o,param:l?n.shift():void 0,known:u})}}}return e}}u2.COMMAND="MODE";class c2 extends M{constructor(e,r,n){super(e,r,n,{channel:{type:"channel"},newTopic:{optional:!0,trailing:!0}})}}c2.COMMAND="TOPIC";class Ca extends M{constructor(e,r,n){super(e,r,n,{channel:{type:"channelList",optional:!0}})}}Ca.COMMAND="NAMES";Ca.SUPPORTS_CAPTURE=!0;class d2 extends M{constructor(e,r,n){super(e,r,n,{channel:{optional:!0},server:{optional:!0}})}}d2.COMMAND="LIST";class h2 extends M{constructor(e,r,n){super(e,r,n,{target:{},channel:{type:"channel"}})}}h2.COMMAND="INVITE";class f2 extends M{constructor(e,r,n){super(e,r,n,{channel:{type:"channel"},target:{},reason:{trailing:!0,optional:!0}})}}f2.COMMAND="KICK";class p2 extends M{constructor(e,r,n){super(e,r,n,{server:{optional:!0}})}}p2.COMMAND="TIME";class aa extends M{constructor(e,r,n){super(e,r,n,{target:{},text:{trailing:!0}})}}aa.COMMAND="PRIVMSG";class Uc extends M{constructor(e,r,n){super(e,r,n,{target:{},text:{trailing:!0}})}}Uc.COMMAND="NOTICE";class jc extends M{constructor(e,r,n){super(e,r,n,{mask:{},flags:{optional:!0},extendedMask:{optional:!0,trailing:!0}})}}jc.COMMAND="WHO";class m2 extends M{constructor(e,r,n){super(e,r,n,{server:{optional:!0},nickMask:{}})}}m2.COMMAND="WHOIS";class g2 extends M{constructor(e,r,n){super(e,r,n,{nick:{},count:{optional:!0},server:{optional:!0}})}}g2.COMMAND="WHOWAS";class y2 extends M{constructor(e,r,n){super(e,r,n,{target:{},reason:{trailing:!0,optional:!0}})}}y2.COMMAND="KILL";class Wu extends M{constructor(e,r,n){super(e,r,n,{text:{trailing:!0}})}}Wu.COMMAND="PING";class Qu extends M{constructor(e,r,n){super(e,r,n,{server:{noClient:!0},text:{trailing:!0}})}}Qu.COMMAND="PONG";class v2 extends M{constructor(e,r,n){super(e,r,n,{text:{trailing:!0}})}}v2.COMMAND="ERROR";class _2 extends M{constructor(e,r,n){super(e,r,n,{text:{trailing:!0,optional:!0}})}}_2.COMMAND="AWAY";class w2 extends M{}w2.COMMAND="REHASH";class x2 extends M{}x2.COMMAND="RESTART";class S2 extends M{constructor(e,r,n){super(e,r,n,{text:{trailing:!0}})}}S2.COMMAND="WALLOPS";class b2 extends M{constructor(e,r,n){super(e,r,n,{nicks:{rest:!0}})}}b2.COMMAND="USERHOST";class C2 extends M{constructor(e,r,n){super(e,r,n,{nicks:{rest:!0}})}}C2.COMMAND="ISON";class Rt extends M{constructor(e,r,n){super(e,r,n,{target:{match:/^(?:[a-z_\-\[\]\\^{}|`][a-z0-9_\-\[\]\\^{}|`]+|\*)$/i,optional:!0,noClient:!0},subCommand:{match:/^(?:LS|LIST|REQ|ACK|NAK|END|NEW|DEL)$/i},version:{match:/^\d+$/,optional:!0},continued:{match:/^\*$/,optional:!0},capabilities:{trailing:!0,optional:!0}})}isResponseTo(e){if(!(e instanceof Rt))return!1;switch(this.subCommand){case"ACK":case"NAK":return e.subCommand==="REQ"&&e.capabilities===this.capabilities.trim();case"LS":case"LIST":return e.subCommand===this.subCommand;default:return!1}}endsResponseTo(e){if(!(e instanceof Rt))return!1;switch(this.subCommand){case"LS":case"LIST":return!this.continued;default:return!0}}}Rt.COMMAND="CAP";Rt.SUPPORTS_CAPTURE=!0;class T2 extends M{constructor(e,r,n){super(e,r,n,{target:{}})}}T2.COMMAND="TAGMSG";const E2=Object.freeze(Object.defineProperty({__proto__:null,Away:_2,CapabilityNegotiation:Rt,ChannelInvite:h2,ChannelJoin:sa,ChannelKick:f2,ChannelList:d2,ChannelPart:oa,ClientQuit:ly,ErrorMessage:v2,IsOnQuery:C2,Kill:y2,Mode:u2,Names:Ca,NickChange:ho,Notice:Uc,OperLogin:a2,Password:oy,Ping:Wu,Pong:Qu,PrivateMessage:aa,Rehash:w2,Restart:x2,ServerQuit:l2,TagMessage:T2,Time:p2,Topic:c2,UserHostQuery:b2,UserRegistration:ay,Wallops:S2,WhoIsQuery:m2,WhoQuery:jc,WhoWasQuery:g2},Symbol.toStringTag,{value:"Module"}));class uy extends M{constructor(e,r,n){super(e,r,n,{me:{},welcomeText:{trailing:!0}})}}uy.COMMAND="001";class P2 extends M{constructor(e,r,n){super(e,r,n,{me:{},yourHost:{trailing:!0}})}}P2.COMMAND="002";class A2 extends M{constructor(e,r,n){super(e,r,n,{me:{},createdText:{trailing:!0}})}}A2.COMMAND="003";class cy extends M{constructor(e,r,n){super(e,r,n,{me:{},serverName:{},version:{},userModes:{},channelModes:{},channelModesWithParam:{optional:!0}})}}cy.COMMAND="004";class dy extends M{constructor(e,r,n){super(e,r,n,{me:{},supports:{rest:!0},suffix:{trailing:!0}})}}dy.COMMAND="005";class I2 extends M{constructor(e,r,n){super(e,r,n,{me:{},modes:{}})}}I2.COMMAND="221";class k2 extends M{constructor(e,r,n){super(e,r,n,{me:{},nick:{},text:{trailing:!0}})}}k2.COMMAND="301";class R2 extends M{constructor(e,r,n){super(e,r,n,{me:{},hosts:{trailing:!0}})}}R2.COMMAND="302";class M2 extends M{constructor(e,r,n){super(e,r,n,{me:{},suffix:{trailing:!0}})}}M2.COMMAND="305";class O2 extends M{constructor(e,r,n){super(e,r,n,{me:{},suffix:{trailing:!0}})}}O2.COMMAND="306";class D2 extends M{constructor(e,r,n){super(e,r,n,{me:{},nick:{},username:{},host:{},_unused:{},realname:{trailing:!0}})}}D2.COMMAND="311";class N2 extends M{constructor(e,r,n){super(e,r,n,{me:{},query:{},suffix:{trailing:!0}})}isResponseTo(e){return e instanceof jc}endsResponseTo(){return!0}}N2.COMMAND="315";class B2 extends M{constructor(e,r,n){super(e,r,n,{me:{},nickMask:{},suffix:{trailing:!0}})}}B2.COMMAND="318";class L2 extends M{constructor(e,r,n){super(e,r,n,{me:{},nick:{},channels:{trailing:!0}})}}L2.COMMAND="319";class F2 extends M{constructor(e,r,n){super(e,r,n,{me:{},channel:{type:"channel"},memberCount:{},topic:{trailing:!0}})}}F2.COMMAND="322";class U2 extends M{constructor(e,r,n){super(e,r,n,{me:{},suffix:{trailing:!0}})}}U2.COMMAND="323";class j2 extends M{constructor(e,r,n){super(e,r,n,{me:{},channel:{type:"channel"},modes:{rest:!0}})}}j2.COMMAND="324";class $2 extends M{constructor(e,r,n){super(e,r,n,{me:{},channel:{type:"channel"},suffix:{trailing:!0}})}}$2.COMMAND="331";class q2 extends M{constructor(e,r,n){super(e,r,n,{me:{},channel:{type:"channel"},topic:{trailing:!0}})}}q2.COMMAND="332";class V2 extends M{constructor(e,r,n){super(e,r,n,{me:{},channel:{type:"channel"},who:{},ts:{}})}}V2.COMMAND="333";class H2 extends M{constructor(e,r,n){super(e,r,n,{me:{},nick:{},channel:{type:"channel"}})}}H2.COMMAND="341";class z2 extends M{constructor(e,r,n){super(e,r,n,{me:{},channel:{type:"channel"},mask:{},creatorName:{optional:!0},timestamp:{optional:!0}})}}z2.COMMAND="348";class G2 extends M{constructor(e,r,n){super(e,r,n,{me:{},channel:{type:"channel"},suffix:{trailing:!0}})}}G2.COMMAND="349";class W2 extends M{constructor(e,r,n){super(e,r,n,{me:{},channel:{},user:{},host:{},server:{},nick:{},flags:{},hopsAndRealName:{trailing:!0}})}get isAway(){return this.flags.includes("G")}get isOper(){return this.flags.includes("*")}get isBot(){return this.flags.includes("B")}isResponseTo(e){return e instanceof jc}}W2.COMMAND="352";class Q2 extends M{constructor(e,r,n){super(e,r,n,{me:{},channelType:{},channel:{type:"channel"},names:{trailing:!0}})}isResponseTo(e){return e instanceof Ca}}Q2.COMMAND="353";class K2 extends M{constructor(e,r,n){super(e,r,n,{me:{},channel:{},suffix:{trailing:!0}})}isResponseTo(e){return e instanceof Ca}endsResponseTo(){return!0}}K2.COMMAND="366";class Y2 extends M{constructor(e,r,n){super(e,r,n,{me:{},channel:{type:"channel"},mask:{},creatorName:{optional:!0},timestamp:{optional:!0}})}}Y2.COMMAND="367";class X2 extends M{constructor(e,r,n){super(e,r,n,{me:{},channel:{type:"channel"},suffix:{trailing:!0}})}}X2.COMMAND="368";class J2 extends M{constructor(e,r,n){super(e,r,n,{me:{},line:{trailing:!0}})}}J2.COMMAND="372";class Z2 extends M{constructor(e,r,n){super(e,r,n,{me:{},line:{trailing:!0}})}}Z2.COMMAND="375";class hy extends M{constructor(e,r,n){super(e,r,n,{me:{},suffix:{trailing:!0}})}}hy.COMMAND="376";class eT extends M{constructor(e,r,n){super(e,r,n,{me:{},suffix:{trailing:!0}})}}eT.COMMAND="381";class tT extends M{constructor(e,r,n){super(e,r,n,{me:{},server:{optional:!0},timestamp:{trailing:!0}})}}tT.COMMAND="391";class rT extends M{constructor(e,r,n){super(e,r,n,{me:{},nick:{},suffix:{trailing:!0}})}}rT.COMMAND="401";class nT extends M{constructor(e,r,n){super(e,r,n,{me:{},server:{},suffix:{trailing:!0}})}}nT.COMMAND="402";class iT extends M{constructor(e,r,n){super(e,r,n,{me:{},channel:{},suffix:{trailing:!0}})}}iT.COMMAND="403";class sT extends M{constructor(e,r,n){super(e,r,n,{me:{},channel:{type:"channel"},suffix:{trailing:!0}})}}sT.COMMAND="404";class oT extends M{constructor(e,r,n){super(e,r,n,{me:{},channel:{type:"channel"},suffix:{trailing:!0}})}}oT.COMMAND="405";class aT extends M{constructor(e,r,n){super(e,r,n,{me:{},subCommand:{},suffix:{trailing:!0}})}}aT.COMMAND="410";class lT extends M{constructor(e,r,n){super(e,r,n,{me:{},originalCommand:{},suffix:{trailing:!0}})}isResponseTo(e){return e.command===this.originalCommand}endsResponseTo(){return!0}}lT.COMMAND="421";class fy extends M{constructor(e,r,n){super(e,r,n,{me:{},suffix:{trailing:!0}})}}fy.COMMAND="422";class uT extends M{constructor(e,r,n){super(e,r,n,{me:{},suffix:{trailing:!0}})}isResponseTo(e){return e.command==="NICK"}endsResponseTo(){return!0}}uT.COMMAND="431";class cT extends M{constructor(e,r,n){super(e,r,n,{me:{},nick:{},suffix:{trailing:!0}})}isResponseTo(e){return e.command==="NICK"}endsResponseTo(){return!0}}cT.COMMAND="432";class dT extends M{constructor(e,r,n){super(e,r,n,{me:{},nick:{},suffix:{trailing:!0}})}isResponseTo(e){return e.command==="NICK"}endsResponseTo(){return!0}}dT.COMMAND="433";class hT extends M{constructor(e,r,n){super(e,r,n,{me:{},nick:{},suffix:{trailing:!0}})}isResponseTo(e){return e.command==="NICK"}endsResponseTo(){return!0}}hT.COMMAND="436";class fT extends M{constructor(e,r,n){super(e,r,n,{me:{},nick:{},channel:{type:"channel"},suffix:{trailing:!0}})}isResponseTo(e){return e.command==="NICK"}endsResponseTo(){return!0}}fT.COMMAND="441";class pT extends M{constructor(e,r,n){super(e,r,n,{me:{},channel:{type:"channel"},suffix:{trailing:!0}})}isResponseTo(e){return e.command==="NICK"}endsResponseTo(){return!0}}pT.COMMAND="442";class mT extends M{constructor(e,r,n){super(e,r,n,{me:{},nick:{},channel:{type:"channel"},suffix:{trailing:!0}})}isResponseTo(e){return e.command==="NICK"}endsResponseTo(){return!0}}mT.COMMAND="443";class gT extends M{constructor(e,r,n){super(e,r,n,{me:{},suffix:{trailing:!0}})}}gT.COMMAND="451";class yT extends M{constructor(e,r,n){super(e,r,n,{me:{},originalCommand:{},suffix:{trailing:!0}})}}yT.COMMAND="461";class py extends M{constructor(e,r,n){super(e,r,n,{me:{},suffix:{trailing:!0}})}}py.COMMAND="462";class vT extends M{constructor(e,r,n){super(e,r,n,{me:{},channel:{type:"channel"},suffix:{trailing:!0}})}}vT.COMMAND="471";class _T extends M{constructor(e,r,n){super(e,r,n,{me:{},char:{},suffix:{trailing:!0}})}}_T.COMMAND="472";class wT extends M{constructor(e,r,n){super(e,r,n,{me:{},channel:{type:"channel"},suffix:{trailing:!0}})}}wT.COMMAND="473";class xT extends M{constructor(e,r,n){super(e,r,n,{me:{},channel:{type:"channel"},suffix:{trailing:!0}})}}xT.COMMAND="474";class ST extends M{constructor(e,r,n){super(e,r,n,{me:{},channel:{type:"channel"},suffix:{trailing:!0}})}}ST.COMMAND="475";class bT extends M{constructor(e,r,n){super(e,r,n,{me:{},channel:{},suffix:{trailing:!0}})}}bT.COMMAND="479";class CT extends M{constructor(e,r,n){super(e,r,n,{me:{},suffix:{trailing:!0}})}}CT.COMMAND="481";class TT extends M{constructor(e,r,n){super(e,r,n,{me:{},channel:{},suffix:{trailing:!0}})}}TT.COMMAND="482";class ET extends M{constructor(e,r,n){super(e,r,n,{me:{},suffix:{trailing:!0}})}}ET.COMMAND="491";class PT extends M{constructor(e,r,n){super(e,r,n,{me:{},modeChar:{optional:!0,match:/^\w$/},suffix:{trailing:!0}})}}PT.COMMAND="501";class AT extends M{constructor(e,r,n){super(e,r,n,{me:{},suffix:{trailing:!0}})}}AT.COMMAND="502";const IT=Object.freeze(Object.defineProperty({__proto__:null,Error401NoSuchNick:rT,Error402NoSuchServer:nT,Error403NoSuchChannel:iT,Error404CanNotSendToChan:sT,Error405TooManyChannels:oT,Error410InvalidCapCmd:aT,Error421UnknownCommand:lT,Error422NoMotd:fy,Error431NoNickNameGiven:uT,Error432ErroneusNickname:cT,Error433NickNameInUse:dT,Error436NickCollision:hT,Error441UserNotInChannel:fT,Error442NotOnChannel:pT,Error443UserOnChannel:mT,Error451NotRegistered:gT,Error461NeedMoreParams:yT,Error462AlreadyRegistered:py,Error471ChannelIsFull:vT,Error472UnknownMode:_T,Error473InviteOnlyChan:wT,Error474BannedFromChan:xT,Error475BadChannelKey:ST,Error479BadChanName:bT,Error481NoPrivileges:CT,Error482ChanOpPrivsNeeded:TT,Error491NoOperHost:ET,Error501UmodeUnknownFlag:PT,Error502UsersDontMatch:AT,Reply001Welcome:uy,Reply002YourHost:P2,Reply003Created:A2,Reply004ServerInfo:cy,Reply005Isupport:dy,Reply221UmodeIs:I2,Reply301Away:k2,Reply302UserHost:R2,Reply305UnAway:M2,Reply306NowAway:O2,Reply311WhoisUser:D2,Reply315EndOfWho:N2,Reply318EndOfWhois:B2,Reply319WhoisChannels:L2,Reply322List:F2,Reply323ListEnd:U2,Reply324ChannelModeIs:j2,Reply331NoTopic:$2,Reply332Topic:q2,Reply333TopicWhoTime:V2,Reply341Inviting:H2,Reply348ExceptList:z2,Reply349EndOfExceptList:G2,Reply352WhoReply:W2,Reply353NamesReply:Q2,Reply366EndOfNames:K2,Reply367BanList:Y2,Reply368EndOfBanList:X2,Reply372Motd:J2,Reply375MotdStart:Z2,Reply376EndOfMotd:hy,Reply381YoureOper:eT,Reply391Time:tT},Symbol.toStringTag,{value:"Module"})),z3=new Map([...Object.values(E2),...Object.values(IT)].map(t=>[t.COMMAND,t]));function G3(t){const[e,r]=Jn(t,"!",2);if(r){const[n,i]=Jn(r,"@",2);return i?{nick:e,user:n,host:i}:{nick:e,host:n}}else return{nick:e}}const Ew={":":";",n:`
`,r:"\r",s:" "};function W3(t){const e=new Map,r=t.split(";");for(const n of r){const[i,s]=Jn(n,"=",2);i!==""&&e.set(i,s?s.replace(/\\(.?)/g,(o,a)=>Object.prototype.hasOwnProperty.call(Ew,a)?Ew[a]:a):"")}return e}function Q3(t,e=rs,r=z3,n=!1,i=[],s=!0){const o=t.split(" ");let a,l;const u=[];let c,h;for(;o.length;){if(a=o[0],a.startsWith("@")&&!c&&!l&&!h)c=W3(a.slice(1));else if(a.startsWith(":"))if(!h&&!l)a.length>1&&(h=G3(a.slice(1)));else{u.push({value:o.join(" ").slice(1),trailing:!0});break}else l?u.push({value:a,trailing:!1}):l=a.toUpperCase();o.shift()}if(c||(c=new Map),!l)throw new Error(`line without command received: ${t}`);s&&(s=!i.includes(l));let d=M;return r.has(l)&&(d=r.get(l)),new d(l,{params:u,tags:c,prefix:h,rawLine:t},{serverProperties:e,isServer:n,shouldParseParams:s})}class kT extends Cs{constructor(e){super(),this._registered=!1,this._supportsCapabilities=!0,this._events=new Map,this._registeredMessageTypes=new Map,this.onConnect=this.registerEvent(),this.onRegister=this.registerEvent(),this.onDisconnect=this.registerEvent(),this.onPrivmsg=this.registerEvent(),this.onAction=this.registerEvent(),this.onNotice=this.registerEvent(),this.onNickChange=this.registerEvent(),this.onCtcp=this.registerEvent(),this.onCtcpReply=this.registerEvent(),this.onPasswordError=this.registerEvent(),this.onAnyMessage=this.registerEvent(),this._serverProperties=co(rs),this._supportedFeatures={},this._collectors=[],this._clientCapabilities=new Map,this._serverCapabilities=new Map,this._negotiatedCapabilities=new Map,this._currentChannels=new Set,this._hasRegisteredBefore=!1,this._channelsFromLastRegister=new Set,this._initialConnectionSetupDone=!1;const{connection:r,credentials:n,channels:i,channelTypes:s,webSocket:o,logger:a={}}=e;this._options=e;const{pingOnInactivity:l=60,pingTimeout:u=10}=r;this._pingOnInactivity=l,this._pingTimeout=u,this._currentNick=n.nick,this._logger=Ts({name:"ircv3",emoji:!0,...a}),this.registerCoreMessageTypes();const{hostName:c,secure:h,reconnect:d=!0}=r,p={hostName:c,port:this.port,secure:h},m={lineBased:!0,logger:this._logger,additionalOptions:e.connectionOptions},_=o?A3:E3;d?this._connection=new P3(_,p,m):this._connection=new _(m,this._logger,e.connectionOptions);for(const w of Object.values(V3))this.addCapability(w);this.addInternalListener(this.onRegister,async()=>{const w=this._hasRegisteredBefore,v=this._channelsFromLastRegister;this._hasRegisteredBefore=!0,this._channelsFromLastRegister=new Set;const g=w&&this._options.rejoinChannelsOnReconnect?v:await Up(i);if(g)for(const y of g)this.join(y)}),this.onTypedMessage(Rt,async({subCommand:w,capabilities:v})=>{const g=v.split(" ");switch(w.toUpperCase()){case"NEW":{this._logger.debug(`Server registered new capabilities: ${g.join(", ")}`);const y=Ks(g,C=>{if(!C)return{};const[k,O]=Jn(C,"=",2);return{[k]:{name:k,param:O||!0}}});for(const[C,k]of Object.entries(y))this._serverCapabilities.set(C,k);const x=Object.keys(y);await this._negotiateCapabilities(Array.from(this._clientCapabilities.entries()).filter(([C])=>x.includes(C)).map(([,C])=>C));break}case"DEL":{this._logger.debug(`Server removed capabilities: ${g.join(", ")}`);for(const y of g)this._serverCapabilities.delete(y),this._negotiatedCapabilities.delete(y)}}}),this.onTypedMessage(Wu,({text:w})=>{this.sendMessage(Qu,{text:w})}),this.onTypedMessage(uy,({me:w})=>this._handleReceivedClientNick(w)),this.onTypedMessage(cy,({userModes:w})=>{w&&(this._serverProperties.supportedUserModes=w)}),this.onTypedMessage(dy,({supports:w})=>{const v=Ks(w.split(" "),g=>{const[y,x]=Jn(g,"=",2);return{[y]:x||!0}});this._supportedFeatures={...this._supportedFeatures,...v}}),this.onTypedMessage(hy,({me:w})=>{this._registered||(this._handleReceivedClientNick(w),this._registered=!0,this.emit(this.onRegister))}),this.onTypedMessage(fy,({me:w})=>{this._registered||(this._handleReceivedClientNick(w),this._registered=!0,this.emit(this.onRegister))}),this.onTypedMessage(py,({me:w})=>{this._registered||(this._logger.warn("We thought we're not registered yet, but we actually are"),this._handleReceivedClientNick(w),this._registered=!0,this.emit(this.onRegister))}),this.onTypedMessage(aa,w=>{var v;const{target:g,text:y}=w,x=Tw(y),C=(v=w.prefix)===null||v===void 0?void 0:v.nick;x?x.command==="ACTION"?this.emit(this.onAction,g,C,x.params,w):this.emit(this.onCtcp,g,C,x.command,x.params,w):this.emit(this.onPrivmsg,g,C,y,w)}),this.onTypedMessage(ho,w=>{var v;const{nick:g}=w,y=(v=w.prefix)===null||v===void 0?void 0:v.nick;y===this._currentNick&&(this._currentNick=g),this.emit(this.onNickChange,y,g,w)}),this.onTypedMessage(Uc,w=>{var v;const{target:g,text:y}=w,x=Tw(y),C=(v=w.prefix)===null||v===void 0?void 0:v.nick;x&&this.emit(this.onCtcpReply,g,C,x.command,x.params,w),this.emit(this.onNotice,g,C,y,w)}),this._options.manuallyAcknowledgeJoins||this.onTypedMessage(sa,({channel:w,prefix:v})=>{(v==null?void 0:v.nick)===this._currentNick&&this.acknowledgeJoin(w)}),this.onTypedMessage(oa,w=>{var v;((v=w.prefix)===null||v===void 0?void 0:v.nick)===this._currentNick&&(this._currentChannels.delete(w.channel),this._channelsFromLastRegister.delete(w.channel))}),this.addInternalListener(this.onRegister,()=>this._startPingCheckTimer()),this._desiredNick=n.nick,this._userName=n.userName,this._realName=n.realName,s&&(this._serverProperties.channelTypes=s)}receiveLine(e){var r;this._logger.debug(`Received message: ${e}`);let n;try{n=Q3(e,this._serverProperties,this._registeredMessageTypes,!0,this._options.nonConformingCommands)}catch(i){this._logger.error(`Error parsing message: ${i.message}`),this._logger.trace((r=i.stack)!==null&&r!==void 0?r:"No stack available");return}this._logger.trace(`Parsed message: ${JSON.stringify(n)}`),this._startPingCheckTimer(),this.emit(this.onAnyMessage,n),this._handleEvents(n)}get serverProperties(){return co(this._serverProperties)}get port(){const{webSocket:e,connection:{port:r,secure:n}}=this._options;return r||(e?n?443:80:n?6697:6667)}pingCheck(){const e=Date.now(),r=e.toString(),n=this.onTypedMessage(Qu,i=>{const{text:s}=i;s===r&&(this._logger.debug(`Current ping: ${Date.now()-e}ms`),this._pingTimeoutTimer&&clearTimeout(this._pingTimeoutTimer),this.removeMessageListener(n))});this._pingTimeoutTimer=setTimeout(()=>{this.removeMessageListener(n),this._options.connection.reconnect===!1?this._logger.error(`Disconnecting because the last ping took over ${this._pingTimeout} seconds`):this._logger.warn(`Reconnecting because the last ping took over ${this._pingTimeout} seconds`),this._connection.assumeExternalDisconnect()},this._pingTimeout*1e3),this.sendMessage(Wu,{text:r})}reconnect(e){this.quit(e),this.connect()}registerMessageType(e){e.COMMAND!==""&&(this._logger.trace(`Registering message type ${e.COMMAND}`),this._registeredMessageTypes.set(e.COMMAND.toUpperCase(),e))}knowsCommand(e){return this._registeredMessageTypes.has(e.toUpperCase())}getCommandClass(e){return this._registeredMessageTypes.get(e.toUpperCase())}acknowledgeJoin(e){this._currentChannels.add(e),this._channelsFromLastRegister.add(e)}connect(){this._supportsCapabilities=!1,this._negotiatedCapabilities=new Map,this._currentChannels=new Set,this._currentNick=this._desiredNick,this._setupConnection(),this._logger.info(`Connecting to ${this._options.connection.hostName}:${this.port}`),this._connection.connect()}addCapability(e){if(this._clientCapabilities.set(e.name,e),e.messageTypes)for(const r of Object.values(e.messageTypes))this.registerMessageType(r)}async registerCapability(e){return this.addCapability(e),this._serverCapabilities.has(e.name)?await this._negotiateCapabilities([e]):[]}send(e){this.sendRaw(e.toString())}sendRaw(e){this._connection.isConnected&&(this._logger.debug(`Sending message: ${e}`),this._connection.sendLine(e))}onNamedMessage(e,r,n){this._events.has(e)||this._events.set(e,new Map);const i=this._events.get(e);if(!n)do n=`${e}:${VI(Math.random()*1e4,4,"0")}`;while(i.has(n));return i.set(n,r),n}onTypedMessage(e,r,n){return this.onNamedMessage(e.COMMAND,r,n)}removeMessageListener(e){const[r]=e.split(":");this._events.has(r)&&this._events.get(r).delete(e)}createMessage(e,r,n){const i=n?new Map(Object.entries(n)):void 0;return N3(e,r,void 0,i,this.serverProperties)}sendMessage(e,r,n){this.send(this.createMessage(e,r,n))}async sendMessageAndCaptureReply(e,r){if(!e.SUPPORTS_CAPTURE)throw new Error(`The command "${e.COMMAND}" does not support reply capture`);const n=this.createMessage(e,r),i=this.collect(n).promise();return this.send(n),await i}get isConnected(){return this._connection.isConnected}get isConnecting(){return this._connection.isConnecting}get isRegistered(){return this._registered}get currentNick(){return this._currentNick}get currentChannels(){return Array.from(this._currentChannels)}collect(e,...r){const n=new H3(this,e,...r);return this._collectors.push(n),n}stopCollect(e){this._collectors.splice(this._collectors.findIndex(r=>r===e),1)}join(e,r){this.sendMessage(sa,{channel:e,key:r})}part(e){this.sendMessage(oa,{channel:e})}quit(e){this.sendMessage(ly,{text:e}),this.quitAbruptly()}quitAbruptly(){this._registered=!1,this._connection.disconnect()}say(e,r,n={}){this.sendMessage(aa,{target:e,text:r},n)}sendCtcp(e,r,n){this.say(e,`${r.toUpperCase()} ${n}`)}action(e,r){this.sendCtcp(e,"ACTION",r)}changeNick(e){this._currentNick!==e&&(this._desiredNick=e,this.isRegistered&&this.sendMessage(ho,{nick:e}))}registerCoreMessageTypes(){jp(E2,e=>{this.registerMessageType(e)}),jp(IT,e=>{this.registerMessageType(e)})}async _negotiateCapabilityBatch(e){return await Promise.all(e.filter(r=>r.length).map(async r=>await this._negotiateCapabilities(r)))}async _negotiateCapabilities(e){const r=Ks(e,o=>({[o.name]:o})),i=(await this.sendMessageAndCaptureReply(Rt,{subCommand:"REQ",capabilities:e.map(o=>o.name).join(" ")})).shift();if(!i)throw new Error("capability negotiation failed unexpectedly without any reply");if(!(i instanceof Rt))throw new Error(`capability negotiation failed unexpectedly with "${i.command}" command`);const s=i.capabilities.split(" ").filter(o=>o);if(i.subCommand==="ACK"){this._logger.debug(`Successfully negotiated capabilities: ${s.join(", ")}`);const o=s.map(a=>r[a]);for(const a of o){const l=this._clientCapabilities.get(a.name);l.param=a.param,this._negotiatedCapabilities.set(l.name,l)}return o}else return this._logger.warn(`Failed to negotiate capabilities: ${s.join(", ")}`),new Error("capabilities failed to negotiate")}_setupConnection(){this._initialConnectionSetupDone||(this._connection.onConnect(async()=>{var e,r;this._logger.info(`Connection to server ${this._options.connection.hostName}:${this.port} established`),this.emit(this.onConnect),this._logger.debug("Determining connection password");try{const[n]=await Promise.all([Up(this._options.credentials.password),this.sendMessageAndCaptureReply(Rt,{subCommand:"LS",version:"302"}).then(i=>{if(!i.length||!(i[0]instanceof Rt))return this._logger.debug("Server does not support capabilities"),[];this._supportsCapabilities=!0;const s=i.map(a=>Ks(a.capabilities.split(" "),l=>{if(!l)return{};const[u,c]=Jn(l,"=",2);return{[u]:{name:u,param:c||!0}}}));this._serverCapabilities=new Map(Object.entries(Object.assign({},...s))),this._logger.debug(`Capabilities supported by server: ${Array.from(this._serverCapabilities.keys()).join(", ")}`);const o=s.map(a=>{const l=Object.keys(a);return Array.from(this._clientCapabilities.entries()).filter(([u])=>l.includes(u)).map(([,u])=>u)});return this._negotiateCapabilityBatch(o)}).then(()=>{this.sendMessage(Rt,{subCommand:"END"})})]);n&&this.sendMessage(oy,{password:n}),this.sendMessage(ho,{nick:this._desiredNick}),this.sendMessage(ay,{user:(e=this._userName)!==null&&e!==void 0?e:this._desiredNick,mode:"8",unused:"*",realName:(r=this._realName)!==null&&r!==void 0?r:this._desiredNick})}catch(n){this.emit(this.onPasswordError,n),this.quit()}}),this._initialConnectionSetupDone=!0,this._connection.onReceive(e=>{this.receiveLine(e)}),this._connection.onDisconnect((e,r)=>{var n;if(this._registered=!1,this._pingCheckTimer&&clearTimeout(this._pingCheckTimer),this._pingTimeoutTimer&&clearTimeout(this._pingTimeoutTimer),e)this._logger.info("Disconnected");else{const i=(n=this._options.connection.reconnect)!==null&&n!==void 0?n:!0,s=r?`Disconnected unexpectedly: ${r.message}`:"Disconnected unexpectedly";i?this._logger.warn(`${s}; trying to reconnect`):this._logger.error(s)}this.emit(this.onDisconnect,e,r)}),this._connection.onEnd(e=>{e||this._logger.warn("No further retries will be made")}))}_handleReceivedClientNick(e){this._currentNick!==e&&(this._currentNick!==""&&this._logger.warn(`Mismatching nicks: passed ${this._currentNick}, but you're actually ${e}`),this._currentNick=e)}_handleEvents(e){this._collectors.some(n=>n.collect(e));const r=this._events.get(e.constructor.COMMAND);if(r)for(const n of r.values())n(e)}_startPingCheckTimer(){this._pingCheckTimer&&clearTimeout(this._pingCheckTimer),this._connection.isConnected?this._pingCheckTimer=setTimeout(()=>this.pingCheck(),this._pingOnInactivity*1e3):this._pingCheckTimer=void 0}}S([q(!1)],kT.prototype,"_options",void 0);class my extends M{constructor(e,r,n){super(e,r,n,{channel:{type:"channel"},user:{trailing:!0,optional:!0}})}get date(){const e=this._tags.get("tmi-sent-ts");return new Date(Number(e))}get channelId(){return this._tags.get("room-id")}get targetUserId(){var e;return(e=this._tags.get("target-user-id"))!==null&&e!==void 0?e:null}}my.COMMAND="CLEARCHAT";class RT extends M{}RT.COMMAND="RECONNECT";class gy extends M{constructor(e,r,n){super(e,r,n,{channel:{type:"channel"}})}}gy.COMMAND="ROOMSTATE";var Nl;let Cn=Nl=class{constructor(e,r){this._userName=e.toLowerCase(),this._userData=r?new Map(r):new Map}static _parseBadgesLike(e){return e?new Map(e.split(",").map(r=>{const n=r.indexOf("/");return n===-1?[r,""]:[r.slice(0,n),r.slice(n+1)]})):new Map}get userName(){return this._userName}get displayName(){var e;return(e=this._userData.get("display-name"))!==null&&e!==void 0?e:this._userName}get color(){return this._userData.get("color")}get badges(){const e=this._userData.get("badges");return Nl._parseBadgesLike(e)}get badgeInfo(){const e=this._userData.get("badge-info");return Nl._parseBadgesLike(e)}get userId(){return this._userData.get("user-id")}get userType(){return this._userData.get("user-type")}get isBroadcaster(){return this.badges.has("broadcaster")}get isSubscriber(){return this.badges.has("subscriber")||this.isFounder}get isFounder(){return this.badges.has("founder")}get isMod(){return this.badges.has("moderator")}get isVip(){return this._userData.has("vip")}get isArtist(){return this.badges.has("artist-badge")}};S([q(!1)],Cn.prototype,"_userData",void 0);S([ye()],Cn.prototype,"badges",null);S([ye()],Cn.prototype,"badgeInfo",null);Cn=Nl=S([ba,D("chat","ChatUser","userId")],Cn);function yy(t){return t?new Map(t.split("/").map(e=>{const[r,n]=e.split(":",2);return n?[r,n.split(",")]:null}).filter(e=>e!==null)):new Map}class $c extends M{constructor(e,r,n){super(e,r,n,{channel:{type:"channel"},text:{trailing:!0,optional:!0}})}get id(){return this._tags.get("id")}get date(){const e=this._tags.get("tmi-sent-ts");return new Date(Number(e))}get userInfo(){return new Cn(this._tags.get("login"),this._tags)}get channelId(){var e;return(e=this._tags.get("room-id"))!==null&&e!==void 0?e:null}get emoteOffsets(){return yy(this._tags.get("emotes"))}}$c.COMMAND="USERNOTICE";class MT extends M{constructor(e,r,n){super(e,r,n,{channel:{type:"channel"}})}}MT.COMMAND="USERSTATE";class vy extends M{constructor(e,r,n){super(e,r,n,{target:{},text:{trailing:!0}})}get userInfo(){return new Cn(this._prefix.nick,this._tags)}get emoteOffsets(){return yy(this._tags.get("emotes"))}}vy.COMMAND="WHISPER";const K3={name:"twitch.tv/commands",messageTypes:[my,RT,gy,$c,MT,vy]},Y3={name:"twitch.tv/membership"};class _y extends M{constructor(e,r,n){super(e,r,n,{channel:{type:"channel"},text:{trailing:!0}})}get date(){const e=this._tags.get("tmi-sent-ts");return new Date(Number(e))}get userName(){return this._tags.get("login")}get channelId(){return this._tags.get("room-id")}get targetMessageId(){return this._tags.get("target-msg-id")}}_y.COMMAND="CLEARMSG";class OT extends M{}OT.COMMAND="GLOBALUSERSTATE";const X3={name:"twitch.tv/tags",messageTypes:[OT,_y]};let Ku=class extends aa{get id(){return this._tags.get("id")}get date(){const e=this._tags.get("tmi-sent-ts");return new Date(Number(e))}get userInfo(){return new Cn(this._prefix.nick,this._tags)}get channelId(){var e;return(e=this._tags.get("room-id"))!==null&&e!==void 0?e:null}get isCheer(){return this._tags.has("bits")}get isRedemption(){return!!this._tags.get("custom-reward-id")}get rewardId(){return this._tags.get("custom-reward-id")||null}get isFirst(){return this._tags.get("first-msg")==="1"}get isReturningChatter(){return this._tags.get("returning-chatter")==="1"}get isHighlight(){return this._tags.get("msg-id")==="highlighted-message"}get isReply(){return this._tags.has("reply-parent-msg-id")}get parentMessageId(){var e;return(e=this._tags.get("reply-parent-msg-id"))!==null&&e!==void 0?e:null}get parentMessageText(){var e;return(e=this._tags.get("reply-parent-msg-body"))!==null&&e!==void 0?e:null}get parentMessageUserId(){var e;return(e=this._tags.get("reply-parent-user-id"))!==null&&e!==void 0?e:null}get parentMessageUserName(){var e;return(e=this._tags.get("reply-parent-user-login"))!==null&&e!==void 0?e:null}get parentMessageUserDisplayName(){var e;return(e=this._tags.get("reply-parent-display-name"))!==null&&e!==void 0?e:null}get bits(){var e;return Number((e=this._tags.get("bits"))!==null&&e!==void 0?e:0)}get emoteOffsets(){return yy(this._tags.get("emotes"))}};Ku=S([D("chat","ChatMessage","id")],Ku);function J3(t){return t instanceof Ku?t.tags.get("id"):t}function Pw(t,e){if(t.length<=e)return[t];t=t.trim();const r=[];let n=0,i=e;for(;n<t.length;){let s=t.lastIndexOf(" ",i);(s===-1||s<=n||t.length-n+1<=e)&&(s=n+e);const o=t.slice(n,s).trim();o.length&&r.push(o),n=s+(t[s]===" "?1:0),i=n+e}return r}const Z3=/^[a-z0-9][a-z0-9_]{0,24}$/;function je(t){const e=t.replace(/^#/,"").toLowerCase();if(!Z3.test(e))throw new Error(`"${e}" is not a valid user or channel name. It must be at most 25 characters long, can only include letters, numbers and underscores, and can not start with an underscore.`);return e}function ol(t){return`#${je(t)}`}var bm;let Yu=bm=class extends Cs{constructor(e={}){var r,n,i,s,o;if(e.authProvider&&!e.authProvider.getAccessTokenForIntent)throw new Ml("You can not connect to chat using an AuthProvider that does not support intents.\nTo get an anonymous, read-only connection, please don't pass an `AuthProvider` at all.\nTo get a read-write connection, please provide an auth provider that provides user access tokens via intents, such as `RefreshingAuthProvider`.");super(),this._authVerified=!1,this._authRetryCount=0,this.onConnect=this.registerEvent(),this.onDisconnect=this.registerEvent(),this.onTimeout=this.registerEvent(),this.onBan=this.registerEvent(),this.onBitsBadgeUpgrade=this.registerEvent(),this.onChatClear=this.registerEvent(),this.onEmoteOnly=this.registerEvent(),this.onFollowersOnly=this.registerEvent(),this.onJoin=this.registerEvent(),this.onJoinFailure=this.registerEvent(),this.onPart=this.registerEvent(),this.onMessageRemove=this.registerEvent(),this.onUniqueChat=this.registerEvent(),this.onRaid=this.registerEvent(),this.onRaidCancel=this.registerEvent(),this.onRitual=this.registerEvent(),this.onSlow=this.registerEvent(),this.onSubsOnly=this.registerEvent(),this.onSub=this.registerEvent(),this.onResub=this.registerEvent(),this.onSubGift=this.registerEvent(),this.onCommunitySub=this.registerEvent(),this.onSubExtend=this.registerEvent(),this.onRewardGift=this.registerEvent(),this.onPrimePaidUpgrade=this.registerEvent(),this.onGiftPaidUpgrade=this.registerEvent(),this.onPrimeCommunityGift=this.registerEvent(),this.onStandardPayForward=this.registerEvent(),this.onCommunityPayForward=this.registerEvent(),this.onAnnouncement=this.registerEvent(),this.onWhisper=this.registerEvent(),this.onNoPermission=this.registerEvent(),this.onMessageRatelimit=this.registerEvent(),this.onAuthenticationSuccess=this.registerEvent(),this.onAuthenticationFailure=this.registerEvent(),this.onTokenFetchFailure=this.registerEvent(),this.onMessageFailed=this.registerEvent(),this.onMessage=this.registerEvent(),this.onAction=this.registerEvent(),this._onJoinResult=this.registerInternalEvent(),this._ircClient=new kT({connection:{hostName:(r=e.hostName)!==null&&r!==void 0?r:!((n=e.webSocket)!==null&&n!==void 0)||n?"irc-ws.chat.twitch.tv":"irc.chat.twitch.tv",secure:(i=e.ssl)!==null&&i!==void 0?i:!0},credentials:{nick:"",password:async()=>await this._getAuthToken()},webSocket:(s=e.webSocket)!==null&&s!==void 0?s:!0,connectionOptions:e.connectionOptions,logger:{name:"twurple:chat:irc",...e.logger},nonConformingCommands:["004"],manuallyAcknowledgeJoins:!0,rejoinChannelsOnReconnect:e.rejoinChannelsOnReconnect}),this._ircClient.onDisconnect((u,c)=>{this._messageRateLimiter.clear(),this._messageRateLimiter.pause(),this._joinRateLimiter.clear(),this._joinRateLimiter.pause(),this.emit(this.onDisconnect,u,c)}),this._ircClient.registerMessageType(Ku),this._chatLogger=Ts({name:"twurple:chat:twitch",...e.logger}),this._authProvider=e.authProvider,this._useLegacyScopes=!!e.legacyScopes,this._readOnly=!!e.readOnly,this._authIntents=[...(o=e.authIntents)!==null&&o!==void 0?o:[],"chat"];const a=async({type:u,text:c,channel:h,tags:d})=>{u==="say"?this._ircClient.say(h,c,d):this._ircClient.action(h,c)},l=async u=>{const{promise:c,resolve:h,reject:d}=No();let p;const m=this.addInternalListener(this._onJoinResult,(_,w,v)=>{_===u&&(clearTimeout(p),v?d(v):h(),this.removeListener(m))});p=setTimeout(()=>{this.removeListener(m),this.emit(this._onJoinResult,u,void 0,"twurple_timeout"),d(new Error(`Did not receive a reply to join ${u} in time; assuming that the join failed`))},1e4),this._ircClient.join(u),await c};if(e.isAlwaysMod)this._messageRateLimiter=new Kp({bucketSize:e.botLevel==="verified"?7500:100,timeFrame:32e3,doRequest:a});else{let u=20;e.botLevel==="verified"?u=7500:e.botLevel==="known"&&(u=50),this._messageRateLimiter=new IM(new VC({bucketSize:1,timeFrame:1200,logger:{minLevel:W.ERROR},doRequest:a,getPartitionKey:({channel:c})=>c}),{bucketSize:u,timeFrame:32e3})}this._joinRateLimiter=new Kp({bucketSize:e.botLevel==="verified"?2e3:20,timeFrame:11e3,doRequest:l}),this._messageRateLimiter.pause(),this._joinRateLimiter.pause(),this._ircClient.addCapability(X3),this._ircClient.addCapability(K3),e.requestMembershipEvents&&this._ircClient.addCapability(Y3),this._ircClient.onConnect(()=>{this.emit(this.onConnect)}),this._ircClient.onRegister(async()=>{this._messageRateLimiter.resume(),this._joinRateLimiter.resume(),this._authVerified=!0,this._authRetryTimer=void 0,this._authRetryCount=0,this.emit(this.onAuthenticationSuccess);const u=await Up(e.channels);u&&await Promise.all(u.map(async c=>{var h;try{await this.join(c)}catch(d){this._chatLogger.warn(`Failed to join configured channel ${c}; original message: ${(h=d==null?void 0:d.message)!==null&&h!==void 0?h:d}`)}}))}),this._ircClient.onPasswordError(u=>{this._chatLogger.error(`Error fetching a token for connecting to the server: ${u.message}`),this.emit(this.onTokenFetchFailure,u)}),this._ircClient.onPrivmsg((u,c,h,d)=>{c!=="jtv"&&this.emit(this.onMessage,je(u),c,h,d)}),this._ircClient.onAction((u,c,h,d)=>{this.emit(this.onAction,je(u),c,h,d)}),this.addInternalListener(this._onJoinResult,(u,c,h)=>{h?this.emit(this.onJoinFailure,je(u),h):this._ircClient.acknowledgeJoin(u)}),this._ircClient.onTypedMessage(my,u=>{const{channel:c,user:h,tags:d}=u,p=je(c);if(h){const m=d.get("ban-duration");m===void 0?this.emit(this.onBan,p,h,u):this.emit(this.onTimeout,p,h,Number(m),u)}else this.emit(this.onChatClear,p,u)}),this._ircClient.onTypedMessage(_y,u=>{const{channel:c,targetMessageId:h}=u;this.emit(this.onMessageRemove,je(c),h,u)}),this._ircClient.onTypedMessage(sa,({prefix:u,channel:c})=>{this.emit(this.onJoin,je(c),u.nick)}),this._ircClient.onTypedMessage(oa,({prefix:u,channel:c})=>{this.emit(this.onPart,je(c),u.nick)}),this._ircClient.onTypedMessage(gy,({channel:u,tags:c})=>{let h=!1;if(c.has("subs-only")&&c.has("slow")&&(this.emit(this._onJoinResult,u,c),h=!0),!h){const d=je(u);if(c.has("slow")){const p=Number(c.get("slow"));p?this.emit(this.onSlow,d,!0,p):this.emit(this.onSlow,d,!1)}if(c.has("followers-only")){const p=Number(c.get("followers-only"));p===-1?this.emit(this.onFollowersOnly,d,!1):this.emit(this.onFollowersOnly,d,!0,p)}}}),this._ircClient.onTypedMessage($c,u=>{const{channel:c,text:h,tags:d}=u,p=d.get("msg-id"),m=je(c);switch(p){case"sub":case"resub":{const _=p==="sub"?this.onSub:this.onResub,w=d.get("msg-param-sub-plan"),v=d.get("msg-param-streak-months"),g={userId:d.get("user-id"),displayName:d.get("display-name"),plan:w,planName:d.get("msg-param-sub-plan-name"),isPrime:w==="Prime",months:Number(d.get("msg-param-cumulative-months")),streak:v?Number(v):void 0,message:h};if(d.get("msg-param-was-gifted")==="true"){const x=d.get("msg-param-anon-gift")==="true",C=Number(d.get("msg-param-gift-months")),k=Number(d.get("msg-param-gift-month-being-redeemed"));x?g.originalGiftInfo={anonymous:!0,duration:C,redeemedMonth:k}:g.originalGiftInfo={anonymous:!1,duration:C,redeemedMonth:k,userId:d.get("msg-param-gifter-id"),userName:d.get("msg-param-gifter-login"),userDisplayName:d.get("msg-param-gifter-name")}}this.emit(_,m,d.get("login"),g,u);break}case"subgift":{const _=d.get("msg-param-sub-plan"),w=d.get("login"),v=w==="ananonymousgifter",g={userId:d.get("msg-param-recipient-id"),displayName:d.get("msg-param-recipient-display-name"),gifter:v?void 0:w,gifterUserId:v?void 0:d.get("user-id"),gifterDisplayName:v?void 0:d.get("display-name"),gifterGiftCount:v?void 0:Number(d.get("msg-param-sender-count")),giftDuration:Number(d.get("msg-param-gift-months")),plan:_,planName:d.get("msg-param-sub-plan-name"),isPrime:_==="Prime",months:Number(d.get("msg-param-months"))};this.emit(this.onSubGift,m,d.get("msg-param-recipient-user-name"),g,u);break}case"submysterygift":{const _=d.get("login"),w=_==="ananonymousgifter",v={gifter:w?void 0:_,gifterUserId:w?void 0:d.get("user-id"),gifterDisplayName:w?void 0:d.get("display-name"),gifterGiftCount:w?void 0:Number(d.get("msg-param-sender-count")),count:Number(d.get("msg-param-mass-gift-count")),plan:d.get("msg-param-sub-plan")};this.emit(this.onCommunitySub,m,d.get("login"),v,u);break}case"primepaidupgrade":{const _={userId:d.get("user-id"),displayName:d.get("display-name"),plan:d.get("msg-param-sub-plan")};this.emit(this.onPrimePaidUpgrade,m,d.get("login"),_,u);break}case"giftpaidupgrade":{const _={userId:d.get("user-id"),displayName:d.get("display-name"),gifter:d.get("msg-param-sender-login"),gifterDisplayName:d.get("msg-param-sender-name")};this.emit(this.onGiftPaidUpgrade,m,d.get("login"),_,u);break}case"standardpayforward":{const _=d.get("msg-param-prior-gifter-anonymous")==="true",w={userId:d.get("user-id"),displayName:d.get("display-name"),originalGifterUserId:_?void 0:d.get("msg-param-prior-gifter-id"),originalGifterDisplayName:_?void 0:d.get("msg-param-prior-gifter-display-name"),recipientUserId:d.get("msg-param-recipient-id"),recipientDisplayName:d.get("msg-param-recipient-display-name")};this.emit(this.onStandardPayForward,m,d.get("login"),w,u);break}case"communitypayforward":{const _=d.get("msg-param-prior-gifter-anonymous")==="true",w={userId:d.get("user-id"),displayName:d.get("display-name"),originalGifterUserId:_?void 0:d.get("msg-param-prior-gifter-id"),originalGifterDisplayName:_?void 0:d.get("msg-param-prior-gifter-display-name")};this.emit(this.onCommunityPayForward,m,d.get("login"),w,u);break}case"primecommunitygiftreceived":{const _={name:d.get("msg-param-gift-name"),gifter:d.get("login"),gifterDisplayName:d.get("display-name")};this.emit(this.onPrimeCommunityGift,m,d.get("msg-param-recipient"),_,u);break}case"raid":{const _={displayName:d.get("msg-param-displayName"),viewerCount:Number(d.get("msg-param-viewerCount"))};this.emit(this.onRaid,m,d.get("login"),_,u);break}case"unraid":{this.emit(this.onRaidCancel,m,u);break}case"ritual":{const _={ritualName:d.get("msg-param-ritual-name"),message:h};this.emit(this.onRitual,m,d.get("login"),_,u);break}case"bitsbadgetier":{const _={displayName:d.get("display-name"),threshold:Number(d.get("msg-param-threshold"))};this.emit(this.onBitsBadgeUpgrade,m,d.get("login"),_,u);break}case"extendsub":{const _={userId:d.get("user-id"),displayName:d.get("display-name"),plan:d.get("msg-param-sub-plan"),months:Number(d.get("msg-param-cumulative-months")),endMonth:Number(d.get("msg-param-sub-benefit-end-month"))};this.emit(this.onSubExtend,m,d.get("login"),_,u);break}case"rewardgift":{const _={domain:d.get("msg-param-domain"),gifterId:d.get("user-id"),gifterDisplayName:d.get("display-name"),count:Number(d.get("msg-param-selected-count")),gifterGiftCount:Number(d.get("msg-param-total-reward-count")),triggerType:d.get("msg-param-trigger-type")};this.emit(this.onRewardGift,m,d.get("login"),_,u);break}case"announcement":{const _={color:d.get("msg-param-color")};this.emit(this.onAnnouncement,m,d.get("login"),_,u);break}default:this._chatLogger.warn(`Unrecognized usernotice ID: ${p}`)}}),this._ircClient.onTypedMessage(vy,u=>{this.emit(this.onWhisper,u.prefix.nick,u.text,u)}),this._ircClient.onTypedMessage(Uc,async({target:u,text:c,tags:h})=>{const d=h.get("msg-id");switch(d){case"emote_only_on":{this.emit(this.onEmoteOnly,je(u),!0);break}case"emote_only_off":{this.emit(this.onEmoteOnly,je(u),!1);break}case"msg_channel_suspended":case"msg_banned":{this.emit(this._onJoinResult,u,void 0,d);break}case"r9k_on":{this.emit(this.onUniqueChat,je(u),!0);break}case"r9k_off":{this.emit(this.onUniqueChat,je(u),!1);break}case"subs_on":{this.emit(this.onSubsOnly,je(u),!0);break}case"subs_off":{this.emit(this.onSubsOnly,je(u),!1);break}case"cmds_available":break;case"followers_on":case"followers_on_zero":case"followers_off":case"slow_on":case"slow_off":break;case"timeout_success":break;case"unrecognized_cmd":break;case"no_permission":{this.emit(this.onNoPermission,je(u),c);break}case"msg_ratelimit":{this.emit(this.onMessageRatelimit,je(u),c);break}case"msg_duplicate":case"msg_emoteonly":case"msg_followersonly":case"msg_followersonly_followed":case"msg_followersonly_zero":case"msg_subsonly":case"msg_slowmode":case"msg_r9k":case"msg_verified_email":case"msg_timedout":case"msg_rejected_mandatory":case"msg_channel_blocked":{this.emit(this.onMessageFailed,je(u),d);break}case void 0:{if(c==="Login authentication failed"||c==="Improperly formatted AUTH"||c==="Invalid NICK"){this._authVerified=!1,this._authRetryTimer||(this._authRetryTimer=Xb(120),this._authRetryCount=0);const p=this._authRetryTimer.next().value,m=++this._authRetryCount;this.emit(this.onAuthenticationFailure,c,m),p!==0&&this._chatLogger.info(`Retrying authentication in ${p} seconds`),await qI(p*1e3),this._ircClient.reconnect()}break}default:d.startsWith("usage_")||this._chatLogger.warn(`Unrecognized notice ID: '${d}'`)}})}connect(){this._authProvider||this._ircClient.changeNick(bm._generateJustinfanNick()),this._ircClient.connect()}get irc(){return this._ircClient}get isConnected(){return this._ircClient.isConnected}get isConnecting(){return this._ircClient.isConnecting}get currentChannels(){return this._ircClient.currentChannels}async say(e,r,n={},i){const s={};n.replyTo&&(s["reply-parent-msg-id"]=J3(n.replyTo));const o=Pw(r,500);await Promise.all(o.map(async a=>await this._messageRateLimiter.request({type:"say",channel:ol(e),text:a,tags:s},i)))}async action(e,r,n){const i=Pw(r,490);await Promise.all(i.map(async s=>await this._messageRateLimiter.request({type:"action",channel:ol(e),text:s},n)))}async join(e){await this._joinRateLimiter.request(ol(e))}part(e){this._ircClient.part(ol(e))}quit(){this._ircClient.quitAbruptly()}reconnect(){this.quit(),this.connect()}async _getAuthToken(){var e,r;if(!this._authProvider){this._chatLogger.debug("No authProvider given; connecting anonymously");return}if(this._authToken&&!Xi(this._authToken)&&this._authVerified)return this._chatLogger.debug("AccessToken assumed to be correct from last connection"),`oauth:${this._authToken.accessToken}`;const n=this._getNecessaryScopes();let i,s=!1;for(const o of this._authIntents){try{if(this._authToken=await this._authProvider.getAccessTokenForIntent(o,n),!this._authToken)continue;s=!0;const a=await ds(this._authToken.accessToken);if(!a.userName)throw new Ml("Could not determine a user name for your token; you might be trying to disguise an app token as a user token.");return this._ircClient.changeNick(a.userName),`oauth:${this._authToken.accessToken}`}catch(a){a instanceof Zn?i=a:this._chatLogger.error(`Retrieving an access token failed: ${a.message}`)}this._chatLogger.warn("No valid token available; trying to refresh");try{if(this._authToken=await((r=(e=this._authProvider).refreshAccessTokenForIntent)===null||r===void 0?void 0:r.call(e,"chat")),this._authToken){const a=await ds(this._authToken.accessToken);if(!a.userName)throw new Ml("Could not determine a user name for your token; you might be trying to disguise an app token as a user token.");return this._ircClient.changeNick(a.userName),`oauth:${this._authToken.accessToken}`}}catch(a){a instanceof Zn?i=a:this._chatLogger.error(`Refreshing the access token failed: ${a.message}`)}}throw this._authVerified=!1,i??new Error(s?"Could not retrieve a valid token":`None of the queried intents (${this._authIntents.join(", ")}) are known by the auth provider${this._authProvider instanceof bn?".\nPlease add one of these to the user you want to connect with using the `addIntentToUser` method or the additional parameter to `addUser` or `addUserForToken`.":""}`)}_getNecessaryScopes(){return this._useLegacyScopes?["chat_login"]:this._readOnly?["chat:read"]:["chat:read","chat:edit"]}static _generateJustinfanNick(){return`justinfan${Math.floor(Math.random()*1e5).toString().padStart(5,"0")}`}};S([q(!1)],Yu.prototype,"_authProvider",void 0);Yu=bm=S([D("chat","ChatClient")],Yu);function DT(t,e={}){const{animationSettings:r="default",backgroundType:n="dark",size:i="1.0"}=e;return`https://static-cdn.jtvnw.net/emoticons/v2/${t}/${r}/${n}/${i}`}function eO(t,e){return[...e.entries()].flatMap(([r,n])=>n.map(i=>{const[s,o]=i.split("-"),a=+s,l=+o,u=$p(t,a,l+1);return{type:"emote",position:a,length:l-a+1,id:r,name:u}})).sort((r,n)=>r.position-n.position)}function tO(t,e){const r=[],n=new RegExp("(?<=^|\\s)([a-z]+(?:\\d+[a-z]+)*)(\\d+)(?=\\s|$)","gi");let i=null;for(;i=n.exec(t);){const s=i[1].toLowerCase();if(e.includes(s)){const o=Number(i[2]);r.push({type:"cheer",name:s,amount:o,position:eC(t.slice(0,i.index)),length:i[0].length})}}return r}function rO(t,e){const r=eC(t);if(!e.length)return[{type:"text",position:0,length:r,text:t}];const n=[];let i=0;for(const s of e)s.position>i&&n.push({type:"text",position:i,length:s.position-i,text:$p(t,i,s.position)}),n.push(s),i=s.position+s.length;return i<r&&n.push({type:"text",position:i,length:r-i,text:$p(t,i)}),n}function nO(t,e,r){if(!t)return[];const n=eO(t,e);return r&&(n.push(...tO(t,r)),n.sort((i,s)=>i.position-s.position)),rO(t,n)}var NT={exports:{}},Sf={exports:{}},Aw;function iO(){return Aw||(Aw=1,function(t){(function(e,r){t.exports?t.exports=r():e.EvEmitter=r()})(typeof window<"u"?window:Ym,function(){function e(){}let r=e.prototype;return r.on=function(n,i){if(!n||!i)return this;let s=this._events=this._events||{},o=s[n]=s[n]||[];return o.includes(i)||o.push(i),this},r.once=function(n,i){if(!n||!i)return this;this.on(n,i);let s=this._onceEvents=this._onceEvents||{},o=s[n]=s[n]||{};return o[i]=!0,this},r.off=function(n,i){let s=this._events&&this._events[n];if(!s||!s.length)return this;let o=s.indexOf(i);return o!=-1&&s.splice(o,1),this},r.emitEvent=function(n,i){let s=this._events&&this._events[n];if(!s||!s.length)return this;s=s.slice(0),i=i||[];let o=this._onceEvents&&this._onceEvents[n];for(let a of s)o&&o[a]&&(this.off(n,a),delete o[a]),a.apply(this,i);return this},r.allOff=function(){return delete this._events,delete this._onceEvents,this},e})}(Sf)),Sf.exports}/*!
 * imagesLoaded v5.0.0
 * JavaScript is all like "You images are done yet or what?"
 * MIT License
 */(function(t){(function(e,r){t.exports?t.exports=r(e,iO()):e.imagesLoaded=r(e,e.EvEmitter)})(typeof window<"u"?window:Ym,function(r,n){let i=r.jQuery,s=r.console;function o(d){return Array.isArray(d)?d:typeof d=="object"&&typeof d.length=="number"?[...d]:[d]}function a(d,p,m){if(!(this instanceof a))return new a(d,p,m);let _=d;if(typeof d=="string"&&(_=document.querySelectorAll(d)),!_){s.error(`Bad element for imagesLoaded ${_||d}`);return}this.elements=o(_),this.options={},typeof p=="function"?m=p:Object.assign(this.options,p),m&&this.on("always",m),this.getImages(),i&&(this.jqDeferred=new i.Deferred),setTimeout(this.check.bind(this))}a.prototype=Object.create(n.prototype),a.prototype.getImages=function(){this.images=[],this.elements.forEach(this.addElementImages,this)};const l=[1,9,11];a.prototype.addElementImages=function(d){d.nodeName==="IMG"&&this.addImage(d),this.options.background===!0&&this.addElementBackgroundImages(d);let{nodeType:p}=d;if(!p||!l.includes(p))return;let m=d.querySelectorAll("img");for(let _ of m)this.addImage(_);if(typeof this.options.background=="string"){let _=d.querySelectorAll(this.options.background);for(let w of _)this.addElementBackgroundImages(w)}};const u=/url\((['"])?(.*?)\1\)/gi;a.prototype.addElementBackgroundImages=function(d){let p=getComputedStyle(d);if(!p)return;let m=u.exec(p.backgroundImage);for(;m!==null;){let _=m&&m[2];_&&this.addBackground(_,d),m=u.exec(p.backgroundImage)}},a.prototype.addImage=function(d){let p=new c(d);this.images.push(p)},a.prototype.addBackground=function(d,p){let m=new h(d,p);this.images.push(m)},a.prototype.check=function(){if(this.progressedCount=0,this.hasAnyBroken=!1,!this.images.length){this.complete();return}let d=(p,m,_)=>{setTimeout(()=>{this.progress(p,m,_)})};this.images.forEach(function(p){p.once("progress",d),p.check()})},a.prototype.progress=function(d,p,m){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!d.isLoaded,this.emitEvent("progress",[this,d,p]),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,d),this.progressedCount===this.images.length&&this.complete(),this.options.debug&&s&&s.log(`progress: ${m}`,d,p)},a.prototype.complete=function(){let d=this.hasAnyBroken?"fail":"done";if(this.isComplete=!0,this.emitEvent(d,[this]),this.emitEvent("always",[this]),this.jqDeferred){let p=this.hasAnyBroken?"reject":"resolve";this.jqDeferred[p](this)}};function c(d){this.img=d}c.prototype=Object.create(n.prototype),c.prototype.check=function(){if(this.getIsImageComplete()){this.confirm(this.img.naturalWidth!==0,"naturalWidth");return}this.proxyImage=new Image,this.img.crossOrigin&&(this.proxyImage.crossOrigin=this.img.crossOrigin),this.proxyImage.addEventListener("load",this),this.proxyImage.addEventListener("error",this),this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.proxyImage.src=this.img.currentSrc||this.img.src},c.prototype.getIsImageComplete=function(){return this.img.complete&&this.img.naturalWidth},c.prototype.confirm=function(d,p){this.isLoaded=d;let{parentNode:m}=this.img,_=m.nodeName==="PICTURE"?m:this.img;this.emitEvent("progress",[this,_,p])},c.prototype.handleEvent=function(d){let p="on"+d.type;this[p]&&this[p](d)},c.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},c.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},c.prototype.unbindEvents=function(){this.proxyImage.removeEventListener("load",this),this.proxyImage.removeEventListener("error",this),this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)};function h(d,p){this.url=d,this.element=p,this.img=new Image}return h.prototype=Object.create(c.prototype),h.prototype.check=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.img.src=this.url,this.getIsImageComplete()&&(this.confirm(this.img.naturalWidth!==0,"naturalWidth"),this.unbindEvents())},h.prototype.unbindEvents=function(){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},h.prototype.confirm=function(d,p){this.isLoaded=d,this.emitEvent("progress",[this,this.element,p])},a.makeJQueryPlugin=function(d){d=d||r.jQuery,d&&(i=d,i.fn.imagesLoaded=function(p,m){return new a(this,p,m).jqDeferred.promise(i(this))})},a.makeJQueryPlugin(),a})})(NT);var sO=NT.exports;const oO=_s(sO);function aO(t){const e=sy(),r=U.useRef(null),n=U.useRef(!1);function i(){e({type:"remove",payload:t.id,moderator:!1})}const s=slime2Chat.onMessage({message:t,deleteMessage:i}),[o,a]=s||[];let l="";if(o){const u=o instanceof DocumentFragment?o:o[0],c=document.createElement("div");c.appendChild(u),l=c.innerHTML,c.remove()}return U.useEffect(()=>{if(o&&a&&r.current&&!n.current){n.current=!0;const u=r.current.firstElementChild;oO(u,()=>{a(u)})}},[]),o?de.jsx("div",{id:"slime2-chat-message",dangerouslySetInnerHTML:{__html:l},ref:r}):(i(),null)}const lO=U.memo(aO);function uO(){const t=b3();function e(){return t.map(r=>de.jsx(lO,{...r},r.id))}return de.jsx("div",{id:"slime2-chat-list",children:e()})}let Bl,Iw=!1;function cO(){const[t,e]=U.useState(!0),{broadcaster:r}=Nn();return U.useEffect(()=>{async function n(){Iw||(Bl=await ms.bits.getCheermotes(r.id)),e(!1),Iw=!0}n()},[r]),{loading:t}}function wy(){function t(){return Bl.getPossibleNames()}function e(n,i){return Bl.getCheermoteDisplayInfo(n,i,{background:"light",scale:"4",state:"animated"}).color}function r(n,i,s=!1){function o(a="4"){return Bl.getCheermoteDisplayInfo(n,i,{background:"light",scale:a,state:s?"static":"animated"}).url}return{x1:o("1"),x2:o("2"),x4:o("4")}}return{getCheermoteNames:t,getCheerColor:e,getCheermoteUrls:r}}function BT(t,e){return function(){return t.apply(e,arguments)}}const{toString:dO}=Object.prototype,{getPrototypeOf:xy}=Object,qc=(t=>e=>{const r=dO.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),_r=t=>(t=t.toLowerCase(),e=>qc(e)===t),Vc=t=>e=>typeof e===t,{isArray:Ps}=Array,la=Vc("undefined");function hO(t){return t!==null&&!la(t)&&t.constructor!==null&&!la(t.constructor)&&Lt(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const LT=_r("ArrayBuffer");function fO(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&LT(t.buffer),e}const pO=Vc("string"),Lt=Vc("function"),FT=Vc("number"),Hc=t=>t!==null&&typeof t=="object",mO=t=>t===!0||t===!1,Ll=t=>{if(qc(t)!=="object")return!1;const e=xy(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},gO=_r("Date"),yO=_r("File"),vO=_r("Blob"),_O=_r("FileList"),wO=t=>Hc(t)&&Lt(t.pipe),xO=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Lt(t.append)&&((e=qc(t))==="formdata"||e==="object"&&Lt(t.toString)&&t.toString()==="[object FormData]"))},SO=_r("URLSearchParams"),bO=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ta(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let n,i;if(typeof t!="object"&&(t=[t]),Ps(t))for(n=0,i=t.length;n<i;n++)e.call(null,t[n],n,t);else{const s=r?Object.getOwnPropertyNames(t):Object.keys(t),o=s.length;let a;for(n=0;n<o;n++)a=s[n],e.call(null,t[a],a,t)}}function UT(t,e){e=e.toLowerCase();const r=Object.keys(t);let n=r.length,i;for(;n-- >0;)if(i=r[n],e===i.toLowerCase())return i;return null}const jT=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),$T=t=>!la(t)&&t!==jT;function Cm(){const{caseless:t}=$T(this)&&this||{},e={},r=(n,i)=>{const s=t&&UT(e,i)||i;Ll(e[s])&&Ll(n)?e[s]=Cm(e[s],n):Ll(n)?e[s]=Cm({},n):Ps(n)?e[s]=n.slice():e[s]=n};for(let n=0,i=arguments.length;n<i;n++)arguments[n]&&Ta(arguments[n],r);return e}const CO=(t,e,r,{allOwnKeys:n}={})=>(Ta(e,(i,s)=>{r&&Lt(i)?t[s]=BT(i,r):t[s]=i},{allOwnKeys:n}),t),TO=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),EO=(t,e,r,n)=>{t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},PO=(t,e,r,n)=>{let i,s,o;const a={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)o=i[s],(!n||n(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=r!==!1&&xy(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},AO=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;const n=t.indexOf(e,r);return n!==-1&&n===r},IO=t=>{if(!t)return null;if(Ps(t))return t;let e=t.length;if(!FT(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},kO=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&xy(Uint8Array)),RO=(t,e)=>{const n=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=n.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},MO=(t,e)=>{let r;const n=[];for(;(r=t.exec(e))!==null;)n.push(r);return n},OO=_r("HTMLFormElement"),DO=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,i){return n.toUpperCase()+i}),kw=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),NO=_r("RegExp"),qT=(t,e)=>{const r=Object.getOwnPropertyDescriptors(t),n={};Ta(r,(i,s)=>{let o;(o=e(i,s,t))!==!1&&(n[s]=o||i)}),Object.defineProperties(t,n)},BO=t=>{qT(t,(e,r)=>{if(Lt(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=t[r];if(Lt(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},LO=(t,e)=>{const r={},n=i=>{i.forEach(s=>{r[s]=!0})};return Ps(t)?n(t):n(String(t).split(e)),r},FO=()=>{},UO=(t,e)=>(t=+t,Number.isFinite(t)?t:e),bf="abcdefghijklmnopqrstuvwxyz",Rw="0123456789",VT={DIGIT:Rw,ALPHA:bf,ALPHA_DIGIT:bf+bf.toUpperCase()+Rw},jO=(t=16,e=VT.ALPHA_DIGIT)=>{let r="";const{length:n}=e;for(;t--;)r+=e[Math.random()*n|0];return r};function $O(t){return!!(t&&Lt(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const qO=t=>{const e=new Array(10),r=(n,i)=>{if(Hc(n)){if(e.indexOf(n)>=0)return;if(!("toJSON"in n)){e[i]=n;const s=Ps(n)?[]:{};return Ta(n,(o,a)=>{const l=r(o,i+1);!la(l)&&(s[a]=l)}),e[i]=void 0,s}}return n};return r(t,0)},VO=_r("AsyncFunction"),HO=t=>t&&(Hc(t)||Lt(t))&&Lt(t.then)&&Lt(t.catch),R={isArray:Ps,isArrayBuffer:LT,isBuffer:hO,isFormData:xO,isArrayBufferView:fO,isString:pO,isNumber:FT,isBoolean:mO,isObject:Hc,isPlainObject:Ll,isUndefined:la,isDate:gO,isFile:yO,isBlob:vO,isRegExp:NO,isFunction:Lt,isStream:wO,isURLSearchParams:SO,isTypedArray:kO,isFileList:_O,forEach:Ta,merge:Cm,extend:CO,trim:bO,stripBOM:TO,inherits:EO,toFlatObject:PO,kindOf:qc,kindOfTest:_r,endsWith:AO,toArray:IO,forEachEntry:RO,matchAll:MO,isHTMLForm:OO,hasOwnProperty:kw,hasOwnProp:kw,reduceDescriptors:qT,freezeMethods:BO,toObjectSet:LO,toCamelCase:DO,noop:FO,toFiniteNumber:UO,findKey:UT,global:jT,isContextDefined:$T,ALPHABET:VT,generateString:jO,isSpecCompliantForm:$O,toJSONObject:qO,isAsyncFn:VO,isThenable:HO};function ae(t,e,r,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i)}R.inherits(ae,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:R.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const HT=ae.prototype,zT={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{zT[t]={value:t}});Object.defineProperties(ae,zT);Object.defineProperty(HT,"isAxiosError",{value:!0});ae.from=(t,e,r,n,i,s)=>{const o=Object.create(HT);return R.toFlatObject(t,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),ae.call(o,t.message,e,r,n,i),o.cause=t,o.name=t.name,s&&Object.assign(o,s),o};const zO=null;function Tm(t){return R.isPlainObject(t)||R.isArray(t)}function GT(t){return R.endsWith(t,"[]")?t.slice(0,-2):t}function Mw(t,e,r){return t?t.concat(e).map(function(i,s){return i=GT(i),!r&&s?"["+i+"]":i}).join(r?".":""):e}function GO(t){return R.isArray(t)&&!t.some(Tm)}const WO=R.toFlatObject(R,{},null,function(e){return/^is[A-Z]/.test(e)});function zc(t,e,r){if(!R.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,r=R.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(_,w){return!R.isUndefined(w[_])});const n=r.metaTokens,i=r.visitor||c,s=r.dots,o=r.indexes,l=(r.Blob||typeof Blob<"u"&&Blob)&&R.isSpecCompliantForm(e);if(!R.isFunction(i))throw new TypeError("visitor must be a function");function u(m){if(m===null)return"";if(R.isDate(m))return m.toISOString();if(!l&&R.isBlob(m))throw new ae("Blob is not supported. Use a Buffer instead.");return R.isArrayBuffer(m)||R.isTypedArray(m)?l&&typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}function c(m,_,w){let v=m;if(m&&!w&&typeof m=="object"){if(R.endsWith(_,"{}"))_=n?_:_.slice(0,-2),m=JSON.stringify(m);else if(R.isArray(m)&&GO(m)||(R.isFileList(m)||R.endsWith(_,"[]"))&&(v=R.toArray(m)))return _=GT(_),v.forEach(function(y,x){!(R.isUndefined(y)||y===null)&&e.append(o===!0?Mw([_],x,s):o===null?_:_+"[]",u(y))}),!1}return Tm(m)?!0:(e.append(Mw(w,_,s),u(m)),!1)}const h=[],d=Object.assign(WO,{defaultVisitor:c,convertValue:u,isVisitable:Tm});function p(m,_){if(!R.isUndefined(m)){if(h.indexOf(m)!==-1)throw Error("Circular reference detected in "+_.join("."));h.push(m),R.forEach(m,function(v,g){(!(R.isUndefined(v)||v===null)&&i.call(e,v,R.isString(g)?g.trim():g,_,d))===!0&&p(v,_?_.concat(g):[g])}),h.pop()}}if(!R.isObject(t))throw new TypeError("data must be an object");return p(t),e}function Ow(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function Sy(t,e){this._pairs=[],t&&zc(t,this,e)}const WT=Sy.prototype;WT.append=function(e,r){this._pairs.push([e,r])};WT.toString=function(e){const r=e?function(n){return e.call(this,n,Ow)}:Ow;return this._pairs.map(function(i){return r(i[0])+"="+r(i[1])},"").join("&")};function QO(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function QT(t,e,r){if(!e)return t;const n=r&&r.encode||QO,i=r&&r.serialize;let s;if(i?s=i(e,r):s=R.isURLSearchParams(e)?e.toString():new Sy(e,r).toString(n),s){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class KO{constructor(){this.handlers=[]}use(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){R.forEach(this.handlers,function(n){n!==null&&e(n)})}}const Dw=KO,KT={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},YO=typeof URLSearchParams<"u"?URLSearchParams:Sy,XO=typeof FormData<"u"?FormData:null,JO=typeof Blob<"u"?Blob:null,ZO=(()=>{let t;return typeof navigator<"u"&&((t=navigator.product)==="ReactNative"||t==="NativeScript"||t==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),eD=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),Xt={isBrowser:!0,classes:{URLSearchParams:YO,FormData:XO,Blob:JO},isStandardBrowserEnv:ZO,isStandardBrowserWebWorkerEnv:eD,protocols:["http","https","file","blob","url","data"]};function tD(t,e){return zc(t,new Xt.classes.URLSearchParams,Object.assign({visitor:function(r,n,i,s){return Xt.isNode&&R.isBuffer(r)?(this.append(n,r.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function rD(t){return R.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function nD(t){const e={},r=Object.keys(t);let n;const i=r.length;let s;for(n=0;n<i;n++)s=r[n],e[s]=t[s];return e}function YT(t){function e(r,n,i,s){let o=r[s++];const a=Number.isFinite(+o),l=s>=r.length;return o=!o&&R.isArray(i)?i.length:o,l?(R.hasOwnProp(i,o)?i[o]=[i[o],n]:i[o]=n,!a):((!i[o]||!R.isObject(i[o]))&&(i[o]=[]),e(r,n,i[o],s)&&R.isArray(i[o])&&(i[o]=nD(i[o])),!a)}if(R.isFormData(t)&&R.isFunction(t.entries)){const r={};return R.forEachEntry(t,(n,i)=>{e(rD(n),i,r,0)}),r}return null}function iD(t,e,r){if(R.isString(t))try{return(e||JSON.parse)(t),R.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(t)}const by={transitional:KT,adapter:Xt.isNode?"http":"xhr",transformRequest:[function(e,r){const n=r.getContentType()||"",i=n.indexOf("application/json")>-1,s=R.isObject(e);if(s&&R.isHTMLForm(e)&&(e=new FormData(e)),R.isFormData(e))return i&&i?JSON.stringify(YT(e)):e;if(R.isArrayBuffer(e)||R.isBuffer(e)||R.isStream(e)||R.isFile(e)||R.isBlob(e))return e;if(R.isArrayBufferView(e))return e.buffer;if(R.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return tD(e,this.formSerializer).toString();if((a=R.isFileList(e))||n.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return zc(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return s||i?(r.setContentType("application/json",!1),iD(e)):e}],transformResponse:[function(e){const r=this.transitional||by.transitional,n=r&&r.forcedJSONParsing,i=this.responseType==="json";if(e&&R.isString(e)&&(n&&!this.responseType||i)){const o=!(r&&r.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?ae.from(a,ae.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Xt.classes.FormData,Blob:Xt.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};R.forEach(["delete","get","head","post","put","patch"],t=>{by.headers[t]={}});const Cy=by,sD=R.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),oD=t=>{const e={};let r,n,i;return t&&t.split(`
`).forEach(function(o){i=o.indexOf(":"),r=o.substring(0,i).trim().toLowerCase(),n=o.substring(i+1).trim(),!(!r||e[r]&&sD[r])&&(r==="set-cookie"?e[r]?e[r].push(n):e[r]=[n]:e[r]=e[r]?e[r]+", "+n:n)}),e},Nw=Symbol("internals");function qs(t){return t&&String(t).trim().toLowerCase()}function Fl(t){return t===!1||t==null?t:R.isArray(t)?t.map(Fl):String(t)}function aD(t){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(t);)e[n[1]]=n[2];return e}const lD=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Cf(t,e,r,n,i){if(R.isFunction(n))return n.call(this,e,r);if(i&&(e=r),!!R.isString(e)){if(R.isString(n))return e.indexOf(n)!==-1;if(R.isRegExp(n))return n.test(e)}}function uD(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,n)=>r.toUpperCase()+n)}function cD(t,e){const r=R.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+r,{value:function(i,s,o){return this[n].call(this,e,i,s,o)},configurable:!0})})}class Gc{constructor(e){e&&this.set(e)}set(e,r,n){const i=this;function s(a,l,u){const c=qs(l);if(!c)throw new Error("header name must be a non-empty string");const h=R.findKey(i,c);(!h||i[h]===void 0||u===!0||u===void 0&&i[h]!==!1)&&(i[h||l]=Fl(a))}const o=(a,l)=>R.forEach(a,(u,c)=>s(u,c,l));return R.isPlainObject(e)||e instanceof this.constructor?o(e,r):R.isString(e)&&(e=e.trim())&&!lD(e)?o(oD(e),r):e!=null&&s(r,e,n),this}get(e,r){if(e=qs(e),e){const n=R.findKey(this,e);if(n){const i=this[n];if(!r)return i;if(r===!0)return aD(i);if(R.isFunction(r))return r.call(this,i,n);if(R.isRegExp(r))return r.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=qs(e),e){const n=R.findKey(this,e);return!!(n&&this[n]!==void 0&&(!r||Cf(this,this[n],n,r)))}return!1}delete(e,r){const n=this;let i=!1;function s(o){if(o=qs(o),o){const a=R.findKey(n,o);a&&(!r||Cf(n,n[a],a,r))&&(delete n[a],i=!0)}}return R.isArray(e)?e.forEach(s):s(e),i}clear(e){const r=Object.keys(this);let n=r.length,i=!1;for(;n--;){const s=r[n];(!e||Cf(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const r=this,n={};return R.forEach(this,(i,s)=>{const o=R.findKey(n,s);if(o){r[o]=Fl(i),delete r[s];return}const a=e?uD(s):String(s).trim();a!==s&&delete r[s],r[a]=Fl(i),n[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const r=Object.create(null);return R.forEach(this,(n,i)=>{n!=null&&n!==!1&&(r[i]=e&&R.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){const n=new this(e);return r.forEach(i=>n.set(i)),n}static accessor(e){const n=(this[Nw]=this[Nw]={accessors:{}}).accessors,i=this.prototype;function s(o){const a=qs(o);n[a]||(cD(i,o),n[a]=!0)}return R.isArray(e)?e.forEach(s):s(e),this}}Gc.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);R.reduceDescriptors(Gc.prototype,({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(n){this[r]=n}}});R.freezeMethods(Gc);const Ar=Gc;function Tf(t,e){const r=this||Cy,n=e||r,i=Ar.from(n.headers);let s=n.data;return R.forEach(t,function(a){s=a.call(r,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function XT(t){return!!(t&&t.__CANCEL__)}function Ea(t,e,r){ae.call(this,t??"canceled",ae.ERR_CANCELED,e,r),this.name="CanceledError"}R.inherits(Ea,ae,{__CANCEL__:!0});function dD(t,e,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?t(r):e(new ae("Request failed with status code "+r.status,[ae.ERR_BAD_REQUEST,ae.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}const hD=Xt.isStandardBrowserEnv?function(){return{write:function(r,n,i,s,o,a){const l=[];l.push(r+"="+encodeURIComponent(n)),R.isNumber(i)&&l.push("expires="+new Date(i).toGMTString()),R.isString(s)&&l.push("path="+s),R.isString(o)&&l.push("domain="+o),a===!0&&l.push("secure"),document.cookie=l.join("; ")},read:function(r){const n=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove:function(r){this.write(r,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function fD(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function pD(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}function JT(t,e){return t&&!fD(e)?pD(t,e):e}const mD=Xt.isStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");let n;function i(s){let o=s;return e&&(r.setAttribute("href",o),o=r.href),r.setAttribute("href",o),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return n=i(window.location.href),function(o){const a=R.isString(o)?i(o):o;return a.protocol===n.protocol&&a.host===n.host}}():function(){return function(){return!0}}();function gD(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function yD(t,e){t=t||10;const r=new Array(t),n=new Array(t);let i=0,s=0,o;return e=e!==void 0?e:1e3,function(l){const u=Date.now(),c=n[s];o||(o=u),r[i]=l,n[i]=u;let h=s,d=0;for(;h!==i;)d+=r[h++],h=h%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),u-o<e)return;const p=c&&u-c;return p?Math.round(d*1e3/p):void 0}}function Bw(t,e){let r=0;const n=yD(50,250);return i=>{const s=i.loaded,o=i.lengthComputable?i.total:void 0,a=s-r,l=n(a),u=s<=o;r=s;const c={loaded:s,total:o,progress:o?s/o:void 0,bytes:a,rate:l||void 0,estimated:l&&o&&u?(o-s)/l:void 0,event:i};c[e?"download":"upload"]=!0,t(c)}}const vD=typeof XMLHttpRequest<"u",_D=vD&&function(t){return new Promise(function(r,n){let i=t.data;const s=Ar.from(t.headers).normalize(),o=t.responseType;let a;function l(){t.cancelToken&&t.cancelToken.unsubscribe(a),t.signal&&t.signal.removeEventListener("abort",a)}R.isFormData(i)&&(Xt.isStandardBrowserEnv||Xt.isStandardBrowserWebWorkerEnv?s.setContentType(!1):s.setContentType("multipart/form-data;",!1));let u=new XMLHttpRequest;if(t.auth){const p=t.auth.username||"",m=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";s.set("Authorization","Basic "+btoa(p+":"+m))}const c=JT(t.baseURL,t.url);u.open(t.method.toUpperCase(),QT(c,t.params,t.paramsSerializer),!0),u.timeout=t.timeout;function h(){if(!u)return;const p=Ar.from("getAllResponseHeaders"in u&&u.getAllResponseHeaders()),_={data:!o||o==="text"||o==="json"?u.responseText:u.response,status:u.status,statusText:u.statusText,headers:p,config:t,request:u};dD(function(v){r(v),l()},function(v){n(v),l()},_),u=null}if("onloadend"in u?u.onloadend=h:u.onreadystatechange=function(){!u||u.readyState!==4||u.status===0&&!(u.responseURL&&u.responseURL.indexOf("file:")===0)||setTimeout(h)},u.onabort=function(){u&&(n(new ae("Request aborted",ae.ECONNABORTED,t,u)),u=null)},u.onerror=function(){n(new ae("Network Error",ae.ERR_NETWORK,t,u)),u=null},u.ontimeout=function(){let m=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const _=t.transitional||KT;t.timeoutErrorMessage&&(m=t.timeoutErrorMessage),n(new ae(m,_.clarifyTimeoutError?ae.ETIMEDOUT:ae.ECONNABORTED,t,u)),u=null},Xt.isStandardBrowserEnv){const p=(t.withCredentials||mD(c))&&t.xsrfCookieName&&hD.read(t.xsrfCookieName);p&&s.set(t.xsrfHeaderName,p)}i===void 0&&s.setContentType(null),"setRequestHeader"in u&&R.forEach(s.toJSON(),function(m,_){u.setRequestHeader(_,m)}),R.isUndefined(t.withCredentials)||(u.withCredentials=!!t.withCredentials),o&&o!=="json"&&(u.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&u.addEventListener("progress",Bw(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&u.upload&&u.upload.addEventListener("progress",Bw(t.onUploadProgress)),(t.cancelToken||t.signal)&&(a=p=>{u&&(n(!p||p.type?new Ea(null,t,u):p),u.abort(),u=null)},t.cancelToken&&t.cancelToken.subscribe(a),t.signal&&(t.signal.aborted?a():t.signal.addEventListener("abort",a)));const d=gD(c);if(d&&Xt.protocols.indexOf(d)===-1){n(new ae("Unsupported protocol "+d+":",ae.ERR_BAD_REQUEST,t));return}u.send(i||null)})},Ul={http:zO,xhr:_D};R.forEach(Ul,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const ZT={getAdapter:t=>{t=R.isArray(t)?t:[t];const{length:e}=t;let r,n;for(let i=0;i<e&&(r=t[i],!(n=R.isString(r)?Ul[r.toLowerCase()]:r));i++);if(!n)throw n===!1?new ae(`Adapter ${r} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(R.hasOwnProp(Ul,r)?`Adapter '${r}' is not available in the build`:`Unknown adapter '${r}'`);if(!R.isFunction(n))throw new TypeError("adapter is not a function");return n},adapters:Ul};function Ef(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Ea(null,t)}function Lw(t){return Ef(t),t.headers=Ar.from(t.headers),t.data=Tf.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),ZT.getAdapter(t.adapter||Cy.adapter)(t).then(function(n){return Ef(t),n.data=Tf.call(t,t.transformResponse,n),n.headers=Ar.from(n.headers),n},function(n){return XT(n)||(Ef(t),n&&n.response&&(n.response.data=Tf.call(t,t.transformResponse,n.response),n.response.headers=Ar.from(n.response.headers))),Promise.reject(n)})}const Fw=t=>t instanceof Ar?t.toJSON():t;function gs(t,e){e=e||{};const r={};function n(u,c,h){return R.isPlainObject(u)&&R.isPlainObject(c)?R.merge.call({caseless:h},u,c):R.isPlainObject(c)?R.merge({},c):R.isArray(c)?c.slice():c}function i(u,c,h){if(R.isUndefined(c)){if(!R.isUndefined(u))return n(void 0,u,h)}else return n(u,c,h)}function s(u,c){if(!R.isUndefined(c))return n(void 0,c)}function o(u,c){if(R.isUndefined(c)){if(!R.isUndefined(u))return n(void 0,u)}else return n(void 0,c)}function a(u,c,h){if(h in e)return n(u,c);if(h in t)return n(void 0,u)}const l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(u,c)=>i(Fw(u),Fw(c),!0)};return R.forEach(Object.keys(Object.assign({},t,e)),function(c){const h=l[c]||i,d=h(t[c],e[c],c);R.isUndefined(d)&&h!==a||(r[c]=d)}),r}const eE="1.5.0",Ty={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Ty[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});const Uw={};Ty.transitional=function(e,r,n){function i(s,o){return"[Axios v"+eE+"] Transitional option '"+s+"'"+o+(n?". "+n:"")}return(s,o,a)=>{if(e===!1)throw new ae(i(o," has been removed"+(r?" in "+r:"")),ae.ERR_DEPRECATED);return r&&!Uw[o]&&(Uw[o]=!0,console.warn(i(o," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(s,o,a):!0}};function wD(t,e,r){if(typeof t!="object")throw new ae("options must be an object",ae.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let i=n.length;for(;i-- >0;){const s=n[i],o=e[s];if(o){const a=t[s],l=a===void 0||o(a,s,t);if(l!==!0)throw new ae("option "+s+" must be "+l,ae.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new ae("Unknown option "+s,ae.ERR_BAD_OPTION)}}const Em={assertOptions:wD,validators:Ty},Wr=Em.validators;class Xu{constructor(e){this.defaults=e,this.interceptors={request:new Dw,response:new Dw}}request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=gs(this.defaults,r);const{transitional:n,paramsSerializer:i,headers:s}=r;n!==void 0&&Em.assertOptions(n,{silentJSONParsing:Wr.transitional(Wr.boolean),forcedJSONParsing:Wr.transitional(Wr.boolean),clarifyTimeoutError:Wr.transitional(Wr.boolean)},!1),i!=null&&(R.isFunction(i)?r.paramsSerializer={serialize:i}:Em.assertOptions(i,{encode:Wr.function,serialize:Wr.function},!0)),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=s&&R.merge(s.common,s[r.method]);s&&R.forEach(["delete","get","head","post","put","patch","common"],m=>{delete s[m]}),r.headers=Ar.concat(o,s);const a=[];let l=!0;this.interceptors.request.forEach(function(_){typeof _.runWhen=="function"&&_.runWhen(r)===!1||(l=l&&_.synchronous,a.unshift(_.fulfilled,_.rejected))});const u=[];this.interceptors.response.forEach(function(_){u.push(_.fulfilled,_.rejected)});let c,h=0,d;if(!l){const m=[Lw.bind(this),void 0];for(m.unshift.apply(m,a),m.push.apply(m,u),d=m.length,c=Promise.resolve(r);h<d;)c=c.then(m[h++],m[h++]);return c}d=a.length;let p=r;for(h=0;h<d;){const m=a[h++],_=a[h++];try{p=m(p)}catch(w){_.call(this,w);break}}try{c=Lw.call(this,p)}catch(m){return Promise.reject(m)}for(h=0,d=u.length;h<d;)c=c.then(u[h++],u[h++]);return c}getUri(e){e=gs(this.defaults,e);const r=JT(e.baseURL,e.url);return QT(r,e.params,e.paramsSerializer)}}R.forEach(["delete","get","head","options"],function(e){Xu.prototype[e]=function(r,n){return this.request(gs(n||{},{method:e,url:r,data:(n||{}).data}))}});R.forEach(["post","put","patch"],function(e){function r(n){return function(s,o,a){return this.request(gs(a||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}Xu.prototype[e]=r(),Xu.prototype[e+"Form"]=r(!0)});const jl=Xu;class Ey{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(s){r=s});const n=this;this.promise.then(i=>{if(!n._listeners)return;let s=n._listeners.length;for(;s-- >0;)n._listeners[s](i);n._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(a=>{n.subscribe(a),s=a}).then(i);return o.cancel=function(){n.unsubscribe(s)},o},e(function(s,o,a){n.reason||(n.reason=new Ea(s,o,a),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}static source(){let e;return{token:new Ey(function(i){e=i}),cancel:e}}}const xD=Ey;function SD(t){return function(r){return t.apply(null,r)}}function bD(t){return R.isObject(t)&&t.isAxiosError===!0}const Pm={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Pm).forEach(([t,e])=>{Pm[e]=t});const CD=Pm;function tE(t){const e=new jl(t),r=BT(jl.prototype.request,e);return R.extend(r,jl.prototype,e,{allOwnKeys:!0}),R.extend(r,e,null,{allOwnKeys:!0}),r.create=function(i){return tE(gs(t,i))},r}const Ue=tE(Cy);Ue.Axios=jl;Ue.CanceledError=Ea;Ue.CancelToken=xD;Ue.isCancel=XT;Ue.VERSION=eE;Ue.toFormData=zc;Ue.AxiosError=ae;Ue.Cancel=Ue.CanceledError;Ue.all=function(e){return Promise.all(e)};Ue.spread=SD;Ue.isAxiosError=bD;Ue.mergeConfig=gs;Ue.AxiosHeaders=Ar;Ue.formToJSON=t=>YT(R.isHTMLForm(t)?new FormData(t):t);Ue.getAdapter=ZT.getAdapter;Ue.HttpStatusCode=CD;Ue.default=Ue;const Py=Ue,TD=Py.create({baseURL:"https://api.betterttv.net/3/cached"});class ED{static async getEmotes(e,r){const n=await PD(e,r);if(!n)return null;const i=new Map;return n.forEach(s=>{i.set(s.code,{id:s.id,name:s.code,images:{default:jw(s.id),static:jw(s.id,!0)},source:"betterTTV"})}),i}}function jw(t,e=!1){function r(n=3){return`https://cdn.betterttv.net/emote/${t}${e?"/static":""}/${n}x`}return{x1:r(1),x2:r(2),x4:r(3)}}async function PD(t,e){const r=await AD(`/users/${t}/${e}`);if(!r)return null;const{channelEmotes:n,sharedEmotes:i}=r;return!n||!i||n.length===0&&i.length===0?null:[...n,...i]}async function AD(t){return await TD.get(t).then(e=>e.data).catch(()=>null)}const ID=Py.create({baseURL:"https://api.frankerfacez.com/v1"});class kD{static async getEmotes(e,r){const n=await RD(e,r);if(!n)return null;const i=new Map;return n.forEach(s=>{i.set(s.name,{id:s.id.toString(),name:s.name,images:{default:$w(s),static:$w(s,!0)},source:"frankerFaceZ"})}),i}}function $w(t,e=!1){let r=t.urls[1],n=t.urls[2]||r,i=t.urls[4]||n;return!e&&t.animated&&(r=t.animated[1],n=t.animated[2]||r,i=t.animated[4]||n),{x1:r,x2:n,x4:i}}async function RD(t,e){const r=OD[t],n=await MD(`/room/${r}/${e}`);if(!n)return null;const{sets:i}=n;if(!i)return null;const s=Object.keys(i),o=[];return s.forEach(a=>{const l=i[a];o.push(...l.emoticons)}),o.length===0?null:o}async function MD(t){return await ID.get(t).then(e=>e.data).catch(()=>null)}const OD={twitch:"id",youtube:"yt"},$l=new Map;let qw=!1;function rE(){function t(n){return $l.get(n)}function e(){return Array.from($l.keys())}function r(){return Array.from($l.values())}return{getOtherEmote:t,getOtherEmoteNames:e,getAllOtherEmotes:r}}function DD(){const[t,e]=U.useState(!0),{broadcaster:r}=Nn();return U.useEffect(()=>{async function n(){if(!qw){const[i,s]=await Promise.all([ED.getEmotes("twitch",r.id),kD.getEmotes("twitch",r.id)]);i&&i.forEach(Vw),s&&s.forEach(Vw)}e(!1),qw=!0}n()},[r]),{loading:t}}function Vw(t,e){$l.set(e,t)}function ND(){const{getOtherEmote:t,getOtherEmoteNames:e}=rE(),{getCheerColor:r,getCheermoteUrls:n}=wy();function i(a,l){const{position:u,length:c,id:h,name:d}=a,p=l.slice(u,u+c),m=t(p);return m?{type:"emote",text:p,emote:m}:{type:"emote",text:l.slice(u,u+c),emote:{id:h,name:d,images:{default:Hw(h),static:Hw(h,!0)},source:"twitch"}}}function s(a,l){const{name:u,amount:c,position:h,length:d}=a;return{type:"cheer",text:l.slice(h,h+d),cheer:{color:r(u,c),images:{default:n(u,c),static:n(u,c,!0)},name:u,amount:c}}}function o(a){const{text:l}=a,u=BD(e());return l.split(u).filter(h=>h!=="").map(h=>{const d=t(h);return d?{type:"emote",text:h,emote:d}:{type:"text",text:h}})}return{transformTextPart:o,transformEmotePart:i,transformCheerPart:s}}function Hw(t,e=!1){function r(n="3.0"){return DT(t,{animationSettings:e?"static":"default",backgroundType:"light",size:n})}return{x1:r("1.0"),x2:r("2.0"),x4:r("3.0")}}function BD(t){const e=t.map(LD).join("|"),r=String.raw`(?<=\s|[.,!]|^)(${e})(?=\s|[.,!]|$)`;return new RegExp(r,"g")}function LD(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function FD(){const{transformTextPart:t,transformCheerPart:e,transformEmotePart:r}=ND(),{getCheermoteNames:n}=wy();function i(s,o,a=!1){if(!s)return[];const l=nO(s,o,a?n():void 0),u=[];return l.forEach(c=>{switch(c.type){default:case"text":u.push(...t(c));break;case"cheer":u.push(e(c,s));break;case"emote":u.push(r(c,s));break}}),u}return{transformText:i}}const UD=Py.create({baseURL:"https://pronouns.alejo.io/api"}),jD=1e3*60*5,zw=new Map,Am=new Map;let Im=!1;function nE(){async function t(r){if(!Im)return;let n=zw.get(r);if(!n||n.expire<Date.now()){const i=await qD(r);n={pronouns:i?Am.get(i):void 0,expire:Date.now()+jD},zw.set(r,n)}return n.pronouns}function e(){return Array.from(Am.values())}return{getPronouns:t,getAllPronouns:e}}function $D(){const[t,e]=U.useState(!0);return U.useEffect(()=>{async function r(){if(!Im){const n=await VD();n&&n.forEach(({name:i,display:s})=>{Am.set(i,s)})}e(!1),Im=!0}r()},[]),{loading:t}}async function qD(t){const e=await iE(`/users/${t}`);if(!e)return;const[r]=e;if(r)return r.pronoun_id}async function VD(){return iE("/pronouns")}async function iE(t){return await UD.get(t).then(e=>e.data).catch(()=>null)}const km=new Map;let Gw=!1;function sE(){function t(r){const n=[];return r.forEach((i,s)=>{var a,l;const o=(l=(a=km.get(s))==null?void 0:a.get(i))==null?void 0:l.getImageUrl(4);o&&n.push({id:s,image:o})}),n}function e(r){var i,s;const n=(s=(i=km.get(r))==null?void 0:i.get(r==="subscriber"||r==="founder"?"0":"1"))==null?void 0:s.getImageUrl(4);if(n)return{id:r,image:n}}return{transformBadges:t,getBadge:e}}function HD(){const[t,e]=U.useState(!0),{broadcaster:r}=Nn();return U.useEffect(()=>{async function n(){if(!Gw){const[i,s]=await Promise.all([ms.chat.getChannelBadges(r.id),ms.chat.getGlobalBadges()]);Ww(s),Ww(i)}e(!1),Gw=!0}n()},[r]),{loading:t}}function Ww(t){t.forEach(e=>{const r=new Map;e.versions.forEach(n=>{r.set(n.id,n)}),km.set(e.id,r)})}function Le(t,e){let r=t.length;Array.isArray(t[0])||(t=[t]),Array.isArray(e[0])||(e=e.map(o=>[o]));let n=e[0].length,i=e[0].map((o,a)=>e.map(l=>l[a])),s=t.map(o=>i.map(a=>{let l=0;if(!Array.isArray(o)){for(let u of a)l+=o*u;return l}for(let u=0;u<o.length;u++)l+=o[u]*(a[u]||0);return l}));return r===1&&(s=s[0]),n===1?s.map(o=>o[0]):s}function Pa(t){return gn(t)==="string"}function gn(t){return(Object.prototype.toString.call(t).match(/^\[object\s+(.*?)\]$/)[1]||"").toLowerCase()}function Ju(t,e){t=+t,e=+e;let r=(Math.floor(t)+"").length;if(e>r)return+t.toFixed(e-r);{let n=10**(r-e);return Math.round(t/n)*n}}function oE(t){if(!t)return;t=t.trim();const e=/^([a-z]+)\((.+?)\)$/i,r=/^-?[\d.]+$/;let n=t.match(e);if(n){let i=[];return n[2].replace(/\/?\s*([-\w.]+(?:%|deg)?)/g,(s,o)=>{/%$/.test(o)?(o=new Number(o.slice(0,-1)/100),o.type="<percentage>"):/deg$/.test(o)?(o=new Number(+o.slice(0,-3)),o.type="<angle>",o.unit="deg"):r.test(o)&&(o=new Number(o),o.type="<number>"),s.startsWith("/")&&(o=o instanceof Number?o:new Number(o),o.alpha=!0),i.push(o)}),{name:n[1].toLowerCase(),rawName:n[1],rawArgs:n[2],args:i}}}function aE(t){return t[t.length-1]}function Zu(t,e,r){return isNaN(t)?e:isNaN(e)?t:t+(e-t)*r}function lE(t,e,r){return(r-t)/(e-t)}function Ay(t,e,r){return Zu(e[0],e[1],lE(t[0],t[1],r))}function uE(t){return t.map(e=>e.split("|").map(r=>{r=r.trim();let n=r.match(/^(<[a-z]+>)\[(-?[.\d]+),\s*(-?[.\d]+)\]?$/);if(n){let i=new String(n[1]);return i.range=[+n[2],+n[3]],i}return r}))}var zD=Object.freeze({__proto__:null,interpolate:Zu,interpolateInv:lE,isString:Pa,last:aE,mapRange:Ay,multiplyMatrices:Le,parseCoordGrammar:uE,parseFunction:oE,toPrecision:Ju,type:gn});class GD{add(e,r,n){if(typeof arguments[0]!="string"){for(var e in arguments[0])this.add(e,arguments[0][e],arguments[1]);return}(Array.isArray(e)?e:[e]).forEach(function(i){this[i]=this[i]||[],r&&this[i][n?"unshift":"push"](r)},this)}run(e,r){this[e]=this[e]||[],this[e].forEach(function(n){n.call(r&&r.context?r.context:r,r)})}}const Tn=new GD;var gr={gamut_mapping:"lch.c",precision:5,deltaE:"76"};const Jt={D50:[.3457/.3585,1,(1-.3457-.3585)/.3585],D65:[.3127/.329,1,(1-.3127-.329)/.329]};function Rm(t){return Array.isArray(t)?t:Jt[t]}function ec(t,e,r,n={}){if(t=Rm(t),e=Rm(e),!t||!e)throw new TypeError(`Missing white point to convert ${t?"":"from"}${!t&&!e?"/":""}${e?"":"to"}`);if(t===e)return r;let i={W1:t,W2:e,XYZ:r,options:n};if(Tn.run("chromatic-adaptation-start",i),i.M||(i.W1===Jt.D65&&i.W2===Jt.D50?i.M=[[1.0479298208405488,.022946793341019088,-.05019222954313557],[.029627815688159344,.990434484573249,-.01707382502938514],[-.009243058152591178,.015055144896577895,.7518742899580008]]:i.W1===Jt.D50&&i.W2===Jt.D65&&(i.M=[[.9554734527042182,-.023098536874261423,.0632593086610217],[-.028369706963208136,1.0099954580058226,.021041398966943008],[.012314001688319899,-.020507696433477912,1.3303659366080753]])),Tn.run("chromatic-adaptation-end",i),i.M)return Le(i.M,i.XYZ);throw new TypeError("Only Bradford CAT with white points D50 and D65 supported for now.")}const WD=75e-6,_t=class _t{constructor(e){var i,s,o;this.id=e.id,this.name=e.name,this.base=e.base?_t.get(e.base):null,this.aliases=e.aliases,this.base&&(this.fromBase=e.fromBase,this.toBase=e.toBase);let r=e.coords??this.base.coords;for(let a in r)"name"in r[a]||(r[a].name=a);this.coords=r;let n=e.white??this.base.white??"D65";this.white=Rm(n),this.formats=e.formats??{};for(let a in this.formats){let l=this.formats[a];l.type||(l.type="function"),l.name||(l.name=a)}e.cssId&&!((i=this.formats.functions)!=null&&i.color)?(this.formats.color={id:e.cssId},Object.defineProperty(this,"cssId",{value:e.cssId})):(s=this.formats)!=null&&s.color&&!((o=this.formats)!=null&&o.color.id)&&(this.formats.color.id=this.id),this.referred=e.referred,Object.defineProperty(this,"path",{value:QD(this).reverse(),writable:!1,enumerable:!0,configurable:!0}),Tn.run("colorspace-init-end",this)}inGamut(e,{epsilon:r=WD}={}){if(this.isPolar)return e=this.toBase(e),this.base.inGamut(e,{epsilon:r});let n=Object.values(this.coords);return e.every((i,s)=>{let o=n[s];if(o.type!=="angle"&&o.range){if(Number.isNaN(i))return!0;let[a,l]=o.range;return(a===void 0||i>=a-r)&&(l===void 0||i<=l+r)}return!0})}get cssId(){var e,r;return((r=(e=this.formats.functions)==null?void 0:e.color)==null?void 0:r.id)||this.id}get isPolar(){for(let e in this.coords)if(this.coords[e].type==="angle")return!0;return!1}getFormat(e){if(typeof e=="object")return e=Qw(e,this),e;let r;return e==="default"?r=Object.values(this.formats)[0]:r=this.formats[e],r?(r=Qw(r,this),r):null}equals(e){return e?this===e||this.id===e.id:!1}to(e,r){if(arguments.length===1&&([e,r]=[e.space,e.coords]),e=_t.get(e),this.equals(e))return r;r=r.map(a=>Number.isNaN(a)?0:a);let n=this.path,i=e.path,s,o;for(let a=0;a<n.length&&n[a].equals(i[a]);a++)s=n[a],o=a;if(!s)throw new Error(`Cannot convert between color spaces ${this} and ${e}: no connection space was found`);for(let a=n.length-1;a>o;a--)r=n[a].toBase(r);for(let a=o+1;a<i.length;a++)r=i[a].fromBase(r);return r}from(e,r){return arguments.length===1&&([e,r]=[e.space,e.coords]),e=_t.get(e),e.to(this,r)}toString(){return`${this.name} (${this.id})`}getMinCoords(){let e=[];for(let r in this.coords){let n=this.coords[r],i=n.range||n.refRange;e.push((i==null?void 0:i.min)??0)}return e}static get all(){return[...new Set(Object.values(_t.registry))]}static register(e,r){if(arguments.length===1&&(r=arguments[0],e=r.id),r=this.get(r),this.registry[e]&&this.registry[e]!==r)throw new Error(`Duplicate color space registration: '${e}'`);if(this.registry[e]=r,arguments.length===1&&r.aliases)for(let n of r.aliases)this.register(n,r);return r}static get(e,...r){if(!e||e instanceof _t)return e;if(gn(e)==="string"){let i=_t.registry[e.toLowerCase()];if(!i)throw new TypeError(`No color space found with id = "${e}"`);return i}if(r.length)return _t.get(...r);throw new TypeError(`${e} is not a valid color space`)}static resolveCoord(e,r){var l;let n=gn(e),i,s;if(n==="string"?e.includes(".")?[i,s]=e.split("."):[i,s]=[,e]:Array.isArray(e)?[i,s]=e:(i=e.space,s=e.coordId),i=_t.get(i),i||(i=r),!i)throw new TypeError(`Cannot resolve coordinate reference ${e}: No color space specified and relative references are not allowed here`);if(n=gn(s),n==="number"||n==="string"&&s>=0){let u=Object.entries(i.coords)[s];if(u)return{space:i,id:u[0],index:s,...u[1]}}i=_t.get(i);let o=s.toLowerCase(),a=0;for(let u in i.coords){let c=i.coords[u];if(u.toLowerCase()===o||((l=c.name)==null?void 0:l.toLowerCase())===o)return{space:i,id:u,index:a,...c};a++}throw new TypeError(`No "${s}" coordinate found in ${i.name}. Its coordinates are: ${Object.keys(i.coords).join(", ")}`)}};fd(_t,"registry",{}),fd(_t,"DEFAULT_FORMAT",{type:"functions",name:"color"});let Y=_t;function QD(t){let e=[t];for(let r=t;r=r.base;)e.push(r);return e}function Qw(t,{coords:e}={}){if(t.coords&&!t.coordGrammar){t.type||(t.type="function"),t.name||(t.name="color"),t.coordGrammar=uE(t.coords);let r=Object.entries(e).map(([n,i],s)=>{let o=t.coordGrammar[s][0],a=i.range||i.refRange,l=o.range,u="";return o=="<percentage>"?(l=[0,100],u="%"):o=="<angle>"&&(u="deg"),{fromRange:a,toRange:l,suffix:u}});t.serializeCoords=(n,i)=>n.map((s,o)=>{let{fromRange:a,toRange:l,suffix:u}=r[o];return a&&l&&(s=Ay(a,l,s)),s=Ju(s,i),u&&(s+=u),s})}return t}var Ft=new Y({id:"xyz-d65",name:"XYZ D65",coords:{x:{name:"X"},y:{name:"Y"},z:{name:"Z"}},white:"D65",formats:{color:{ids:["xyz-d65","xyz"]}},aliases:["xyz"]});class gt extends Y{constructor(e){e.coords||(e.coords={r:{range:[0,1],name:"Red"},g:{range:[0,1],name:"Green"},b:{range:[0,1],name:"Blue"}}),e.base||(e.base=Ft),e.toXYZ_M&&e.fromXYZ_M&&(e.toBase??(e.toBase=r=>{let n=Le(e.toXYZ_M,r);return this.white!==this.base.white&&(n=ec(this.white,this.base.white,n)),n}),e.fromBase??(e.fromBase=r=>(r=ec(this.base.white,this.white,r),Le(e.fromXYZ_M,r)))),e.referred??(e.referred="display"),super(e)}}function cE(t,{meta:e}={}){var n,i,s,o,a;let r={str:(n=String(t))==null?void 0:n.trim()};if(Tn.run("parse-start",r),r.color)return r.color;if(r.parsed=oE(r.str),r.parsed){let l=r.parsed.name;if(l==="color"){let u=r.parsed.args.shift(),c=r.parsed.rawArgs.indexOf("/")>0?r.parsed.args.pop():1;for(let d of Y.all){let p=d.getFormat("color");if(p&&(u===p.id||(i=p.ids)!=null&&i.includes(u))){const m=Object.keys(d.coords).map((_,w)=>r.parsed.args[w]||0);return e&&(e.formatId="color"),{spaceId:d.id,coords:m,alpha:c}}}let h="";if(u in Y.registry){let d=(a=(o=(s=Y.registry[u].formats)==null?void 0:s.functions)==null?void 0:o.color)==null?void 0:a.id;d&&(h=`Did you mean color(${d})?`)}throw new TypeError(`Cannot parse color(${u}). `+(h||"Missing a plugin?"))}else for(let u of Y.all){let c=u.getFormat(l);if(c&&c.type==="function"){let h=1;(c.lastAlpha||aE(r.parsed.args).alpha)&&(h=r.parsed.args.pop());let d=r.parsed.args,p;return c.coordGrammar&&(p=Object.entries(u.coords).map(([m,_],w)=>{var k;let v=c.coordGrammar[w],g=(k=d[w])==null?void 0:k.type,y=v.find(O=>O==g);if(!y){let O=_.name||m;throw new TypeError(`${g} not allowed for ${O} in ${l}()`)}let x=y.range;g==="<percentage>"&&(x||(x=[0,1]));let C=_.range||_.refRange;return x&&C&&(d[w]=Ay(x,C,d[w])),y})),e&&Object.assign(e,{formatId:c.name,types:p}),{spaceId:u.id,coords:d,alpha:h}}}}else for(let l of Y.all)for(let u in l.formats){let c=l.formats[u];if(c.type!=="custom"||c.test&&!c.test(r.str))continue;let h=c.parse(r.str);if(h)return h.alpha??(h.alpha=1),e&&(e.formatId=u),h}throw new TypeError(`Could not parse ${t} as a color. Missing a plugin?`)}function fe(t){if(!t)throw new TypeError("Empty color reference");Pa(t)&&(t=cE(t));let e=t.space||t.spaceId;return e instanceof Y||(t.space=Y.get(e)),t.alpha===void 0&&(t.alpha=1),t}function Aa(t,e){return e=Y.get(e),e.from(t)}function Ut(t,e){let{space:r,index:n}=Y.resolveCoord(e,t.space);return Aa(t,r)[n]}function dE(t,e,r){return e=Y.get(e),t.coords=e.to(t.space,r),t}function En(t,e,r){if(t=fe(t),arguments.length===2&&gn(arguments[1])==="object"){let n=arguments[1];for(let i in n)En(t,i,n[i])}else{typeof r=="function"&&(r=r(Ut(t,e)));let{space:n,index:i}=Y.resolveCoord(e,t.space),s=Aa(t,n);s[i]=r,dE(t,n,s)}return t}var Iy=new Y({id:"xyz-d50",name:"XYZ D50",white:"D50",base:Ft,fromBase:t=>ec(Ft.white,"D50",t),toBase:t=>ec("D50",Ft.white,t),formats:{color:{}}});const KD=216/24389,Kw=24/116,al=24389/27;let Pf=Jt.D50;var St=new Y({id:"lab",name:"Lab",coords:{l:{refRange:[0,100],name:"L"},a:{refRange:[-125,125]},b:{refRange:[-125,125]}},white:Pf,base:Iy,fromBase(t){let r=t.map((n,i)=>n/Pf[i]).map(n=>n>KD?Math.cbrt(n):(al*n+16)/116);return[116*r[1]-16,500*(r[0]-r[1]),200*(r[1]-r[2])]},toBase(t){let e=[];return e[1]=(t[0]+16)/116,e[0]=t[1]/500+e[1],e[2]=e[1]-t[2]/200,[e[0]>Kw?Math.pow(e[0],3):(116*e[0]-16)/al,t[0]>8?Math.pow((t[0]+16)/116,3):t[0]/al,e[2]>Kw?Math.pow(e[2],3):(116*e[2]-16)/al].map((n,i)=>n*Pf[i])},formats:{lab:{coords:["<number> | <percentage>","<number> | <percentage>[-1,1]","<number> | <percentage>[-1,1]"]}}});function Wc(t){return(t%360+360)%360}function YD(t,e){if(t==="raw")return e;let[r,n]=e.map(Wc),i=n-r;return t==="increasing"?i<0&&(n+=360):t==="decreasing"?i>0&&(r+=360):t==="longer"?-180<i&&i<180&&(i>0?r+=360:n+=360):t==="shorter"&&(i>180?r+=360:i<-180&&(n+=360)),[r,n]}var ua=new Y({id:"lch",name:"LCH",coords:{l:{refRange:[0,100],name:"Lightness"},c:{refRange:[0,150],name:"Chroma"},h:{refRange:[0,360],type:"angle",name:"Hue"}},base:St,fromBase(t){let[e,r,n]=t,i;const s=.02;return Math.abs(r)<s&&Math.abs(n)<s?i=NaN:i=Math.atan2(n,r)*180/Math.PI,[e,Math.sqrt(r**2+n**2),Wc(i)]},toBase(t){let[e,r,n]=t;return r<0&&(r=0),isNaN(n)&&(n=0),[e,r*Math.cos(n*Math.PI/180),r*Math.sin(n*Math.PI/180)]},formats:{lch:{coords:["<number> | <percentage>","<number> | <percentage>","<number> | <angle>"]}}});const Yw=25**7,tc=Math.PI,Xw=180/tc,Si=tc/180;function Mm(t,e,{kL:r=1,kC:n=1,kH:i=1}={}){let[s,o,a]=St.from(t),l=ua.from(St,[s,o,a])[1],[u,c,h]=St.from(e),d=ua.from(St,[u,c,h])[1];l<0&&(l=0),d<0&&(d=0);let m=((l+d)/2)**7,_=.5*(1-Math.sqrt(m/(m+Yw))),w=(1+_)*o,v=(1+_)*c,g=Math.sqrt(w**2+a**2),y=Math.sqrt(v**2+h**2),x=w===0&&a===0?0:Math.atan2(a,w),C=v===0&&h===0?0:Math.atan2(h,v);x<0&&(x+=2*tc),C<0&&(C+=2*tc),x*=Xw,C*=Xw;let k=u-s,O=y-g,A=C-x,N=x+C,j=Math.abs(A),Q;g*y===0?Q=0:j<=180?Q=A:A>180?Q=A-360:A<-180?Q=A+360:console.log("the unthinkable has happened");let re=2*Math.sqrt(y*g)*Math.sin(Q*Si/2),Z=(s+u)/2,T=(g+y)/2,I=Math.pow(T,7),V;g*y===0?V=N:j<=180?V=N/2:N<360?V=(N+360)/2:V=(N-360)/2;let se=(Z-50)**2,L=1+.015*se/Math.sqrt(20+se),F=1+.045*T,z=1;z-=.17*Math.cos((V-30)*Si),z+=.24*Math.cos(2*V*Si),z+=.32*Math.cos((3*V+6)*Si),z-=.2*Math.cos((4*V-63)*Si);let H=1+.015*T*z,oe=30*Math.exp(-1*((V-275)/25)**2),Ht=2*Math.sqrt(I/(I+Yw)),Ye=-1*Math.sin(2*oe*Si)*Ht,yt=(k/(r*L))**2;return yt+=(O/(n*F))**2,yt+=(re/(i*H))**2,yt+=Ye*(O/(n*F))*(re/(i*H)),Math.sqrt(yt)}const XD=75e-6;function fo(t,e=t.space,{epsilon:r=XD}={}){t=fe(t),e=Y.get(e);let n=t.coords;return e!==t.space&&(n=e.from(t)),e.inGamut(n,{epsilon:r})}function ca(t){return{space:t.space,coords:t.coords.slice(),alpha:t.alpha}}function Pn(t,{method:e=gr.gamut_mapping,space:r=t.space}={}){if(Pa(arguments[1])&&(r=arguments[1]),r=Y.get(r),fo(t,r,{epsilon:0}))return fe(t);let n=Ot(t,r);if(e!=="clip"&&!fo(t,r)){let i=Pn(ca(n),{method:"clip",space:r});if(Mm(t,i)>2){let s=Y.resolveCoord(e),o=s.space,a=s.id,l=Ot(n,o),c=(s.range||s.refRange)[0],h=.01,d=c,p=Ut(l,a);for(;p-d>h;){let m=ca(l);m=Pn(m,{space:r,method:"clip"}),Mm(l,m)-2<h?d=Ut(l,a):p=Ut(l,a),En(l,a,(d+p)/2)}n=Ot(l,r)}else n=i}if(e==="clip"||!fo(n,r,{epsilon:0})){let i=Object.values(r.coords).map(s=>s.range||[]);n.coords=n.coords.map((s,o)=>{let[a,l]=i[o];return a!==void 0&&(s=Math.max(a,s)),l!==void 0&&(s=Math.min(s,l)),s})}return r!==t.space&&(n=Ot(n,t.space)),t.coords=n.coords,t}Pn.returns="color";function Ot(t,e,{inGamut:r}={}){t=fe(t),e=Y.get(e);let n=e.from(t),i={space:e,coords:n,alpha:t.alpha};return r&&(i=Pn(i)),i}Ot.returns="color";function rc(t,{precision:e=gr.precision,format:r="default",inGamut:n=!0,...i}={}){var l;let s;t=fe(t);let o=r;r=t.space.getFormat(r)??t.space.getFormat("default")??Y.DEFAULT_FORMAT,n||(n=r.toGamut);let a=t.coords;if(a=a.map(u=>u||0),n&&!fo(t)&&(a=Pn(ca(t),n===!0?void 0:n).coords),r.type==="custom")if(i.precision=e,r.serialize)s=r.serialize(a,t.alpha,i);else throw new TypeError(`format ${o} can only be used to parse colors, not for serialization`);else{let u=r.name||"color";r.serializeCoords?a=r.serializeCoords(a,e):e!==null&&(a=a.map(p=>Ju(p,e)));let c=[...a];if(u==="color"){let p=r.id||((l=r.ids)==null?void 0:l[0])||t.space.id;c.unshift(p)}let h=t.alpha;e!==null&&(h=Ju(h,e));let d=t.alpha<1&&!r.noAlpha?`${r.commas?",":" /"} ${h}`:"";s=`${u}(${c.join(r.commas?", ":" ")}${d})`}return s}const JD=[[.6369580483012914,.14461690358620832,.1688809751641721],[.2627002120112671,.6779980715188708,.05930171646986196],[0,.028072693049087428,1.060985057710791]],ZD=[[1.716651187971268,-.355670783776392,-.25336628137366],[-.666684351832489,1.616481236634939,.0157685458139111],[.017639857445311,-.042770613257809,.942103121235474]];var Qc=new gt({id:"rec2020-linear",name:"Linear REC.2020",white:"D65",toXYZ_M:JD,fromXYZ_M:ZD,formats:{color:{}}});const ll=1.09929682680944,Jw=.018053968510807;var hE=new gt({id:"rec2020",name:"REC.2020",base:Qc,toBase(t){return t.map(function(e){return e<Jw*4.5?e/4.5:Math.pow((e+ll-1)/ll,1/.45)})},fromBase(t){return t.map(function(e){return e>=Jw?ll*Math.pow(e,.45)-(ll-1):4.5*e})},formats:{color:{}}});const eN=[[.4865709486482162,.26566769316909306,.1982172852343625],[.2289745640697488,.6917385218365064,.079286914093745],[0,.04511338185890264,1.043944368900976]],tN=[[2.493496911941425,-.9313836179191239,-.40271078445071684],[-.8294889695615747,1.7626640603183463,.023624685841943577],[.03584583024378447,-.07617238926804182,.9568845240076872]];var fE=new gt({id:"p3-linear",name:"Linear P3",white:"D65",toXYZ_M:eN,fromXYZ_M:tN});const rN=[[.41239079926595934,.357584339383878,.1804807884018343],[.21263900587151027,.715168678767756,.07219231536073371],[.01933081871559182,.11919477979462598,.9505321522496607]],nN=[[3.2409699419045226,-1.537383177570094,-.4986107602930034],[-.9692436362808796,1.8759675015077202,.04155505740717559],[.05563007969699366,-.20397695888897652,1.0569715142428786]];var pE=new gt({id:"srgb-linear",name:"Linear sRGB",white:"D65",toXYZ_M:rN,fromXYZ_M:nN,formats:{color:{}}}),Zw={aliceblue:[240/255,248/255,1],antiquewhite:[250/255,235/255,215/255],aqua:[0,1,1],aquamarine:[127/255,1,212/255],azure:[240/255,1,1],beige:[245/255,245/255,220/255],bisque:[1,228/255,196/255],black:[0,0,0],blanchedalmond:[1,235/255,205/255],blue:[0,0,1],blueviolet:[138/255,43/255,226/255],brown:[165/255,42/255,42/255],burlywood:[222/255,184/255,135/255],cadetblue:[95/255,158/255,160/255],chartreuse:[127/255,1,0],chocolate:[210/255,105/255,30/255],coral:[1,127/255,80/255],cornflowerblue:[100/255,149/255,237/255],cornsilk:[1,248/255,220/255],crimson:[220/255,20/255,60/255],cyan:[0,1,1],darkblue:[0,0,139/255],darkcyan:[0,139/255,139/255],darkgoldenrod:[184/255,134/255,11/255],darkgray:[169/255,169/255,169/255],darkgreen:[0,100/255,0],darkgrey:[169/255,169/255,169/255],darkkhaki:[189/255,183/255,107/255],darkmagenta:[139/255,0,139/255],darkolivegreen:[85/255,107/255,47/255],darkorange:[1,140/255,0],darkorchid:[153/255,50/255,204/255],darkred:[139/255,0,0],darksalmon:[233/255,150/255,122/255],darkseagreen:[143/255,188/255,143/255],darkslateblue:[72/255,61/255,139/255],darkslategray:[47/255,79/255,79/255],darkslategrey:[47/255,79/255,79/255],darkturquoise:[0,206/255,209/255],darkviolet:[148/255,0,211/255],deeppink:[1,20/255,147/255],deepskyblue:[0,191/255,1],dimgray:[105/255,105/255,105/255],dimgrey:[105/255,105/255,105/255],dodgerblue:[30/255,144/255,1],firebrick:[178/255,34/255,34/255],floralwhite:[1,250/255,240/255],forestgreen:[34/255,139/255,34/255],fuchsia:[1,0,1],gainsboro:[220/255,220/255,220/255],ghostwhite:[248/255,248/255,1],gold:[1,215/255,0],goldenrod:[218/255,165/255,32/255],gray:[128/255,128/255,128/255],green:[0,128/255,0],greenyellow:[173/255,1,47/255],grey:[128/255,128/255,128/255],honeydew:[240/255,1,240/255],hotpink:[1,105/255,180/255],indianred:[205/255,92/255,92/255],indigo:[75/255,0,130/255],ivory:[1,1,240/255],khaki:[240/255,230/255,140/255],lavender:[230/255,230/255,250/255],lavenderblush:[1,240/255,245/255],lawngreen:[124/255,252/255,0],lemonchiffon:[1,250/255,205/255],lightblue:[173/255,216/255,230/255],lightcoral:[240/255,128/255,128/255],lightcyan:[224/255,1,1],lightgoldenrodyellow:[250/255,250/255,210/255],lightgray:[211/255,211/255,211/255],lightgreen:[144/255,238/255,144/255],lightgrey:[211/255,211/255,211/255],lightpink:[1,182/255,193/255],lightsalmon:[1,160/255,122/255],lightseagreen:[32/255,178/255,170/255],lightskyblue:[135/255,206/255,250/255],lightslategray:[119/255,136/255,153/255],lightslategrey:[119/255,136/255,153/255],lightsteelblue:[176/255,196/255,222/255],lightyellow:[1,1,224/255],lime:[0,1,0],limegreen:[50/255,205/255,50/255],linen:[250/255,240/255,230/255],magenta:[1,0,1],maroon:[128/255,0,0],mediumaquamarine:[102/255,205/255,170/255],mediumblue:[0,0,205/255],mediumorchid:[186/255,85/255,211/255],mediumpurple:[147/255,112/255,219/255],mediumseagreen:[60/255,179/255,113/255],mediumslateblue:[123/255,104/255,238/255],mediumspringgreen:[0,250/255,154/255],mediumturquoise:[72/255,209/255,204/255],mediumvioletred:[199/255,21/255,133/255],midnightblue:[25/255,25/255,112/255],mintcream:[245/255,1,250/255],mistyrose:[1,228/255,225/255],moccasin:[1,228/255,181/255],navajowhite:[1,222/255,173/255],navy:[0,0,128/255],oldlace:[253/255,245/255,230/255],olive:[128/255,128/255,0],olivedrab:[107/255,142/255,35/255],orange:[1,165/255,0],orangered:[1,69/255,0],orchid:[218/255,112/255,214/255],palegoldenrod:[238/255,232/255,170/255],palegreen:[152/255,251/255,152/255],paleturquoise:[175/255,238/255,238/255],palevioletred:[219/255,112/255,147/255],papayawhip:[1,239/255,213/255],peachpuff:[1,218/255,185/255],peru:[205/255,133/255,63/255],pink:[1,192/255,203/255],plum:[221/255,160/255,221/255],powderblue:[176/255,224/255,230/255],purple:[128/255,0,128/255],rebeccapurple:[102/255,51/255,153/255],red:[1,0,0],rosybrown:[188/255,143/255,143/255],royalblue:[65/255,105/255,225/255],saddlebrown:[139/255,69/255,19/255],salmon:[250/255,128/255,114/255],sandybrown:[244/255,164/255,96/255],seagreen:[46/255,139/255,87/255],seashell:[1,245/255,238/255],sienna:[160/255,82/255,45/255],silver:[192/255,192/255,192/255],skyblue:[135/255,206/255,235/255],slateblue:[106/255,90/255,205/255],slategray:[112/255,128/255,144/255],slategrey:[112/255,128/255,144/255],snow:[1,250/255,250/255],springgreen:[0,1,127/255],steelblue:[70/255,130/255,180/255],tan:[210/255,180/255,140/255],teal:[0,128/255,128/255],thistle:[216/255,191/255,216/255],tomato:[1,99/255,71/255],turquoise:[64/255,224/255,208/255],violet:[238/255,130/255,238/255],wheat:[245/255,222/255,179/255],white:[1,1,1],whitesmoke:[245/255,245/255,245/255],yellow:[1,1,0],yellowgreen:[154/255,205/255,50/255]};let e1=Array(3).fill("<percentage> | <number>[0, 255]"),t1=Array(3).fill("<number>[0, 255]");var da=new gt({id:"srgb",name:"sRGB",base:pE,fromBase:t=>t.map(e=>{let r=e<0?-1:1,n=e*r;return n>.0031308?r*(1.055*n**(1/2.4)-.055):12.92*e}),toBase:t=>t.map(e=>{let r=e<0?-1:1,n=e*r;return n<.04045?e/12.92:r*((n+.055)/1.055)**2.4}),formats:{rgb:{coords:e1},rgb_number:{name:"rgb",commas:!0,coords:t1,noAlpha:!0},color:{},rgba:{coords:e1,commas:!0,lastAlpha:!0},rgba_number:{name:"rgba",commas:!0,coords:t1},hex:{type:"custom",toGamut:!0,test:t=>/^#([a-f0-9]{3,4}){1,2}$/i.test(t),parse(t){t.length<=5&&(t=t.replace(/[a-f0-9]/gi,"$&$&"));let e=[];return t.replace(/[a-f0-9]{2}/gi,r=>{e.push(parseInt(r,16)/255)}),{spaceId:"srgb",coords:e.slice(0,3),alpha:e.slice(3)[0]}},serialize:(t,e,{collapse:r=!0}={})=>{e<1&&t.push(e),t=t.map(s=>Math.round(s*255));let n=r&&t.every(s=>s%17===0);return"#"+t.map(s=>n?(s/17).toString(16):s.toString(16).padStart(2,"0")).join("")}},keyword:{type:"custom",test:t=>/^[a-z]+$/i.test(t),parse(t){t=t.toLowerCase();let e={spaceId:"srgb",coords:null,alpha:1};if(t==="transparent"?(e.coords=Zw.black,e.alpha=0):e.coords=Zw[t],e.coords)return e}}}}),mE=new gt({id:"p3",name:"P3",base:fE,fromBase:da.fromBase,toBase:da.toBase,formats:{color:{id:"display-p3"}}});gr.display_space=da;if(typeof CSS<"u"&&CSS.supports)for(let t of[St,hE,mE]){let e=t.getMinCoords(),n=rc({space:t,coords:e,alpha:1});if(CSS.supports("color",n)){gr.display_space=t;break}}function iN(t,{space:e=gr.display_space,...r}={}){let n=rc(t,r);if(typeof CSS>"u"||CSS.supports("color",n)||!gr.display_space)n=new String(n),n.color=t;else{let i=Ot(t,e);n=new String(rc(i,r)),n.color=i}return n}function gE(t,e,r="lab"){r=Y.get(r);let n=r.from(t),i=r.from(e);return Math.sqrt(n.reduce((s,o,a)=>{let l=i[a];return isNaN(o)||isNaN(l)?s:s+(l-o)**2},0))}function sN(t,e){return t=fe(t),e=fe(e),t.space===e.space&&t.alpha===e.alpha&&t.coords.every((r,n)=>r===e.coords[n])}function An(t){return Ut(t,[Ft,"y"])}function yE(t,e){En(t,[Ft,"y"],e)}function oN(t){Object.defineProperty(t.prototype,"luminance",{get(){return An(this)},set(e){yE(this,e)}})}var aN=Object.freeze({__proto__:null,getLuminance:An,register:oN,setLuminance:yE});function lN(t,e){t=fe(t),e=fe(e);let r=Math.max(An(t),0),n=Math.max(An(e),0);return n>r&&([r,n]=[n,r]),(r+.05)/(n+.05)}const uN=.56,cN=.57,dN=.62,hN=.65,r1=.022,fN=1.414,pN=.1,mN=5e-4,gN=1.14,n1=.027,yN=1.14;function i1(t){return t>=r1?t:t+(r1-t)**fN}function bi(t){let e=t<0?-1:1,r=Math.abs(t);return e*Math.pow(r,2.4)}function vN(t,e){e=fe(e),t=fe(t);let r,n,i,s,o,a;e=Ot(e,"srgb"),[s,o,a]=e.coords;let l=bi(s)*.2126729+bi(o)*.7151522+bi(a)*.072175;t=Ot(t,"srgb"),[s,o,a]=t.coords;let u=bi(s)*.2126729+bi(o)*.7151522+bi(a)*.072175,c=i1(l),h=i1(u),d=h>c;return Math.abs(h-c)<mN?n=0:d?(r=h**uN-c**cN,n=r*gN):(r=h**hN-c**dN,n=r*yN),Math.abs(n)<pN?i=0:n>0?i=n-n1:i=n+n1,i*100}function _N(t,e){t=fe(t),e=fe(e);let r=Math.max(An(t),0),n=Math.max(An(e),0);n>r&&([r,n]=[n,r]);let i=r+n;return i===0?0:(r-n)/i}const wN=5e4;function xN(t,e){t=fe(t),e=fe(e);let r=Math.max(An(t),0),n=Math.max(An(e),0);return n>r&&([r,n]=[n,r]),n===0?wN:(r-n)/n}function SN(t,e){t=fe(t),e=fe(e);let r=Ut(t,[St,"l"]),n=Ut(e,[St,"l"]);return Math.abs(r-n)}const bN=216/24389,s1=24/116,ul=24389/27;let Af=Jt.D65;var Om=new Y({id:"lab-d65",name:"Lab D65",coords:{l:{refRange:[0,100],name:"L"},a:{refRange:[-125,125]},b:{refRange:[-125,125]}},white:Af,base:Ft,fromBase(t){let r=t.map((n,i)=>n/Af[i]).map(n=>n>bN?Math.cbrt(n):(ul*n+16)/116);return[116*r[1]-16,500*(r[0]-r[1]),200*(r[1]-r[2])]},toBase(t){let e=[];return e[1]=(t[0]+16)/116,e[0]=t[1]/500+e[1],e[2]=e[1]-t[2]/200,[e[0]>s1?Math.pow(e[0],3):(116*e[0]-16)/ul,t[0]>8?Math.pow((t[0]+16)/116,3):t[0]/ul,e[2]>s1?Math.pow(e[2],3):(116*e[2]-16)/ul].map((n,i)=>n*Af[i])},formats:{"lab-d65":{coords:["<number> | <percentage>","<number> | <percentage>[-1,1]","<number> | <percentage>[-1,1]"]}}});const If=Math.pow(5,.5)*.5+.5;function CN(t,e){t=fe(t),e=fe(e);let r=Ut(t,[Om,"l"]),n=Ut(e,[Om,"l"]),i=Math.abs(Math.pow(r,If)-Math.pow(n,If)),s=Math.pow(i,1/If)*Math.SQRT2-40;return s<7.5?0:s}var ql=Object.freeze({__proto__:null,contrastAPCA:vN,contrastDeltaPhi:CN,contrastLstar:SN,contrastMichelson:_N,contrastWCAG21:lN,contrastWeber:xN});function TN(t,e,r={}){Pa(r)&&(r={algorithm:r});let{algorithm:n,...i}=r;if(!n){let s=Object.keys(ql).map(o=>o.replace(/^contrast/,"")).join(", ");throw new TypeError(`contrast() function needs a contrast algorithm. Please specify one of: ${s}`)}t=fe(t),e=fe(e);for(let s in ql)if("contrast"+n.toLowerCase()===s.toLowerCase())return ql[s](t,e,i);throw new TypeError(`Unknown contrast algorithm: ${n}`)}function vE(t){let[e,r,n]=Aa(t,Ft),i=e+15*r+3*n;return[4*e/i,9*r/i]}function _E(t){let[e,r,n]=Aa(t,Ft),i=e+r+n;return[e/i,r/i]}function EN(t){Object.defineProperty(t.prototype,"uv",{get(){return vE(this)}}),Object.defineProperty(t.prototype,"xy",{get(){return _E(this)}})}var PN=Object.freeze({__proto__:null,register:EN,uv:vE,xy:_E});function AN(t,e){return gE(t,e,"lab")}const IN=Math.PI,o1=IN/180;function kN(t,e,{l:r=2,c:n=1}={}){let[i,s,o]=St.from(t),[,a,l]=ua.from(St,[i,s,o]),[u,c,h]=St.from(e),d=ua.from(St,[u,c,h])[1];a<0&&(a=0),d<0&&(d=0);let p=i-u,m=a-d,_=s-c,w=o-h,v=_**2+w**2-m**2,g=.511;i>=16&&(g=.040975*i/(1+.01765*i));let y=.0638*a/(1+.0131*a)+.638,x;Number.isNaN(l)&&(l=0),l>=164&&l<=345?x=.56+Math.abs(.2*Math.cos((l+168)*o1)):x=.36+Math.abs(.4*Math.cos((l+35)*o1));let C=Math.pow(a,4),k=Math.sqrt(C/(C+1900)),O=y*(k*x+1-k),A=(p/(r*g))**2;return A+=(m/(n*y))**2,A+=v/O**2,Math.sqrt(A)}const a1=203;var ky=new Y({id:"xyz-abs-d65",name:"Absolute XYZ D65",coords:{x:{refRange:[0,9504.7],name:"Xa"},y:{refRange:[0,1e4],name:"Ya"},z:{refRange:[0,10888.3],name:"Za"}},base:Ft,fromBase(t){return t.map(e=>Math.max(e*a1,0))},toBase(t){return t.map(e=>Math.max(e/a1,0))}});const cl=1.15,dl=.66,l1=2610/2**14,RN=2**14/2610,u1=3424/2**12,c1=2413/2**7,d1=2392/2**7,MN=1.7*2523/2**5,h1=2**5/(1.7*2523),hl=-.56,kf=16295499532821565e-27,ON=[[.41478972,.579999,.014648],[-.20151,1.120649,.0531008],[-.0166008,.2648,.6684799]],DN=[[1.9242264357876067,-1.0047923125953657,.037651404030618],[.35031676209499907,.7264811939316552,-.06538442294808501],[-.09098281098284752,-.3127282905230739,1.5227665613052603]],NN=[[.5,.5,0],[3.524,-4.066708,.542708],[.199076,1.096799,-1.295875]],BN=[[1,.1386050432715393,.05804731615611886],[.9999999999999999,-.1386050432715393,-.05804731615611886],[.9999999999999998,-.09601924202631895,-.8118918960560388]];var wE=new Y({id:"jzazbz",name:"Jzazbz",coords:{jz:{refRange:[0,1],name:"Jz"},az:{refRange:[-.5,.5]},bz:{refRange:[-.5,.5]}},base:ky,fromBase(t){let[e,r,n]=t,i=cl*e-(cl-1)*n,s=dl*r-(dl-1)*e,a=Le(ON,[i,s,n]).map(function(d){let p=u1+c1*(d/1e4)**l1,m=1+d1*(d/1e4)**l1;return(p/m)**MN}),[l,u,c]=Le(NN,a);return[(1+hl)*l/(1+hl*l)-kf,u,c]},toBase(t){let[e,r,n]=t,i=(e+kf)/(1+hl-hl*(e+kf)),o=Le(BN,[i,r,n]).map(function(d){let p=u1-d**h1,m=d1*d**h1-c1;return 1e4*(p/m)**RN}),[a,l,u]=Le(DN,o),c=(a+(cl-1)*u)/cl,h=(l+(dl-1)*c)/dl;return[c,h,u]},formats:{color:{}}}),Dm=new Y({id:"jzczhz",name:"JzCzHz",coords:{jz:{refRange:[0,1],name:"Jz"},cz:{refRange:[0,1],name:"Chroma"},hz:{refRange:[0,360],type:"angle",name:"Hue"}},base:wE,fromBase(t){let[e,r,n]=t,i;const s=2e-4;return Math.abs(r)<s&&Math.abs(n)<s?i=NaN:i=Math.atan2(n,r)*180/Math.PI,[e,Math.sqrt(r**2+n**2),Wc(i)]},toBase(t){return[t[0],t[1]*Math.cos(t[2]*Math.PI/180),t[1]*Math.sin(t[2]*Math.PI/180)]},formats:{color:{}}});function LN(t,e){let[r,n,i]=Dm.from(t),[s,o,a]=Dm.from(e),l=r-s,u=n-o;Number.isNaN(i)&&Number.isNaN(a)?(i=0,a=0):Number.isNaN(i)?i=a:Number.isNaN(a)&&(a=i);let c=i-a,h=2*Math.sqrt(n*o)*Math.sin(c/2*(Math.PI/180));return Math.sqrt(l**2+u**2+h**2)}const xE=3424/4096,SE=2413/128,bE=2392/128,f1=2610/16384,FN=2523/32,UN=16384/2610,p1=32/2523,jN=[[.3592,.6976,-.0358],[-.1922,1.1004,.0755],[.007,.0749,.8434]],$N=[[2048/4096,2048/4096,0],[6610/4096,-13613/4096,7003/4096],[17933/4096,-17390/4096,-543/4096]],qN=[[.9999888965628402,.008605050147287059,.11103437159861648],[1.00001110343716,-.008605050147287059,-.11103437159861648],[1.0000320633910054,.56004913547279,-.3206339100541203]],VN=[[2.0701800566956137,-1.326456876103021,.20661600684785517],[.3649882500326575,.6804673628522352,-.04542175307585323],[-.04959554223893211,-.04942116118675749,1.1879959417328034]];var Nm=new Y({id:"ictcp",name:"ICTCP",coords:{i:{refRange:[0,1],name:"I"},ct:{refRange:[-.5,.5],name:"CT"},cp:{refRange:[-.5,.5],name:"CP"}},base:ky,fromBase(t){let e=Le(jN,t);return HN(e)},toBase(t){let e=zN(t);return Le(VN,e)},formats:{color:{}}});function HN(t){let e=t.map(function(r){let n=xE+SE*(r/1e4)**f1,i=1+bE*(r/1e4)**f1;return(n/i)**FN});return Le($N,e)}function zN(t){return Le(qN,t).map(function(n){let i=Math.max(n**p1-xE,0),s=SE-bE*n**p1;return 1e4*(i/s)**UN})}function GN(t,e){let[r,n,i]=Nm.from(t),[s,o,a]=Nm.from(e);return 720*Math.sqrt((r-s)**2+.25*(n-o)**2+(i-a)**2)}const WN=[[.8190224432164319,.3619062562801221,-.12887378261216414],[.0329836671980271,.9292868468965546,.03614466816999844],[.048177199566046255,.26423952494422764,.6335478258136937]],QN=[[1.2268798733741557,-.5578149965554813,.28139105017721583],[-.04057576262431372,1.1122868293970594,-.07171106666151701],[-.07637294974672142,-.4214933239627914,1.5869240244272418]],KN=[[.2104542553,.793617785,-.0040720468],[1.9779984951,-2.428592205,.4505937099],[.0259040371,.7827717662,-.808675766]],YN=[[.9999999984505198,.39633779217376786,.2158037580607588],[1.0000000088817609,-.10556134232365635,-.06385417477170591],[1.0000000546724108,-.08948418209496575,-1.2914855378640917]];var nc=new Y({id:"oklab",name:"Oklab",coords:{l:{refRange:[0,1],name:"L"},a:{refRange:[-.4,.4]},b:{refRange:[-.4,.4]}},white:"D65",base:Ft,fromBase(t){let r=Le(WN,t).map(n=>Math.cbrt(n));return Le(KN,r)},toBase(t){let r=Le(YN,t).map(n=>n**3);return Le(QN,r)},formats:{oklab:{coords:["<percentage> | <number>","<number> | <percentage>[-1,1]","<number> | <percentage>[-1,1]"]}}});function XN(t,e){let[r,n,i]=nc.from(t),[s,o,a]=nc.from(e),l=r-s,u=n-o,c=i-a;return Math.sqrt(l**2+u**2+c**2)}var ic={deltaE76:AN,deltaECMC:kN,deltaE2000:Mm,deltaEJz:LN,deltaEITP:GN,deltaEOK:XN};function Ys(t,e,r={}){Pa(r)&&(r={method:r});let{method:n=gr.deltaE,...i}=r;t=fe(t),e=fe(e);for(let s in ic)if("deltae"+n.toLowerCase()===s.toLowerCase())return ic[s](t,e,i);throw new TypeError(`Unknown deltaE method: ${n}`)}function JN(t,e=.25){let n=[Y.get("oklch","lch"),"l"];return En(t,n,i=>i*(1+e))}function ZN(t,e=.25){let n=[Y.get("oklch","lch"),"l"];return En(t,n,i=>i*(1-e))}var e4=Object.freeze({__proto__:null,darken:ZN,lighten:JN});function CE(t,e,r=.5,n={}){[t,e]=[fe(t),fe(e)],gn(r)==="object"&&([r,n]=[.5,r]);let{space:i,outputSpace:s,premultiplied:o}=n;return Ia(t,e,{space:i,outputSpace:s,premultiplied:o})(r)}function TE(t,e,r={}){let n;Ry(t)&&([n,r]=[t,e],[t,e]=n.rangeArgs.colors);let{maxDeltaE:i,deltaEMethod:s,steps:o=2,maxSteps:a=1e3,...l}=r;n||([t,e]=[fe(t),fe(e)],n=Ia(t,e,l));let u=Ys(t,e),c=i>0?Math.max(o,Math.ceil(u/i)+1):o,h=[];if(a!==void 0&&(c=Math.min(c,a)),c===1)h=[{p:.5,color:n(.5)}];else{let d=1/(c-1);h=Array.from({length:c},(p,m)=>{let _=m*d;return{p:_,color:n(_)}})}if(i>0){let d=h.reduce((p,m,_)=>{if(_===0)return 0;let w=Ys(m.color,h[_-1].color,s);return Math.max(p,w)},0);for(;d>i;){d=0;for(let p=1;p<h.length&&h.length<a;p++){let m=h[p-1],_=h[p],w=(_.p+m.p)/2,v=n(w);d=Math.max(d,Ys(v,m.color),Ys(v,_.color)),h.splice(p,0,{p:w,color:n(w)}),p++}}}return h=h.map(d=>d.color),h}function Ia(t,e,r={}){if(Ry(t)){let[l,u]=[t,e];return Ia(...l.rangeArgs.colors,{...l.rangeArgs.options,...u})}let{space:n,outputSpace:i,progression:s,premultiplied:o}=r;t=fe(t),e=fe(e),t=ca(t),e=ca(e);let a={colors:[t,e],options:r};if(n?n=Y.get(n):n=Y.registry[gr.interpolationSpace]||t.space,i=i?Y.get(i):n,t=Ot(t,n),e=Ot(e,n),t=Pn(t),e=Pn(e),n.coords.h&&n.coords.h.type==="angle"){let l=r.hue=r.hue||"shorter",u=[n,"h"],[c,h]=[Ut(t,u),Ut(e,u)];[c,h]=YD(l,[c,h]),En(t,u,c),En(e,u,h)}return o&&(t.coords=t.coords.map(l=>l*t.alpha),e.coords=e.coords.map(l=>l*e.alpha)),Object.assign(l=>{l=s?s(l):l;let u=t.coords.map((d,p)=>{let m=e.coords[p];return Zu(d,m,l)}),c=Zu(t.alpha,e.alpha,l),h={space:n,coords:u,alpha:c};return o&&(h.coords=h.coords.map(d=>d/c)),i!==n&&(h=Ot(h,i)),h},{rangeArgs:a})}function Ry(t){return gn(t)==="function"&&!!t.rangeArgs}gr.interpolationSpace="lab";function t4(t){t.defineFunction("mix",CE,{returns:"color"}),t.defineFunction("range",Ia,{returns:"function<color>"}),t.defineFunction("steps",TE,{returns:"array<color>"})}var r4=Object.freeze({__proto__:null,isRange:Ry,mix:CE,range:Ia,register:t4,steps:TE}),EE=new Y({id:"hsl",name:"HSL",coords:{h:{refRange:[0,360],type:"angle",name:"Hue"},s:{range:[0,100],name:"Saturation"},l:{range:[0,100],name:"Lightness"}},base:da,fromBase:t=>{let e=Math.max(...t),r=Math.min(...t),[n,i,s]=t,[o,a,l]=[NaN,0,(r+e)/2],u=e-r;if(u!==0){switch(a=l===0||l===1?0:(e-l)/Math.min(l,1-l),e){case n:o=(i-s)/u+(i<s?6:0);break;case i:o=(s-n)/u+2;break;case s:o=(n-i)/u+4}o=o*60}return[o,a*100,l*100]},toBase:t=>{let[e,r,n]=t;e=e%360,e<0&&(e+=360),r/=100,n/=100;function i(s){let o=(s+e/30)%12,a=r*Math.min(n,1-n);return n-a*Math.max(-1,Math.min(o-3,9-o,1))}return[i(0),i(8),i(4)]},formats:{hsl:{toGamut:!0,coords:["<number> | <angle>","<percentage>","<percentage>"]},hsla:{coords:["<number> | <angle>","<percentage>","<percentage>"],commas:!0,lastAlpha:!0}}}),PE=new Y({id:"hsv",name:"HSV",coords:{h:{refRange:[0,360],type:"angle",name:"Hue"},s:{range:[0,100],name:"Saturation"},v:{range:[0,100],name:"Value"}},base:EE,fromBase(t){let[e,r,n]=t;r/=100,n/=100;let i=n+r*Math.min(n,1-n);return[e,i===0?0:200*(1-n/i),100*i]},toBase(t){let[e,r,n]=t;r/=100,n/=100;let i=n*(1-r/2);return[e,i===0||i===1?0:(n-i)/Math.min(i,1-i)*100,i*100]},formats:{color:{toGamut:!0}}}),n4=new Y({id:"hwb",name:"HWB",coords:{h:{refRange:[0,360],type:"angle",name:"Hue"},w:{range:[0,100],name:"Whiteness"},b:{range:[0,100],name:"Blackness"}},base:PE,fromBase(t){let[e,r,n]=t;return[e,n*(100-r)/100,100-n]},toBase(t){let[e,r,n]=t;r/=100,n/=100;let i=r+n;if(i>=1){let a=r/i;return[e,0,a*100]}let s=1-n,o=s===0?0:1-r/s;return[e,o*100,s*100]},formats:{hwb:{toGamut:!0,coords:["<number> | <angle>","<percentage>","<percentage>"]}}});const i4=[[.5766690429101305,.1855582379065463,.1882286462349947],[.29734497525053605,.6273635662554661,.07529145849399788],[.02703136138641234,.07068885253582723,.9913375368376388]],s4=[[2.0415879038107465,-.5650069742788596,-.34473135077832956],[-.9692436362808795,1.8759675015077202,.04155505740717557],[.013444280632031142,-.11836239223101838,1.0151749943912054]];var AE=new gt({id:"a98rgb-linear",name:"Linear Adobe 98 RGB compatible",white:"D65",toXYZ_M:i4,fromXYZ_M:s4}),o4=new gt({id:"a98rgb",name:"Adobe 98 RGB compatible",base:AE,toBase:t=>t.map(e=>Math.pow(Math.abs(e),563/256)*Math.sign(e)),fromBase:t=>t.map(e=>Math.pow(Math.abs(e),256/563)*Math.sign(e)),formats:{color:{id:"a98-rgb"}}});const a4=[[.7977604896723027,.13518583717574031,.0313493495815248],[.2880711282292934,.7118432178101014,8565396060525902e-20],[0,0,.8251046025104601]],l4=[[1.3457989731028281,-.25558010007997534,-.05110628506753401],[-.5446224939028347,1.5082327413132781,.02053603239147973],[0,0,1.2119675456389454]];var IE=new gt({id:"prophoto-linear",name:"Linear ProPhoto",white:"D50",base:Iy,toXYZ_M:a4,fromXYZ_M:l4});const u4=1/512,c4=16/512;var d4=new gt({id:"prophoto",name:"ProPhoto",base:IE,toBase(t){return t.map(e=>e<c4?e/16:e**1.8)},fromBase(t){return t.map(e=>e>=u4?e**(1/1.8):16*e)},formats:{color:{id:"prophoto-rgb"}}}),h4=new Y({id:"oklch",name:"Oklch",coords:{l:{refRange:[0,1],name:"Lightness"},c:{refRange:[0,.4],name:"Chroma"},h:{refRange:[0,360],type:"angle",name:"Hue"}},white:"D65",base:nc,fromBase(t){let[e,r,n]=t,i;const s=2e-4;return Math.abs(r)<s&&Math.abs(n)<s?i=NaN:i=Math.atan2(n,r)*180/Math.PI,[e,Math.sqrt(r**2+n**2),Wc(i)]},toBase(t){let[e,r,n]=t,i,s;return isNaN(n)?(i=0,s=0):(i=r*Math.cos(n*Math.PI/180),s=r*Math.sin(n*Math.PI/180)),[e,i,s]},formats:{oklch:{coords:["<number> | <percentage>","<number> | <percentage>[0,1]","<number> | <angle>"]}}});const m1=203,g1=2610/2**14,f4=2**14/2610,p4=2523/2**5,y1=2**5/2523,v1=3424/2**12,_1=2413/2**7,w1=2392/2**7;var m4=new gt({id:"rec2100pq",name:"REC.2100-PQ",base:Qc,toBase(t){return t.map(function(e){return(Math.max(e**y1-v1,0)/(_1-w1*e**y1))**f4*1e4/m1})},fromBase(t){return t.map(function(e){let r=Math.max(e*m1/1e4,0),n=v1+_1*r**g1,i=1+w1*r**g1;return(n/i)**p4})},formats:{color:{id:"rec2100-pq"}}});const x1=.17883277,S1=.28466892,b1=.55991073,Rf=3.7743;var g4=new gt({id:"rec2100hlg",cssid:"rec2100-hlg",name:"REC.2100-HLG",referred:"scene",base:Qc,toBase(t){return t.map(function(e){return e<=.5?e**2/3*Rf:(Math.exp((e-b1)/x1)+S1)/12*Rf})},fromBase(t){return t.map(function(e){return e/=Rf,e<=1/12?Math.sqrt(3*e):x1*Math.log(12*e-S1)+b1})},formats:{color:{id:"rec2100-hlg"}}});const kE={};Tn.add("chromatic-adaptation-start",t=>{t.options.method&&(t.M=RE(t.W1,t.W2,t.options.method))});Tn.add("chromatic-adaptation-end",t=>{t.M||(t.M=RE(t.W1,t.W2,t.options.method))});function Kc({id:t,toCone_M:e,fromCone_M:r}){kE[t]=arguments[0]}function RE(t,e,r="Bradford"){let n=kE[r],[i,s,o]=Le(n.toCone_M,t),[a,l,u]=Le(n.toCone_M,e),c=[[a/i,0,0],[0,l/s,0],[0,0,u/o]],h=Le(c,n.toCone_M);return Le(n.fromCone_M,h)}Kc({id:"von Kries",toCone_M:[[.40024,.7076,-.08081],[-.2263,1.16532,.0457],[0,0,.91822]],fromCone_M:[[1.8599364,-1.1293816,.2198974],[.3611914,.6388125,-64e-7],[0,0,1.0890636]]});Kc({id:"Bradford",toCone_M:[[.8951,.2664,-.1614],[-.7502,1.7135,.0367],[.0389,-.0685,1.0296]],fromCone_M:[[.9869929,-.1470543,.1599627],[.4323053,.5183603,.0492912],[-.0085287,.0400428,.9684867]]});Kc({id:"CAT02",toCone_M:[[.7328,.4296,-.1624],[-.7036,1.6975,.0061],[.003,.0136,.9834]],fromCone_M:[[1.0961238,-.278869,.1827452],[.454369,.4735332,.0720978],[-.0096276,-.005698,1.0153256]]});Kc({id:"CAT16",toCone_M:[[.401288,.650173,-.051461],[-.250268,1.204414,.045854],[-.002079,.048952,.953127]],fromCone_M:[[1.862067855087233,-1.011254630531685,.1491867754444518],[.3875265432361372,.6214474419314753,-.008973985167612518],[-.01584149884933386,-.03412293802851557,1.04996443687785]]});Object.assign(Jt,{A:[1.0985,1,.35585],C:[.98074,1,1.18232],D55:[.95682,1,.92149],D75:[.94972,1,1.22638],E:[1,1,1],F2:[.99186,1,.67393],F7:[.95041,1,1.08747],F11:[1.00962,1,.6435]});Jt.ACES=[.32168/.33767,1,(1-.32168-.33767)/.33767];const y4=[[.6624541811085053,.13400420645643313,.1561876870049078],[.27222871678091454,.6740817658111484,.05368951740793705],[-.005574649490394108,.004060733528982826,1.0103391003129971]],v4=[[1.6410233796943257,-.32480329418479,-.23642469523761225],[-.6636628587229829,1.6153315916573379,.016756347685530137],[.011721894328375376,-.008284441996237409,.9883948585390215]];var ME=new gt({id:"acescg",name:"ACEScg",coords:{r:{range:[0,65504],name:"Red"},g:{range:[0,65504],name:"Green"},b:{range:[0,65504],name:"Blue"}},referred:"scene",white:Jt.ACES,toXYZ_M:y4,fromXYZ_M:v4,formats:{color:{}}});const fl=2**-16,Mf=-.35828683,pl=(Math.log2(65504)+9.72)/17.52;var _4=new gt({id:"acescc",name:"ACEScc",coords:{r:{range:[Mf,pl],name:"Red"},g:{range:[Mf,pl],name:"Green"},b:{range:[Mf,pl],name:"Blue"}},referred:"scene",base:ME,toBase(t){const e=-.3013698630136986;return t.map(function(r){return r<=e?(2**(r*17.52-9.72)-fl)*2:r<pl?2**(r*17.52-9.72):65504})},fromBase(t){return t.map(function(e){return e<=0?(Math.log2(fl)+9.72)/17.52:e<fl?(Math.log2(fl+e*.5)+9.72)/17.52:(Math.log2(e)+9.72)/17.52})},formats:{color:{}}}),C1=Object.freeze({__proto__:null,A98RGB:o4,A98RGB_Linear:AE,ACEScc:_4,ACEScg:ME,HSL:EE,HSV:PE,HWB:n4,ICTCP:Nm,JzCzHz:Dm,Jzazbz:wE,LCH:ua,Lab:St,Lab_D65:Om,OKLCH:h4,OKLab:nc,P3:mE,P3_Linear:fE,ProPhoto:d4,ProPhoto_Linear:IE,REC_2020:hE,REC_2020_Linear:Qc,REC_2100_HLG:g4,REC_2100_PQ:m4,XYZ_ABS_D65:ky,XYZ_D50:Iy,XYZ_D65:Ft,sRGB:da,sRGB_Linear:pE});class pe{constructor(...e){let r;e.length===1&&(r=fe(e[0]));let n,i,s;r?(n=r.space||r.spaceId,i=r.coords,s=r.alpha):[n,i,s]=e,Object.defineProperty(this,"space",{value:Y.get(n),writable:!1,enumerable:!0,configurable:!0}),this.coords=i?i.slice():[0,0,0],this.alpha=s<1?s:1;for(let o=0;o<this.coords.length;o++)this.coords[o]==="NaN"&&(this.coords[o]=NaN);for(let o in this.space.coords)Object.defineProperty(this,o,{get:()=>this.get(o),set:a=>this.set(o,a)})}get spaceId(){return this.space.id}clone(){return new pe(this.space,this.coords,this.alpha)}toJSON(){return{spaceId:this.spaceId,coords:this.coords,alpha:this.alpha}}display(...e){let r=iN(this,...e);return r.color=new pe(r.color),r}static get(e,...r){return e instanceof pe?e:new pe(e,...r)}static defineFunction(e,r,n=r){let{instance:i=!0,returns:s}=n,o=function(...a){let l=r(...a);if(s==="color")l=pe.get(l);else if(s==="function<color>"){let u=l;l=function(...c){let h=u(...c);return pe.get(h)},Object.assign(l,u)}else s==="array<color>"&&(l=l.map(u=>pe.get(u)));return l};e in pe||(pe[e]=o),i&&(pe.prototype[e]=function(...a){return o(this,...a)})}static defineFunctions(e){for(let r in e)pe.defineFunction(r,e[r],e[r])}static extend(e){if(e.register)e.register(pe);else for(let r in e)pe.defineFunction(r,e[r])}}pe.defineFunctions({get:Ut,getAll:Aa,set:En,setAll:dE,to:Ot,equals:sN,inGamut:fo,toGamut:Pn,distance:gE,toString:rc});Object.assign(pe,{util:zD,hooks:Tn,WHITES:Jt,Space:Y,spaces:Y.registry,parse:cE,defaults:gr});for(let t of Object.keys(C1))Y.register(C1[t]);for(let t in Y.registry)Bm(t,Y.registry[t]);Tn.add("colorspace-init-end",t=>{var e;Bm(t.id,t),(e=t.aliases)==null||e.forEach(r=>{Bm(r,t)})});function Bm(t,e){Object.keys(e.coords),Object.values(e.coords).map(n=>n.name);let r=t.replace(/-/g,"_");Object.defineProperty(pe.prototype,r,{get(){let n=this.getAll(t);return typeof Proxy>"u"?n:new Proxy(n,{has:(i,s)=>{try{return Y.resolveCoord([e,s]),!0}catch{}return Reflect.has(i,s)},get:(i,s,o)=>{if(s&&typeof s!="symbol"&&!(s in i)){let{index:a}=Y.resolveCoord([e,s]);if(a>=0)return i[a]}return Reflect.get(i,s,o)},set:(i,s,o,a)=>{if(s&&typeof s!="symbol"&&!(s in i)||s>=0){let{index:l}=Y.resolveCoord([e,s]);if(l>=0)return i[l]=o,this.setAll(t,i),!0}return Reflect.set(i,s,o,a)}})},set(n){this.setAll(t,n)},configurable:!0,enumerable:!0})}pe.extend(ic);pe.extend({deltaE:Ys});Object.assign(pe,{deltaEMethods:ic});pe.extend(e4);pe.extend({contrast:TN});pe.extend(PN);pe.extend(aN);pe.extend(r4);pe.extend(ql);const T1=new Map,w4=1e3*60*60,x4=new pe("black"),S4=new pe("white");function b4(){const{getPronouns:t}=nE(),{broadcaster:e}=Nn(),{transformBadges:r}=sE();async function n(s){const{userId:o,userName:a,displayName:l,badges:u,color:c,isBroadcaster:h,isMod:d,isArtist:p,isVip:m,isFounder:_,isSubscriber:w}=s;return{id:o,userName:a,displayName:l,pronouns:await t(a),badges:r(u),color:c,colorBrightness:c?C4(c):void 0,roles:{broadcaster:h,moderator:d,artist:p,vip:m,founder:_,subscriber:w,followDate:await i(o)}}}async function i(s){if(s===e.id)return new Date(0);let o=T1.get(s);if(!o||o.expire<Date.now()){const a=await ms.channels.getChannelFollowers(e.id,s),[l]=a.data;o={date:l==null?void 0:l.followDate,expire:Date.now()+w4},T1.set(s,o)}return o.date}return{transformUser:n}}function C4(t){const e=new pe(t),r=Math.abs(S4.contrastAPCA(e)),n=Math.abs(x4.contrastAPCA(e));return r>n?"dark":"light"}const OE=new Map;let E1=!1;function T4(){function t(e){return OE.get(e)}return{getReward:t}}function E4(){const[t,e]=U.useState(!0),{broadcaster:r}=Nn();return U.useEffect(()=>{async function n(){E1||(await ms.channelPoints.getCustomRewards(r.id).catch(s=>[])).forEach(s=>{OE.set(s.id,s)}),e(!1),E1=!0}n()},[r]),{loading:t}}function P4(){const{getReward:t}=T4(),{transformText:e}=FD(),{transformUser:r}=b4();async function n(i,s,o){if(s instanceof $c&&(o=s.text),!o)return;const{type:a}=i,l={id:s.id,first:s.tags.get("first-msg")==="1",date:s.date,text:o,parts:e(o,s.emoteOffsets,a==="cheer"),user:await r(s.userInfo),tags:s.tags,...i};if(a!=="basic")return l;if(s.tags.get("msg-id")==="highlighted-message")return{...l,type:"highlight"};const u=s.tags.get("custom-reward-id");if(u){const d=t(u);if(d){const p={id:d.id,name:d.title,cost:d.cost,image:d.getImageUrl(4),color:d.backgroundColor};return{...l,type:"redeem",redeem:p}}}const c=d=>s.tags.get(`reply-parent-${d}`)||"",h=c("msg-id");if(h){const d={id:h,text:c("msg-body"),user:{id:c("user-id"),userName:c("user-login"),displayName:c("display-name")}};return{...l,type:"reply",reply:d}}return l}return{transformMessage:n}}function A4(){const t=sy(),{broadcaster:e}=Nn(),{transformMessage:r}=P4(),i=U.useRef(new Yu({authProvider:JC,channels:[e.userName]})).current;i.isConnected||i.connect();function s(l){l&&t({type:"add",payload:l})}slime2Chat.ready({test:s});function o(l=null){t({type:"clear",payload:l})}function a(l){t({type:"remove",payload:l,moderator:!0})}return U.useEffect(()=>{const l=[];return l.push(i.onMessage(async(u,c,h,d)=>{const{bits:p}=d,_=await r(p?{type:"cheer",cheer:{amount:p}}:{type:"basic"},d,h);s(_)}),i.onAction(async(u,c,h,d)=>{const p=await r({type:"action"},d,h);s(p)}),i.onResub(async(u,c,h,d)=>{const p={type:"resub",resub:{months:h.months,tier:h.plan}},m=await r(p,d);s(m)}),i.onAnnouncement(async(u,c,h,d)=>{const p={type:"announcement",announcement:{color:h.color}},m=await r(p,d);s(m)}),i.onChatClear(()=>{o()}),i.onTimeout((u,c,h,d)=>{o(d.targetUserId)}),i.onBan((u,c,h)=>{o(h.targetUserId)}),i.onMessageRemove((u,c)=>{a(c)})),()=>{l.forEach(u=>{u&&i.removeListener(u)})}}),de.jsx(uO,{})}const DE=U.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),Yc=U.createContext({}),My=U.createContext(null),Xc=typeof document<"u",I4=Xc?U.useLayoutEffect:U.useEffect,NE=U.createContext({strict:!1});function k4(t,e,r,n){const{visualElement:i}=U.useContext(Yc),s=U.useContext(NE),o=U.useContext(My),a=U.useContext(DE).reducedMotion,l=U.useRef();n=n||s.renderer,!l.current&&n&&(l.current=n(t,{visualState:e,parent:i,props:r,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:a}));const u=l.current;U.useInsertionEffect(()=>{u&&u.update(r,o)});const c=U.useRef(!!window.HandoffAppearAnimations);return I4(()=>{u&&(u.render(),c.current&&u.animationState&&u.animationState.animateChanges())}),U.useEffect(()=>{u&&(u.updateFeatures(),!c.current&&u.animationState&&u.animationState.animateChanges(),window.HandoffAppearAnimations=void 0,c.current=!1)}),u}function $i(t){return typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function R4(t,e,r){return U.useCallback(n=>{n&&t.mount&&t.mount(n),e&&(n?e.mount(n):e.unmount()),r&&(typeof r=="function"?r(n):$i(r)&&(r.current=n))},[e])}function ha(t){return typeof t=="string"||Array.isArray(t)}function Jc(t){return typeof t=="object"&&typeof t.start=="function"}const Oy=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Dy=["initial",...Oy];function Zc(t){return Jc(t.animate)||Dy.some(e=>ha(t[e]))}function BE(t){return!!(Zc(t)||t.variants)}function M4(t,e){if(Zc(t)){const{initial:r,animate:n}=t;return{initial:r===!1||ha(r)?r:void 0,animate:ha(n)?n:void 0}}return t.inherit!==!1?e:{}}function O4(t){const{initial:e,animate:r}=M4(t,U.useContext(Yc));return U.useMemo(()=>({initial:e,animate:r}),[P1(e),P1(r)])}function P1(t){return Array.isArray(t)?t.join(" "):t}const A1={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},fa={};for(const t in A1)fa[t]={isEnabled:e=>A1[t].some(r=>!!e[r])};function D4(t){for(const e in t)fa[e]={...fa[e],...t[e]}}const LE=U.createContext({}),FE=U.createContext({}),N4=Symbol.for("motionComponentSymbol");function B4({preloadedFeatures:t,createVisualElement:e,useRender:r,useVisualState:n,Component:i}){t&&D4(t);function s(a,l){let u;const c={...U.useContext(DE),...a,layoutId:L4(a)},{isStatic:h}=c,d=O4(a),p=n(a,h);if(!h&&Xc){d.visualElement=k4(i,p,c,e);const m=U.useContext(FE),_=U.useContext(NE).strict;d.visualElement&&(u=d.visualElement.loadFeatures(c,_,t,m))}return U.createElement(Yc.Provider,{value:d},u&&d.visualElement?U.createElement(u,{visualElement:d.visualElement,...c}):null,r(i,a,R4(p,d.visualElement,l),p,h,d.visualElement))}const o=U.forwardRef(s);return o[N4]=i,o}function L4({layoutId:t}){const e=U.useContext(LE).id;return e&&t!==void 0?e+"-"+t:t}function F4(t){function e(n,i={}){return B4(t(n,i))}if(typeof Proxy>"u")return e;const r=new Map;return new Proxy(e,{get:(n,i)=>(r.has(i)||r.set(i,e(i)),r.get(i))})}const U4=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Ny(t){return typeof t!="string"||t.includes("-")?!1:!!(U4.indexOf(t)>-1||/[A-Z]/.test(t))}const sc={};function j4(t){Object.assign(sc,t)}const ka=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],mi=new Set(ka);function UE(t,{layout:e,layoutId:r}){return mi.has(t)||t.startsWith("origin")||(e||r!==void 0)&&(!!sc[t]||t==="opacity")}const mt=t=>!!(t&&t.getVelocity),$4={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},q4=ka.length;function V4(t,{enableHardwareAcceleration:e=!0,allowTransformNone:r=!0},n,i){let s="";for(let o=0;o<q4;o++){const a=ka[o];if(t[a]!==void 0){const l=$4[a]||a;s+=`${l}(${t[a]}) `}}return e&&!t.z&&(s+="translateZ(0)"),s=s.trim(),i?s=i(t,n?"":s):r&&n&&(s="none"),s}const jE=t=>e=>typeof e=="string"&&e.startsWith(t),$E=jE("--"),Lm=jE("var(--"),H4=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,z4=(t,e)=>e&&typeof t=="number"?e.transform(t):t,In=(t,e,r)=>Math.min(Math.max(r,t),e),gi={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},po={...gi,transform:t=>In(0,1,t)},ml={...gi,default:1},mo=t=>Math.round(t*1e5)/1e5,ed=/(-)?([\d]*\.?[\d])+/g,qE=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,G4=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Ra(t){return typeof t=="string"}const Ma=t=>({test:e=>Ra(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Qr=Ma("deg"),pr=Ma("%"),K=Ma("px"),W4=Ma("vh"),Q4=Ma("vw"),I1={...pr,parse:t=>pr.parse(t)/100,transform:t=>pr.transform(t*100)},k1={...gi,transform:Math.round},VE={borderWidth:K,borderTopWidth:K,borderRightWidth:K,borderBottomWidth:K,borderLeftWidth:K,borderRadius:K,radius:K,borderTopLeftRadius:K,borderTopRightRadius:K,borderBottomRightRadius:K,borderBottomLeftRadius:K,width:K,maxWidth:K,height:K,maxHeight:K,size:K,top:K,right:K,bottom:K,left:K,padding:K,paddingTop:K,paddingRight:K,paddingBottom:K,paddingLeft:K,margin:K,marginTop:K,marginRight:K,marginBottom:K,marginLeft:K,rotate:Qr,rotateX:Qr,rotateY:Qr,rotateZ:Qr,scale:ml,scaleX:ml,scaleY:ml,scaleZ:ml,skew:Qr,skewX:Qr,skewY:Qr,distance:K,translateX:K,translateY:K,translateZ:K,x:K,y:K,z:K,perspective:K,transformPerspective:K,opacity:po,originX:I1,originY:I1,originZ:K,zIndex:k1,fillOpacity:po,strokeOpacity:po,numOctaves:k1};function By(t,e,r,n){const{style:i,vars:s,transform:o,transformOrigin:a}=t;let l=!1,u=!1,c=!0;for(const h in e){const d=e[h];if($E(h)){s[h]=d;continue}const p=VE[h],m=z4(d,p);if(mi.has(h)){if(l=!0,o[h]=m,!c)continue;d!==(p.default||0)&&(c=!1)}else h.startsWith("origin")?(u=!0,a[h]=m):i[h]=m}if(e.transform||(l||n?i.transform=V4(t.transform,r,c,n):i.transform&&(i.transform="none")),u){const{originX:h="50%",originY:d="50%",originZ:p=0}=a;i.transformOrigin=`${h} ${d} ${p}`}}const Ly=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function HE(t,e,r){for(const n in e)!mt(e[n])&&!UE(n,r)&&(t[n]=e[n])}function K4({transformTemplate:t},e,r){return U.useMemo(()=>{const n=Ly();return By(n,e,{enableHardwareAcceleration:!r},t),Object.assign({},n.vars,n.style)},[e])}function Y4(t,e,r){const n=t.style||{},i={};return HE(i,n,t),Object.assign(i,K4(t,e,r)),t.transformValues?t.transformValues(i):i}function X4(t,e,r){const n={},i=Y4(t,e,r);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=i,n}const J4=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","ignoreStrict","viewport"]);function oc(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||J4.has(t)}let zE=t=>!oc(t);function Z4(t){t&&(zE=e=>e.startsWith("on")?!oc(e):t(e))}try{Z4(require("@emotion/is-prop-valid").default)}catch{}function eB(t,e,r){const n={};for(const i in t)i==="values"&&typeof t.values=="object"||(zE(i)||r===!0&&oc(i)||!e&&!oc(i)||t.draggable&&i.startsWith("onDrag"))&&(n[i]=t[i]);return n}function R1(t,e,r){return typeof t=="string"?t:K.transform(e+r*t)}function tB(t,e,r){const n=R1(e,t.x,t.width),i=R1(r,t.y,t.height);return`${n} ${i}`}const rB={offset:"stroke-dashoffset",array:"stroke-dasharray"},nB={offset:"strokeDashoffset",array:"strokeDasharray"};function iB(t,e,r=1,n=0,i=!0){t.pathLength=1;const s=i?rB:nB;t[s.offset]=K.transform(-n);const o=K.transform(e),a=K.transform(r);t[s.array]=`${o} ${a}`}function Fy(t,{attrX:e,attrY:r,attrScale:n,originX:i,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...u},c,h,d){if(By(t,u,c,d),h){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:p,style:m,dimensions:_}=t;p.transform&&(_&&(m.transform=p.transform),delete p.transform),_&&(i!==void 0||s!==void 0||m.transform)&&(m.transformOrigin=tB(_,i!==void 0?i:.5,s!==void 0?s:.5)),e!==void 0&&(p.x=e),r!==void 0&&(p.y=r),n!==void 0&&(p.scale=n),o!==void 0&&iB(p,o,a,l,!1)}const GE=()=>({...Ly(),attrs:{}}),Uy=t=>typeof t=="string"&&t.toLowerCase()==="svg";function sB(t,e,r,n){const i=U.useMemo(()=>{const s=GE();return Fy(s,e,{enableHardwareAcceleration:!1},Uy(n),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};HE(s,t.style,t),i.style={...s,...i.style}}return i}function oB(t=!1){return(r,n,i,{latestValues:s},o)=>{const l=(Ny(r)?sB:X4)(n,s,o,r),c={...eB(n,typeof r=="string",t),...l,ref:i},{children:h}=n,d=U.useMemo(()=>mt(h)?h.get():h,[h]);return U.createElement(r,{...c,children:d})}}const jy=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();function WE(t,{style:e,vars:r},n,i){Object.assign(t.style,e,i&&i.getProjectionStyles(n));for(const s in r)t.style.setProperty(s,r[s])}const QE=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function KE(t,e,r,n){WE(t,e,void 0,n);for(const i in e.attrs)t.setAttribute(QE.has(i)?i:jy(i),e.attrs[i])}function $y(t,e){const{style:r}=t,n={};for(const i in r)(mt(r[i])||e.style&&mt(e.style[i])||UE(i,t))&&(n[i]=r[i]);return n}function YE(t,e){const r=$y(t,e);for(const n in t)if(mt(t[n])||mt(e[n])){const i=ka.indexOf(n)!==-1?"attr"+n.charAt(0).toUpperCase()+n.substring(1):n;r[i]=t[n]}return r}function qy(t,e,r,n={},i={}){return typeof e=="function"&&(e=e(r!==void 0?r:t.custom,n,i)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(r!==void 0?r:t.custom,n,i)),e}function aB(t){const e=U.useRef(null);return e.current===null&&(e.current=t()),e.current}const ac=t=>Array.isArray(t),lB=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),uB=t=>ac(t)?t[t.length-1]||0:t;function Vl(t){const e=mt(t)?t.get():t;return lB(e)?e.toValue():e}function cB({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:r},n,i,s){const o={latestValues:dB(n,i,s,t),renderState:e()};return r&&(o.mount=a=>r(n,a,o)),o}const XE=t=>(e,r)=>{const n=U.useContext(Yc),i=U.useContext(My),s=()=>cB(t,e,n,i);return r?s():aB(s)};function dB(t,e,r,n){const i={},s=n(t,{});for(const d in s)i[d]=Vl(s[d]);let{initial:o,animate:a}=t;const l=Zc(t),u=BE(t);e&&u&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let c=r?r.initial===!1:!1;c=c||o===!1;const h=c?a:o;return h&&typeof h!="boolean"&&!Jc(h)&&(Array.isArray(h)?h:[h]).forEach(p=>{const m=qy(t,p);if(!m)return;const{transitionEnd:_,transition:w,...v}=m;for(const g in v){let y=v[g];if(Array.isArray(y)){const x=c?y.length-1:0;y=y[x]}y!==null&&(i[g]=y)}for(const g in _)i[g]=_[g]}),i}const Re=t=>t;class M1{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const r=this.order.indexOf(e);r!==-1&&(this.order.splice(r,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function hB(t){let e=new M1,r=new M1,n=0,i=!1,s=!1;const o=new WeakSet,a={schedule:(l,u=!1,c=!1)=>{const h=c&&i,d=h?e:r;return u&&o.add(l),d.add(l)&&h&&i&&(n=e.order.length),l},cancel:l=>{r.remove(l),o.delete(l)},process:l=>{if(i){s=!0;return}if(i=!0,[e,r]=[r,e],r.clear(),n=e.order.length,n)for(let u=0;u<n;u++){const c=e.order[u];c(l),o.has(c)&&(a.schedule(c),t())}i=!1,s&&(s=!1,a.process(l))}};return a}const gl=["prepare","read","update","preRender","render","postRender"],fB=40;function pB(t,e){let r=!1,n=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=gl.reduce((h,d)=>(h[d]=hB(()=>r=!0),h),{}),o=h=>s[h].process(i),a=()=>{const h=performance.now();r=!1,i.delta=n?1e3/60:Math.max(Math.min(h-i.timestamp,fB),1),i.timestamp=h,i.isProcessing=!0,gl.forEach(o),i.isProcessing=!1,r&&e&&(n=!1,t(a))},l=()=>{r=!0,n=!0,i.isProcessing||t(a)};return{schedule:gl.reduce((h,d)=>{const p=s[d];return h[d]=(m,_=!1,w=!1)=>(r||l(),p.schedule(m,_,w)),h},{}),cancel:h=>gl.forEach(d=>s[d].cancel(h)),state:i,steps:s}}const{schedule:be,cancel:Nr,state:He,steps:Of}=pB(typeof requestAnimationFrame<"u"?requestAnimationFrame:Re,!0),mB={useVisualState:XE({scrapeMotionValuesFromProps:YE,createRenderState:GE,onMount:(t,e,{renderState:r,latestValues:n})=>{be.read(()=>{try{r.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{r.dimensions={x:0,y:0,width:0,height:0}}}),be.render(()=>{Fy(r,n,{enableHardwareAcceleration:!1},Uy(e.tagName),t.transformTemplate),KE(e,r)})}})},gB={useVisualState:XE({scrapeMotionValuesFromProps:$y,createRenderState:Ly})};function yB(t,{forwardMotionProps:e=!1},r,n){return{...Ny(t)?mB:gB,preloadedFeatures:r,useRender:oB(e),createVisualElement:n,Component:t}}function Er(t,e,r,n={passive:!0}){return t.addEventListener(e,r,n),()=>t.removeEventListener(e,r)}const JE=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function td(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const vB=t=>e=>JE(e)&&t(e,td(e));function Ir(t,e,r,n){return Er(t,e,vB(r),n)}const _B=(t,e)=>r=>e(t(r)),yn=(...t)=>t.reduce(_B);function ZE(t){let e=null;return()=>{const r=()=>{e=null};return e===null?(e=t,r):!1}}const O1=ZE("dragHorizontal"),D1=ZE("dragVertical");function e5(t){let e=!1;if(t==="y")e=D1();else if(t==="x")e=O1();else{const r=O1(),n=D1();r&&n?e=()=>{r(),n()}:(r&&r(),n&&n())}return e}function t5(){const t=e5(!0);return t?(t(),!1):!0}class Bn{constructor(e){this.isMounted=!1,this.node=e}update(){}}function N1(t,e){const r="pointer"+(e?"enter":"leave"),n="onHover"+(e?"Start":"End"),i=(s,o)=>{if(s.type==="touch"||t5())return;const a=t.getProps();t.animationState&&a.whileHover&&t.animationState.setActive("whileHover",e),a[n]&&be.update(()=>a[n](s,o))};return Ir(t.current,r,i,{passive:!t.getProps()[n]})}class wB extends Bn{mount(){this.unmount=yn(N1(this.node,!0),N1(this.node,!1))}unmount(){}}class xB extends Bn{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=yn(Er(this.node.current,"focus",()=>this.onFocus()),Er(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const r5=(t,e)=>e?t===e?!0:r5(t,e.parentElement):!1;function Df(t,e){if(!e)return;const r=new PointerEvent("pointer"+t);e(r,td(r))}class SB extends Bn{constructor(){super(...arguments),this.removeStartListeners=Re,this.removeEndListeners=Re,this.removeAccessibleListeners=Re,this.startPointerPress=(e,r)=>{if(this.removeEndListeners(),this.isPressing)return;const n=this.node.getProps(),s=Ir(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:c}=this.node.getProps();be.update(()=>{r5(this.node.current,a.target)?u&&u(a,l):c&&c(a,l)})},{passive:!(n.onTap||n.onPointerUp)}),o=Ir(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(n.onTapCancel||n.onPointerCancel)});this.removeEndListeners=yn(s,o),this.startPress(e,r)},this.startAccessiblePress=()=>{const e=s=>{if(s.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||Df("up",(l,u)=>{const{onTap:c}=this.node.getProps();c&&be.update(()=>c(l,u))})};this.removeEndListeners(),this.removeEndListeners=Er(this.node.current,"keyup",o),Df("down",(a,l)=>{this.startPress(a,l)})},r=Er(this.node.current,"keydown",e),n=()=>{this.isPressing&&Df("cancel",(s,o)=>this.cancelPress(s,o))},i=Er(this.node.current,"blur",n);this.removeAccessibleListeners=yn(r,i)}}startPress(e,r){this.isPressing=!0;const{onTapStart:n,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),n&&be.update(()=>n(e,r))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!t5()}cancelPress(e,r){if(!this.checkPressEnd())return;const{onTapCancel:n}=this.node.getProps();n&&be.update(()=>n(e,r))}mount(){const e=this.node.getProps(),r=Ir(this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),n=Er(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=yn(r,n)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Fm=new WeakMap,Nf=new WeakMap,bB=t=>{const e=Fm.get(t.target);e&&e(t)},CB=t=>{t.forEach(bB)};function TB({root:t,...e}){const r=t||document;Nf.has(r)||Nf.set(r,{});const n=Nf.get(r),i=JSON.stringify(e);return n[i]||(n[i]=new IntersectionObserver(CB,{root:t,...e})),n[i]}function EB(t,e,r){const n=TB(e);return Fm.set(t,r),n.observe(t),()=>{Fm.delete(t),n.unobserve(t)}}const PB={some:0,all:1};class AB extends Bn{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:r,margin:n,amount:i="some",once:s}=e,o={root:r?r.current:void 0,rootMargin:n,threshold:typeof i=="number"?i:PB[i]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:c,onViewportLeave:h}=this.node.getProps(),d=u?c:h;d&&d(l)};return EB(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:r}=this.node;["amount","margin","root"].some(IB(e,r))&&this.startObserver()}unmount(){}}function IB({viewport:t={}},{viewport:e={}}={}){return r=>t[r]!==e[r]}const kB={inView:{Feature:AB},tap:{Feature:SB},focus:{Feature:xB},hover:{Feature:wB}};function n5(t,e){if(!Array.isArray(e))return!1;const r=e.length;if(r!==t.length)return!1;for(let n=0;n<r;n++)if(e[n]!==t[n])return!1;return!0}function RB(t){const e={};return t.values.forEach((r,n)=>e[n]=r.get()),e}function MB(t){const e={};return t.values.forEach((r,n)=>e[n]=r.getVelocity()),e}function rd(t,e,r){const n=t.getProps();return qy(n,e,r!==void 0?r:n.custom,RB(t),MB(t))}const OB="framerAppearId",DB="data-"+jy(OB);let NB=Re,Vy=Re;const vn=t=>t*1e3,kr=t=>t/1e3,BB={current:!1},i5=t=>Array.isArray(t)&&typeof t[0]=="number";function s5(t){return!!(!t||typeof t=="string"&&o5[t]||i5(t)||Array.isArray(t)&&t.every(s5))}const Xs=([t,e,r,n])=>`cubic-bezier(${t}, ${e}, ${r}, ${n})`,o5={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Xs([0,.65,.55,1]),circOut:Xs([.55,0,1,.45]),backIn:Xs([.31,.01,.66,-.59]),backOut:Xs([.33,1.53,.69,.99])};function a5(t){if(t)return i5(t)?Xs(t):Array.isArray(t)?t.map(a5):o5[t]}function LB(t,e,r,{delay:n=0,duration:i,repeat:s=0,repeatType:o="loop",ease:a,times:l}={}){const u={[e]:r};l&&(u.offset=l);const c=a5(a);return Array.isArray(c)&&(u.easing=c),t.animate(u,{delay:n,duration:i,easing:Array.isArray(c)?"linear":c,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}function FB(t,{repeat:e,repeatType:r="loop"}){const n=e&&r!=="loop"&&e%2===1?0:t.length-1;return t[n]}const l5=(t,e,r)=>(((1-3*r+3*e)*t+(3*r-6*e))*t+3*e)*t,UB=1e-7,jB=12;function $B(t,e,r,n,i){let s,o,a=0;do o=e+(r-e)/2,s=l5(o,n,i)-t,s>0?r=o:e=o;while(Math.abs(s)>UB&&++a<jB);return o}function Oa(t,e,r,n){if(t===e&&r===n)return Re;const i=s=>$B(s,0,1,t,r);return s=>s===0||s===1?s:l5(i(s),e,n)}const qB=Oa(.42,0,1,1),VB=Oa(0,0,.58,1),u5=Oa(.42,0,.58,1),HB=t=>Array.isArray(t)&&typeof t[0]!="number",c5=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,d5=t=>e=>1-t(1-e),h5=t=>1-Math.sin(Math.acos(t)),Hy=d5(h5),zB=c5(Hy),f5=Oa(.33,1.53,.69,.99),zy=d5(f5),GB=c5(zy),WB=t=>(t*=2)<1?.5*zy(t):.5*(2-Math.pow(2,-10*(t-1))),QB={linear:Re,easeIn:qB,easeInOut:u5,easeOut:VB,circIn:h5,circInOut:zB,circOut:Hy,backIn:zy,backInOut:GB,backOut:f5,anticipate:WB},B1=t=>{if(Array.isArray(t)){Vy(t.length===4);const[e,r,n,i]=t;return Oa(e,r,n,i)}else if(typeof t=="string")return QB[t];return t},Gy=(t,e)=>r=>!!(Ra(r)&&G4.test(r)&&r.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(r,e)),p5=(t,e,r)=>n=>{if(!Ra(n))return n;const[i,s,o,a]=n.match(ed);return{[t]:parseFloat(i),[e]:parseFloat(s),[r]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},KB=t=>In(0,255,t),Bf={...gi,transform:t=>Math.round(KB(t))},Kn={test:Gy("rgb","red"),parse:p5("red","green","blue"),transform:({red:t,green:e,blue:r,alpha:n=1})=>"rgba("+Bf.transform(t)+", "+Bf.transform(e)+", "+Bf.transform(r)+", "+mo(po.transform(n))+")"};function YB(t){let e="",r="",n="",i="";return t.length>5?(e=t.substring(1,3),r=t.substring(3,5),n=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),r=t.substring(2,3),n=t.substring(3,4),i=t.substring(4,5),e+=e,r+=r,n+=n,i+=i),{red:parseInt(e,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:i?parseInt(i,16)/255:1}}const Um={test:Gy("#"),parse:YB,transform:Kn.transform},qi={test:Gy("hsl","hue"),parse:p5("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:r,alpha:n=1})=>"hsla("+Math.round(t)+", "+pr.transform(mo(e))+", "+pr.transform(mo(r))+", "+mo(po.transform(n))+")"},nt={test:t=>Kn.test(t)||Um.test(t)||qi.test(t),parse:t=>Kn.test(t)?Kn.parse(t):qi.test(t)?qi.parse(t):Um.parse(t),transform:t=>Ra(t)?t:t.hasOwnProperty("red")?Kn.transform(t):qi.transform(t)},Pe=(t,e,r)=>-r*t+r*e+t;function Lf(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function XB({hue:t,saturation:e,lightness:r,alpha:n}){t/=360,e/=100,r/=100;let i=0,s=0,o=0;if(!e)i=s=o=r;else{const a=r<.5?r*(1+e):r+e-r*e,l=2*r-a;i=Lf(l,a,t+1/3),s=Lf(l,a,t),o=Lf(l,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:n}}const Ff=(t,e,r)=>{const n=t*t;return Math.sqrt(Math.max(0,r*(e*e-n)+n))},JB=[Um,Kn,qi],ZB=t=>JB.find(e=>e.test(t));function L1(t){const e=ZB(t);let r=e.parse(t);return e===qi&&(r=XB(r)),r}const m5=(t,e)=>{const r=L1(t),n=L1(e),i={...r};return s=>(i.red=Ff(r.red,n.red,s),i.green=Ff(r.green,n.green,s),i.blue=Ff(r.blue,n.blue,s),i.alpha=Pe(r.alpha,n.alpha,s),Kn.transform(i))};function eL(t){var e,r;return isNaN(t)&&Ra(t)&&(((e=t.match(ed))===null||e===void 0?void 0:e.length)||0)+(((r=t.match(qE))===null||r===void 0?void 0:r.length)||0)>0}const g5={regex:H4,countKey:"Vars",token:"${v}",parse:Re},y5={regex:qE,countKey:"Colors",token:"${c}",parse:nt.parse},v5={regex:ed,countKey:"Numbers",token:"${n}",parse:gi.parse};function Uf(t,{regex:e,countKey:r,token:n,parse:i}){const s=t.tokenised.match(e);s&&(t["num"+r]=s.length,t.tokenised=t.tokenised.replace(e,n),t.values.push(...s.map(i)))}function lc(t){const e=t.toString(),r={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return r.value.includes("var(--")&&Uf(r,g5),Uf(r,y5),Uf(r,v5),r}function _5(t){return lc(t).values}function w5(t){const{values:e,numColors:r,numVars:n,tokenised:i}=lc(t),s=e.length;return o=>{let a=i;for(let l=0;l<s;l++)l<n?a=a.replace(g5.token,o[l]):l<n+r?a=a.replace(y5.token,nt.transform(o[l])):a=a.replace(v5.token,mo(o[l]));return a}}const tL=t=>typeof t=="number"?0:t;function rL(t){const e=_5(t);return w5(t)(e.map(tL))}const kn={test:eL,parse:_5,createTransformer:w5,getAnimatableNone:rL},x5=(t,e)=>r=>`${r>0?e:t}`;function S5(t,e){return typeof t=="number"?r=>Pe(t,e,r):nt.test(t)?m5(t,e):t.startsWith("var(")?x5(t,e):C5(t,e)}const b5=(t,e)=>{const r=[...t],n=r.length,i=t.map((s,o)=>S5(s,e[o]));return s=>{for(let o=0;o<n;o++)r[o]=i[o](s);return r}},nL=(t,e)=>{const r={...t,...e},n={};for(const i in r)t[i]!==void 0&&e[i]!==void 0&&(n[i]=S5(t[i],e[i]));return i=>{for(const s in n)r[s]=n[s](i);return r}},C5=(t,e)=>{const r=kn.createTransformer(e),n=lc(t),i=lc(e);return n.numVars===i.numVars&&n.numColors===i.numColors&&n.numNumbers>=i.numNumbers?yn(b5(n.values,i.values),r):x5(t,e)},pa=(t,e,r)=>{const n=e-t;return n===0?1:(r-t)/n},F1=(t,e)=>r=>Pe(t,e,r);function iL(t){return typeof t=="number"?F1:typeof t=="string"?nt.test(t)?m5:C5:Array.isArray(t)?b5:typeof t=="object"?nL:F1}function sL(t,e,r){const n=[],i=r||iL(t[0]),s=t.length-1;for(let o=0;o<s;o++){let a=i(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||Re:e;a=yn(l,a)}n.push(a)}return n}function T5(t,e,{clamp:r=!0,ease:n,mixer:i}={}){const s=t.length;if(Vy(s===e.length),s===1)return()=>e[0];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=sL(e,n,i),a=o.length,l=u=>{let c=0;if(a>1)for(;c<t.length-2&&!(u<t[c+1]);c++);const h=pa(t[c],t[c+1],u);return o[c](h)};return r?u=>l(In(t[0],t[s-1],u)):l}function oL(t,e){const r=t[t.length-1];for(let n=1;n<=e;n++){const i=pa(0,e,n);t.push(Pe(r,1,i))}}function aL(t){const e=[0];return oL(e,t.length-1),e}function lL(t,e){return t.map(r=>r*e)}function uL(t,e){return t.map(()=>e||u5).splice(0,t.length-1)}function uc({duration:t=300,keyframes:e,times:r,ease:n="easeInOut"}){const i=HB(n)?n.map(B1):B1(n),s={done:!1,value:e[0]},o=lL(r&&r.length===e.length?r:aL(e),t),a=T5(o,e,{ease:Array.isArray(i)?i:uL(e,i)});return{calculatedDuration:t,next:l=>(s.value=a(l),s.done=l>=t,s)}}function E5(t,e){return e?t*(1e3/e):0}const cL=5;function P5(t,e,r){const n=Math.max(e-cL,0);return E5(r-t(n),e-n)}const jf=.001,dL=.01,U1=10,hL=.05,fL=1;function pL({duration:t=800,bounce:e=.25,velocity:r=0,mass:n=1}){let i,s;NB(t<=vn(U1));let o=1-e;o=In(hL,fL,o),t=In(dL,U1,kr(t)),o<1?(i=u=>{const c=u*o,h=c*t,d=c-r,p=jm(u,o),m=Math.exp(-h);return jf-d/p*m},s=u=>{const h=u*o*t,d=h*r+r,p=Math.pow(o,2)*Math.pow(u,2)*t,m=Math.exp(-h),_=jm(Math.pow(u,2),o);return(-i(u)+jf>0?-1:1)*((d-p)*m)/_}):(i=u=>{const c=Math.exp(-u*t),h=(u-r)*t+1;return-jf+c*h},s=u=>{const c=Math.exp(-u*t),h=(r-u)*(t*t);return c*h});const a=5/t,l=gL(i,s,a);if(t=vn(t),isNaN(l))return{stiffness:100,damping:10,duration:t};{const u=Math.pow(l,2)*n;return{stiffness:u,damping:o*2*Math.sqrt(n*u),duration:t}}}const mL=12;function gL(t,e,r){let n=r;for(let i=1;i<mL;i++)n=n-t(n)/e(n);return n}function jm(t,e){return t*Math.sqrt(1-e*e)}const yL=["duration","bounce"],vL=["stiffness","damping","mass"];function j1(t,e){return e.some(r=>t[r]!==void 0)}function _L(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!j1(t,vL)&&j1(t,yL)){const r=pL(t);e={...e,...r,velocity:0,mass:1},e.isResolvedFromDuration=!0}return e}function A5({keyframes:t,restDelta:e,restSpeed:r,...n}){const i=t[0],s=t[t.length-1],o={done:!1,value:i},{stiffness:a,damping:l,mass:u,velocity:c,duration:h,isResolvedFromDuration:d}=_L(n),p=c?-kr(c):0,m=l/(2*Math.sqrt(a*u)),_=s-i,w=kr(Math.sqrt(a/u)),v=Math.abs(_)<5;r||(r=v?.01:2),e||(e=v?.005:.5);let g;if(m<1){const y=jm(w,m);g=x=>{const C=Math.exp(-m*w*x);return s-C*((p+m*w*_)/y*Math.sin(y*x)+_*Math.cos(y*x))}}else if(m===1)g=y=>s-Math.exp(-w*y)*(_+(p+w*_)*y);else{const y=w*Math.sqrt(m*m-1);g=x=>{const C=Math.exp(-m*w*x),k=Math.min(y*x,300);return s-C*((p+m*w*_)*Math.sinh(k)+y*_*Math.cosh(k))/y}}return{calculatedDuration:d&&h||null,next:y=>{const x=g(y);if(d)o.done=y>=h;else{let C=p;y!==0&&(m<1?C=P5(g,y,x):C=0);const k=Math.abs(C)<=r,O=Math.abs(s-x)<=e;o.done=k&&O}return o.value=o.done?s:x,o}}}function $1({keyframes:t,velocity:e=0,power:r=.8,timeConstant:n=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:u=.5,restSpeed:c}){const h=t[0],d={done:!1,value:h},p=A=>a!==void 0&&A<a||l!==void 0&&A>l,m=A=>a===void 0?l:l===void 0||Math.abs(a-A)<Math.abs(l-A)?a:l;let _=r*e;const w=h+_,v=o===void 0?w:o(w);v!==w&&(_=v-h);const g=A=>-_*Math.exp(-A/n),y=A=>v+g(A),x=A=>{const N=g(A),j=y(A);d.done=Math.abs(N)<=u,d.value=d.done?v:j};let C,k;const O=A=>{p(d.value)&&(C=A,k=A5({keyframes:[d.value,m(d.value)],velocity:P5(y,A,d.value),damping:i,stiffness:s,restDelta:u,restSpeed:c}))};return O(0),{calculatedDuration:null,next:A=>{let N=!1;return!k&&C===void 0&&(N=!0,x(A),O(A)),C!==void 0&&A>C?k.next(A-C):(!N&&x(A),d)}}}const wL=t=>{const e=({timestamp:r})=>t(r);return{start:()=>be.update(e,!0),stop:()=>Nr(e),now:()=>He.isProcessing?He.timestamp:performance.now()}},q1=2e4;function V1(t){let e=0;const r=50;let n=t.next(e);for(;!n.done&&e<q1;)e+=r,n=t.next(e);return e>=q1?1/0:e}const xL={decay:$1,inertia:$1,tween:uc,keyframes:uc,spring:A5};function cc({autoplay:t=!0,delay:e=0,driver:r=wL,keyframes:n,type:i="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:a="loop",onPlay:l,onStop:u,onComplete:c,onUpdate:h,...d}){let p=1,m=!1,_,w;const v=()=>{w=new Promise(H=>{_=H})};v();let g;const y=xL[i]||uc;let x;y!==uc&&typeof n[0]!="number"&&(x=T5([0,100],n,{clamp:!1}),n=[0,100]);const C=y({...d,keyframes:n});let k;a==="mirror"&&(k=y({...d,keyframes:[...n].reverse(),velocity:-(d.velocity||0)}));let O="idle",A=null,N=null,j=null;C.calculatedDuration===null&&s&&(C.calculatedDuration=V1(C));const{calculatedDuration:Q}=C;let re=1/0,Z=1/0;Q!==null&&(re=Q+o,Z=re*(s+1)-o);let T=0;const I=H=>{if(N===null)return;p>0&&(N=Math.min(N,H)),p<0&&(N=Math.min(H-Z/p,N)),A!==null?T=A:T=Math.round(H-N)*p;const oe=T-e*(p>=0?1:-1),Ht=p>=0?oe<0:oe>Z;T=Math.max(oe,0),O==="finished"&&A===null&&(T=Z);let Ye=T,yt=C;if(s){const As=T/re;let yi=Math.floor(As),nr=As%1;!nr&&As>=1&&(nr=1),nr===1&&yi--,yi=Math.min(yi,s+1);const Da=!!(yi%2);Da&&(a==="reverse"?(nr=1-nr,o&&(nr-=o/re)):a==="mirror"&&(yt=k));let Na=In(0,1,nr);T>Z&&(Na=a==="reverse"&&Da?1:0),Ye=Na*re}const Xe=Ht?{done:!1,value:n[0]}:yt.next(Ye);x&&(Xe.value=x(Xe.value));let{done:wr}=Xe;!Ht&&Q!==null&&(wr=p>=0?T>=Z:T<=0);const nd=A===null&&(O==="finished"||O==="running"&&wr);return h&&h(Xe.value),nd&&L(),Xe},V=()=>{g&&g.stop(),g=void 0},se=()=>{O="idle",V(),_(),v(),N=j=null},L=()=>{O="finished",c&&c(),V(),_()},F=()=>{if(m)return;g||(g=r(I));const H=g.now();l&&l(),A!==null?N=H-A:(!N||O==="finished")&&(N=H),O==="finished"&&v(),j=N,A=null,O="running",g.start()};t&&F();const z={then(H,oe){return w.then(H,oe)},get time(){return kr(T)},set time(H){H=vn(H),T=H,A!==null||!g||p===0?A=H:N=g.now()-H/p},get duration(){const H=C.calculatedDuration===null?V1(C):C.calculatedDuration;return kr(H)},get speed(){return p},set speed(H){H===p||!g||(p=H,z.time=kr(T))},get state(){return O},play:F,pause:()=>{O="paused",A=T},stop:()=>{m=!0,O!=="idle"&&(O="idle",u&&u(),se())},cancel:()=>{j!==null&&I(j),se()},complete:()=>{O="finished"},sample:H=>(N=0,I(H))};return z}function SL(t){let e;return()=>(e===void 0&&(e=t()),e)}const bL=SL(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),CL=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),yl=10,TL=2e4,EL=(t,e)=>e.type==="spring"||t==="backgroundColor"||!s5(e.ease);function PL(t,e,{onUpdate:r,onComplete:n,...i}){if(!(bL()&&CL.has(e)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0&&i.type!=="inertia"))return!1;let o=!1,a,l;const u=()=>{l=new Promise(g=>{a=g})};u();let{keyframes:c,duration:h=300,ease:d,times:p}=i;if(EL(e,i)){const g=cc({...i,repeat:0,delay:0});let y={done:!1,value:c[0]};const x=[];let C=0;for(;!y.done&&C<TL;)y=g.sample(C),x.push(y.value),C+=yl;p=void 0,c=x,h=C-yl,d="linear"}const m=LB(t.owner.current,e,c,{...i,duration:h,ease:d,times:p});i.syncStart&&(m.startTime=He.isProcessing?He.timestamp:document.timeline?document.timeline.currentTime:performance.now());const _=()=>m.cancel(),w=()=>{be.update(_),a(),u()};return m.onfinish=()=>{t.set(FB(c,i)),n&&n(),w()},{then(g,y){return l.then(g,y)},attachTimeline(g){return m.timeline=g,m.onfinish=null,Re},get time(){return kr(m.currentTime||0)},set time(g){m.currentTime=vn(g)},get speed(){return m.playbackRate},set speed(g){m.playbackRate=g},get duration(){return kr(h)},play:()=>{o||(m.play(),Nr(_))},pause:()=>m.pause(),stop:()=>{if(o=!0,m.playState==="idle")return;const{currentTime:g}=m;if(g){const y=cc({...i,autoplay:!1});t.setWithVelocity(y.sample(g-yl).value,y.sample(g).value,yl)}w()},complete:()=>m.finish(),cancel:w}}function AL({keyframes:t,delay:e,onUpdate:r,onComplete:n}){const i=()=>(r&&r(t[t.length-1]),n&&n(),{time:0,speed:1,duration:0,play:Re,pause:Re,stop:Re,then:s=>(s(),Promise.resolve()),cancel:Re,complete:Re});return e?cc({keyframes:[0,1],duration:0,delay:e,onComplete:i}):i()}const IL={type:"spring",stiffness:500,damping:25,restSpeed:10},kL=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),RL={type:"keyframes",duration:.8},ML={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},OL=(t,{keyframes:e})=>e.length>2?RL:mi.has(t)?t.startsWith("scale")?kL(e[1]):IL:ML,$m=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(kn.test(e)||e==="0")&&!e.startsWith("url(")),DL=new Set(["brightness","contrast","saturate","opacity"]);function NL(t){const[e,r]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[n]=r.match(ed)||[];if(!n)return t;const i=r.replace(n,"");let s=DL.has(e)?1:0;return n!==r&&(s*=100),e+"("+s+i+")"}const BL=/([a-z-]*)\(.*?\)/g,qm={...kn,getAnimatableNone:t=>{const e=t.match(BL);return e?e.map(NL).join(" "):t}},LL={...VE,color:nt,backgroundColor:nt,outlineColor:nt,fill:nt,stroke:nt,borderColor:nt,borderTopColor:nt,borderRightColor:nt,borderBottomColor:nt,borderLeftColor:nt,filter:qm,WebkitFilter:qm},Wy=t=>LL[t];function I5(t,e){let r=Wy(t);return r!==qm&&(r=kn),r.getAnimatableNone?r.getAnimatableNone(e):void 0}const k5=t=>/^0[^.\s]+$/.test(t);function FL(t){if(typeof t=="number")return t===0;if(t!==null)return t==="none"||t==="0"||k5(t)}function UL(t,e,r,n){const i=$m(e,r);let s;Array.isArray(r)?s=[...r]:s=[null,r];const o=n.from!==void 0?n.from:t.get();let a;const l=[];for(let u=0;u<s.length;u++)s[u]===null&&(s[u]=u===0?o:s[u-1]),FL(s[u])&&l.push(u),typeof s[u]=="string"&&s[u]!=="none"&&s[u]!=="0"&&(a=s[u]);if(i&&l.length&&a)for(let u=0;u<l.length;u++){const c=l[u];s[c]=I5(e,a)}return s}function jL({when:t,delay:e,delayChildren:r,staggerChildren:n,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:u,...c}){return!!Object.keys(c).length}function R5(t,e){return t[e]||t.default||t}const Qy=(t,e,r,n={})=>i=>{const s=R5(n,t)||{},o=s.delay||n.delay||0;let{elapsed:a=0}=n;a=a-vn(o);const l=UL(e,t,r,s),u=l[0],c=l[l.length-1],h=$m(t,u),d=$m(t,c);let p={keyframes:l,velocity:e.getVelocity(),ease:"easeOut",...s,delay:-a,onUpdate:m=>{e.set(m),s.onUpdate&&s.onUpdate(m)},onComplete:()=>{i(),s.onComplete&&s.onComplete()}};if(jL(s)||(p={...p,...OL(t,p)}),p.duration&&(p.duration=vn(p.duration)),p.repeatDelay&&(p.repeatDelay=vn(p.repeatDelay)),!h||!d||BB.current||s.type===!1)return AL(p);if(e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const m=PL(e,t,p);if(m)return m}return cc(p)};function dc(t){return!!(mt(t)&&t.add)}const M5=t=>/^\-?\d*\.?\d+$/.test(t);function Ky(t,e){t.indexOf(e)===-1&&t.push(e)}function Yy(t,e){const r=t.indexOf(e);r>-1&&t.splice(r,1)}class Xy{constructor(){this.subscriptions=[]}add(e){return Ky(this.subscriptions,e),()=>Yy(this.subscriptions,e)}notify(e,r,n){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,r,n);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const $L=t=>!isNaN(parseFloat(t));class qL{constructor(e,r={}){this.version="10.16.4",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(n,i=!0)=>{this.prev=this.current,this.current=n;const{delta:s,timestamp:o}=He;this.lastUpdated!==o&&(this.timeDelta=s,this.lastUpdated=o,be.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>be.postRender(this.velocityCheck),this.velocityCheck=({timestamp:n})=>{n!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=$L(this.current),this.owner=r.owner}onChange(e){return this.on("change",e)}on(e,r){this.events[e]||(this.events[e]=new Xy);const n=this.events[e].add(r);return e==="change"?()=>{n(),be.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,r){this.passiveEffect=e,this.stopPassiveEffect=r}set(e,r=!0){!r||!this.passiveEffect?this.updateAndNotify(e,r):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,r,n){this.set(r),this.prev=e,this.timeDelta=n}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?E5(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=e(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ys(t,e){return new qL(t,e)}const O5=t=>e=>e.test(t),VL={test:t=>t==="auto",parse:t=>t},D5=[gi,K,pr,Qr,Q4,W4,VL],Vs=t=>D5.find(O5(t)),HL=[...D5,nt,kn],zL=t=>HL.find(O5(t));function GL(t,e,r){t.hasValue(e)?t.getValue(e).set(r):t.addValue(e,ys(r))}function WL(t,e){const r=rd(t,e);let{transitionEnd:n={},transition:i={},...s}=r?t.makeTargetAnimatable(r,!1):{};s={...s,...n};for(const o in s){const a=uB(s[o]);GL(t,o,a)}}function QL(t,e,r){var n,i;const s=Object.keys(e).filter(a=>!t.hasValue(a)),o=s.length;if(o)for(let a=0;a<o;a++){const l=s[a],u=e[l];let c=null;Array.isArray(u)&&(c=u[0]),c===null&&(c=(i=(n=r[l])!==null&&n!==void 0?n:t.readValue(l))!==null&&i!==void 0?i:e[l]),c!=null&&(typeof c=="string"&&(M5(c)||k5(c))?c=parseFloat(c):!zL(c)&&kn.test(u)&&(c=I5(l,u)),t.addValue(l,ys(c,{owner:t})),r[l]===void 0&&(r[l]=c),c!==null&&t.setBaseTarget(l,c))}}function KL(t,e){return e?(e[t]||e.default||e).from:void 0}function YL(t,e,r){const n={};for(const i in t){const s=KL(i,e);if(s!==void 0)n[i]=s;else{const o=r.getValue(i);o&&(n[i]=o.get())}}return n}function XL({protectedKeys:t,needsAnimating:e},r){const n=t.hasOwnProperty(r)&&e[r]!==!0;return e[r]=!1,n}function N5(t,e,{delay:r=0,transitionOverride:n,type:i}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:o,...a}=t.makeTargetAnimatable(e);const l=t.getValue("willChange");n&&(s=n);const u=[],c=i&&t.animationState&&t.animationState.getState()[i];for(const h in a){const d=t.getValue(h),p=a[h];if(!d||p===void 0||c&&XL(c,h))continue;const m={delay:r,elapsed:0,...s};if(window.HandoffAppearAnimations&&!d.hasAnimated){const w=t.getProps()[DB];w&&(m.elapsed=window.HandoffAppearAnimations(w,h,d,be),m.syncStart=!0)}d.start(Qy(h,d,p,t.shouldReduceMotion&&mi.has(h)?{type:!1}:m));const _=d.animation;dc(l)&&(l.add(h),_.then(()=>l.remove(h))),u.push(_)}return o&&Promise.all(u).then(()=>{o&&WL(t,o)}),u}function Vm(t,e,r={}){const n=rd(t,e,r.custom);let{transition:i=t.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(i=r.transitionOverride);const s=n?()=>Promise.all(N5(t,n,r)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(l=0)=>{const{delayChildren:u=0,staggerChildren:c,staggerDirection:h}=i;return JL(t,e,u+l,c,h,r)}:()=>Promise.resolve(),{when:a}=i;if(a){const[l,u]=a==="beforeChildren"?[s,o]:[o,s];return l().then(()=>u())}else return Promise.all([s(),o(r.delay)])}function JL(t,e,r=0,n=0,i=1,s){const o=[],a=(t.variantChildren.size-1)*n,l=i===1?(u=0)=>u*n:(u=0)=>a-u*n;return Array.from(t.variantChildren).sort(ZL).forEach((u,c)=>{u.notify("AnimationStart",e),o.push(Vm(u,e,{...s,delay:r+l(c)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(o)}function ZL(t,e){return t.sortNodePosition(e)}function e6(t,e,r={}){t.notify("AnimationStart",e);let n;if(Array.isArray(e)){const i=e.map(s=>Vm(t,s,r));n=Promise.all(i)}else if(typeof e=="string")n=Vm(t,e,r);else{const i=typeof e=="function"?rd(t,e,r.custom):e;n=Promise.all(N5(t,i,r))}return n.then(()=>t.notify("AnimationComplete",e))}const t6=[...Oy].reverse(),r6=Oy.length;function n6(t){return e=>Promise.all(e.map(({animation:r,options:n})=>e6(t,r,n)))}function i6(t){let e=n6(t);const r=o6();let n=!0;const i=(l,u)=>{const c=rd(t,u);if(c){const{transition:h,transitionEnd:d,...p}=c;l={...l,...p,...d}}return l};function s(l){e=l(t)}function o(l,u){const c=t.getProps(),h=t.getVariantContext(!0)||{},d=[],p=new Set;let m={},_=1/0;for(let v=0;v<r6;v++){const g=t6[v],y=r[g],x=c[g]!==void 0?c[g]:h[g],C=ha(x),k=g===u?y.isActive:null;k===!1&&(_=v);let O=x===h[g]&&x!==c[g]&&C;if(O&&n&&t.manuallyAnimateOnMount&&(O=!1),y.protectedKeys={...m},!y.isActive&&k===null||!x&&!y.prevProp||Jc(x)||typeof x=="boolean")continue;const A=s6(y.prevProp,x);let N=A||g===u&&y.isActive&&!O&&C||v>_&&C;const j=Array.isArray(x)?x:[x];let Q=j.reduce(i,{});k===!1&&(Q={});const{prevResolvedValues:re={}}=y,Z={...re,...Q},T=I=>{N=!0,p.delete(I),y.needsAnimating[I]=!0};for(const I in Z){const V=Q[I],se=re[I];m.hasOwnProperty(I)||(V!==se?ac(V)&&ac(se)?!n5(V,se)||A?T(I):y.protectedKeys[I]=!0:V!==void 0?T(I):p.add(I):V!==void 0&&p.has(I)?T(I):y.protectedKeys[I]=!0)}y.prevProp=x,y.prevResolvedValues=Q,y.isActive&&(m={...m,...Q}),n&&t.blockInitialAnimation&&(N=!1),N&&!O&&d.push(...j.map(I=>({animation:I,options:{type:g,...l}})))}if(p.size){const v={};p.forEach(g=>{const y=t.getBaseTarget(g);y!==void 0&&(v[g]=y)}),d.push({animation:v})}let w=!!d.length;return n&&c.initial===!1&&!t.manuallyAnimateOnMount&&(w=!1),n=!1,w?e(d):Promise.resolve()}function a(l,u,c){var h;if(r[l].isActive===u)return Promise.resolve();(h=t.variantChildren)===null||h===void 0||h.forEach(p=>{var m;return(m=p.animationState)===null||m===void 0?void 0:m.setActive(l,u)}),r[l].isActive=u;const d=o(c,l);for(const p in r)r[p].protectedKeys={};return d}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>r}}function s6(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!n5(e,t):!1}function Fn(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function o6(){return{animate:Fn(!0),whileInView:Fn(),whileHover:Fn(),whileTap:Fn(),whileDrag:Fn(),whileFocus:Fn(),exit:Fn()}}class a6 extends Bn{constructor(e){super(e),e.animationState||(e.animationState=i6(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),Jc(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:r}=this.node.prevProps||{};e!==r&&this.updateAnimationControlsSubscription()}unmount(){}}let l6=0;class u6 extends Bn{constructor(){super(...arguments),this.id=l6++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:r,custom:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const s=this.node.animationState.setActive("exit",!e,{custom:n??this.node.getProps().custom});r&&!e&&s.then(()=>r(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const c6={animation:{Feature:a6},exit:{Feature:u6}},H1=(t,e)=>Math.abs(t-e);function d6(t,e){const r=H1(t.x,e.x),n=H1(t.y,e.y);return Math.sqrt(r**2+n**2)}class B5{constructor(e,r,{transformPagePoint:n}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const u=qf(this.lastMoveEventInfo,this.history),c=this.startEvent!==null,h=d6(u.offset,{x:0,y:0})>=3;if(!c&&!h)return;const{point:d}=u,{timestamp:p}=He;this.history.push({...d,timestamp:p});const{onStart:m,onMove:_}=this.handlers;c||(m&&m(this.lastMoveEvent,u),this.startEvent=this.lastMoveEvent),_&&_(this.lastMoveEvent,u)},this.handlePointerMove=(u,c)=>{this.lastMoveEvent=u,this.lastMoveEventInfo=$f(c,this.transformPagePoint),be.update(this.updatePoint,!0)},this.handlePointerUp=(u,c)=>{if(this.end(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const{onEnd:h,onSessionEnd:d}=this.handlers,p=qf(u.type==="pointercancel"?this.lastMoveEventInfo:$f(c,this.transformPagePoint),this.history);this.startEvent&&h&&h(u,p),d&&d(u,p)},!JE(e))return;this.handlers=r,this.transformPagePoint=n;const i=td(e),s=$f(i,this.transformPagePoint),{point:o}=s,{timestamp:a}=He;this.history=[{...o,timestamp:a}];const{onSessionStart:l}=r;l&&l(e,qf(s,this.history)),this.removeListeners=yn(Ir(window,"pointermove",this.handlePointerMove),Ir(window,"pointerup",this.handlePointerUp),Ir(window,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Nr(this.updatePoint)}}function $f(t,e){return e?{point:e(t.point)}:t}function z1(t,e){return{x:t.x-e.x,y:t.y-e.y}}function qf({point:t},e){return{point:t,delta:z1(t,L5(e)),offset:z1(t,h6(e)),velocity:f6(e,.1)}}function h6(t){return t[0]}function L5(t){return t[t.length-1]}function f6(t,e){if(t.length<2)return{x:0,y:0};let r=t.length-1,n=null;const i=L5(t);for(;r>=0&&(n=t[r],!(i.timestamp-n.timestamp>vn(e)));)r--;if(!n)return{x:0,y:0};const s=kr(i.timestamp-n.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-n.x)/s,y:(i.y-n.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Tt(t){return t.max-t.min}function Hm(t,e=0,r=.01){return Math.abs(t-e)<=r}function G1(t,e,r,n=.5){t.origin=n,t.originPoint=Pe(e.min,e.max,t.origin),t.scale=Tt(r)/Tt(e),(Hm(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=Pe(r.min,r.max,t.origin)-t.originPoint,(Hm(t.translate)||isNaN(t.translate))&&(t.translate=0)}function go(t,e,r,n){G1(t.x,e.x,r.x,n?n.originX:void 0),G1(t.y,e.y,r.y,n?n.originY:void 0)}function W1(t,e,r){t.min=r.min+e.min,t.max=t.min+Tt(e)}function p6(t,e,r){W1(t.x,e.x,r.x),W1(t.y,e.y,r.y)}function Q1(t,e,r){t.min=e.min-r.min,t.max=t.min+Tt(e)}function yo(t,e,r){Q1(t.x,e.x,r.x),Q1(t.y,e.y,r.y)}function m6(t,{min:e,max:r},n){return e!==void 0&&t<e?t=n?Pe(e,t,n.min):Math.max(t,e):r!==void 0&&t>r&&(t=n?Pe(r,t,n.max):Math.min(t,r)),t}function K1(t,e,r){return{min:e!==void 0?t.min+e:void 0,max:r!==void 0?t.max+r-(t.max-t.min):void 0}}function g6(t,{top:e,left:r,bottom:n,right:i}){return{x:K1(t.x,r,i),y:K1(t.y,e,n)}}function Y1(t,e){let r=e.min-t.min,n=e.max-t.max;return e.max-e.min<t.max-t.min&&([r,n]=[n,r]),{min:r,max:n}}function y6(t,e){return{x:Y1(t.x,e.x),y:Y1(t.y,e.y)}}function v6(t,e){let r=.5;const n=Tt(t),i=Tt(e);return i>n?r=pa(e.min,e.max-n,t.min):n>i&&(r=pa(t.min,t.max-i,e.min)),In(0,1,r)}function _6(t,e){const r={};return e.min!==void 0&&(r.min=e.min-t.min),e.max!==void 0&&(r.max=e.max-t.min),r}const zm=.35;function w6(t=zm){return t===!1?t=0:t===!0&&(t=zm),{x:X1(t,"left","right"),y:X1(t,"top","bottom")}}function X1(t,e,r){return{min:J1(t,e),max:J1(t,r)}}function J1(t,e){return typeof t=="number"?t:t[e]||0}const Z1=()=>({translate:0,scale:1,origin:0,originPoint:0}),Vi=()=>({x:Z1(),y:Z1()}),ex=()=>({min:0,max:0}),De=()=>({x:ex(),y:ex()});function lr(t){return[t("x"),t("y")]}function F5({top:t,left:e,right:r,bottom:n}){return{x:{min:e,max:r},y:{min:t,max:n}}}function x6({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function S6(t,e){if(!e)return t;const r=e({x:t.left,y:t.top}),n=e({x:t.right,y:t.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function Vf(t){return t===void 0||t===1}function Gm({scale:t,scaleX:e,scaleY:r}){return!Vf(t)||!Vf(e)||!Vf(r)}function $n(t){return Gm(t)||U5(t)||t.z||t.rotate||t.rotateX||t.rotateY}function U5(t){return tx(t.x)||tx(t.y)}function tx(t){return t&&t!=="0%"}function hc(t,e,r){const n=t-r,i=e*n;return r+i}function rx(t,e,r,n,i){return i!==void 0&&(t=hc(t,i,n)),hc(t,r,n)+e}function Wm(t,e=0,r=1,n,i){t.min=rx(t.min,e,r,n,i),t.max=rx(t.max,e,r,n,i)}function j5(t,{x:e,y:r}){Wm(t.x,e.translate,e.scale,e.originPoint),Wm(t.y,r.translate,r.scale,r.originPoint)}function b6(t,e,r,n=!1){const i=r.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=r[a],o=s.projectionDelta;const l=s.instance;l&&l.style&&l.style.display==="contents"||(n&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Hi(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,j5(t,o)),n&&$n(s.latestValues)&&Hi(t,s.latestValues))}e.x=nx(e.x),e.y=nx(e.y)}function nx(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function Xr(t,e){t.min=t.min+e,t.max=t.max+e}function ix(t,e,[r,n,i]){const s=e[i]!==void 0?e[i]:.5,o=Pe(t.min,t.max,s);Wm(t,e[r],e[n],o,e.scale)}const C6=["x","scaleX","originX"],T6=["y","scaleY","originY"];function Hi(t,e){ix(t.x,e,C6),ix(t.y,e,T6)}function $5(t,e){return F5(S6(t.getBoundingClientRect(),e))}function E6(t,e,r){const n=$5(t,r),{scroll:i}=e;return i&&(Xr(n.x,i.offset.x),Xr(n.y,i.offset.y)),n}const P6=new WeakMap;class A6{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=De(),this.visualElement=e}start(e,{snapToCursor:r=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const i=l=>{this.stopAnimation(),r&&this.snapToCursor(td(l,"page").point)},s=(l,u)=>{const{drag:c,dragPropagation:h,onDragStart:d}=this.getProps();if(c&&!h&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=e5(c),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),lr(m=>{let _=this.getAxisMotionValue(m).get()||0;if(pr.test(_)){const{projection:w}=this.visualElement;if(w&&w.layout){const v=w.layout.layoutBox[m];v&&(_=Tt(v)*(parseFloat(_)/100))}}this.originPoint[m]=_}),d&&be.update(()=>d(l,u),!1,!0);const{animationState:p}=this.visualElement;p&&p.setActive("whileDrag",!0)},o=(l,u)=>{const{dragPropagation:c,dragDirectionLock:h,onDirectionLock:d,onDrag:p}=this.getProps();if(!c&&!this.openGlobalLock)return;const{offset:m}=u;if(h&&this.currentDirection===null){this.currentDirection=I6(m),this.currentDirection!==null&&d&&d(this.currentDirection);return}this.updateAxis("x",u.point,m),this.updateAxis("y",u.point,m),this.visualElement.render(),p&&p(l,u)},a=(l,u)=>this.stop(l,u);this.panSession=new B5(e,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a},{transformPagePoint:this.visualElement.getTransformPagePoint()})}stop(e,r){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:i}=r;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&be.update(()=>s(e,r))}cancel(){this.isDragging=!1;const{projection:e,animationState:r}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(e,r,n){const{drag:i}=this.getProps();if(!n||!vl(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(o=m6(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){const{dragConstraints:e,dragElastic:r}=this.getProps(),{layout:n}=this.visualElement.projection||{},i=this.constraints;e&&$i(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&n?this.constraints=g6(n.layoutBox,e):this.constraints=!1,this.elastic=w6(r),i!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&lr(s=>{this.getAxisMotionValue(s)&&(this.constraints[s]=_6(n.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:r}=this.getProps();if(!e||!$i(e))return!1;const n=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=E6(n,i.root,this.visualElement.getTransformPagePoint());let o=y6(i.layout.layoutBox,s);if(r){const a=r(x6(o));this.hasMutatedConstraints=!!a,a&&(o=F5(a))}return o}startAnimation(e){const{drag:r,dragMomentum:n,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=lr(c=>{if(!vl(c,r,this.currentDirection))return;let h=l&&l[c]||{};o&&(h={min:0,max:0});const d=i?200:1e6,p=i?40:1e7,m={type:"inertia",velocity:n?e[c]:0,bounceStiffness:d,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...s,...h};return this.startAxisValueAnimation(c,m)});return Promise.all(u).then(a)}startAxisValueAnimation(e,r){const n=this.getAxisMotionValue(e);return n.start(Qy(e,n,0,r))}stopAnimation(){lr(e=>this.getAxisMotionValue(e).stop())}getAxisMotionValue(e){const r="_drag"+e.toUpperCase(),n=this.visualElement.getProps(),i=n[r];return i||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){lr(r=>{const{drag:n}=this.getProps();if(!vl(r,n,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(r);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[r];s.set(e[r]-Pe(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!$i(r)||!n||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};lr(o=>{const a=this.getAxisMotionValue(o);if(a){const l=a.get();i[o]=v6({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),lr(o=>{if(!vl(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:u}=this.constraints[o];a.set(Pe(l,u,i[o]))})}addListeners(){if(!this.visualElement.current)return;P6.set(this.visualElement,this);const e=this.visualElement.current,r=Ir(e,"pointerdown",l=>{const{drag:u,dragListener:c=!0}=this.getProps();u&&c&&this.start(l)}),n=()=>{const{dragConstraints:l}=this.getProps();$i(l)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",n);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),n();const o=Er(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(lr(c=>{const h=this.getAxisMotionValue(c);h&&(this.originPoint[c]+=l[c].translate,h.set(h.get()+l[c].translate))}),this.visualElement.render())});return()=>{o(),r(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=zm,dragMomentum:a=!0}=e;return{...e,drag:r,dragDirectionLock:n,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function vl(t,e,r){return(e===!0||e===t)&&(r===null||r===t)}function I6(t,e=10){let r=null;return Math.abs(t.y)>e?r="y":Math.abs(t.x)>e&&(r="x"),r}class k6 extends Bn{constructor(e){super(e),this.removeGroupControls=Re,this.removeListeners=Re,this.controls=new A6(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Re}unmount(){this.removeGroupControls(),this.removeListeners()}}const sx=t=>(e,r)=>{t&&be.update(()=>t(e,r))};class R6 extends Bn{constructor(){super(...arguments),this.removePointerDownListener=Re}onPointerDown(e){this.session=new B5(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint()})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:r,onPan:n,onPanEnd:i}=this.node.getProps();return{onSessionStart:sx(e),onStart:sx(r),onMove:n,onEnd:(s,o)=>{delete this.session,i&&be.update(()=>i(s,o))}}}mount(){this.removePointerDownListener=Ir(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function M6(){const t=U.useContext(My);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:r,register:n}=t,i=U.useId();return U.useEffect(()=>n(i),[]),!e&&r?[!1,()=>r&&r(i)]:[!0]}const Hl={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function ox(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Hs={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(K.test(t))t=parseFloat(t);else return t;const r=ox(t,e.target.x),n=ox(t,e.target.y);return`${r}% ${n}%`}},O6={correct:(t,{treeScale:e,projectionDelta:r})=>{const n=t,i=kn.parse(t);if(i.length>5)return n;const s=kn.createTransformer(t),o=typeof i[0]!="number"?1:0,a=r.x.scale*e.x,l=r.y.scale*e.y;i[0+o]/=a,i[1+o]/=l;const u=Pe(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=u),typeof i[3+o]=="number"&&(i[3+o]/=u),s(i)}};class D6 extends tg.Component{componentDidMount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n,layoutId:i}=this.props,{projection:s}=e;j4(N6),s&&(r.group&&r.group.add(s),n&&n.register&&i&&n.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Hl.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:r,visualElement:n,drag:i,isPresent:s}=this.props,o=n.projection;return o&&(o.isPresent=s,i||e.layoutDependency!==r||r===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||be.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(i),n&&n.deregister&&n.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function q5(t){const[e,r]=M6(),n=U.useContext(LE);return tg.createElement(D6,{...t,layoutGroup:n,switchLayoutGroup:U.useContext(FE),isPresent:e,safeToRemove:r})}const N6={borderRadius:{...Hs,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Hs,borderTopRightRadius:Hs,borderBottomLeftRadius:Hs,borderBottomRightRadius:Hs,boxShadow:O6},V5=["TopLeft","TopRight","BottomLeft","BottomRight"],B6=V5.length,ax=t=>typeof t=="string"?parseFloat(t):t,lx=t=>typeof t=="number"||K.test(t);function L6(t,e,r,n,i,s){i?(t.opacity=Pe(0,r.opacity!==void 0?r.opacity:1,F6(n)),t.opacityExit=Pe(e.opacity!==void 0?e.opacity:1,0,U6(n))):s&&(t.opacity=Pe(e.opacity!==void 0?e.opacity:1,r.opacity!==void 0?r.opacity:1,n));for(let o=0;o<B6;o++){const a=`border${V5[o]}Radius`;let l=ux(e,a),u=ux(r,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||lx(l)===lx(u)?(t[a]=Math.max(Pe(ax(l),ax(u),n),0),(pr.test(u)||pr.test(l))&&(t[a]+="%")):t[a]=u}(e.rotate||r.rotate)&&(t.rotate=Pe(e.rotate||0,r.rotate||0,n))}function ux(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const F6=H5(0,.5,Hy),U6=H5(.5,.95,Re);function H5(t,e,r){return n=>n<t?0:n>e?1:r(pa(t,e,n))}function cx(t,e){t.min=e.min,t.max=e.max}function At(t,e){cx(t.x,e.x),cx(t.y,e.y)}function dx(t,e,r,n,i){return t-=e,t=hc(t,1/r,n),i!==void 0&&(t=hc(t,1/i,n)),t}function j6(t,e=0,r=1,n=.5,i,s=t,o=t){if(pr.test(e)&&(e=parseFloat(e),e=Pe(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=Pe(s.min,s.max,n);t===s&&(a-=e),t.min=dx(t.min,e,r,a,i),t.max=dx(t.max,e,r,a,i)}function hx(t,e,[r,n,i],s,o){j6(t,e[r],e[n],e[i],e.scale,s,o)}const $6=["x","scaleX","originX"],q6=["y","scaleY","originY"];function fx(t,e,r,n){hx(t.x,e,$6,r?r.x:void 0,n?n.x:void 0),hx(t.y,e,q6,r?r.y:void 0,n?n.y:void 0)}function px(t){return t.translate===0&&t.scale===1}function z5(t){return px(t.x)&&px(t.y)}function V6(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function G5(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function mx(t){return Tt(t.x)/Tt(t.y)}class H6{constructor(){this.members=[]}add(e){Ky(this.members,e),e.scheduleRender()}remove(e){if(Yy(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(e){const r=this.members.findIndex(i=>e===i);if(r===0)return!1;let n;for(let i=r;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){n=s;break}}return n?(this.promote(n),!0):!1}promote(e,r){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,r&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:r,resumingFrom:n}=e;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function gx(t,e,r){let n="";const i=t.x.translate/e.x,s=t.y.translate/e.y;if((i||s)&&(n=`translate3d(${i}px, ${s}px, 0) `),(e.x!==1||e.y!==1)&&(n+=`scale(${1/e.x}, ${1/e.y}) `),r){const{rotate:l,rotateX:u,rotateY:c}=r;l&&(n+=`rotate(${l}deg) `),u&&(n+=`rotateX(${u}deg) `),c&&(n+=`rotateY(${c}deg) `)}const o=t.x.scale*e.x,a=t.y.scale*e.y;return(o!==1||a!==1)&&(n+=`scale(${o}, ${a})`),n||"none"}const z6=(t,e)=>t.depth-e.depth;class G6{constructor(){this.children=[],this.isDirty=!1}add(e){Ky(this.children,e),this.isDirty=!0}remove(e){Yy(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(z6),this.isDirty=!1,this.children.forEach(e)}}function W6(t,e){const r=performance.now(),n=({timestamp:i})=>{const s=i-r;s>=e&&(Nr(n),t(s-e))};return be.read(n,!0),()=>Nr(n)}function Q6(t){window.MotionDebug&&window.MotionDebug.record(t)}function K6(t){return t instanceof SVGElement&&t.tagName!=="svg"}function Y6(t,e,r){const n=mt(t)?t:ys(t);return n.start(Qy("",n,e,r)),n.animation}const yx=["","X","Y","Z"],vx=1e3;let X6=0;const qn={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function W5({attachResizeListener:t,defaultParent:e,measureScroll:r,checkIsScrollRoot:n,resetTransform:i}){return class{constructor(o={},a=e==null?void 0:e()){this.id=X6++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{qn.totalNodes=qn.resolvedTargetDeltas=qn.recalculatedProjection=0,this.nodes.forEach(e8),this.nodes.forEach(s8),this.nodes.forEach(o8),this.nodes.forEach(t8),Q6(qn)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new G6)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Xy),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=K6(o),this.instance=o;const{layoutId:l,layout:u,visualElement:c}=this.options;if(c&&!c.current&&c.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(u||l)&&(this.isLayoutDirty=!0),t){let h;const d=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=W6(d,250),Hl.hasAnimatedSinceResize&&(Hl.hasAnimatedSinceResize=!1,this.nodes.forEach(wx))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&c&&(l||u)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:d,hasRelativeTargetChanged:p,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const _=this.options.transition||c.getDefaultTransition()||d8,{onLayoutAnimationStart:w,onLayoutAnimationComplete:v}=c.getProps(),g=!this.targetLayout||!G5(this.targetLayout,m)||p,y=!d&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||y||d&&(g||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,y);const x={...R5(_,"layout"),onPlay:w,onComplete:v};(c.shouldReduceMotion||this.options.layoutRoot)&&(x.delay=0,x.type=!1),this.startAnimation(x)}else d||wx(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Nr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(a8),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let c=0;c<this.path.length;c++){const h=this.path[c];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(_x);return}this.isUpdating||this.nodes.forEach(n8),this.isUpdating=!1,this.nodes.forEach(i8),this.nodes.forEach(J6),this.nodes.forEach(Z6),this.clearAllSnapshots();const a=performance.now();He.delta=In(0,1e3/60,a-He.timestamp),He.timestamp=a,He.isProcessing=!0,Of.update.process(He),Of.preRender.process(He),Of.render.process(He),He.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(r8),this.sharedNodes.forEach(l8)}scheduleUpdateProjection(){be.preRender(this.updateProjection,!1,!0)}scheduleCheckAfterUnmount(){be.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=De(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:n(this.instance),offset:r(this.instance)})}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!z5(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,c=u!==this.prevTransformTemplateValue;o&&(a||$n(this.latestValues)||c)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),h8(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return De();const a=o.measureViewportBox(),{scroll:l}=this.root;return l&&(Xr(a.x,l.offset.x),Xr(a.y,l.offset.y)),a}removeElementScroll(o){const a=De();At(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l],{scroll:c,options:h}=u;if(u!==this.root&&c&&h.layoutScroll){if(c.isRoot){At(a,o);const{scroll:d}=this.root;d&&(Xr(a.x,-d.offset.x),Xr(a.y,-d.offset.y))}Xr(a.x,c.offset.x),Xr(a.y,c.offset.y)}}return a}applyTransform(o,a=!1){const l=De();At(l,o);for(let u=0;u<this.path.length;u++){const c=this.path[u];!a&&c.options.layoutScroll&&c.scroll&&c!==c.root&&Hi(l,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),$n(c.latestValues)&&Hi(l,c.latestValues)}return $n(this.latestValues)&&Hi(l,this.latestValues),l}removeTransform(o){const a=De();At(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!$n(u.latestValues))continue;Gm(u.latestValues)&&u.updateSnapshot();const c=De(),h=u.measurePageBox();At(c,h),fx(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,c)}return $n(this.latestValues)&&fx(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==He.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:h,layoutId:d}=this.options;if(!(!this.layout||!(h||d))){if(this.resolvedRelativeTargetAt=He.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=De(),this.relativeTargetOrigin=De(),yo(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),At(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=De(),this.targetWithTransforms=De()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),p6(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):At(this.target,this.layout.layoutBox),j5(this.target,this.targetDelta)):At(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=De(),this.relativeTargetOrigin=De(),yo(this.relativeTargetOrigin,this.target,p.target),At(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}qn.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Gm(this.parent.latestValues)||U5(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===He.timestamp&&(u=!1),u)return;const{layout:c,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||h))return;At(this.layoutCorrected,this.layout.layoutBox);const d=this.treeScale.x,p=this.treeScale.y;b6(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox);const{target:m}=a;if(!m){this.projectionTransform&&(this.projectionDelta=Vi(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Vi(),this.projectionDeltaWithTransform=Vi());const _=this.projectionTransform;go(this.projectionDelta,this.layoutCorrected,m,this.latestValues),this.projectionTransform=gx(this.projectionDelta,this.treeScale),(this.projectionTransform!==_||this.treeScale.x!==d||this.treeScale.y!==p)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m)),qn.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,a=!1){const l=this.snapshot,u=l?l.latestValues:{},c={...this.latestValues},h=Vi();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const d=De(),p=l?l.source:void 0,m=this.layout?this.layout.source:void 0,_=p!==m,w=this.getStack(),v=!w||w.members.length<=1,g=!!(_&&!v&&this.options.crossfade===!0&&!this.path.some(c8));this.animationProgress=0;let y;this.mixTargetDelta=x=>{const C=x/1e3;xx(h.x,o.x,C),xx(h.y,o.y,C),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(yo(d,this.layout.layoutBox,this.relativeParent.layout.layoutBox),u8(this.relativeTarget,this.relativeTargetOrigin,d,C),y&&V6(this.relativeTarget,y)&&(this.isProjectionDirty=!1),y||(y=De()),At(y,this.relativeTarget)),_&&(this.animationValues=c,L6(c,u,this.latestValues,C,g,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=C},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Nr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=be.update(()=>{Hl.hasAnimatedSinceResize=!0,this.currentAnimation=Y6(0,vx,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(vx),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:c}=o;if(!(!a||!l||!u)){if(this!==o&&this.layout&&u&&Q5(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||De();const h=Tt(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+h;const d=Tt(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+d}At(a,l),Hi(a,c),go(this.projectionDeltaWithTransform,this.layoutCorrected,a,c)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new H6),this.sharedNodes.get(o).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(a=!0),!a)return;const u={};for(let c=0;c<yx.length;c++){const h="rotate"+yx[c];l[h]&&(u[h]=l[h],o.setStaticValue(h,0))}o.render();for(const c in u)o.setStaticValue(c,u[c]);o.scheduleRender()}getProjectionStyles(o={}){var a,l;const u={};if(!this.instance||this.isSVG)return u;if(this.isVisible)u.visibility="";else return{visibility:"hidden"};const c=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=Vl(o.pointerEvents)||"",u.transform=c?c(this.latestValues,""):"none",u;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const _={};return this.options.layoutId&&(_.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,_.pointerEvents=Vl(o.pointerEvents)||""),this.hasProjected&&!$n(this.latestValues)&&(_.transform=c?c({},""):"none",this.hasProjected=!1),_}const d=h.animationValues||h.latestValues;this.applyTransformsToTarget(),u.transform=gx(this.projectionDeltaWithTransform,this.treeScale,d),c&&(u.transform=c(d,u.transform));const{x:p,y:m}=this.projectionDelta;u.transformOrigin=`${p.origin*100}% ${m.origin*100}% 0`,h.animationValues?u.opacity=h===this?(l=(a=d.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:u.opacity=h===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const _ in sc){if(d[_]===void 0)continue;const{correct:w,applyTo:v}=sc[_],g=u.transform==="none"?d[_]:w(d[_],h);if(v){const y=v.length;for(let x=0;x<y;x++)u[v[x]]=g}else u[_]=g}return this.options.layoutId&&(u.pointerEvents=h===this?Vl(o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(_x),this.root.sharedNodes.clear()}}}function J6(t){t.updateLayout()}function Z6(t){var e;const r=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&r&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=t.layout,{animationType:s}=t.options,o=r.source!==t.layout.source;s==="size"?lr(h=>{const d=o?r.measuredBox[h]:r.layoutBox[h],p=Tt(d);d.min=n[h].min,d.max=d.min+p}):Q5(s,r.layoutBox,n)&&lr(h=>{const d=o?r.measuredBox[h]:r.layoutBox[h],p=Tt(n[h]);d.max=d.min+p,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+p)});const a=Vi();go(a,n,r.layoutBox);const l=Vi();o?go(l,t.applyTransform(i,!0),r.measuredBox):go(l,n,r.layoutBox);const u=!z5(a);let c=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:d,layout:p}=h;if(d&&p){const m=De();yo(m,r.layoutBox,d.layoutBox);const _=De();yo(_,n,p.layoutBox),G5(m,_)||(c=!0),h.options.layoutRoot&&(t.relativeTarget=_,t.relativeTargetOrigin=m,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:r,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeTargetChanged:c})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function e8(t){qn.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function t8(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function r8(t){t.clearSnapshot()}function _x(t){t.clearMeasurements()}function n8(t){t.isLayoutDirty=!1}function i8(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function wx(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function s8(t){t.resolveTargetDelta()}function o8(t){t.calcProjection()}function a8(t){t.resetRotation()}function l8(t){t.removeLeadSnapshot()}function xx(t,e,r){t.translate=Pe(e.translate,0,r),t.scale=Pe(e.scale,1,r),t.origin=e.origin,t.originPoint=e.originPoint}function Sx(t,e,r,n){t.min=Pe(e.min,r.min,n),t.max=Pe(e.max,r.max,n)}function u8(t,e,r,n){Sx(t.x,e.x,r.x,n),Sx(t.y,e.y,r.y,n)}function c8(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const d8={duration:.45,ease:[.4,0,.1,1]},bx=t=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(t),Cx=bx("applewebkit/")&&!bx("chrome/")?Math.round:Re;function Tx(t){t.min=Cx(t.min),t.max=Cx(t.max)}function h8(t){Tx(t.x),Tx(t.y)}function Q5(t,e,r){return t==="position"||t==="preserve-aspect"&&!Hm(mx(e),mx(r),.2)}const f8=W5({attachResizeListener:(t,e)=>Er(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Hf={current:void 0},K5=W5({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Hf.current){const t=new f8({});t.mount(window),t.setOptions({layoutScroll:!0}),Hf.current=t}return Hf.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),p8={pan:{Feature:R6},drag:{Feature:k6,ProjectionNode:K5,MeasureLayout:q5}},m8=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function g8(t){const e=m8.exec(t);if(!e)return[,];const[,r,n]=e;return[r,n]}function Qm(t,e,r=1){const[n,i]=g8(t);if(!n)return;const s=window.getComputedStyle(e).getPropertyValue(n);if(s){const o=s.trim();return M5(o)?parseFloat(o):o}else return Lm(i)?Qm(i,e,r+1):i}function y8(t,{...e},r){const n=t.current;if(!(n instanceof Element))return{target:e,transitionEnd:r};r&&(r={...r}),t.values.forEach(i=>{const s=i.get();if(!Lm(s))return;const o=Qm(s,n);o&&i.set(o)});for(const i in e){const s=e[i];if(!Lm(s))continue;const o=Qm(s,n);o&&(e[i]=o,r||(r={}),r[i]===void 0&&(r[i]=s))}return{target:e,transitionEnd:r}}const v8=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),Y5=t=>v8.has(t),_8=t=>Object.keys(t).some(Y5),Ex=t=>t===gi||t===K,Px=(t,e)=>parseFloat(t.split(", ")[e]),Ax=(t,e)=>(r,{transform:n})=>{if(n==="none"||!n)return 0;const i=n.match(/^matrix3d\((.+)\)$/);if(i)return Px(i[1],e);{const s=n.match(/^matrix\((.+)\)$/);return s?Px(s[1],t):0}},w8=new Set(["x","y","z"]),x8=ka.filter(t=>!w8.has(t));function S8(t){const e=[];return x8.forEach(r=>{const n=t.getValue(r);n!==void 0&&(e.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),e.length&&t.render(),e}const vs={width:({x:t},{paddingLeft:e="0",paddingRight:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),height:({y:t},{paddingTop:e="0",paddingBottom:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:Ax(4,13),y:Ax(5,14)};vs.translateX=vs.x;vs.translateY=vs.y;const b8=(t,e,r)=>{const n=e.measureViewportBox(),i=e.current,s=getComputedStyle(i),{display:o}=s,a={};o==="none"&&e.setStaticValue("display",t.display||"block"),r.forEach(u=>{a[u]=vs[u](n,s)}),e.render();const l=e.measureViewportBox();return r.forEach(u=>{const c=e.getValue(u);c&&c.jump(a[u]),t[u]=vs[u](l,s)}),t},C8=(t,e,r={},n={})=>{e={...e},n={...n};const i=Object.keys(e).filter(Y5);let s=[],o=!1;const a=[];if(i.forEach(l=>{const u=t.getValue(l);if(!t.hasValue(l))return;let c=r[l],h=Vs(c);const d=e[l];let p;if(ac(d)){const m=d.length,_=d[0]===null?1:0;c=d[_],h=Vs(c);for(let w=_;w<m&&d[w]!==null;w++)p?Vy(Vs(d[w])===p):p=Vs(d[w])}else p=Vs(d);if(h!==p)if(Ex(h)&&Ex(p)){const m=u.get();typeof m=="string"&&u.set(parseFloat(m)),typeof d=="string"?e[l]=parseFloat(d):Array.isArray(d)&&p===K&&(e[l]=d.map(parseFloat))}else h!=null&&h.transform&&(p!=null&&p.transform)&&(c===0||d===0)?c===0?u.set(p.transform(c)):e[l]=h.transform(d):(o||(s=S8(t),o=!0),a.push(l),n[l]=n[l]!==void 0?n[l]:e[l],u.jump(d))}),a.length){const l=a.indexOf("height")>=0?window.pageYOffset:null,u=b8(e,t,a);return s.length&&s.forEach(([c,h])=>{t.getValue(c).set(h)}),t.render(),Xc&&l!==null&&window.scrollTo({top:l}),{target:u,transitionEnd:n}}else return{target:e,transitionEnd:n}};function T8(t,e,r,n){return _8(e)?C8(t,e,r,n):{target:e,transitionEnd:n}}const E8=(t,e,r,n)=>{const i=y8(t,e,n);return e=i.target,n=i.transitionEnd,T8(t,e,r,n)},Km={current:null},X5={current:!1};function P8(){if(X5.current=!0,!!Xc)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Km.current=t.matches;t.addListener(e),e()}else Km.current=!1}function A8(t,e,r){const{willChange:n}=e;for(const i in e){const s=e[i],o=r[i];if(mt(s))t.addValue(i,s),dc(n)&&n.add(i);else if(mt(o))t.addValue(i,ys(s,{owner:t})),dc(n)&&n.remove(i);else if(o!==s)if(t.hasValue(i)){const a=t.getValue(i);!a.hasAnimated&&a.set(s)}else{const a=t.getStaticValue(i);t.addValue(i,ys(a!==void 0?a:s,{owner:t}))}}for(const i in r)e[i]===void 0&&t.removeValue(i);return e}const Ix=new WeakMap,J5=Object.keys(fa),I8=J5.length,kx=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],k8=Dy.length;class R8{constructor({parent:e,props:r,presenceContext:n,reducedMotionConfig:i,visualState:s},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>be.render(this.render,!1,!0);const{latestValues:a,renderState:l}=s;this.latestValues=a,this.baseTarget={...a},this.initialValues=r.initial?{...a}:{},this.renderState=l,this.parent=e,this.props=r,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.isControllingVariants=Zc(r),this.isVariantNode=BE(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:u,...c}=this.scrapeMotionValuesFromProps(r,{});for(const h in c){const d=c[h];a[h]!==void 0&&mt(d)&&(d.set(a[h],!1),dc(u)&&u.add(h))}}scrapeMotionValuesFromProps(e,r){return{}}mount(e){this.current=e,Ix.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),X5.current||P8(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Km.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Ix.delete(this.current),this.projection&&this.projection.unmount(),Nr(this.notifyUpdate),Nr(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,r){const n=mi.has(e),i=r.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&be.update(this.notifyUpdate,!1,!0),n&&this.projection&&(this.projection.isTransformDirty=!0)}),s=r.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{i(),s()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...r},n,i,s){let o,a;for(let l=0;l<I8;l++){const u=J5[l],{isEnabled:c,Feature:h,ProjectionNode:d,MeasureLayout:p}=fa[u];d&&(o=d),c(r)&&(!this.features[u]&&h&&(this.features[u]=new h(this)),p&&(a=p))}if(!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:u,drag:c,dragConstraints:h,layoutScroll:d,layoutRoot:p}=r;this.projection.setOptions({layoutId:l,layout:u,alwaysMeasureLayout:!!c||h&&$i(h),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:s,layoutScroll:d,layoutRoot:p})}return a}updateFeatures(){for(const e in this.features){const r=this.features[e];r.isMounted?r.update():(r.mount(),r.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):De()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,r){this.latestValues[e]=r}makeTargetAnimatable(e,r=!0){return this.makeTargetAnimatableFromInstance(e,this.props,r)}update(e,r){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<kx.length;n++){const i=kx[n];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s=e["on"+i];s&&(this.propEventSubscriptions[i]=this.on(i,s))}this.prevMotionValues=A8(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const n=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(n.initial=this.props.initial),n}const r={};for(let n=0;n<k8;n++){const i=Dy[n],s=this.props[i];(ha(s)||s===!1)&&(r[i]=s)}return r}addVariantChild(e){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(e),()=>r.variantChildren.delete(e)}addValue(e,r){r!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,r)),this.values.set(e,r),this.latestValues[e]=r.get()}removeValue(e){this.values.delete(e);const r=this.valueSubscriptions.get(e);r&&(r(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,r){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return n===void 0&&r!==void 0&&(n=ys(r,{owner:this}),this.addValue(e,n)),n}readValue(e){var r;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,r){this.baseTarget[e]=r}getBaseTarget(e){var r;const{initial:n}=this.props,i=typeof n=="string"||typeof n=="object"?(r=qy(this.props,n))===null||r===void 0?void 0:r[e]:void 0;if(n&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!mt(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,r){return this.events[e]||(this.events[e]=new Xy),this.events[e].add(r)}notify(e,...r){this.events[e]&&this.events[e].notify(...r)}}class Z5 extends R8{sortInstanceNodePosition(e,r){return e.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(e,r){return e.style?e.style[r]:void 0}removeValueFromRenderState(e,{vars:r,style:n}){delete r[e],delete n[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:r,...n},{transformValues:i},s){let o=YL(n,e||{},this);if(i&&(r&&(r=i(r)),n&&(n=i(n)),o&&(o=i(o))),s){QL(this,n,o);const a=E8(this,n,o,r);r=a.transitionEnd,n=a.target}return{transition:e,transitionEnd:r,...n}}}function M8(t){return window.getComputedStyle(t)}class O8 extends Z5{readValueFromInstance(e,r){if(mi.has(r)){const n=Wy(r);return n&&n.default||0}else{const n=M8(e),i=($E(r)?n.getPropertyValue(r):n[r])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:r}){return $5(e,r)}build(e,r,n,i){By(e,r,n,i.transformTemplate)}scrapeMotionValuesFromProps(e,r){return $y(e,r)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;mt(e)&&(this.childSubscription=e.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}renderInstance(e,r,n,i){WE(e,r,n,i)}}class D8 extends Z5{constructor(){super(...arguments),this.isSVGTag=!1}getBaseTargetFromProps(e,r){return e[r]}readValueFromInstance(e,r){if(mi.has(r)){const n=Wy(r);return n&&n.default||0}return r=QE.has(r)?r:jy(r),e.getAttribute(r)}measureInstanceViewportBox(){return De()}scrapeMotionValuesFromProps(e,r){return YE(e,r)}build(e,r,n,i){Fy(e,r,n,this.isSVGTag,i.transformTemplate)}renderInstance(e,r,n,i){KE(e,r,n,i)}mount(e){this.isSVGTag=Uy(e.tagName),super.mount(e)}}const N8=(t,e)=>Ny(t)?new D8(e,{enableHardwareAcceleration:!1}):new O8(e,{enableHardwareAcceleration:!0}),B8={layout:{ProjectionNode:K5,MeasureLayout:q5}},L8={...c6,...kB,...p8,...B8},F8=F4((t,e)=>yB(t,e,L8,N8));function U8(){const[t,e]=U.useState(!1),{broadcaster:r}=Nn();return U.useEffect(()=>{setTimeout(()=>{e(!0)},2e3)},[]),t?null:de.jsx(F8.div,{initial:{opacity:1},animate:{opacity:0},transition:{duration:.3,delay:1},className:"bg-emerald-800 absolute top-3 inset-x-3 rounded-xl p-3 flex items-center justify-center",children:de.jsxs("span",{className:"text-lime-100 text-md mx-3 font-grandstander",children:["Connected to [",de.jsx("strong",{className:"text-lime-200",children:r.userName}),"]"]})})}const eP=new Map;let Rx=!1;function j8(){const[t,e]=U.useState(!0),{broadcaster:r}=Nn();return U.useEffect(()=>{async function n(){Rx||(await ms.chat.getChannelEmotes(r)).forEach(s=>{eP.set(s.name,{id:s.id,name:s.name,images:{default:Mx(s),static:Mx(s,!0)},source:"twitch"})}),e(!1),Rx=!0}n()},[r]),{loading:t}}function $8(){function t(){return Array.from(eP.values())}return{getAllChannelEmotes:t}}function Mx(t,e=!1){function r(n="3.0"){const i=e?"static":"default",s="light";return DT(t.id,{animationSettings:i,backgroundType:s,size:n})}return{x1:r("1.0"),x2:r("2.0"),x4:r("3.0")}}const Ox=["broadcaster","moderator","artist","vip","founder","subscriber"],Dx=["action","highlight","cheer","reply","redeem","resub","announcement"],Nx=["1000","2000","3000","Prime"],Bx=["PRIMARY","BLUE","GREEN","ORANGE","PURPLE"],Lx=[1,5,10,50,100,500,1e3,5e3,1e4];function q8(){const t=sy(),{getAllOtherEmotes:e}=rE(),{getAllChannelEmotes:r}=$8(),{getCheerColor:n,getCheermoteUrls:i}=wy(),{getBadge:s}=sE(),{getAllPronouns:o}=nE();function a(){const l=o(),u=[...r(),...e()],c=new Date,h=!ut(0,4);let d="test message",p=d;h&&(d=`${d} (first time chat)`);const m=[],_={id:`test-user-${c.getTime()}`,userName:"testuser",displayName:"testUser",pronouns:ut(0,1)?void 0:l[ut(0,l.length-1)],badges:[],roles:{broadcaster:!1,moderator:!1,artist:!1,vip:!1,founder:!1,subscriber:!1,followDate:new Date(0)}},w=ut(0,1)?"user":Ox[ut(0,Ox.length-1)],v=s(w==="artist"?"artist-badge":w);w!=="user"&&v&&(_.badges=[v],_.roles[w]=!0,w==="founder"&&(_.roles.subscriber=!0),_.userName=`test${w}`,_.displayName=`test${w.charAt(0).toUpperCase()}${w.slice(1)}`);let g={type:"basic"};if(ut(0,1)){const x=Dx[ut(0,Dx.length-1)];switch(x){case"action":d=`${d} (/me action message)`,p=d;break;case"highlight":d=`${d} (highlighted message)`,p=d;break;case"cheer":const C=Lx[ut(0,Lx.length-1)],k="Cheer";g={type:x,cheer:{amount:C}};const O=`${k}${C}`;p=`${d} (cheer message)`,d=`${O} ${p}`,m.unshift({type:"text",text:" "}),m.unshift({type:"cheer",text:O,cheer:{name:k,amount:C,color:n(k,C),images:{default:i(k,C),static:i(k,C,!0)}}});break;case"reply":g={type:x,reply:{id:`test-reply-${c.getTime()}`,text:"test message being replied to",user:{id:`test-user-reply-${c.getTime()}`,userName:"testreplyuser",displayName:"testReplyUser"}}},d=`${d} (reply message)`,p=d;break;case"redeem":g={type:x,redeem:{id:`test-redeem-${c.getTime()}`,name:"Test Redeem",image:"https://static-cdn.jtvnw.net/custom-reward-images/default-4.png",color:"#FFC6FF",cost:ut(1,1e3)}},d=`${d} (channel point redemption requiring text)`,p=d;break;case"resub":g={type:x,resub:{months:ut(1,24),tier:Nx[ut(0,Nx.length-1)]}},d=`${d} (resub message)`,p=d;break;case"announcement":(w==="broadcaster"||w==="moderator")&&(g={type:x,announcement:{color:Bx[ut(0,Bx.length-1)]}},d=`${d} (announcement message)`,p=d);break}}if(ut(0,1)&&u.length){const x=u[ut(0,u.length-1)];m.unshift({type:"text",text:" "}),m.unshift({type:"emote",emote:x,text:x.name}),d=`${x.name} ${d}`}m.push({type:"text",text:p});const y={...g,id:`test-message-${c.getTime()}`,first:h,date:c,user:_,text:d,parts:m,tags:new Map([["test","1"]])};t({type:"add",payload:y})}return{sendTestMessage:a}}function ut(t,e){return Math.floor(Math.random()*(e-t+1))+t}const or=20;function V8(){const[t,e]=U.useState({bottom:or,right:or}),[r,n]=U.useState(!1),{sendTestMessage:i}=q8();return U.useEffect(()=>{function s(l){const u=window.innerWidth,c=window.innerHeight,h=l.clientX,d=l.clientY;h>u*.3&&h<u*.7&&d>c*.3&&d<c*.7?e({top:"50%",left:"50%",transform:"translate(-50%, -50%)"}):h<u/2?d<c/2?e({top:or,left:or}):e({bottom:or,left:or}):d<c/2?e({top:or,right:or}):e({bottom:or,right:or})}function o(l){n(!0)}function a(l){n(!1)}return window.addEventListener("mousemove",s),document.addEventListener("mouseenter",o),document.addEventListener("mouseleave",a),()=>{window.removeEventListener("mousemove",s),document.removeEventListener("mouseenter",o),document.removeEventListener("mouseleave",a)}},[i]),r?de.jsx("button",{onClick:i,className:"btn-shadow-i !fixed z-[999] flex justify-center gap-2 overflow-hidden rounded-2xl border-2 border-emerald-800 bg-gradient-to-b from-lime-600 to-emerald-700 px-3 py-1 text-center hover:from-lime-500 hover:to-emerald-600 focus:outline-offset-8",style:{...t},children:de.jsx("span",{className:"font-grandstander font-semibold text-lime-100 text-shadow text-shadow-c-black/75 text-shadow-y-px",children:"Send Test Message"})}):null}function H8(){const{loading:t}=$D(),{loading:e}=E4(),{loading:r}=cO(),{loading:n}=DD(),{loading:i}=HD(),{loading:s}=j8();return t||e||r||n||i||s?de.jsx(ZC,{message:"Connecting to Chat..."}):de.jsx(de.Fragment,{children:de.jsxs(S3,{children:[de.jsx(U8,{}),de.jsx(A4,{}),de.jsx(V8,{})]})})}function z8(){const{loading:t,tokenInfo:e}=p3();return t?de.jsx(ZC,{message:"Checking Token..."}):e?de.jsx(H8,{}):de.jsx(x3,{})}function G8(){return de.jsx(z8,{})}function ns(){}slime2Chat||(slime2Chat={onMessage:ns,onModDelete:ns,ready:ns});slime2Chat.onMessage||(slime2Chat.onMessage=ns);slime2Chat.onModDelete||(slime2Chat.onModDelete=ns);slime2Chat.ready||(slime2Chat.ready=ns);slime2Tokens||(slime2Tokens={});const W8=zf.createRoot(document.getElementById("slime2-root"));W8.render(de.jsx(tg.StrictMode,{children:de.jsx(G8,{})}));
