var wT=Object.defineProperty;var bT=(t,e,r)=>e in t?wT(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var _r=(t,e,r)=>(bT(t,typeof e!="symbol"?e+"":e,r),r),Jd=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)};var E=(t,e,r)=>(Jd(t,e,"read from private field"),r?r.call(t):e.get(t)),W=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},q=(t,e,r,n)=>(Jd(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r);var El=(t,e,r,n)=>({set _(i){q(t,e,i,r)},get _(){return E(t,e,n)}}),te=(t,e,r)=>(Jd(t,e,"access private method"),r);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var Vc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Xr(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function bb(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var Sb={exports:{}},Qc={},xb={exports:{}},ne={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var il=Symbol.for("react.element"),ST=Symbol.for("react.portal"),xT=Symbol.for("react.fragment"),CT=Symbol.for("react.strict_mode"),ET=Symbol.for("react.profiler"),TT=Symbol.for("react.provider"),PT=Symbol.for("react.context"),IT=Symbol.for("react.forward_ref"),kT=Symbol.for("react.suspense"),RT=Symbol.for("react.memo"),AT=Symbol.for("react.lazy"),U0=Symbol.iterator;function MT(t){return t===null||typeof t!="object"?null:(t=U0&&t[U0]||t["@@iterator"],typeof t=="function"?t:null)}var Cb={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Eb=Object.assign,Tb={};function to(t,e,r){this.props=t,this.context=e,this.refs=Tb,this.updater=r||Cb}to.prototype.isReactComponent={};to.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};to.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Pb(){}Pb.prototype=to.prototype;function Ng(t,e,r){this.props=t,this.context=e,this.refs=Tb,this.updater=r||Cb}var Dg=Ng.prototype=new Pb;Dg.constructor=Ng;Eb(Dg,to.prototype);Dg.isPureReactComponent=!0;var F0=Array.isArray,Ib=Object.prototype.hasOwnProperty,Bg={current:null},kb={key:!0,ref:!0,__self:!0,__source:!0};function Rb(t,e,r){var n,i={},s=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)Ib.call(e,n)&&!kb.hasOwnProperty(n)&&(i[n]=e[n]);var a=arguments.length-2;if(a===1)i.children=r;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(n in a=t.defaultProps,a)i[n]===void 0&&(i[n]=a[n]);return{$$typeof:il,type:t,key:s,ref:o,props:i,_owner:Bg.current}}function OT(t,e){return{$$typeof:il,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Lg(t){return typeof t=="object"&&t!==null&&t.$$typeof===il}function NT(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var $0=/\/+/g;function Zd(t,e){return typeof t=="object"&&t!==null&&t.key!=null?NT(""+t.key):e.toString(36)}function au(t,e,r,n,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case il:case ST:o=!0}}if(o)return o=t,i=i(o),t=n===""?"."+Zd(o,0):n,F0(i)?(r="",t!=null&&(r=t.replace($0,"$&/")+"/"),au(i,e,r,"",function(u){return u})):i!=null&&(Lg(i)&&(i=OT(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace($0,"$&/")+"/")+t)),e.push(i)),1;if(o=0,n=n===""?".":n+":",F0(t))for(var a=0;a<t.length;a++){s=t[a];var l=n+Zd(s,a);o+=au(s,e,r,l,i)}else if(l=MT(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=n+Zd(s,a++),o+=au(s,e,r,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Tl(t,e,r){if(t==null)return t;var n=[],i=0;return au(t,n,"","",function(s){return e.call(r,s,i++)}),n}function DT(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var dt={current:null},lu={transition:null},BT={ReactCurrentDispatcher:dt,ReactCurrentBatchConfig:lu,ReactCurrentOwner:Bg};ne.Children={map:Tl,forEach:function(t,e,r){Tl(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Tl(t,function(){e++}),e},toArray:function(t){return Tl(t,function(e){return e})||[]},only:function(t){if(!Lg(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ne.Component=to;ne.Fragment=xT;ne.Profiler=ET;ne.PureComponent=Ng;ne.StrictMode=CT;ne.Suspense=kT;ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=BT;ne.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=Eb({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Bg.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Ib.call(e,l)&&!kb.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];n.children=a}return{$$typeof:il,type:t.type,key:i,ref:s,props:n,_owner:o}};ne.createContext=function(t){return t={$$typeof:PT,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:TT,_context:t},t.Consumer=t};ne.createElement=Rb;ne.createFactory=function(t){var e=Rb.bind(null,t);return e.type=t,e};ne.createRef=function(){return{current:null}};ne.forwardRef=function(t){return{$$typeof:IT,render:t}};ne.isValidElement=Lg;ne.lazy=function(t){return{$$typeof:AT,_payload:{_status:-1,_result:t},_init:DT}};ne.memo=function(t,e){return{$$typeof:RT,type:t,compare:e===void 0?null:e}};ne.startTransition=function(t){var e=lu.transition;lu.transition={};try{t()}finally{lu.transition=e}};ne.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};ne.useCallback=function(t,e){return dt.current.useCallback(t,e)};ne.useContext=function(t){return dt.current.useContext(t)};ne.useDebugValue=function(){};ne.useDeferredValue=function(t){return dt.current.useDeferredValue(t)};ne.useEffect=function(t,e){return dt.current.useEffect(t,e)};ne.useId=function(){return dt.current.useId()};ne.useImperativeHandle=function(t,e,r){return dt.current.useImperativeHandle(t,e,r)};ne.useInsertionEffect=function(t,e){return dt.current.useInsertionEffect(t,e)};ne.useLayoutEffect=function(t,e){return dt.current.useLayoutEffect(t,e)};ne.useMemo=function(t,e){return dt.current.useMemo(t,e)};ne.useReducer=function(t,e,r){return dt.current.useReducer(t,e,r)};ne.useRef=function(t){return dt.current.useRef(t)};ne.useState=function(t){return dt.current.useState(t)};ne.useSyncExternalStore=function(t,e,r){return dt.current.useSyncExternalStore(t,e,r)};ne.useTransition=function(){return dt.current.useTransition()};ne.version="18.2.0";xb.exports=ne;var j=xb.exports;const uu=Xr(j);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LT=j,UT=Symbol.for("react.element"),FT=Symbol.for("react.fragment"),$T=Object.prototype.hasOwnProperty,qT=LT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,jT={key:!0,ref:!0,__self:!0,__source:!0};function Ab(t,e,r){var n,i={},s=null,o=null;r!==void 0&&(s=""+r),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)$T.call(e,n)&&!jT.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:UT,type:t,key:s,ref:o,props:i,_owner:qT.current}}Qc.Fragment=FT;Qc.jsx=Ab;Qc.jsxs=Ab;Sb.exports=Qc;var F=Sb.exports,sl=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},js=typeof window>"u"||"Deno"in window;function Ft(){}function HT(t,e){return typeof t=="function"?t(e):t}function Cp(t){return typeof t=="number"&&t>=0&&t!==1/0}function Mb(t,e){return Math.max(t+(e||0)-Date.now(),0)}function q0(t,e){const{type:r="all",exact:n,fetchStatus:i,predicate:s,queryKey:o,stale:a}=t;if(o){if(n){if(e.queryHash!==Ug(o,e.options))return!1}else if(!Xo(e.queryKey,o))return!1}if(r!=="all"){const l=e.isActive();if(r==="active"&&!l||r==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||typeof i<"u"&&i!==e.state.fetchStatus||s&&!s(e))}function j0(t,e){const{exact:r,status:n,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(r){if(Yo(e.options.mutationKey)!==Yo(s))return!1}else if(!Xo(e.options.mutationKey,s))return!1}return!(n&&e.state.status!==n||i&&!i(e))}function Ug(t,e){return((e==null?void 0:e.queryKeyHashFn)||Yo)(t)}function Yo(t){return JSON.stringify(t,(e,r)=>Tp(r)?Object.keys(r).sort().reduce((n,i)=>(n[i]=r[i],n),{}):r)}function Xo(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(r=>!Xo(t[r],e[r])):!1}function Ob(t,e){if(t===e)return t;const r=H0(t)&&H0(e);if(r||Tp(t)&&Tp(e)){const n=r?t.length:Object.keys(t).length,i=r?e:Object.keys(e),s=i.length,o=r?[]:{};let a=0;for(let l=0;l<s;l++){const u=r?l:i[l];o[u]=Ob(t[u],e[u]),o[u]===t[u]&&a++}return n===s&&a===n?t:o}return e}function Ep(t,e){if(t&&!e||e&&!t)return!1;for(const r in t)if(t[r]!==e[r])return!1;return!0}function H0(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Tp(t){if(!z0(t))return!1;const e=t.constructor;if(typeof e>"u")return!0;const r=e.prototype;return!(!z0(r)||!r.hasOwnProperty("isPrototypeOf"))}function z0(t){return Object.prototype.toString.call(t)==="[object Object]"}function Nb(t){return new Promise(e=>{setTimeout(e,t)})}function G0(t){Nb(0).then(t)}function Pp(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?Ob(t,e):e}function zT(t,e,r=0){const n=[...t,e];return r&&n.length>r?n.slice(1):n}function GT(t,e,r=0){const n=[e,...t];return r&&n.length>r?n.slice(0,-1):n}var hi,Sn,Ps,fb,WT=(fb=class extends sl{constructor(){super();W(this,hi,void 0);W(this,Sn,void 0);W(this,Ps,void 0);q(this,Ps,e=>{if(!js&&window.addEventListener){const r=()=>e();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){E(this,Sn)||this.setEventListener(E(this,Ps))}onUnsubscribe(){var e;this.hasListeners()||((e=E(this,Sn))==null||e.call(this),q(this,Sn,void 0))}setEventListener(e){var r;q(this,Ps,e),(r=E(this,Sn))==null||r.call(this),q(this,Sn,e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(e){E(this,hi)!==e&&(q(this,hi,e),this.onFocus())}onFocus(){this.listeners.forEach(e=>{e()})}isFocused(){var e;return typeof E(this,hi)=="boolean"?E(this,hi):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},hi=new WeakMap,Sn=new WeakMap,Ps=new WeakMap,fb),Au=new WT,Is,xn,ks,hb,VT=(hb=class extends sl{constructor(){super();W(this,Is,!0);W(this,xn,void 0);W(this,ks,void 0);q(this,ks,e=>{if(!js&&window.addEventListener){const r=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){E(this,xn)||this.setEventListener(E(this,ks))}onUnsubscribe(){var e;this.hasListeners()||((e=E(this,xn))==null||e.call(this),q(this,xn,void 0))}setEventListener(e){var r;q(this,ks,e),(r=E(this,xn))==null||r.call(this),q(this,xn,e(this.setOnline.bind(this)))}setOnline(e){E(this,Is)!==e&&(q(this,Is,e),this.listeners.forEach(n=>{n(e)}))}isOnline(){return E(this,Is)}},Is=new WeakMap,xn=new WeakMap,ks=new WeakMap,hb),Mu=new VT;function QT(t){return Math.min(1e3*2**t,3e4)}function Kc(t){return(t??"online")==="online"?Mu.isOnline():!0}var Db=class{constructor(t){this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function ef(t){return t instanceof Db}function Bb(t){let e=!1,r=0,n=!1,i,s,o;const a=new Promise((_,g)=>{s=_,o=g}),l=_=>{var g;n||(v(new Db(_)),(g=t.abort)==null||g.call(t))},u=()=>{e=!0},c=()=>{e=!1},h=()=>!Au.isFocused()||t.networkMode!=="always"&&!Mu.isOnline(),f=_=>{var g;n||(n=!0,(g=t.onSuccess)==null||g.call(t,_),i==null||i(),s(_))},v=_=>{var g;n||(n=!0,(g=t.onError)==null||g.call(t,_),i==null||i(),o(_))},y=()=>new Promise(_=>{var g;i=p=>{const m=n||!h();return m&&_(p),m},(g=t.onPause)==null||g.call(t)}).then(()=>{var _;i=void 0,n||(_=t.onContinue)==null||_.call(t)}),w=()=>{if(n)return;let _;try{_=t.fn()}catch(g){_=Promise.reject(g)}Promise.resolve(_).then(f).catch(g=>{var R;if(n)return;const p=t.retry??(js?0:3),m=t.retryDelay??QT,b=typeof m=="function"?m(r,g):m,S=p===!0||typeof p=="number"&&r<p||typeof p=="function"&&p(r,g);if(e||!S){v(g);return}r++,(R=t.onFail)==null||R.call(t,r,g),Nb(b).then(()=>{if(h())return y()}).then(()=>{e?v(g):w()})})};return Kc(t.networkMode)?w():y().then(w),{promise:a,cancel:l,continue:()=>(i==null?void 0:i())?a:Promise.resolve(),cancelRetry:u,continueRetry:c}}function KT(){let t=[],e=0,r=c=>{c()},n=c=>{c()};const i=c=>{let h;e++;try{h=c()}finally{e--,e||a()}return h},s=c=>{e?t.push(c):G0(()=>{r(c)})},o=c=>(...h)=>{s(()=>{c(...h)})},a=()=>{const c=t;t=[],c.length&&G0(()=>{n(()=>{c.forEach(h=>{r(h)})})})};return{batch:i,batchCalls:o,schedule:s,setNotifyFunction:c=>{r=c},setBatchNotifyFunction:c=>{n=c}}}var Je=KT(),pi,pb,Lb=(pb=class{constructor(){W(this,pi,void 0)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Cp(this.gcTime)&&q(this,pi,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(js?1/0:5*60*1e3))}clearGcTimeout(){E(this,pi)&&(clearTimeout(E(this,pi)),q(this,pi,void 0))}},pi=new WeakMap,pb),Rs,As,Bt,Cn,Lt,Ve,Va,mi,Ms,cu,ar,Fr,mb,YT=(mb=class extends Lb{constructor(e){super();W(this,Ms);W(this,ar);W(this,Rs,void 0);W(this,As,void 0);W(this,Bt,void 0);W(this,Cn,void 0);W(this,Lt,void 0);W(this,Ve,void 0);W(this,Va,void 0);W(this,mi,void 0);q(this,mi,!1),q(this,Va,e.defaultOptions),te(this,Ms,cu).call(this,e.options),q(this,Ve,[]),q(this,Bt,e.cache),this.queryKey=e.queryKey,this.queryHash=e.queryHash,q(this,Rs,e.state||XT(this.options)),this.state=E(this,Rs),this.scheduleGc()}get meta(){return this.options.meta}optionalRemove(){!E(this,Ve).length&&this.state.fetchStatus==="idle"&&E(this,Bt).remove(this)}setData(e,r){const n=Pp(this.state.data,e,this.options);return te(this,ar,Fr).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(e,r){te(this,ar,Fr).call(this,{type:"setState",state:e,setStateOptions:r})}cancel(e){var n;const r=E(this,Cn);return(n=E(this,Lt))==null||n.cancel(e),r?r.then(Ft).catch(Ft):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(E(this,Rs))}isActive(){return E(this,Ve).some(e=>e.options.enabled!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated||!this.state.dataUpdatedAt||E(this,Ve).some(e=>e.getCurrentResult().isStale)}isStaleByTime(e=0){return this.state.isInvalidated||!this.state.dataUpdatedAt||!Mb(this.state.dataUpdatedAt,e)}onFocus(){var r;const e=E(this,Ve).find(n=>n.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(r=E(this,Lt))==null||r.continue()}onOnline(){var r;const e=E(this,Ve).find(n=>n.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(r=E(this,Lt))==null||r.continue()}addObserver(e){E(this,Ve).includes(e)||(E(this,Ve).push(e),this.clearGcTimeout(),E(this,Bt).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){E(this,Ve).includes(e)&&(q(this,Ve,E(this,Ve).filter(r=>r!==e)),E(this,Ve).length||(E(this,Lt)&&(E(this,mi)?E(this,Lt).cancel({revert:!0}):E(this,Lt).cancelRetry()),this.scheduleGc()),E(this,Bt).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return E(this,Ve).length}invalidate(){this.state.isInvalidated||te(this,ar,Fr).call(this,{type:"invalidate"})}fetch(e,r){var u,c,h,f;if(this.state.fetchStatus!=="idle"){if(this.state.dataUpdatedAt&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(E(this,Cn))return(u=E(this,Lt))==null||u.continueRetry(),E(this,Cn)}if(e&&te(this,Ms,cu).call(this,e),!this.options.queryFn){const v=E(this,Ve).find(y=>y.options.queryFn);v&&te(this,Ms,cu).call(this,v.options)}const n=new AbortController,i={queryKey:this.queryKey,meta:this.meta},s=v=>{Object.defineProperty(v,"signal",{enumerable:!0,get:()=>(q(this,mi,!0),n.signal)})};s(i);const o=()=>this.options.queryFn?(q(this,mi,!1),this.options.persister?this.options.persister(this.options.queryFn,i,this):this.options.queryFn(i)):Promise.reject(new Error(`Missing queryFn: '${this.options.queryHash}'`)),a={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};s(a),(c=this.options.behavior)==null||c.onFetch(a,this),q(this,As,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((h=a.fetchOptions)==null?void 0:h.meta))&&te(this,ar,Fr).call(this,{type:"fetch",meta:(f=a.fetchOptions)==null?void 0:f.meta});const l=v=>{var y,w,_,g;ef(v)&&v.silent||te(this,ar,Fr).call(this,{type:"error",error:v}),ef(v)||((w=(y=E(this,Bt).config).onError)==null||w.call(y,v,this),(g=(_=E(this,Bt).config).onSettled)==null||g.call(_,this.state.data,v,this)),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return q(this,Lt,Bb({fn:a.fetchFn,abort:n.abort.bind(n),onSuccess:v=>{var y,w,_,g;if(typeof v>"u"){l(new Error(`${this.queryHash} data is undefined`));return}this.setData(v),(w=(y=E(this,Bt).config).onSuccess)==null||w.call(y,v,this),(g=(_=E(this,Bt).config).onSettled)==null||g.call(_,v,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:l,onFail:(v,y)=>{te(this,ar,Fr).call(this,{type:"failed",failureCount:v,error:y})},onPause:()=>{te(this,ar,Fr).call(this,{type:"pause"})},onContinue:()=>{te(this,ar,Fr).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode})),q(this,Cn,E(this,Lt).promise),E(this,Cn)}},Rs=new WeakMap,As=new WeakMap,Bt=new WeakMap,Cn=new WeakMap,Lt=new WeakMap,Ve=new WeakMap,Va=new WeakMap,mi=new WeakMap,Ms=new WeakSet,cu=function(e){this.options={...E(this,Va),...e},this.updateGcTime(this.options.gcTime)},ar=new WeakSet,Fr=function(e){const r=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:e.meta??null,fetchStatus:Kc(this.options.networkMode)?"fetching":"paused",...!n.dataUpdatedAt&&{error:null,status:"pending"}};case"success":return{...n,data:e.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=e.error;return ef(i)&&i.revert&&E(this,As)?{...E(this,As),fetchStatus:"idle"}:{...n,error:i,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=r(this.state),Je.batch(()=>{E(this,Ve).forEach(n=>{n.onQueryUpdate()}),E(this,Bt).notify({query:this,type:"updated",action:e})})},mb);function XT(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=typeof e<"u",n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Cr,gb,JT=(gb=class extends sl{constructor(e={}){super();W(this,Cr,void 0);this.config=e,q(this,Cr,new Map)}build(e,r,n){const i=r.queryKey,s=r.queryHash??Ug(i,r);let o=this.get(s);return o||(o=new YT({cache:this,queryKey:i,queryHash:s,options:e.defaultQueryOptions(r),state:n,defaultOptions:e.getQueryDefaults(i)}),this.add(o)),o}add(e){E(this,Cr).has(e.queryHash)||(E(this,Cr).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const r=E(this,Cr).get(e.queryHash);r&&(e.destroy(),r===e&&E(this,Cr).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Je.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return E(this,Cr).get(e)}getAll(){return[...E(this,Cr).values()]}find(e){const r={exact:!0,...e};return this.getAll().find(n=>q0(r,n))}findAll(e={}){const r=this.getAll();return Object.keys(e).length>0?r.filter(n=>q0(e,n)):r}notify(e){Je.batch(()=>{this.listeners.forEach(r=>{r(e)})})}onFocus(){Je.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Je.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Cr=new WeakMap,gb),Er,Qa,Pt,Os,Tr,mn,yb,ZT=(yb=class extends Lb{constructor(e){super();W(this,Tr);W(this,Er,void 0);W(this,Qa,void 0);W(this,Pt,void 0);W(this,Os,void 0);this.mutationId=e.mutationId,q(this,Qa,e.defaultOptions),q(this,Pt,e.mutationCache),q(this,Er,[]),this.state=e.state||eP(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options={...E(this,Qa),...e},this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){E(this,Er).includes(e)||(E(this,Er).push(e),this.clearGcTimeout(),E(this,Pt).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){q(this,Er,E(this,Er).filter(r=>r!==e)),this.scheduleGc(),E(this,Pt).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){E(this,Er).length||(this.state.status==="pending"?this.scheduleGc():E(this,Pt).remove(this))}continue(){var e;return((e=E(this,Os))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var i,s,o,a,l,u,c,h,f,v,y,w,_,g,p,m,b,S,R,A;const r=()=>(q(this,Os,Bb({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(I,L)=>{te(this,Tr,mn).call(this,{type:"failed",failureCount:I,error:L})},onPause:()=>{te(this,Tr,mn).call(this,{type:"pause"})},onContinue:()=>{te(this,Tr,mn).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode})),E(this,Os).promise),n=this.state.status==="pending";try{if(!n){te(this,Tr,mn).call(this,{type:"pending",variables:e}),await((s=(i=E(this,Pt).config).onMutate)==null?void 0:s.call(i,e,this));const L=await((a=(o=this.options).onMutate)==null?void 0:a.call(o,e));L!==this.state.context&&te(this,Tr,mn).call(this,{type:"pending",context:L,variables:e})}const I=await r();return await((u=(l=E(this,Pt).config).onSuccess)==null?void 0:u.call(l,I,e,this.state.context,this)),await((h=(c=this.options).onSuccess)==null?void 0:h.call(c,I,e,this.state.context)),await((v=(f=E(this,Pt).config).onSettled)==null?void 0:v.call(f,I,null,this.state.variables,this.state.context,this)),await((w=(y=this.options).onSettled)==null?void 0:w.call(y,I,null,e,this.state.context)),te(this,Tr,mn).call(this,{type:"success",data:I}),I}catch(I){try{throw await((g=(_=E(this,Pt).config).onError)==null?void 0:g.call(_,I,e,this.state.context,this)),await((m=(p=this.options).onError)==null?void 0:m.call(p,I,e,this.state.context)),await((S=(b=E(this,Pt).config).onSettled)==null?void 0:S.call(b,void 0,I,this.state.variables,this.state.context,this)),await((A=(R=this.options).onSettled)==null?void 0:A.call(R,void 0,I,e,this.state.context)),I}finally{te(this,Tr,mn).call(this,{type:"error",error:I})}}}},Er=new WeakMap,Qa=new WeakMap,Pt=new WeakMap,Os=new WeakMap,Tr=new WeakSet,mn=function(e){const r=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:!Kc(this.options.networkMode),status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Je.batch(()=>{E(this,Er).forEach(n=>{n.onMutationUpdate(e)}),E(this,Pt).notify({mutation:this,type:"updated",action:e})})},yb);function eP(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Ut,Ka,gi,vb,tP=(vb=class extends sl{constructor(e={}){super();W(this,Ut,void 0);W(this,Ka,void 0);W(this,gi,void 0);this.config=e,q(this,Ut,[]),q(this,Ka,0)}build(e,r,n){const i=new ZT({mutationCache:this,mutationId:++El(this,Ka)._,options:e.defaultMutationOptions(r),state:n});return this.add(i),i}add(e){E(this,Ut).push(e),this.notify({type:"added",mutation:e})}remove(e){q(this,Ut,E(this,Ut).filter(r=>r!==e)),this.notify({type:"removed",mutation:e})}clear(){Je.batch(()=>{E(this,Ut).forEach(e=>{this.remove(e)})})}getAll(){return E(this,Ut)}find(e){const r={exact:!0,...e};return E(this,Ut).find(n=>j0(r,n))}findAll(e={}){return E(this,Ut).filter(r=>j0(e,r))}notify(e){Je.batch(()=>{this.listeners.forEach(r=>{r(e)})})}resumePausedMutations(){return q(this,gi,(E(this,gi)??Promise.resolve()).then(()=>{const e=E(this,Ut).filter(r=>r.state.isPaused);return Je.batch(()=>e.reduce((r,n)=>r.then(()=>n.continue().catch(Ft)),Promise.resolve()))}).then(()=>{q(this,gi,void 0)})),E(this,gi)}},Ut=new WeakMap,Ka=new WeakMap,gi=new WeakMap,vb);function Ip(t){return{onFetch:(e,r)=>{const n=async()=>{var y,w,_,g,p;const i=e.options,s=(_=(w=(y=e.fetchOptions)==null?void 0:y.meta)==null?void 0:w.fetchMore)==null?void 0:_.direction,o=((g=e.state.data)==null?void 0:g.pages)||[],a=((p=e.state.data)==null?void 0:p.pageParams)||[],l={pages:[],pageParams:[]};let u=!1;const c=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(e.signal.aborted?u=!0:e.signal.addEventListener("abort",()=>{u=!0}),e.signal)})},h=e.options.queryFn||(()=>Promise.reject(new Error(`Missing queryFn: '${e.options.queryHash}'`))),f=async(m,b,S)=>{if(u)return Promise.reject();if(b==null&&m.pages.length)return Promise.resolve(m);const R={queryKey:e.queryKey,pageParam:b,direction:S?"backward":"forward",meta:e.options.meta};c(R);const A=await h(R),{maxPages:I}=e.options,L=S?GT:zT;return{pages:L(m.pages,A,I),pageParams:L(m.pageParams,b,I)}};let v;if(s&&o.length){const m=s==="backward",b=m?Ub:kp,S={pages:o,pageParams:a},R=b(i,S);v=await f(S,R,m)}else{v=await f(l,a[0]??i.initialPageParam);const m=t??o.length;for(let b=1;b<m;b++){const S=kp(i,v);v=await f(v,S)}}return v};e.options.persister?e.fetchFn=()=>{var i,s;return(s=(i=e.options).persister)==null?void 0:s.call(i,n,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r)}:e.fetchFn=n}}}function kp(t,{pages:e,pageParams:r}){const n=e.length-1;return t.getNextPageParam(e[n],e,r[n],r)}function Ub(t,{pages:e,pageParams:r}){var n;return(n=t.getPreviousPageParam)==null?void 0:n.call(t,e[0],e,r[0],r)}function rP(t,e){return e?kp(t,e)!=null:!1}function nP(t,e){return!e||!t.getPreviousPageParam?!1:Ub(t,e)!=null}var ze,En,Tn,Ns,Ds,Pn,Bs,Ls,_b,iP=(_b=class{constructor(t={}){W(this,ze,void 0);W(this,En,void 0);W(this,Tn,void 0);W(this,Ns,void 0);W(this,Ds,void 0);W(this,Pn,void 0);W(this,Bs,void 0);W(this,Ls,void 0);q(this,ze,t.queryCache||new JT),q(this,En,t.mutationCache||new tP),q(this,Tn,t.defaultOptions||{}),q(this,Ns,new Map),q(this,Ds,new Map),q(this,Pn,0)}mount(){El(this,Pn)._++,E(this,Pn)===1&&(q(this,Bs,Au.subscribe(()=>{Au.isFocused()&&(this.resumePausedMutations(),E(this,ze).onFocus())})),q(this,Ls,Mu.subscribe(()=>{Mu.isOnline()&&(this.resumePausedMutations(),E(this,ze).onOnline())})))}unmount(){var t,e;El(this,Pn)._--,E(this,Pn)===0&&((t=E(this,Bs))==null||t.call(this),q(this,Bs,void 0),(e=E(this,Ls))==null||e.call(this),q(this,Ls,void 0))}isFetching(t){return E(this,ze).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return E(this,En).findAll({...t,status:"pending"}).length}getQueryData(t){var e;return(e=E(this,ze).find({queryKey:t}))==null?void 0:e.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);return e?Promise.resolve(e):this.fetchQuery(t)}getQueriesData(t){return this.getQueryCache().findAll(t).map(({queryKey:e,state:r})=>{const n=r.data;return[e,n]})}setQueryData(t,e,r){const n=E(this,ze).find({queryKey:t}),i=n==null?void 0:n.state.data,s=HT(e,i);if(typeof s>"u")return;const o=this.defaultQueryOptions({queryKey:t});return E(this,ze).build(this,o).setData(s,{...r,manual:!0})}setQueriesData(t,e,r){return Je.batch(()=>this.getQueryCache().findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,r)]))}getQueryState(t){var e;return(e=E(this,ze).find({queryKey:t}))==null?void 0:e.state}removeQueries(t){const e=E(this,ze);Je.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=E(this,ze),n={type:"active",...t};return Je.batch(()=>(r.findAll(t).forEach(i=>{i.reset()}),this.refetchQueries(n,e)))}cancelQueries(t={},e={}){const r={revert:!0,...e},n=Je.batch(()=>E(this,ze).findAll(t).map(i=>i.cancel(r)));return Promise.all(n).then(Ft).catch(Ft)}invalidateQueries(t={},e={}){return Je.batch(()=>{if(E(this,ze).findAll(t).forEach(n=>{n.invalidate()}),t.refetchType==="none")return Promise.resolve();const r={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(r,e)})}refetchQueries(t={},e){const r={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},n=Je.batch(()=>E(this,ze).findAll(t).filter(i=>!i.isDisabled()).map(i=>{let s=i.fetch(void 0,r);return r.throwOnError||(s=s.catch(Ft)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(n).then(Ft)}fetchQuery(t){const e=this.defaultQueryOptions(t);typeof e.retry>"u"&&(e.retry=!1);const r=E(this,ze).build(this,e);return r.isStaleByTime(e.staleTime)?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Ft).catch(Ft)}fetchInfiniteQuery(t){return t.behavior=Ip(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Ft).catch(Ft)}resumePausedMutations(){return E(this,En).resumePausedMutations()}getQueryCache(){return E(this,ze)}getMutationCache(){return E(this,En)}getDefaultOptions(){return E(this,Tn)}setDefaultOptions(t){q(this,Tn,t)}setQueryDefaults(t,e){E(this,Ns).set(Yo(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...E(this,Ns).values()];let r={};return e.forEach(n=>{Xo(t,n.queryKey)&&(r={...r,...n.defaultOptions})}),r}setMutationDefaults(t,e){E(this,Ds).set(Yo(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...E(this,Ds).values()];let r={};return e.forEach(n=>{Xo(t,n.mutationKey)&&(r={...r,...n.defaultOptions})}),r}defaultQueryOptions(t){if(t!=null&&t._defaulted)return t;const e={...E(this,Tn).queries,...(t==null?void 0:t.queryKey)&&this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Ug(e.queryKey,e)),typeof e.refetchOnReconnect>"u"&&(e.refetchOnReconnect=e.networkMode!=="always"),typeof e.throwOnError>"u"&&(e.throwOnError=!!e.suspense),typeof e.networkMode>"u"&&e.persister&&(e.networkMode="offlineFirst"),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...E(this,Tn).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){E(this,ze).clear(),E(this,En).clear()}},ze=new WeakMap,En=new WeakMap,Tn=new WeakMap,Ns=new WeakMap,Ds=new WeakMap,Pn=new WeakMap,Bs=new WeakMap,Ls=new WeakMap,_b),mt,Se,Us,st,yi,Fs,Pr,Ya,$s,qs,vi,_i,In,wi,bi,Po,Xa,Rp,Ja,Ap,Za,Mp,el,Op,tl,Np,rl,Dp,nl,Bp,Wc,$b,wb,Fb=(wb=class extends sl{constructor(e,r){super();W(this,bi);W(this,Xa);W(this,Ja);W(this,Za);W(this,el);W(this,tl);W(this,rl);W(this,nl);W(this,Wc);W(this,mt,void 0);W(this,Se,void 0);W(this,Us,void 0);W(this,st,void 0);W(this,yi,void 0);W(this,Fs,void 0);W(this,Pr,void 0);W(this,Ya,void 0);W(this,$s,void 0);W(this,qs,void 0);W(this,vi,void 0);W(this,_i,void 0);W(this,In,void 0);W(this,wi,void 0);q(this,Se,void 0),q(this,Us,void 0),q(this,st,void 0),q(this,wi,new Set),q(this,mt,e),this.options=r,q(this,Pr,null),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(E(this,Se).addObserver(this),W0(E(this,Se),this.options)&&te(this,bi,Po).call(this),te(this,el,Op).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Lp(E(this,Se),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Lp(E(this,Se),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,te(this,tl,Np).call(this),te(this,rl,Dp).call(this),E(this,Se).removeObserver(this)}setOptions(e,r){const n=this.options,i=E(this,Se);if(this.options=E(this,mt).defaultQueryOptions(e),Ep(n,this.options)||E(this,mt).getQueryCache().notify({type:"observerOptionsUpdated",query:E(this,Se),observer:this}),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=n.queryKey),te(this,nl,Bp).call(this);const s=this.hasListeners();s&&V0(E(this,Se),i,this.options,n)&&te(this,bi,Po).call(this),this.updateResult(r),s&&(E(this,Se)!==i||this.options.enabled!==n.enabled||this.options.staleTime!==n.staleTime)&&te(this,Xa,Rp).call(this);const o=te(this,Ja,Ap).call(this);s&&(E(this,Se)!==i||this.options.enabled!==n.enabled||o!==E(this,In))&&te(this,Za,Mp).call(this,o)}getOptimisticResult(e){const r=E(this,mt).getQueryCache().build(E(this,mt),e),n=this.createResult(r,e);return oP(this,n)&&(q(this,st,n),q(this,Fs,this.options),q(this,yi,E(this,Se).state)),n}getCurrentResult(){return E(this,st)}trackResult(e){const r={};return Object.keys(e).forEach(n=>{Object.defineProperty(r,n,{configurable:!1,enumerable:!0,get:()=>(E(this,wi).add(n),e[n])})}),r}getCurrentQuery(){return E(this,Se)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const r=E(this,mt).defaultQueryOptions(e),n=E(this,mt).getQueryCache().build(E(this,mt),r);return n.isFetchingOptimistic=!0,n.fetch().then(()=>this.createResult(n,r))}fetch(e){return te(this,bi,Po).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),E(this,st)))}createResult(e,r){var R;const n=E(this,Se),i=this.options,s=E(this,st),o=E(this,yi),a=E(this,Fs),u=e!==n?e.state:E(this,Us),{state:c}=e;let{error:h,errorUpdatedAt:f,fetchStatus:v,status:y}=c,w=!1,_;if(r._optimisticResults){const A=this.hasListeners(),I=!A&&W0(e,r),L=A&&V0(e,n,r,i);(I||L)&&(v=Kc(e.options.networkMode)?"fetching":"paused",c.dataUpdatedAt||(y="pending")),r._optimisticResults==="isRestoring"&&(v="idle")}if(r.select&&typeof c.data<"u")if(s&&c.data===(o==null?void 0:o.data)&&r.select===E(this,Ya))_=E(this,$s);else try{q(this,Ya,r.select),_=r.select(c.data),_=Pp(s==null?void 0:s.data,_,r),q(this,$s,_),q(this,Pr,null)}catch(A){q(this,Pr,A)}else _=c.data;if(typeof r.placeholderData<"u"&&typeof _>"u"&&y==="pending"){let A;if(s!=null&&s.isPlaceholderData&&r.placeholderData===(a==null?void 0:a.placeholderData))A=s.data;else if(A=typeof r.placeholderData=="function"?r.placeholderData((R=E(this,qs))==null?void 0:R.state.data,E(this,qs)):r.placeholderData,r.select&&typeof A<"u")try{A=r.select(A),q(this,Pr,null)}catch(I){q(this,Pr,I)}typeof A<"u"&&(y="success",_=Pp(s==null?void 0:s.data,A,r),w=!0)}E(this,Pr)&&(h=E(this,Pr),_=E(this,$s),f=Date.now(),y="error");const g=v==="fetching",p=y==="pending",m=y==="error",b=p&&g;return{status:y,fetchStatus:v,isPending:p,isSuccess:y==="success",isError:m,isInitialLoading:b,isLoading:b,data:_,dataUpdatedAt:c.dataUpdatedAt,error:h,errorUpdatedAt:f,failureCount:c.fetchFailureCount,failureReason:c.fetchFailureReason,errorUpdateCount:c.errorUpdateCount,isFetched:c.dataUpdateCount>0||c.errorUpdateCount>0,isFetchedAfterMount:c.dataUpdateCount>u.dataUpdateCount||c.errorUpdateCount>u.errorUpdateCount,isFetching:g,isRefetching:g&&!p,isLoadingError:m&&c.dataUpdatedAt===0,isPaused:v==="paused",isPlaceholderData:w,isRefetchError:m&&c.dataUpdatedAt!==0,isStale:Fg(e,r),refetch:this.refetch}}updateResult(e){const r=E(this,st),n=this.createResult(E(this,Se),this.options);if(q(this,yi,E(this,Se).state),q(this,Fs,this.options),Ep(n,r))return;E(this,yi).data!==void 0&&q(this,qs,E(this,Se)),q(this,st,n);const i={},s=()=>{if(!r)return!0;const{notifyOnChangeProps:o}=this.options,a=typeof o=="function"?o():o;if(a==="all"||!a&&!E(this,wi).size)return!0;const l=new Set(a??E(this,wi));return this.options.throwOnError&&l.add("error"),Object.keys(E(this,st)).some(u=>{const c=u;return E(this,st)[c]!==r[c]&&l.has(c)})};(e==null?void 0:e.listeners)!==!1&&s()&&(i.listeners=!0),te(this,Wc,$b).call(this,{...i,...e})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&te(this,el,Op).call(this)}},mt=new WeakMap,Se=new WeakMap,Us=new WeakMap,st=new WeakMap,yi=new WeakMap,Fs=new WeakMap,Pr=new WeakMap,Ya=new WeakMap,$s=new WeakMap,qs=new WeakMap,vi=new WeakMap,_i=new WeakMap,In=new WeakMap,wi=new WeakMap,bi=new WeakSet,Po=function(e){te(this,nl,Bp).call(this);let r=E(this,Se).fetch(this.options,e);return e!=null&&e.throwOnError||(r=r.catch(Ft)),r},Xa=new WeakSet,Rp=function(){if(te(this,tl,Np).call(this),js||E(this,st).isStale||!Cp(this.options.staleTime))return;const r=Mb(E(this,st).dataUpdatedAt,this.options.staleTime)+1;q(this,vi,setTimeout(()=>{E(this,st).isStale||this.updateResult()},r))},Ja=new WeakSet,Ap=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(E(this,Se)):this.options.refetchInterval)??!1},Za=new WeakSet,Mp=function(e){te(this,rl,Dp).call(this),q(this,In,e),!(js||this.options.enabled===!1||!Cp(E(this,In))||E(this,In)===0)&&q(this,_i,setInterval(()=>{(this.options.refetchIntervalInBackground||Au.isFocused())&&te(this,bi,Po).call(this)},E(this,In)))},el=new WeakSet,Op=function(){te(this,Xa,Rp).call(this),te(this,Za,Mp).call(this,te(this,Ja,Ap).call(this))},tl=new WeakSet,Np=function(){E(this,vi)&&(clearTimeout(E(this,vi)),q(this,vi,void 0))},rl=new WeakSet,Dp=function(){E(this,_i)&&(clearInterval(E(this,_i)),q(this,_i,void 0))},nl=new WeakSet,Bp=function(){const e=E(this,mt).getQueryCache().build(E(this,mt),this.options);if(e===E(this,Se))return;const r=E(this,Se);q(this,Se,e),q(this,Us,e.state),this.hasListeners()&&(r==null||r.removeObserver(this),e.addObserver(this))},Wc=new WeakSet,$b=function(e){Je.batch(()=>{e.listeners&&this.listeners.forEach(r=>{r(E(this,st))}),E(this,mt).getQueryCache().notify({query:E(this,Se),type:"observerResultsUpdated"})})},wb);function sP(t,e){return e.enabled!==!1&&!t.state.dataUpdatedAt&&!(t.state.status==="error"&&e.retryOnMount===!1)}function W0(t,e){return sP(t,e)||t.state.dataUpdatedAt>0&&Lp(t,e,e.refetchOnMount)}function Lp(t,e,r){if(e.enabled!==!1){const n=typeof r=="function"?r(t):r;return n==="always"||n!==!1&&Fg(t,e)}return!1}function V0(t,e,r,n){return r.enabled!==!1&&(t!==e||n.enabled===!1)&&(!r.suspense||t.state.status!=="error")&&Fg(t,r)}function Fg(t,e){return t.isStaleByTime(e.staleTime)}function oP(t,e){return!Ep(t.getCurrentResult(),e)}var aP=class extends Fb{constructor(t,e){super(t,e)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(t,e){super.setOptions({...t,behavior:Ip()},e)}getOptimisticResult(t){return t.behavior=Ip(),super.getOptimisticResult(t)}fetchNextPage(t){return this.fetch({...t,meta:{fetchMore:{direction:"forward"}}})}fetchPreviousPage(t){return this.fetch({...t,meta:{fetchMore:{direction:"backward"}}})}createResult(t,e){var l,u,c,h;const{state:r}=t,n=super.createResult(t,e),{isFetching:i,isRefetching:s}=n,o=i&&((u=(l=r.fetchMeta)==null?void 0:l.fetchMore)==null?void 0:u.direction)==="forward",a=i&&((h=(c=r.fetchMeta)==null?void 0:c.fetchMore)==null?void 0:h.direction)==="backward";return{...n,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:rP(e,r.data),hasPreviousPage:nP(e,r.data),isFetchingNextPage:o,isFetchingPreviousPage:a,isRefetching:s&&!o&&!a}}},qb=j.createContext(void 0),Yc=t=>{const e=j.useContext(qb);if(t)return t;if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},lP=({client:t,children:e})=>(j.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),j.createElement(qb.Provider,{value:t},e)),jb=j.createContext(!1),uP=()=>j.useContext(jb);jb.Provider;function cP(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var dP=j.createContext(cP()),fP=()=>j.useContext(dP);function hP(t,e){return typeof t=="function"?t(...e):!!t}var pP=(t,e)=>{(t.suspense||t.throwOnError)&&(e.isReset()||(t.retryOnMount=!1))},mP=t=>{j.useEffect(()=>{t.clearReset()},[t])},gP=({result:t,errorResetBoundary:e,throwOnError:r,query:n})=>t.isError&&!e.isReset()&&!t.isFetching&&hP(r,[t.error,n]),yP=t=>{t.suspense&&typeof t.staleTime!="number"&&(t.staleTime=1e3)},vP=(t,e)=>t.isLoading&&t.isFetching&&!e,_P=(t,e,r)=>(t==null?void 0:t.suspense)&&vP(e,r),wP=(t,e,r)=>e.fetchOptimistic(t).catch(()=>{r.clearReset()});function Hb(t,e,r){const n=Yc(r),i=uP(),s=fP(),o=n.defaultQueryOptions(t);o._optimisticResults=i?"isRestoring":"optimistic",yP(o),pP(o,s),mP(s);const[a]=j.useState(()=>new e(n,o)),l=a.getOptimisticResult(o);if(j.useSyncExternalStore(j.useCallback(u=>{const c=i?()=>{}:a.subscribe(Je.batchCalls(u));return a.updateResult(),c},[a,i]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),j.useEffect(()=>{a.setOptions(o,{listeners:!1})},[o,a]),_P(o,l,i))throw wP(o,a,s);if(gP({result:l,errorResetBoundary:s,throwOnError:o.throwOnError,query:a.getCurrentQuery()}))throw l.error;return o.notifyOnChangeProps?l:a.trackResult(l)}function tr(t,e){return Hb(t,Fb,e)}function bP(t,e){return Hb(t,aP,e)}var Up={},zb={exports:{}},Nt={},Gb={exports:{}},Wb={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(U,$){var K=U.length;U.push($);e:for(;0<K;){var ae=K-1>>>1,we=U[ae];if(0<i(we,$))U[ae]=$,U[K]=we,K=ae;else break e}}function r(U){return U.length===0?null:U[0]}function n(U){if(U.length===0)return null;var $=U[0],K=U.pop();if(K!==$){U[0]=K;e:for(var ae=0,we=U.length,tn=we>>>1;ae<tn;){var xt=2*(ae+1)-1,yr=U[xt],vr=xt+1,Hi=U[vr];if(0>i(yr,K))vr<we&&0>i(Hi,yr)?(U[ae]=Hi,U[vr]=K,ae=vr):(U[ae]=yr,U[xt]=K,ae=xt);else if(vr<we&&0>i(Hi,K))U[ae]=Hi,U[vr]=K,ae=vr;else break e}}return $}function i(U,$){var K=U.sortIndex-$.sortIndex;return K!==0?K:U.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,h=null,f=3,v=!1,y=!1,w=!1,_=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(U){for(var $=r(u);$!==null;){if($.callback===null)n(u);else if($.startTime<=U)n(u),$.sortIndex=$.expirationTime,e(l,$);else break;$=r(u)}}function b(U){if(w=!1,m(U),!y)if(r(l)!==null)y=!0,V(S);else{var $=r(u);$!==null&&ge(b,$.startTime-U)}}function S(U,$){y=!1,w&&(w=!1,g(I),I=-1),v=!0;var K=f;try{for(m($),h=r(l);h!==null&&(!(h.expirationTime>$)||U&&!X());){var ae=h.callback;if(typeof ae=="function"){h.callback=null,f=h.priorityLevel;var we=ae(h.expirationTime<=$);$=t.unstable_now(),typeof we=="function"?h.callback=we:h===r(l)&&n(l),m($)}else n(l);h=r(l)}if(h!==null)var tn=!0;else{var xt=r(u);xt!==null&&ge(b,xt.startTime-$),tn=!1}return tn}finally{h=null,f=K,v=!1}}var R=!1,A=null,I=-1,L=5,H=-1;function X(){return!(t.unstable_now()-H<L)}function _e(){if(A!==null){var U=t.unstable_now();H=U;var $=!0;try{$=A(!0,U)}finally{$?me():(R=!1,A=null)}}else R=!1}var me;if(typeof p=="function")me=function(){p(_e)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,N=P.port2;P.port1.onmessage=_e,me=function(){N.postMessage(null)}}else me=function(){_(_e,0)};function V(U){A=U,R||(R=!0,me())}function ge(U,$){I=_(function(){U(t.unstable_now())},$)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(U){U.callback=null},t.unstable_continueExecution=function(){y||v||(y=!0,V(S))},t.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<U?Math.floor(1e3/U):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(U){switch(f){case 1:case 2:case 3:var $=3;break;default:$=f}var K=f;f=$;try{return U()}finally{f=K}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(U,$){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var K=f;f=U;try{return $()}finally{f=K}},t.unstable_scheduleCallback=function(U,$,K){var ae=t.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?ae+K:ae):K=ae,U){case 1:var we=-1;break;case 2:we=250;break;case 5:we=1073741823;break;case 4:we=1e4;break;default:we=5e3}return we=K+we,U={id:c++,callback:$,priorityLevel:U,startTime:K,expirationTime:we,sortIndex:-1},K>ae?(U.sortIndex=K,e(u,U),r(l)===null&&U===r(u)&&(w?(g(I),I=-1):w=!0,ge(b,K-ae))):(U.sortIndex=we,e(l,U),y||v||(y=!0,V(S))),U},t.unstable_shouldYield=X,t.unstable_wrapCallback=function(U){var $=f;return function(){var K=f;f=$;try{return U.apply(this,arguments)}finally{f=K}}}})(Wb);Gb.exports=Wb;var SP=Gb.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vb=j,Ot=SP;function B(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Qb=new Set,Jo={};function Fi(t,e){Hs(t,e),Hs(t+"Capture",e)}function Hs(t,e){for(Jo[t]=e,t=0;t<e.length;t++)Qb.add(e[t])}var Vr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fp=Object.prototype.hasOwnProperty,xP=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Q0={},K0={};function CP(t){return Fp.call(K0,t)?!0:Fp.call(Q0,t)?!1:xP.test(t)?K0[t]=!0:(Q0[t]=!0,!1)}function EP(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function TP(t,e,r,n){if(e===null||typeof e>"u"||EP(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ft(t,e,r,n,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var et={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){et[t]=new ft(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];et[e]=new ft(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){et[t]=new ft(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){et[t]=new ft(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){et[t]=new ft(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){et[t]=new ft(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){et[t]=new ft(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){et[t]=new ft(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){et[t]=new ft(t,5,!1,t.toLowerCase(),null,!1,!1)});var $g=/[\-:]([a-z])/g;function qg(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace($g,qg);et[e]=new ft(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace($g,qg);et[e]=new ft(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace($g,qg);et[e]=new ft(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){et[t]=new ft(t,1,!1,t.toLowerCase(),null,!1,!1)});et.xlinkHref=new ft("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){et[t]=new ft(t,1,!1,t.toLowerCase(),null,!0,!0)});function jg(t,e,r,n){var i=et.hasOwnProperty(e)?et[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(TP(e,r,i,n)&&(r=null),n||i===null?CP(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Jr=Vb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Pl=Symbol.for("react.element"),ts=Symbol.for("react.portal"),rs=Symbol.for("react.fragment"),Hg=Symbol.for("react.strict_mode"),$p=Symbol.for("react.profiler"),Kb=Symbol.for("react.provider"),Yb=Symbol.for("react.context"),zg=Symbol.for("react.forward_ref"),qp=Symbol.for("react.suspense"),jp=Symbol.for("react.suspense_list"),Gg=Symbol.for("react.memo"),gn=Symbol.for("react.lazy"),Xb=Symbol.for("react.offscreen"),Y0=Symbol.iterator;function po(t){return t===null||typeof t!="object"?null:(t=Y0&&t[Y0]||t["@@iterator"],typeof t=="function"?t:null)}var Me=Object.assign,tf;function Io(t){if(tf===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);tf=e&&e[1]||""}return`
`+tf+t}var rf=!1;function nf(t,e){if(!t||rf)return"";rf=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=n.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{rf=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Io(t):""}function PP(t){switch(t.tag){case 5:return Io(t.type);case 16:return Io("Lazy");case 13:return Io("Suspense");case 19:return Io("SuspenseList");case 0:case 2:case 15:return t=nf(t.type,!1),t;case 11:return t=nf(t.type.render,!1),t;case 1:return t=nf(t.type,!0),t;default:return""}}function Hp(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case rs:return"Fragment";case ts:return"Portal";case $p:return"Profiler";case Hg:return"StrictMode";case qp:return"Suspense";case jp:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Yb:return(t.displayName||"Context")+".Consumer";case Kb:return(t._context.displayName||"Context")+".Provider";case zg:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Gg:return e=t.displayName||null,e!==null?e:Hp(t.type)||"Memo";case gn:e=t._payload,t=t._init;try{return Hp(t(e))}catch{}}return null}function IP(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Hp(e);case 8:return e===Hg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Hn(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Jb(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function kP(t){var e=Jb(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Il(t){t._valueTracker||(t._valueTracker=kP(t))}function Zb(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=Jb(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Ou(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function zp(t,e){var r=e.checked;return Me({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function X0(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Hn(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function eS(t,e){e=e.checked,e!=null&&jg(t,"checked",e,!1)}function Gp(t,e){eS(t,e);var r=Hn(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Wp(t,e.type,r):e.hasOwnProperty("defaultValue")&&Wp(t,e.type,Hn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function J0(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function Wp(t,e,r){(e!=="number"||Ou(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var ko=Array.isArray;function ms(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Hn(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Vp(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(B(91));return Me({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Z0(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(B(92));if(ko(r)){if(1<r.length)throw Error(B(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Hn(r)}}function tS(t,e){var r=Hn(e.value),n=Hn(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function ev(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function rS(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Qp(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?rS(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var kl,nS=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(kl=kl||document.createElement("div"),kl.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=kl.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Zo(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var No={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},RP=["Webkit","ms","Moz","O"];Object.keys(No).forEach(function(t){RP.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),No[e]=No[t]})});function iS(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||No.hasOwnProperty(t)&&No[t]?(""+e).trim():e+"px"}function sS(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=iS(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var AP=Me({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Kp(t,e){if(e){if(AP[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(B(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(B(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(B(61))}if(e.style!=null&&typeof e.style!="object")throw Error(B(62))}}function Yp(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xp=null;function Wg(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Jp=null,gs=null,ys=null;function tv(t){if(t=ll(t)){if(typeof Jp!="function")throw Error(B(280));var e=t.stateNode;e&&(e=td(e),Jp(t.stateNode,t.type,e))}}function oS(t){gs?ys?ys.push(t):ys=[t]:gs=t}function aS(){if(gs){var t=gs,e=ys;if(ys=gs=null,tv(t),e)for(t=0;t<e.length;t++)tv(e[t])}}function lS(t,e){return t(e)}function uS(){}var sf=!1;function cS(t,e,r){if(sf)return t(e,r);sf=!0;try{return lS(t,e,r)}finally{sf=!1,(gs!==null||ys!==null)&&(uS(),aS())}}function ea(t,e){var r=t.stateNode;if(r===null)return null;var n=td(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(B(231,e,typeof r));return r}var Zp=!1;if(Vr)try{var mo={};Object.defineProperty(mo,"passive",{get:function(){Zp=!0}}),window.addEventListener("test",mo,mo),window.removeEventListener("test",mo,mo)}catch{Zp=!1}function MP(t,e,r,n,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(c){this.onError(c)}}var Do=!1,Nu=null,Du=!1,em=null,OP={onError:function(t){Do=!0,Nu=t}};function NP(t,e,r,n,i,s,o,a,l){Do=!1,Nu=null,MP.apply(OP,arguments)}function DP(t,e,r,n,i,s,o,a,l){if(NP.apply(this,arguments),Do){if(Do){var u=Nu;Do=!1,Nu=null}else throw Error(B(198));Du||(Du=!0,em=u)}}function $i(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function dS(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function rv(t){if($i(t)!==t)throw Error(B(188))}function BP(t){var e=t.alternate;if(!e){if(e=$i(t),e===null)throw Error(B(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return rv(i),t;if(s===n)return rv(i),e;s=s.sibling}throw Error(B(188))}if(r.return!==n.return)r=i,n=s;else{for(var o=!1,a=i.child;a;){if(a===r){o=!0,r=i,n=s;break}if(a===n){o=!0,n=i,r=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===r){o=!0,r=s,n=i;break}if(a===n){o=!0,n=s,r=i;break}a=a.sibling}if(!o)throw Error(B(189))}}if(r.alternate!==n)throw Error(B(190))}if(r.tag!==3)throw Error(B(188));return r.stateNode.current===r?t:e}function fS(t){return t=BP(t),t!==null?hS(t):null}function hS(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=hS(t);if(e!==null)return e;t=t.sibling}return null}var pS=Ot.unstable_scheduleCallback,nv=Ot.unstable_cancelCallback,LP=Ot.unstable_shouldYield,UP=Ot.unstable_requestPaint,Be=Ot.unstable_now,FP=Ot.unstable_getCurrentPriorityLevel,Vg=Ot.unstable_ImmediatePriority,mS=Ot.unstable_UserBlockingPriority,Bu=Ot.unstable_NormalPriority,$P=Ot.unstable_LowPriority,gS=Ot.unstable_IdlePriority,Xc=null,Ar=null;function qP(t){if(Ar&&typeof Ar.onCommitFiberRoot=="function")try{Ar.onCommitFiberRoot(Xc,t,void 0,(t.current.flags&128)===128)}catch{}}var fr=Math.clz32?Math.clz32:zP,jP=Math.log,HP=Math.LN2;function zP(t){return t>>>=0,t===0?32:31-(jP(t)/HP|0)|0}var Rl=64,Al=4194304;function Ro(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Lu(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,s=t.pingedLanes,o=r&268435455;if(o!==0){var a=o&~i;a!==0?n=Ro(a):(s&=o,s!==0&&(n=Ro(s)))}else o=r&~i,o!==0?n=Ro(o):s!==0&&(n=Ro(s));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-fr(e),i=1<<r,n|=t[r],e&=~i;return n}function GP(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function WP(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-fr(s),a=1<<o,l=i[o];l===-1?(!(a&r)||a&n)&&(i[o]=GP(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function tm(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function yS(){var t=Rl;return Rl<<=1,!(Rl&4194240)&&(Rl=64),t}function of(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function ol(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-fr(e),t[e]=r}function VP(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-fr(r),s=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~s}}function Qg(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-fr(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var ve=0;function vS(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var _S,Kg,wS,bS,SS,rm=!1,Ml=[],On=null,Nn=null,Dn=null,ta=new Map,ra=new Map,vn=[],QP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function iv(t,e){switch(t){case"focusin":case"focusout":On=null;break;case"dragenter":case"dragleave":Nn=null;break;case"mouseover":case"mouseout":Dn=null;break;case"pointerover":case"pointerout":ta.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ra.delete(e.pointerId)}}function go(t,e,r,n,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},e!==null&&(e=ll(e),e!==null&&Kg(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function KP(t,e,r,n,i){switch(e){case"focusin":return On=go(On,t,e,r,n,i),!0;case"dragenter":return Nn=go(Nn,t,e,r,n,i),!0;case"mouseover":return Dn=go(Dn,t,e,r,n,i),!0;case"pointerover":var s=i.pointerId;return ta.set(s,go(ta.get(s)||null,t,e,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,ra.set(s,go(ra.get(s)||null,t,e,r,n,i)),!0}return!1}function xS(t){var e=ai(t.target);if(e!==null){var r=$i(e);if(r!==null){if(e=r.tag,e===13){if(e=dS(r),e!==null){t.blockedOn=e,SS(t.priority,function(){wS(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function du(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=nm(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);Xp=n,r.target.dispatchEvent(n),Xp=null}else return e=ll(r),e!==null&&Kg(e),t.blockedOn=r,!1;e.shift()}return!0}function sv(t,e,r){du(t)&&r.delete(e)}function YP(){rm=!1,On!==null&&du(On)&&(On=null),Nn!==null&&du(Nn)&&(Nn=null),Dn!==null&&du(Dn)&&(Dn=null),ta.forEach(sv),ra.forEach(sv)}function yo(t,e){t.blockedOn===e&&(t.blockedOn=null,rm||(rm=!0,Ot.unstable_scheduleCallback(Ot.unstable_NormalPriority,YP)))}function na(t){function e(i){return yo(i,t)}if(0<Ml.length){yo(Ml[0],t);for(var r=1;r<Ml.length;r++){var n=Ml[r];n.blockedOn===t&&(n.blockedOn=null)}}for(On!==null&&yo(On,t),Nn!==null&&yo(Nn,t),Dn!==null&&yo(Dn,t),ta.forEach(e),ra.forEach(e),r=0;r<vn.length;r++)n=vn[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<vn.length&&(r=vn[0],r.blockedOn===null);)xS(r),r.blockedOn===null&&vn.shift()}var vs=Jr.ReactCurrentBatchConfig,Uu=!0;function XP(t,e,r,n){var i=ve,s=vs.transition;vs.transition=null;try{ve=1,Yg(t,e,r,n)}finally{ve=i,vs.transition=s}}function JP(t,e,r,n){var i=ve,s=vs.transition;vs.transition=null;try{ve=4,Yg(t,e,r,n)}finally{ve=i,vs.transition=s}}function Yg(t,e,r,n){if(Uu){var i=nm(t,e,r,n);if(i===null)gf(t,e,n,Fu,r),iv(t,n);else if(KP(i,t,e,r,n))n.stopPropagation();else if(iv(t,n),e&4&&-1<QP.indexOf(t)){for(;i!==null;){var s=ll(i);if(s!==null&&_S(s),s=nm(t,e,r,n),s===null&&gf(t,e,n,Fu,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else gf(t,e,n,null,r)}}var Fu=null;function nm(t,e,r,n){if(Fu=null,t=Wg(n),t=ai(t),t!==null)if(e=$i(t),e===null)t=null;else if(r=e.tag,r===13){if(t=dS(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Fu=t,null}function CS(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(FP()){case Vg:return 1;case mS:return 4;case Bu:case $P:return 16;case gS:return 536870912;default:return 16}default:return 16}}var kn=null,Xg=null,fu=null;function ES(){if(fu)return fu;var t,e=Xg,r=e.length,n,i="value"in kn?kn.value:kn.textContent,s=i.length;for(t=0;t<r&&e[t]===i[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===i[s-n];n++);return fu=i.slice(t,1<n?1-n:void 0)}function hu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ol(){return!0}function ov(){return!1}function Dt(t){function e(r,n,i,s,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(r=t[a],this[a]=r?r(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Ol:ov,this.isPropagationStopped=ov,this}return Me(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Ol)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Ol)},persist:function(){},isPersistent:Ol}),e}var ro={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Jg=Dt(ro),al=Me({},ro,{view:0,detail:0}),ZP=Dt(al),af,lf,vo,Jc=Me({},al,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zg,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==vo&&(vo&&t.type==="mousemove"?(af=t.screenX-vo.screenX,lf=t.screenY-vo.screenY):lf=af=0,vo=t),af)},movementY:function(t){return"movementY"in t?t.movementY:lf}}),av=Dt(Jc),eI=Me({},Jc,{dataTransfer:0}),tI=Dt(eI),rI=Me({},al,{relatedTarget:0}),uf=Dt(rI),nI=Me({},ro,{animationName:0,elapsedTime:0,pseudoElement:0}),iI=Dt(nI),sI=Me({},ro,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),oI=Dt(sI),aI=Me({},ro,{data:0}),lv=Dt(aI),lI={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},uI={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cI={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dI(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=cI[t])?!!e[t]:!1}function Zg(){return dI}var fI=Me({},al,{key:function(t){if(t.key){var e=lI[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=hu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?uI[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zg,charCode:function(t){return t.type==="keypress"?hu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?hu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),hI=Dt(fI),pI=Me({},Jc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),uv=Dt(pI),mI=Me({},al,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zg}),gI=Dt(mI),yI=Me({},ro,{propertyName:0,elapsedTime:0,pseudoElement:0}),vI=Dt(yI),_I=Me({},Jc,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),wI=Dt(_I),bI=[9,13,27,32],ey=Vr&&"CompositionEvent"in window,Bo=null;Vr&&"documentMode"in document&&(Bo=document.documentMode);var SI=Vr&&"TextEvent"in window&&!Bo,TS=Vr&&(!ey||Bo&&8<Bo&&11>=Bo),cv=String.fromCharCode(32),dv=!1;function PS(t,e){switch(t){case"keyup":return bI.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function IS(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ns=!1;function xI(t,e){switch(t){case"compositionend":return IS(e);case"keypress":return e.which!==32?null:(dv=!0,cv);case"textInput":return t=e.data,t===cv&&dv?null:t;default:return null}}function CI(t,e){if(ns)return t==="compositionend"||!ey&&PS(t,e)?(t=ES(),fu=Xg=kn=null,ns=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return TS&&e.locale!=="ko"?null:e.data;default:return null}}var EI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!EI[t.type]:e==="textarea"}function kS(t,e,r,n){oS(n),e=$u(e,"onChange"),0<e.length&&(r=new Jg("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Lo=null,ia=null;function TI(t){$S(t,0)}function Zc(t){var e=os(t);if(Zb(e))return t}function PI(t,e){if(t==="change")return e}var RS=!1;if(Vr){var cf;if(Vr){var df="oninput"in document;if(!df){var hv=document.createElement("div");hv.setAttribute("oninput","return;"),df=typeof hv.oninput=="function"}cf=df}else cf=!1;RS=cf&&(!document.documentMode||9<document.documentMode)}function pv(){Lo&&(Lo.detachEvent("onpropertychange",AS),ia=Lo=null)}function AS(t){if(t.propertyName==="value"&&Zc(ia)){var e=[];kS(e,ia,t,Wg(t)),cS(TI,e)}}function II(t,e,r){t==="focusin"?(pv(),Lo=e,ia=r,Lo.attachEvent("onpropertychange",AS)):t==="focusout"&&pv()}function kI(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Zc(ia)}function RI(t,e){if(t==="click")return Zc(e)}function AI(t,e){if(t==="input"||t==="change")return Zc(e)}function MI(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var mr=typeof Object.is=="function"?Object.is:MI;function sa(t,e){if(mr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!Fp.call(e,i)||!mr(t[i],e[i]))return!1}return!0}function mv(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function gv(t,e){var r=mv(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=mv(r)}}function MS(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?MS(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function OS(){for(var t=window,e=Ou();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Ou(t.document)}return e}function ty(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function OI(t){var e=OS(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&MS(r.ownerDocument.documentElement,r)){if(n!==null&&ty(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!t.extend&&s>n&&(i=n,n=s,s=i),i=gv(r,s);var o=gv(r,n);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var NI=Vr&&"documentMode"in document&&11>=document.documentMode,is=null,im=null,Uo=null,sm=!1;function yv(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;sm||is==null||is!==Ou(n)||(n=is,"selectionStart"in n&&ty(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Uo&&sa(Uo,n)||(Uo=n,n=$u(im,"onSelect"),0<n.length&&(e=new Jg("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=is)))}function Nl(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var ss={animationend:Nl("Animation","AnimationEnd"),animationiteration:Nl("Animation","AnimationIteration"),animationstart:Nl("Animation","AnimationStart"),transitionend:Nl("Transition","TransitionEnd")},ff={},NS={};Vr&&(NS=document.createElement("div").style,"AnimationEvent"in window||(delete ss.animationend.animation,delete ss.animationiteration.animation,delete ss.animationstart.animation),"TransitionEvent"in window||delete ss.transitionend.transition);function ed(t){if(ff[t])return ff[t];if(!ss[t])return t;var e=ss[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in NS)return ff[t]=e[r];return t}var DS=ed("animationend"),BS=ed("animationiteration"),LS=ed("animationstart"),US=ed("transitionend"),FS=new Map,vv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Zn(t,e){FS.set(t,e),Fi(e,[t])}for(var hf=0;hf<vv.length;hf++){var pf=vv[hf],DI=pf.toLowerCase(),BI=pf[0].toUpperCase()+pf.slice(1);Zn(DI,"on"+BI)}Zn(DS,"onAnimationEnd");Zn(BS,"onAnimationIteration");Zn(LS,"onAnimationStart");Zn("dblclick","onDoubleClick");Zn("focusin","onFocus");Zn("focusout","onBlur");Zn(US,"onTransitionEnd");Hs("onMouseEnter",["mouseout","mouseover"]);Hs("onMouseLeave",["mouseout","mouseover"]);Hs("onPointerEnter",["pointerout","pointerover"]);Hs("onPointerLeave",["pointerout","pointerover"]);Fi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Fi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Fi("onBeforeInput",["compositionend","keypress","textInput","paste"]);Fi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Fi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Fi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ao="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),LI=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ao));function _v(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,DP(n,e,void 0,t),t.currentTarget=null}function $S(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var s=void 0;if(e)for(var o=n.length-1;0<=o;o--){var a=n[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;_v(i,a,u),s=l}else for(o=0;o<n.length;o++){if(a=n[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;_v(i,a,u),s=l}}}if(Du)throw t=em,Du=!1,em=null,t}function Te(t,e){var r=e[cm];r===void 0&&(r=e[cm]=new Set);var n=t+"__bubble";r.has(n)||(qS(e,t,2,!1),r.add(n))}function mf(t,e,r){var n=0;e&&(n|=4),qS(r,t,n,e)}var Dl="_reactListening"+Math.random().toString(36).slice(2);function oa(t){if(!t[Dl]){t[Dl]=!0,Qb.forEach(function(r){r!=="selectionchange"&&(LI.has(r)||mf(r,!1,t),mf(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Dl]||(e[Dl]=!0,mf("selectionchange",!1,e))}}function qS(t,e,r,n){switch(CS(e)){case 1:var i=XP;break;case 4:i=JP;break;default:i=Yg}r=i.bind(null,e,r,t),i=void 0,!Zp||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function gf(t,e,r,n,i){var s=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var a=n.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=ai(a),o===null)return;if(l=o.tag,l===5||l===6){n=s=o;continue e}a=a.parentNode}}n=n.return}cS(function(){var u=s,c=Wg(r),h=[];e:{var f=FS.get(t);if(f!==void 0){var v=Jg,y=t;switch(t){case"keypress":if(hu(r)===0)break e;case"keydown":case"keyup":v=hI;break;case"focusin":y="focus",v=uf;break;case"focusout":y="blur",v=uf;break;case"beforeblur":case"afterblur":v=uf;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=av;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=tI;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=gI;break;case DS:case BS:case LS:v=iI;break;case US:v=vI;break;case"scroll":v=ZP;break;case"wheel":v=wI;break;case"copy":case"cut":case"paste":v=oI;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=uv}var w=(e&4)!==0,_=!w&&t==="scroll",g=w?f!==null?f+"Capture":null:f;w=[];for(var p=u,m;p!==null;){m=p;var b=m.stateNode;if(m.tag===5&&b!==null&&(m=b,g!==null&&(b=ea(p,g),b!=null&&w.push(aa(p,b,m)))),_)break;p=p.return}0<w.length&&(f=new v(f,y,null,r,c),h.push({event:f,listeners:w}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",f&&r!==Xp&&(y=r.relatedTarget||r.fromElement)&&(ai(y)||y[Qr]))break e;if((v||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,v?(y=r.relatedTarget||r.toElement,v=u,y=y?ai(y):null,y!==null&&(_=$i(y),y!==_||y.tag!==5&&y.tag!==6)&&(y=null)):(v=null,y=u),v!==y)){if(w=av,b="onMouseLeave",g="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(w=uv,b="onPointerLeave",g="onPointerEnter",p="pointer"),_=v==null?f:os(v),m=y==null?f:os(y),f=new w(b,p+"leave",v,r,c),f.target=_,f.relatedTarget=m,b=null,ai(c)===u&&(w=new w(g,p+"enter",y,r,c),w.target=m,w.relatedTarget=_,b=w),_=b,v&&y)t:{for(w=v,g=y,p=0,m=w;m;m=Wi(m))p++;for(m=0,b=g;b;b=Wi(b))m++;for(;0<p-m;)w=Wi(w),p--;for(;0<m-p;)g=Wi(g),m--;for(;p--;){if(w===g||g!==null&&w===g.alternate)break t;w=Wi(w),g=Wi(g)}w=null}else w=null;v!==null&&wv(h,f,v,w,!1),y!==null&&_!==null&&wv(h,_,y,w,!0)}}e:{if(f=u?os(u):window,v=f.nodeName&&f.nodeName.toLowerCase(),v==="select"||v==="input"&&f.type==="file")var S=PI;else if(fv(f))if(RS)S=AI;else{S=kI;var R=II}else(v=f.nodeName)&&v.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(S=RI);if(S&&(S=S(t,u))){kS(h,S,r,c);break e}R&&R(t,f,u),t==="focusout"&&(R=f._wrapperState)&&R.controlled&&f.type==="number"&&Wp(f,"number",f.value)}switch(R=u?os(u):window,t){case"focusin":(fv(R)||R.contentEditable==="true")&&(is=R,im=u,Uo=null);break;case"focusout":Uo=im=is=null;break;case"mousedown":sm=!0;break;case"contextmenu":case"mouseup":case"dragend":sm=!1,yv(h,r,c);break;case"selectionchange":if(NI)break;case"keydown":case"keyup":yv(h,r,c)}var A;if(ey)e:{switch(t){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else ns?PS(t,r)&&(I="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(I="onCompositionStart");I&&(TS&&r.locale!=="ko"&&(ns||I!=="onCompositionStart"?I==="onCompositionEnd"&&ns&&(A=ES()):(kn=c,Xg="value"in kn?kn.value:kn.textContent,ns=!0)),R=$u(u,I),0<R.length&&(I=new lv(I,t,null,r,c),h.push({event:I,listeners:R}),A?I.data=A:(A=IS(r),A!==null&&(I.data=A)))),(A=SI?xI(t,r):CI(t,r))&&(u=$u(u,"onBeforeInput"),0<u.length&&(c=new lv("onBeforeInput","beforeinput",null,r,c),h.push({event:c,listeners:u}),c.data=A))}$S(h,e)})}function aa(t,e,r){return{instance:t,listener:e,currentTarget:r}}function $u(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=ea(t,r),s!=null&&n.unshift(aa(t,s,i)),s=ea(t,e),s!=null&&n.push(aa(t,s,i))),t=t.return}return n}function Wi(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function wv(t,e,r,n,i){for(var s=e._reactName,o=[];r!==null&&r!==n;){var a=r,l=a.alternate,u=a.stateNode;if(l!==null&&l===n)break;a.tag===5&&u!==null&&(a=u,i?(l=ea(r,s),l!=null&&o.unshift(aa(r,l,a))):i||(l=ea(r,s),l!=null&&o.push(aa(r,l,a)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var UI=/\r\n?/g,FI=/\u0000|\uFFFD/g;function bv(t){return(typeof t=="string"?t:""+t).replace(UI,`
`).replace(FI,"")}function Bl(t,e,r){if(e=bv(e),bv(t)!==e&&r)throw Error(B(425))}function qu(){}var om=null,am=null;function lm(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var um=typeof setTimeout=="function"?setTimeout:void 0,$I=typeof clearTimeout=="function"?clearTimeout:void 0,Sv=typeof Promise=="function"?Promise:void 0,qI=typeof queueMicrotask=="function"?queueMicrotask:typeof Sv<"u"?function(t){return Sv.resolve(null).then(t).catch(jI)}:um;function jI(t){setTimeout(function(){throw t})}function yf(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),na(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);na(e)}function Bn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function xv(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var no=Math.random().toString(36).slice(2),Ir="__reactFiber$"+no,la="__reactProps$"+no,Qr="__reactContainer$"+no,cm="__reactEvents$"+no,HI="__reactListeners$"+no,zI="__reactHandles$"+no;function ai(t){var e=t[Ir];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Qr]||r[Ir]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=xv(t);t!==null;){if(r=t[Ir])return r;t=xv(t)}return e}t=r,r=t.parentNode}return null}function ll(t){return t=t[Ir]||t[Qr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function os(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(B(33))}function td(t){return t[la]||null}var dm=[],as=-1;function ei(t){return{current:t}}function Pe(t){0>as||(t.current=dm[as],dm[as]=null,as--)}function xe(t,e){as++,dm[as]=t.current,t.current=e}var zn={},at=ei(zn),vt=ei(!1),Ri=zn;function zs(t,e){var r=t.type.contextTypes;if(!r)return zn;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=e[s];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function _t(t){return t=t.childContextTypes,t!=null}function ju(){Pe(vt),Pe(at)}function Cv(t,e,r){if(at.current!==zn)throw Error(B(168));xe(at,e),xe(vt,r)}function jS(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(B(108,IP(t)||"Unknown",i));return Me({},r,n)}function Hu(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||zn,Ri=at.current,xe(at,t),xe(vt,vt.current),!0}function Ev(t,e,r){var n=t.stateNode;if(!n)throw Error(B(169));r?(t=jS(t,e,Ri),n.__reactInternalMemoizedMergedChildContext=t,Pe(vt),Pe(at),xe(at,t)):Pe(vt),xe(vt,r)}var qr=null,rd=!1,vf=!1;function HS(t){qr===null?qr=[t]:qr.push(t)}function GI(t){rd=!0,HS(t)}function ti(){if(!vf&&qr!==null){vf=!0;var t=0,e=ve;try{var r=qr;for(ve=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}qr=null,rd=!1}catch(i){throw qr!==null&&(qr=qr.slice(t+1)),pS(Vg,ti),i}finally{ve=e,vf=!1}}return null}var ls=[],us=0,zu=null,Gu=0,$t=[],qt=0,Ai=null,Hr=1,zr="";function si(t,e){ls[us++]=Gu,ls[us++]=zu,zu=t,Gu=e}function zS(t,e,r){$t[qt++]=Hr,$t[qt++]=zr,$t[qt++]=Ai,Ai=t;var n=Hr;t=zr;var i=32-fr(n)-1;n&=~(1<<i),r+=1;var s=32-fr(e)+i;if(30<s){var o=i-i%5;s=(n&(1<<o)-1).toString(32),n>>=o,i-=o,Hr=1<<32-fr(e)+i|r<<i|n,zr=s+t}else Hr=1<<s|r<<i|n,zr=t}function ry(t){t.return!==null&&(si(t,1),zS(t,1,0))}function ny(t){for(;t===zu;)zu=ls[--us],ls[us]=null,Gu=ls[--us],ls[us]=null;for(;t===Ai;)Ai=$t[--qt],$t[qt]=null,zr=$t[--qt],$t[qt]=null,Hr=$t[--qt],$t[qt]=null}var At=null,kt=null,ke=!1,ur=null;function GS(t,e){var r=Ht(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function Tv(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,At=t,kt=Bn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,At=t,kt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Ai!==null?{id:Hr,overflow:zr}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Ht(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,At=t,kt=null,!0):!1;default:return!1}}function fm(t){return(t.mode&1)!==0&&(t.flags&128)===0}function hm(t){if(ke){var e=kt;if(e){var r=e;if(!Tv(t,e)){if(fm(t))throw Error(B(418));e=Bn(r.nextSibling);var n=At;e&&Tv(t,e)?GS(n,r):(t.flags=t.flags&-4097|2,ke=!1,At=t)}}else{if(fm(t))throw Error(B(418));t.flags=t.flags&-4097|2,ke=!1,At=t}}}function Pv(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;At=t}function Ll(t){if(t!==At)return!1;if(!ke)return Pv(t),ke=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!lm(t.type,t.memoizedProps)),e&&(e=kt)){if(fm(t))throw WS(),Error(B(418));for(;e;)GS(t,e),e=Bn(e.nextSibling)}if(Pv(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(B(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){kt=Bn(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}kt=null}}else kt=At?Bn(t.stateNode.nextSibling):null;return!0}function WS(){for(var t=kt;t;)t=Bn(t.nextSibling)}function Gs(){kt=At=null,ke=!1}function iy(t){ur===null?ur=[t]:ur.push(t)}var WI=Jr.ReactCurrentBatchConfig;function or(t,e){if(t&&t.defaultProps){e=Me({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}var Wu=ei(null),Vu=null,cs=null,sy=null;function oy(){sy=cs=Vu=null}function ay(t){var e=Wu.current;Pe(Wu),t._currentValue=e}function pm(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function _s(t,e){Vu=t,sy=cs=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(yt=!0),t.firstContext=null)}function Xt(t){var e=t._currentValue;if(sy!==t)if(t={context:t,memoizedValue:e,next:null},cs===null){if(Vu===null)throw Error(B(308));cs=t,Vu.dependencies={lanes:0,firstContext:t}}else cs=cs.next=t;return e}var li=null;function ly(t){li===null?li=[t]:li.push(t)}function VS(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,ly(e)):(r.next=i.next,i.next=r),e.interleaved=r,Kr(t,n)}function Kr(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var yn=!1;function uy(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function QS(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Gr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ln(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,le&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,Kr(t,r)}return i=n.interleaved,i===null?(e.next=e,ly(n)):(e.next=i.next,i.next=e),n.interleaved=e,Kr(t,r)}function pu(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Qg(t,r)}}function Iv(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=o:s=s.next=o,r=r.next}while(r!==null);s===null?i=s=e:s=s.next=e}else i=s=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Qu(t,e,r,n){var i=t.updateQueue;yn=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,c=u=l=null,a=s;do{var f=a.lane,v=a.eventTime;if((n&f)===f){c!==null&&(c=c.next={eventTime:v,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=t,w=a;switch(f=e,v=r,w.tag){case 1:if(y=w.payload,typeof y=="function"){h=y.call(v,h,f);break e}h=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=w.payload,f=typeof y=="function"?y.call(v,h,f):y,f==null)break e;h=Me({},h,f);break e;case 2:yn=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else v={eventTime:v,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=v,l=h):c=c.next=v,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(1);if(c===null&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Oi|=o,t.lanes=o,t.memoizedState=h}}function kv(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(B(191,i));i.call(n)}}}var KS=new Vb.Component().refs;function mm(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:Me({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var nd={isMounted:function(t){return(t=t._reactInternals)?$i(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=ct(),i=Fn(t),s=Gr(n,i);s.payload=e,r!=null&&(s.callback=r),e=Ln(t,s,i),e!==null&&(hr(e,t,i,n),pu(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=ct(),i=Fn(t),s=Gr(n,i);s.tag=1,s.payload=e,r!=null&&(s.callback=r),e=Ln(t,s,i),e!==null&&(hr(e,t,i,n),pu(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=ct(),n=Fn(t),i=Gr(r,n);i.tag=2,e!=null&&(i.callback=e),e=Ln(t,i,n),e!==null&&(hr(e,t,n,r),pu(e,t,n))}};function Rv(t,e,r,n,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,s,o):e.prototype&&e.prototype.isPureReactComponent?!sa(r,n)||!sa(i,s):!0}function YS(t,e,r){var n=!1,i=zn,s=e.contextType;return typeof s=="object"&&s!==null?s=Xt(s):(i=_t(e)?Ri:at.current,n=e.contextTypes,s=(n=n!=null)?zs(t,i):zn),e=new e(r,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=nd,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Av(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&nd.enqueueReplaceState(e,e.state,null)}function gm(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs=KS,uy(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Xt(s):(s=_t(e)?Ri:at.current,i.context=zs(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(mm(t,e,s,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&nd.enqueueReplaceState(i,i.state,null),Qu(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function _o(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(B(309));var n=r.stateNode}if(!n)throw Error(B(147,t));var i=n,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===KS&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(B(284));if(!r._owner)throw Error(B(290,t))}return t}function Ul(t,e){throw t=Object.prototype.toString.call(e),Error(B(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Mv(t){var e=t._init;return e(t._payload)}function XS(t){function e(g,p){if(t){var m=g.deletions;m===null?(g.deletions=[p],g.flags|=16):m.push(p)}}function r(g,p){if(!t)return null;for(;p!==null;)e(g,p),p=p.sibling;return null}function n(g,p){for(g=new Map;p!==null;)p.key!==null?g.set(p.key,p):g.set(p.index,p),p=p.sibling;return g}function i(g,p){return g=$n(g,p),g.index=0,g.sibling=null,g}function s(g,p,m){return g.index=m,t?(m=g.alternate,m!==null?(m=m.index,m<p?(g.flags|=2,p):m):(g.flags|=2,p)):(g.flags|=1048576,p)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function a(g,p,m,b){return p===null||p.tag!==6?(p=Ef(m,g.mode,b),p.return=g,p):(p=i(p,m),p.return=g,p)}function l(g,p,m,b){var S=m.type;return S===rs?c(g,p,m.props.children,b,m.key):p!==null&&(p.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===gn&&Mv(S)===p.type)?(b=i(p,m.props),b.ref=_o(g,p,m),b.return=g,b):(b=wu(m.type,m.key,m.props,null,g.mode,b),b.ref=_o(g,p,m),b.return=g,b)}function u(g,p,m,b){return p===null||p.tag!==4||p.stateNode.containerInfo!==m.containerInfo||p.stateNode.implementation!==m.implementation?(p=Tf(m,g.mode,b),p.return=g,p):(p=i(p,m.children||[]),p.return=g,p)}function c(g,p,m,b,S){return p===null||p.tag!==7?(p=xi(m,g.mode,b,S),p.return=g,p):(p=i(p,m),p.return=g,p)}function h(g,p,m){if(typeof p=="string"&&p!==""||typeof p=="number")return p=Ef(""+p,g.mode,m),p.return=g,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Pl:return m=wu(p.type,p.key,p.props,null,g.mode,m),m.ref=_o(g,null,p),m.return=g,m;case ts:return p=Tf(p,g.mode,m),p.return=g,p;case gn:var b=p._init;return h(g,b(p._payload),m)}if(ko(p)||po(p))return p=xi(p,g.mode,m,null),p.return=g,p;Ul(g,p)}return null}function f(g,p,m,b){var S=p!==null?p.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return S!==null?null:a(g,p,""+m,b);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Pl:return m.key===S?l(g,p,m,b):null;case ts:return m.key===S?u(g,p,m,b):null;case gn:return S=m._init,f(g,p,S(m._payload),b)}if(ko(m)||po(m))return S!==null?null:c(g,p,m,b,null);Ul(g,m)}return null}function v(g,p,m,b,S){if(typeof b=="string"&&b!==""||typeof b=="number")return g=g.get(m)||null,a(p,g,""+b,S);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Pl:return g=g.get(b.key===null?m:b.key)||null,l(p,g,b,S);case ts:return g=g.get(b.key===null?m:b.key)||null,u(p,g,b,S);case gn:var R=b._init;return v(g,p,m,R(b._payload),S)}if(ko(b)||po(b))return g=g.get(m)||null,c(p,g,b,S,null);Ul(p,b)}return null}function y(g,p,m,b){for(var S=null,R=null,A=p,I=p=0,L=null;A!==null&&I<m.length;I++){A.index>I?(L=A,A=null):L=A.sibling;var H=f(g,A,m[I],b);if(H===null){A===null&&(A=L);break}t&&A&&H.alternate===null&&e(g,A),p=s(H,p,I),R===null?S=H:R.sibling=H,R=H,A=L}if(I===m.length)return r(g,A),ke&&si(g,I),S;if(A===null){for(;I<m.length;I++)A=h(g,m[I],b),A!==null&&(p=s(A,p,I),R===null?S=A:R.sibling=A,R=A);return ke&&si(g,I),S}for(A=n(g,A);I<m.length;I++)L=v(A,g,I,m[I],b),L!==null&&(t&&L.alternate!==null&&A.delete(L.key===null?I:L.key),p=s(L,p,I),R===null?S=L:R.sibling=L,R=L);return t&&A.forEach(function(X){return e(g,X)}),ke&&si(g,I),S}function w(g,p,m,b){var S=po(m);if(typeof S!="function")throw Error(B(150));if(m=S.call(m),m==null)throw Error(B(151));for(var R=S=null,A=p,I=p=0,L=null,H=m.next();A!==null&&!H.done;I++,H=m.next()){A.index>I?(L=A,A=null):L=A.sibling;var X=f(g,A,H.value,b);if(X===null){A===null&&(A=L);break}t&&A&&X.alternate===null&&e(g,A),p=s(X,p,I),R===null?S=X:R.sibling=X,R=X,A=L}if(H.done)return r(g,A),ke&&si(g,I),S;if(A===null){for(;!H.done;I++,H=m.next())H=h(g,H.value,b),H!==null&&(p=s(H,p,I),R===null?S=H:R.sibling=H,R=H);return ke&&si(g,I),S}for(A=n(g,A);!H.done;I++,H=m.next())H=v(A,g,I,H.value,b),H!==null&&(t&&H.alternate!==null&&A.delete(H.key===null?I:H.key),p=s(H,p,I),R===null?S=H:R.sibling=H,R=H);return t&&A.forEach(function(_e){return e(g,_e)}),ke&&si(g,I),S}function _(g,p,m,b){if(typeof m=="object"&&m!==null&&m.type===rs&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case Pl:e:{for(var S=m.key,R=p;R!==null;){if(R.key===S){if(S=m.type,S===rs){if(R.tag===7){r(g,R.sibling),p=i(R,m.props.children),p.return=g,g=p;break e}}else if(R.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===gn&&Mv(S)===R.type){r(g,R.sibling),p=i(R,m.props),p.ref=_o(g,R,m),p.return=g,g=p;break e}r(g,R);break}else e(g,R);R=R.sibling}m.type===rs?(p=xi(m.props.children,g.mode,b,m.key),p.return=g,g=p):(b=wu(m.type,m.key,m.props,null,g.mode,b),b.ref=_o(g,p,m),b.return=g,g=b)}return o(g);case ts:e:{for(R=m.key;p!==null;){if(p.key===R)if(p.tag===4&&p.stateNode.containerInfo===m.containerInfo&&p.stateNode.implementation===m.implementation){r(g,p.sibling),p=i(p,m.children||[]),p.return=g,g=p;break e}else{r(g,p);break}else e(g,p);p=p.sibling}p=Tf(m,g.mode,b),p.return=g,g=p}return o(g);case gn:return R=m._init,_(g,p,R(m._payload),b)}if(ko(m))return y(g,p,m,b);if(po(m))return w(g,p,m,b);Ul(g,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,p!==null&&p.tag===6?(r(g,p.sibling),p=i(p,m),p.return=g,g=p):(r(g,p),p=Ef(m,g.mode,b),p.return=g,g=p),o(g)):r(g,p)}return _}var Ws=XS(!0),JS=XS(!1),ul={},Mr=ei(ul),ua=ei(ul),ca=ei(ul);function ui(t){if(t===ul)throw Error(B(174));return t}function cy(t,e){switch(xe(ca,e),xe(ua,t),xe(Mr,ul),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Qp(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Qp(e,t)}Pe(Mr),xe(Mr,e)}function Vs(){Pe(Mr),Pe(ua),Pe(ca)}function ZS(t){ui(ca.current);var e=ui(Mr.current),r=Qp(e,t.type);e!==r&&(xe(ua,t),xe(Mr,r))}function dy(t){ua.current===t&&(Pe(Mr),Pe(ua))}var Re=ei(0);function Ku(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var _f=[];function fy(){for(var t=0;t<_f.length;t++)_f[t]._workInProgressVersionPrimary=null;_f.length=0}var mu=Jr.ReactCurrentDispatcher,wf=Jr.ReactCurrentBatchConfig,Mi=0,Ae=null,Ge=null,Ke=null,Yu=!1,Fo=!1,da=0,VI=0;function tt(){throw Error(B(321))}function hy(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!mr(t[r],e[r]))return!1;return!0}function py(t,e,r,n,i,s){if(Mi=s,Ae=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,mu.current=t===null||t.memoizedState===null?XI:JI,t=r(n,i),Fo){s=0;do{if(Fo=!1,da=0,25<=s)throw Error(B(301));s+=1,Ke=Ge=null,e.updateQueue=null,mu.current=ZI,t=r(n,i)}while(Fo)}if(mu.current=Xu,e=Ge!==null&&Ge.next!==null,Mi=0,Ke=Ge=Ae=null,Yu=!1,e)throw Error(B(300));return t}function my(){var t=da!==0;return da=0,t}function Sr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ke===null?Ae.memoizedState=Ke=t:Ke=Ke.next=t,Ke}function Jt(){if(Ge===null){var t=Ae.alternate;t=t!==null?t.memoizedState:null}else t=Ge.next;var e=Ke===null?Ae.memoizedState:Ke.next;if(e!==null)Ke=e,Ge=t;else{if(t===null)throw Error(B(310));Ge=t,t={memoizedState:Ge.memoizedState,baseState:Ge.baseState,baseQueue:Ge.baseQueue,queue:Ge.queue,next:null},Ke===null?Ae.memoizedState=Ke=t:Ke=Ke.next=t}return Ke}function fa(t,e){return typeof e=="function"?e(t):e}function bf(t){var e=Jt(),r=e.queue;if(r===null)throw Error(B(311));r.lastRenderedReducer=t;var n=Ge,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((Mi&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var h={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=n):l=l.next=h,Ae.lanes|=c,Oi|=c}u=u.next}while(u!==null&&u!==s);l===null?o=n:l.next=a,mr(n,e.memoizedState)||(yt=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do s=i.lane,Ae.lanes|=s,Oi|=s,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function Sf(t){var e=Jt(),r=e.queue;if(r===null)throw Error(B(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,s=e.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);mr(s,e.memoizedState)||(yt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),r.lastRenderedState=s}return[s,n]}function ex(){}function tx(t,e){var r=Ae,n=Jt(),i=e(),s=!mr(n.memoizedState,i);if(s&&(n.memoizedState=i,yt=!0),n=n.queue,gy(ix.bind(null,r,n,t),[t]),n.getSnapshot!==e||s||Ke!==null&&Ke.memoizedState.tag&1){if(r.flags|=2048,ha(9,nx.bind(null,r,n,i,e),void 0,null),Ye===null)throw Error(B(349));Mi&30||rx(r,e,i)}return i}function rx(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=Ae.updateQueue,e===null?(e={lastEffect:null,stores:null},Ae.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function nx(t,e,r,n){e.value=r,e.getSnapshot=n,sx(e)&&ox(t)}function ix(t,e,r){return r(function(){sx(e)&&ox(t)})}function sx(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!mr(t,r)}catch{return!0}}function ox(t){var e=Kr(t,1);e!==null&&hr(e,t,1,-1)}function Ov(t){var e=Sr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:fa,lastRenderedState:t},e.queue=t,t=t.dispatch=YI.bind(null,Ae,t),[e.memoizedState,t]}function ha(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=Ae.updateQueue,e===null?(e={lastEffect:null,stores:null},Ae.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function ax(){return Jt().memoizedState}function gu(t,e,r,n){var i=Sr();Ae.flags|=t,i.memoizedState=ha(1|e,r,void 0,n===void 0?null:n)}function id(t,e,r,n){var i=Jt();n=n===void 0?null:n;var s=void 0;if(Ge!==null){var o=Ge.memoizedState;if(s=o.destroy,n!==null&&hy(n,o.deps)){i.memoizedState=ha(e,r,s,n);return}}Ae.flags|=t,i.memoizedState=ha(1|e,r,s,n)}function Nv(t,e){return gu(8390656,8,t,e)}function gy(t,e){return id(2048,8,t,e)}function lx(t,e){return id(4,2,t,e)}function ux(t,e){return id(4,4,t,e)}function cx(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function dx(t,e,r){return r=r!=null?r.concat([t]):null,id(4,4,cx.bind(null,e,t),r)}function yy(){}function fx(t,e){var r=Jt();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&hy(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function hx(t,e){var r=Jt();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&hy(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function px(t,e,r){return Mi&21?(mr(r,e)||(r=yS(),Ae.lanes|=r,Oi|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,yt=!0),t.memoizedState=r)}function QI(t,e){var r=ve;ve=r!==0&&4>r?r:4,t(!0);var n=wf.transition;wf.transition={};try{t(!1),e()}finally{ve=r,wf.transition=n}}function mx(){return Jt().memoizedState}function KI(t,e,r){var n=Fn(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},gx(t))yx(e,r);else if(r=VS(t,e,r,n),r!==null){var i=ct();hr(r,t,n,i),vx(r,e,n)}}function YI(t,e,r){var n=Fn(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(gx(t))yx(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,r);if(i.hasEagerState=!0,i.eagerState=a,mr(a,o)){var l=e.interleaved;l===null?(i.next=i,ly(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}r=VS(t,e,i,n),r!==null&&(i=ct(),hr(r,t,n,i),vx(r,e,n))}}function gx(t){var e=t.alternate;return t===Ae||e!==null&&e===Ae}function yx(t,e){Fo=Yu=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function vx(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Qg(t,r)}}var Xu={readContext:Xt,useCallback:tt,useContext:tt,useEffect:tt,useImperativeHandle:tt,useInsertionEffect:tt,useLayoutEffect:tt,useMemo:tt,useReducer:tt,useRef:tt,useState:tt,useDebugValue:tt,useDeferredValue:tt,useTransition:tt,useMutableSource:tt,useSyncExternalStore:tt,useId:tt,unstable_isNewReconciler:!1},XI={readContext:Xt,useCallback:function(t,e){return Sr().memoizedState=[t,e===void 0?null:e],t},useContext:Xt,useEffect:Nv,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,gu(4194308,4,cx.bind(null,e,t),r)},useLayoutEffect:function(t,e){return gu(4194308,4,t,e)},useInsertionEffect:function(t,e){return gu(4,2,t,e)},useMemo:function(t,e){var r=Sr();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Sr();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=KI.bind(null,Ae,t),[n.memoizedState,t]},useRef:function(t){var e=Sr();return t={current:t},e.memoizedState=t},useState:Ov,useDebugValue:yy,useDeferredValue:function(t){return Sr().memoizedState=t},useTransition:function(){var t=Ov(!1),e=t[0];return t=QI.bind(null,t[1]),Sr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=Ae,i=Sr();if(ke){if(r===void 0)throw Error(B(407));r=r()}else{if(r=e(),Ye===null)throw Error(B(349));Mi&30||rx(n,e,r)}i.memoizedState=r;var s={value:r,getSnapshot:e};return i.queue=s,Nv(ix.bind(null,n,s,t),[t]),n.flags|=2048,ha(9,nx.bind(null,n,s,r,e),void 0,null),r},useId:function(){var t=Sr(),e=Ye.identifierPrefix;if(ke){var r=zr,n=Hr;r=(n&~(1<<32-fr(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=da++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=VI++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},JI={readContext:Xt,useCallback:fx,useContext:Xt,useEffect:gy,useImperativeHandle:dx,useInsertionEffect:lx,useLayoutEffect:ux,useMemo:hx,useReducer:bf,useRef:ax,useState:function(){return bf(fa)},useDebugValue:yy,useDeferredValue:function(t){var e=Jt();return px(e,Ge.memoizedState,t)},useTransition:function(){var t=bf(fa)[0],e=Jt().memoizedState;return[t,e]},useMutableSource:ex,useSyncExternalStore:tx,useId:mx,unstable_isNewReconciler:!1},ZI={readContext:Xt,useCallback:fx,useContext:Xt,useEffect:gy,useImperativeHandle:dx,useInsertionEffect:lx,useLayoutEffect:ux,useMemo:hx,useReducer:Sf,useRef:ax,useState:function(){return Sf(fa)},useDebugValue:yy,useDeferredValue:function(t){var e=Jt();return Ge===null?e.memoizedState=t:px(e,Ge.memoizedState,t)},useTransition:function(){var t=Sf(fa)[0],e=Jt().memoizedState;return[t,e]},useMutableSource:ex,useSyncExternalStore:tx,useId:mx,unstable_isNewReconciler:!1};function Qs(t,e){try{var r="",n=e;do r+=PP(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function xf(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function ym(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var ek=typeof WeakMap=="function"?WeakMap:Map;function _x(t,e,r){r=Gr(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Zu||(Zu=!0,Pm=n),ym(t,e)},r}function wx(t,e,r){r=Gr(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){ym(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){ym(t,e),typeof n!="function"&&(Un===null?Un=new Set([this]):Un.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function Dv(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new ek;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=pk.bind(null,t,e,r),e.then(t,t))}function Bv(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Lv(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=Gr(-1,1),e.tag=2,Ln(r,e,1))),r.lanes|=1),t)}var tk=Jr.ReactCurrentOwner,yt=!1;function ut(t,e,r,n){e.child=t===null?JS(e,null,r,n):Ws(e,t.child,r,n)}function Uv(t,e,r,n,i){r=r.render;var s=e.ref;return _s(e,i),n=py(t,e,r,n,s,i),r=my(),t!==null&&!yt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Yr(t,e,i)):(ke&&r&&ry(e),e.flags|=1,ut(t,e,n,i),e.child)}function Fv(t,e,r,n,i){if(t===null){var s=r.type;return typeof s=="function"&&!Ey(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=s,bx(t,e,s,n,i)):(t=wu(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(r=r.compare,r=r!==null?r:sa,r(o,n)&&t.ref===e.ref)return Yr(t,e,i)}return e.flags|=1,t=$n(s,n),t.ref=e.ref,t.return=e,e.child=t}function bx(t,e,r,n,i){if(t!==null){var s=t.memoizedProps;if(sa(s,n)&&t.ref===e.ref)if(yt=!1,e.pendingProps=n=s,(t.lanes&i)!==0)t.flags&131072&&(yt=!0);else return e.lanes=t.lanes,Yr(t,e,i)}return vm(t,e,r,n,i)}function Sx(t,e,r){var n=e.pendingProps,i=n.children,s=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},xe(fs,It),It|=r;else{if(!(r&1073741824))return t=s!==null?s.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,xe(fs,It),It|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,xe(fs,It),It|=n}else s!==null?(n=s.baseLanes|r,e.memoizedState=null):n=r,xe(fs,It),It|=n;return ut(t,e,i,r),e.child}function xx(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function vm(t,e,r,n,i){var s=_t(r)?Ri:at.current;return s=zs(e,s),_s(e,i),r=py(t,e,r,n,s,i),n=my(),t!==null&&!yt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Yr(t,e,i)):(ke&&n&&ry(e),e.flags|=1,ut(t,e,r,i),e.child)}function $v(t,e,r,n,i){if(_t(r)){var s=!0;Hu(e)}else s=!1;if(_s(e,i),e.stateNode===null)yu(t,e),YS(e,r,n),gm(e,r,n,i),n=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=Xt(u):(u=_t(r)?Ri:at.current,u=zs(e,u));var c=r.getDerivedStateFromProps,h=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==n||l!==u)&&Av(e,o,n,u),yn=!1;var f=e.memoizedState;o.state=f,Qu(e,n,o,i),l=e.memoizedState,a!==n||f!==l||vt.current||yn?(typeof c=="function"&&(mm(e,r,c,n),l=e.memoizedState),(a=yn||Rv(e,r,a,n,f,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),o.props=n,o.state=l,o.context=u,n=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,QS(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:or(e.type,a),o.props=u,h=e.pendingProps,f=o.context,l=r.contextType,typeof l=="object"&&l!==null?l=Xt(l):(l=_t(r)?Ri:at.current,l=zs(e,l));var v=r.getDerivedStateFromProps;(c=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&Av(e,o,n,l),yn=!1,f=e.memoizedState,o.state=f,Qu(e,n,o,i);var y=e.memoizedState;a!==h||f!==y||vt.current||yn?(typeof v=="function"&&(mm(e,r,v,n),y=e.memoizedState),(u=yn||Rv(e,r,u,n,f,y,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,y,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,y,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=y),o.props=n,o.state=y,o.context=l,n=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),n=!1)}return _m(t,e,r,n,s,i)}function _m(t,e,r,n,i,s){xx(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return i&&Ev(e,r,!1),Yr(t,e,s);n=e.stateNode,tk.current=e;var a=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=Ws(e,t.child,null,s),e.child=Ws(e,null,a,s)):ut(t,e,a,s),e.memoizedState=n.state,i&&Ev(e,r,!0),e.child}function Cx(t){var e=t.stateNode;e.pendingContext?Cv(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Cv(t,e.context,!1),cy(t,e.containerInfo)}function qv(t,e,r,n,i){return Gs(),iy(i),e.flags|=256,ut(t,e,r,n),e.child}var wm={dehydrated:null,treeContext:null,retryLane:0};function bm(t){return{baseLanes:t,cachePool:null,transitions:null}}function Ex(t,e,r){var n=e.pendingProps,i=Re.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),xe(Re,i&1),t===null)return hm(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,s?(n=e.mode,s=e.child,o={mode:"hidden",children:o},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=ad(o,n,0,null),t=xi(t,n,r,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=bm(r),e.memoizedState=wm,t):vy(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return rk(t,e,o,n,a,i,r);if(s){s=n.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:n.children};return!(o&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=$n(i,l),n.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=$n(a,s):(s=xi(s,o,r,null),s.flags|=2),s.return=e,n.return=e,n.sibling=s,e.child=n,n=s,s=e.child,o=t.child.memoizedState,o=o===null?bm(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~r,e.memoizedState=wm,n}return s=t.child,t=s.sibling,n=$n(s,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function vy(t,e){return e=ad({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Fl(t,e,r,n){return n!==null&&iy(n),Ws(e,t.child,null,r),t=vy(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function rk(t,e,r,n,i,s,o){if(r)return e.flags&256?(e.flags&=-257,n=xf(Error(B(422))),Fl(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=n.fallback,i=e.mode,n=ad({mode:"visible",children:n.children},i,0,null),s=xi(s,i,o,null),s.flags|=2,n.return=e,s.return=e,n.sibling=s,e.child=n,e.mode&1&&Ws(e,t.child,null,o),e.child.memoizedState=bm(o),e.memoizedState=wm,s);if(!(e.mode&1))return Fl(t,e,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var a=n.dgst;return n=a,s=Error(B(419)),n=xf(s,n,void 0),Fl(t,e,o,n)}if(a=(o&t.childLanes)!==0,yt||a){if(n=Ye,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Kr(t,i),hr(n,t,i,-1))}return Cy(),n=xf(Error(B(421))),Fl(t,e,o,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=mk.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,kt=Bn(i.nextSibling),At=e,ke=!0,ur=null,t!==null&&($t[qt++]=Hr,$t[qt++]=zr,$t[qt++]=Ai,Hr=t.id,zr=t.overflow,Ai=e),e=vy(e,n.children),e.flags|=4096,e)}function jv(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),pm(t.return,e,r)}function Cf(t,e,r,n,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function Tx(t,e,r){var n=e.pendingProps,i=n.revealOrder,s=n.tail;if(ut(t,e,n.children,r),n=Re.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&jv(t,r,e);else if(t.tag===19)jv(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(xe(Re,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&Ku(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),Cf(e,!1,i,r,s);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Ku(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}Cf(e,!0,r,null,s);break;case"together":Cf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function yu(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Yr(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Oi|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(B(153));if(e.child!==null){for(t=e.child,r=$n(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=$n(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function nk(t,e,r){switch(e.tag){case 3:Cx(e),Gs();break;case 5:ZS(e);break;case 1:_t(e.type)&&Hu(e);break;case 4:cy(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;xe(Wu,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(xe(Re,Re.current&1),e.flags|=128,null):r&e.child.childLanes?Ex(t,e,r):(xe(Re,Re.current&1),t=Yr(t,e,r),t!==null?t.sibling:null);xe(Re,Re.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return Tx(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),xe(Re,Re.current),n)break;return null;case 22:case 23:return e.lanes=0,Sx(t,e,r)}return Yr(t,e,r)}var Px,Sm,Ix,kx;Px=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Sm=function(){};Ix=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,ui(Mr.current);var s=null;switch(r){case"input":i=zp(t,i),n=zp(t,n),s=[];break;case"select":i=Me({},i,{value:void 0}),n=Me({},n,{value:void 0}),s=[];break;case"textarea":i=Vp(t,i),n=Vp(t,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=qu)}Kp(r,n);var o;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Jo.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in n){var l=n[u];if(a=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(s||(s=[]),s.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Jo.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Te("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}r&&(s=s||[]).push("style",r);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};kx=function(t,e,r,n){r!==n&&(e.flags|=4)};function wo(t,e){if(!ke)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function rt(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function ik(t,e,r){var n=e.pendingProps;switch(ny(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rt(e),null;case 1:return _t(e.type)&&ju(),rt(e),null;case 3:return n=e.stateNode,Vs(),Pe(vt),Pe(at),fy(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Ll(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ur!==null&&(Rm(ur),ur=null))),Sm(t,e),rt(e),null;case 5:dy(e);var i=ui(ca.current);if(r=e.type,t!==null&&e.stateNode!=null)Ix(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(B(166));return rt(e),null}if(t=ui(Mr.current),Ll(e)){n=e.stateNode,r=e.type;var s=e.memoizedProps;switch(n[Ir]=e,n[la]=s,t=(e.mode&1)!==0,r){case"dialog":Te("cancel",n),Te("close",n);break;case"iframe":case"object":case"embed":Te("load",n);break;case"video":case"audio":for(i=0;i<Ao.length;i++)Te(Ao[i],n);break;case"source":Te("error",n);break;case"img":case"image":case"link":Te("error",n),Te("load",n);break;case"details":Te("toggle",n);break;case"input":X0(n,s),Te("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},Te("invalid",n);break;case"textarea":Z0(n,s),Te("invalid",n)}Kp(r,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?n.textContent!==a&&(s.suppressHydrationWarning!==!0&&Bl(n.textContent,a,t),i=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Bl(n.textContent,a,t),i=["children",""+a]):Jo.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Te("scroll",n)}switch(r){case"input":Il(n),J0(n,s,!0);break;case"textarea":Il(n),ev(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=qu)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=rS(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[Ir]=e,t[la]=n,Px(t,e,!1,!1),e.stateNode=t;e:{switch(o=Yp(r,n),r){case"dialog":Te("cancel",t),Te("close",t),i=n;break;case"iframe":case"object":case"embed":Te("load",t),i=n;break;case"video":case"audio":for(i=0;i<Ao.length;i++)Te(Ao[i],t);i=n;break;case"source":Te("error",t),i=n;break;case"img":case"image":case"link":Te("error",t),Te("load",t),i=n;break;case"details":Te("toggle",t),i=n;break;case"input":X0(t,n),i=zp(t,n),Te("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=Me({},n,{value:void 0}),Te("invalid",t);break;case"textarea":Z0(t,n),i=Vp(t,n),Te("invalid",t);break;default:i=n}Kp(r,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?sS(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&nS(t,l)):s==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Zo(t,l):typeof l=="number"&&Zo(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Jo.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Te("scroll",t):l!=null&&jg(t,s,l,o))}switch(r){case"input":Il(t),J0(t,n,!1);break;case"textarea":Il(t),ev(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Hn(n.value));break;case"select":t.multiple=!!n.multiple,s=n.value,s!=null?ms(t,!!n.multiple,s,!1):n.defaultValue!=null&&ms(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=qu)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return rt(e),null;case 6:if(t&&e.stateNode!=null)kx(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(B(166));if(r=ui(ca.current),ui(Mr.current),Ll(e)){if(n=e.stateNode,r=e.memoizedProps,n[Ir]=e,(s=n.nodeValue!==r)&&(t=At,t!==null))switch(t.tag){case 3:Bl(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Bl(n.nodeValue,r,(t.mode&1)!==0)}s&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Ir]=e,e.stateNode=n}return rt(e),null;case 13:if(Pe(Re),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ke&&kt!==null&&e.mode&1&&!(e.flags&128))WS(),Gs(),e.flags|=98560,s=!1;else if(s=Ll(e),n!==null&&n.dehydrated!==null){if(t===null){if(!s)throw Error(B(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(B(317));s[Ir]=e}else Gs(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;rt(e),s=!1}else ur!==null&&(Rm(ur),ur=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||Re.current&1?We===0&&(We=3):Cy())),e.updateQueue!==null&&(e.flags|=4),rt(e),null);case 4:return Vs(),Sm(t,e),t===null&&oa(e.stateNode.containerInfo),rt(e),null;case 10:return ay(e.type._context),rt(e),null;case 17:return _t(e.type)&&ju(),rt(e),null;case 19:if(Pe(Re),s=e.memoizedState,s===null)return rt(e),null;if(n=(e.flags&128)!==0,o=s.rendering,o===null)if(n)wo(s,!1);else{if(We!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Ku(t),o!==null){for(e.flags|=128,wo(s,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)s=r,t=n,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return xe(Re,Re.current&1|2),e.child}t=t.sibling}s.tail!==null&&Be()>Ks&&(e.flags|=128,n=!0,wo(s,!1),e.lanes=4194304)}else{if(!n)if(t=Ku(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),wo(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!ke)return rt(e),null}else 2*Be()-s.renderingStartTime>Ks&&r!==1073741824&&(e.flags|=128,n=!0,wo(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(r=s.last,r!==null?r.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Be(),e.sibling=null,r=Re.current,xe(Re,n?r&1|2:r&1),e):(rt(e),null);case 22:case 23:return xy(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?It&1073741824&&(rt(e),e.subtreeFlags&6&&(e.flags|=8192)):rt(e),null;case 24:return null;case 25:return null}throw Error(B(156,e.tag))}function sk(t,e){switch(ny(e),e.tag){case 1:return _t(e.type)&&ju(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Vs(),Pe(vt),Pe(at),fy(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return dy(e),null;case 13:if(Pe(Re),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(B(340));Gs()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Pe(Re),null;case 4:return Vs(),null;case 10:return ay(e.type._context),null;case 22:case 23:return xy(),null;case 24:return null;default:return null}}var $l=!1,ot=!1,ok=typeof WeakSet=="function"?WeakSet:Set,z=null;function ds(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Oe(t,e,n)}else r.current=null}function xm(t,e,r){try{r()}catch(n){Oe(t,e,n)}}var Hv=!1;function ak(t,e){if(om=Uu,t=OS(),ty(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var o=0,a=-1,l=-1,u=0,c=0,h=t,f=null;t:for(;;){for(var v;h!==r||i!==0&&h.nodeType!==3||(a=o+i),h!==s||n!==0&&h.nodeType!==3||(l=o+n),h.nodeType===3&&(o+=h.nodeValue.length),(v=h.firstChild)!==null;)f=h,h=v;for(;;){if(h===t)break t;if(f===r&&++u===i&&(a=o),f===s&&++c===n&&(l=o),(v=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=v}r=a===-1||l===-1?null:{start:a,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(am={focusedElem:t,selectionRange:r},Uu=!1,z=e;z!==null;)if(e=z,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,z=t;else for(;z!==null;){e=z;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var w=y.memoizedProps,_=y.memoizedState,g=e.stateNode,p=g.getSnapshotBeforeUpdate(e.elementType===e.type?w:or(e.type,w),_);g.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var m=e.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(B(163))}}catch(b){Oe(e,e.return,b)}if(t=e.sibling,t!==null){t.return=e.return,z=t;break}z=e.return}return y=Hv,Hv=!1,y}function $o(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&xm(e,r,s)}i=i.next}while(i!==n)}}function sd(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function Cm(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function Rx(t){var e=t.alternate;e!==null&&(t.alternate=null,Rx(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ir],delete e[la],delete e[cm],delete e[HI],delete e[zI])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Ax(t){return t.tag===5||t.tag===3||t.tag===4}function zv(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Ax(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Em(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=qu));else if(n!==4&&(t=t.child,t!==null))for(Em(t,e,r),t=t.sibling;t!==null;)Em(t,e,r),t=t.sibling}function Tm(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Tm(t,e,r),t=t.sibling;t!==null;)Tm(t,e,r),t=t.sibling}var Xe=null,lr=!1;function an(t,e,r){for(r=r.child;r!==null;)Mx(t,e,r),r=r.sibling}function Mx(t,e,r){if(Ar&&typeof Ar.onCommitFiberUnmount=="function")try{Ar.onCommitFiberUnmount(Xc,r)}catch{}switch(r.tag){case 5:ot||ds(r,e);case 6:var n=Xe,i=lr;Xe=null,an(t,e,r),Xe=n,lr=i,Xe!==null&&(lr?(t=Xe,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):Xe.removeChild(r.stateNode));break;case 18:Xe!==null&&(lr?(t=Xe,r=r.stateNode,t.nodeType===8?yf(t.parentNode,r):t.nodeType===1&&yf(t,r),na(t)):yf(Xe,r.stateNode));break;case 4:n=Xe,i=lr,Xe=r.stateNode.containerInfo,lr=!0,an(t,e,r),Xe=n,lr=i;break;case 0:case 11:case 14:case 15:if(!ot&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&xm(r,e,o),i=i.next}while(i!==n)}an(t,e,r);break;case 1:if(!ot&&(ds(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){Oe(r,e,a)}an(t,e,r);break;case 21:an(t,e,r);break;case 22:r.mode&1?(ot=(n=ot)||r.memoizedState!==null,an(t,e,r),ot=n):an(t,e,r);break;default:an(t,e,r)}}function Gv(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new ok),e.forEach(function(n){var i=gk.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function ir(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Xe=a.stateNode,lr=!1;break e;case 3:Xe=a.stateNode.containerInfo,lr=!0;break e;case 4:Xe=a.stateNode.containerInfo,lr=!0;break e}a=a.return}if(Xe===null)throw Error(B(160));Mx(s,o,i),Xe=null,lr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Oe(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Ox(e,t),e=e.sibling}function Ox(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ir(e,t),wr(t),n&4){try{$o(3,t,t.return),sd(3,t)}catch(w){Oe(t,t.return,w)}try{$o(5,t,t.return)}catch(w){Oe(t,t.return,w)}}break;case 1:ir(e,t),wr(t),n&512&&r!==null&&ds(r,r.return);break;case 5:if(ir(e,t),wr(t),n&512&&r!==null&&ds(r,r.return),t.flags&32){var i=t.stateNode;try{Zo(i,"")}catch(w){Oe(t,t.return,w)}}if(n&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=r!==null?r.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&eS(i,s),Yp(a,o);var u=Yp(a,s);for(o=0;o<l.length;o+=2){var c=l[o],h=l[o+1];c==="style"?sS(i,h):c==="dangerouslySetInnerHTML"?nS(i,h):c==="children"?Zo(i,h):jg(i,c,h,u)}switch(a){case"input":Gp(i,s);break;case"textarea":tS(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var v=s.value;v!=null?ms(i,!!s.multiple,v,!1):f!==!!s.multiple&&(s.defaultValue!=null?ms(i,!!s.multiple,s.defaultValue,!0):ms(i,!!s.multiple,s.multiple?[]:"",!1))}i[la]=s}catch(w){Oe(t,t.return,w)}}break;case 6:if(ir(e,t),wr(t),n&4){if(t.stateNode===null)throw Error(B(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(w){Oe(t,t.return,w)}}break;case 3:if(ir(e,t),wr(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{na(e.containerInfo)}catch(w){Oe(t,t.return,w)}break;case 4:ir(e,t),wr(t);break;case 13:ir(e,t),wr(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(by=Be())),n&4&&Gv(t);break;case 22:if(c=r!==null&&r.memoizedState!==null,t.mode&1?(ot=(u=ot)||c,ir(e,t),ot=u):ir(e,t),wr(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(z=t,c=t.child;c!==null;){for(h=z=c;z!==null;){switch(f=z,v=f.child,f.tag){case 0:case 11:case 14:case 15:$o(4,f,f.return);break;case 1:ds(f,f.return);var y=f.stateNode;if(typeof y.componentWillUnmount=="function"){n=f,r=f.return;try{e=n,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(w){Oe(n,r,w)}}break;case 5:ds(f,f.return);break;case 22:if(f.memoizedState!==null){Vv(h);continue}}v!==null?(v.return=f,z=v):Vv(h)}c=c.sibling}e:for(c=null,h=t;;){if(h.tag===5){if(c===null){c=h;try{i=h.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=iS("display",o))}catch(w){Oe(t,t.return,w)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(w){Oe(t,t.return,w)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ir(e,t),wr(t),n&4&&Gv(t);break;case 21:break;default:ir(e,t),wr(t)}}function wr(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(Ax(r)){var n=r;break e}r=r.return}throw Error(B(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Zo(i,""),n.flags&=-33);var s=zv(t);Tm(t,s,i);break;case 3:case 4:var o=n.stateNode.containerInfo,a=zv(t);Em(t,a,o);break;default:throw Error(B(161))}}catch(l){Oe(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function lk(t,e,r){z=t,Nx(t)}function Nx(t,e,r){for(var n=(t.mode&1)!==0;z!==null;){var i=z,s=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||$l;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||ot;a=$l;var u=ot;if($l=o,(ot=l)&&!u)for(z=i;z!==null;)o=z,l=o.child,o.tag===22&&o.memoizedState!==null?Qv(i):l!==null?(l.return=o,z=l):Qv(i);for(;s!==null;)z=s,Nx(s),s=s.sibling;z=i,$l=a,ot=u}Wv(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,z=s):Wv(t)}}function Wv(t){for(;z!==null;){var e=z;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ot||sd(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!ot)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:or(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&kv(e,s,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}kv(e,o,r)}break;case 5:var a=e.stateNode;if(r===null&&e.flags&4){r=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&na(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(B(163))}ot||e.flags&512&&Cm(e)}catch(f){Oe(e,e.return,f)}}if(e===t){z=null;break}if(r=e.sibling,r!==null){r.return=e.return,z=r;break}z=e.return}}function Vv(t){for(;z!==null;){var e=z;if(e===t){z=null;break}var r=e.sibling;if(r!==null){r.return=e.return,z=r;break}z=e.return}}function Qv(t){for(;z!==null;){var e=z;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{sd(4,e)}catch(l){Oe(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(l){Oe(e,i,l)}}var s=e.return;try{Cm(e)}catch(l){Oe(e,s,l)}break;case 5:var o=e.return;try{Cm(e)}catch(l){Oe(e,o,l)}}}catch(l){Oe(e,e.return,l)}if(e===t){z=null;break}var a=e.sibling;if(a!==null){a.return=e.return,z=a;break}z=e.return}}var uk=Math.ceil,Ju=Jr.ReactCurrentDispatcher,_y=Jr.ReactCurrentOwner,Gt=Jr.ReactCurrentBatchConfig,le=0,Ye=null,Fe=null,Ze=0,It=0,fs=ei(0),We=0,pa=null,Oi=0,od=0,wy=0,qo=null,gt=null,by=0,Ks=1/0,$r=null,Zu=!1,Pm=null,Un=null,ql=!1,Rn=null,ec=0,jo=0,Im=null,vu=-1,_u=0;function ct(){return le&6?Be():vu!==-1?vu:vu=Be()}function Fn(t){return t.mode&1?le&2&&Ze!==0?Ze&-Ze:WI.transition!==null?(_u===0&&(_u=yS()),_u):(t=ve,t!==0||(t=window.event,t=t===void 0?16:CS(t.type)),t):1}function hr(t,e,r,n){if(50<jo)throw jo=0,Im=null,Error(B(185));ol(t,r,n),(!(le&2)||t!==Ye)&&(t===Ye&&(!(le&2)&&(od|=r),We===4&&_n(t,Ze)),wt(t,n),r===1&&le===0&&!(e.mode&1)&&(Ks=Be()+500,rd&&ti()))}function wt(t,e){var r=t.callbackNode;WP(t,e);var n=Lu(t,t===Ye?Ze:0);if(n===0)r!==null&&nv(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&nv(r),e===1)t.tag===0?GI(Kv.bind(null,t)):HS(Kv.bind(null,t)),qI(function(){!(le&6)&&ti()}),r=null;else{switch(vS(n)){case 1:r=Vg;break;case 4:r=mS;break;case 16:r=Bu;break;case 536870912:r=gS;break;default:r=Bu}r=jx(r,Dx.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function Dx(t,e){if(vu=-1,_u=0,le&6)throw Error(B(327));var r=t.callbackNode;if(ws()&&t.callbackNode!==r)return null;var n=Lu(t,t===Ye?Ze:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=tc(t,n);else{e=n;var i=le;le|=2;var s=Lx();(Ye!==t||Ze!==e)&&($r=null,Ks=Be()+500,Si(t,e));do try{fk();break}catch(a){Bx(t,a)}while(1);oy(),Ju.current=s,le=i,Fe!==null?e=0:(Ye=null,Ze=0,e=We)}if(e!==0){if(e===2&&(i=tm(t),i!==0&&(n=i,e=km(t,i))),e===1)throw r=pa,Si(t,0),_n(t,n),wt(t,Be()),r;if(e===6)_n(t,n);else{if(i=t.current.alternate,!(n&30)&&!ck(i)&&(e=tc(t,n),e===2&&(s=tm(t),s!==0&&(n=s,e=km(t,s))),e===1))throw r=pa,Si(t,0),_n(t,n),wt(t,Be()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(B(345));case 2:oi(t,gt,$r);break;case 3:if(_n(t,n),(n&130023424)===n&&(e=by+500-Be(),10<e)){if(Lu(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){ct(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=um(oi.bind(null,t,gt,$r),e);break}oi(t,gt,$r);break;case 4:if(_n(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var o=31-fr(n);s=1<<o,o=e[o],o>i&&(i=o),n&=~s}if(n=i,n=Be()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*uk(n/1960))-n,10<n){t.timeoutHandle=um(oi.bind(null,t,gt,$r),n);break}oi(t,gt,$r);break;case 5:oi(t,gt,$r);break;default:throw Error(B(329))}}}return wt(t,Be()),t.callbackNode===r?Dx.bind(null,t):null}function km(t,e){var r=qo;return t.current.memoizedState.isDehydrated&&(Si(t,e).flags|=256),t=tc(t,e),t!==2&&(e=gt,gt=r,e!==null&&Rm(e)),t}function Rm(t){gt===null?gt=t:gt.push.apply(gt,t)}function ck(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!mr(s(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function _n(t,e){for(e&=~wy,e&=~od,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-fr(e),n=1<<r;t[r]=-1,e&=~n}}function Kv(t){if(le&6)throw Error(B(327));ws();var e=Lu(t,0);if(!(e&1))return wt(t,Be()),null;var r=tc(t,e);if(t.tag!==0&&r===2){var n=tm(t);n!==0&&(e=n,r=km(t,n))}if(r===1)throw r=pa,Si(t,0),_n(t,e),wt(t,Be()),r;if(r===6)throw Error(B(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,oi(t,gt,$r),wt(t,Be()),null}function Sy(t,e){var r=le;le|=1;try{return t(e)}finally{le=r,le===0&&(Ks=Be()+500,rd&&ti())}}function Ni(t){Rn!==null&&Rn.tag===0&&!(le&6)&&ws();var e=le;le|=1;var r=Gt.transition,n=ve;try{if(Gt.transition=null,ve=1,t)return t()}finally{ve=n,Gt.transition=r,le=e,!(le&6)&&ti()}}function xy(){It=fs.current,Pe(fs)}function Si(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,$I(r)),Fe!==null)for(r=Fe.return;r!==null;){var n=r;switch(ny(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&ju();break;case 3:Vs(),Pe(vt),Pe(at),fy();break;case 5:dy(n);break;case 4:Vs();break;case 13:Pe(Re);break;case 19:Pe(Re);break;case 10:ay(n.type._context);break;case 22:case 23:xy()}r=r.return}if(Ye=t,Fe=t=$n(t.current,null),Ze=It=e,We=0,pa=null,wy=od=Oi=0,gt=qo=null,li!==null){for(e=0;e<li.length;e++)if(r=li[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var o=s.next;s.next=i,n.next=o}r.pending=n}li=null}return t}function Bx(t,e){do{var r=Fe;try{if(oy(),mu.current=Xu,Yu){for(var n=Ae.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Yu=!1}if(Mi=0,Ke=Ge=Ae=null,Fo=!1,da=0,_y.current=null,r===null||r.return===null){We=1,pa=e,Fe=null;break}e:{var s=t,o=r.return,a=r,l=e;if(e=Ze,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,h=c.tag;if(!(c.mode&1)&&(h===0||h===11||h===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var v=Bv(o);if(v!==null){v.flags&=-257,Lv(v,o,a,s,e),v.mode&1&&Dv(s,u,e),e=v,l=u;var y=e.updateQueue;if(y===null){var w=new Set;w.add(l),e.updateQueue=w}else y.add(l);break e}else{if(!(e&1)){Dv(s,u,e),Cy();break e}l=Error(B(426))}}else if(ke&&a.mode&1){var _=Bv(o);if(_!==null){!(_.flags&65536)&&(_.flags|=256),Lv(_,o,a,s,e),iy(Qs(l,a));break e}}s=l=Qs(l,a),We!==4&&(We=2),qo===null?qo=[s]:qo.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var g=_x(s,l,e);Iv(s,g);break e;case 1:a=l;var p=s.type,m=s.stateNode;if(!(s.flags&128)&&(typeof p.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Un===null||!Un.has(m)))){s.flags|=65536,e&=-e,s.lanes|=e;var b=wx(s,a,e);Iv(s,b);break e}}s=s.return}while(s!==null)}Fx(r)}catch(S){e=S,Fe===r&&r!==null&&(Fe=r=r.return);continue}break}while(1)}function Lx(){var t=Ju.current;return Ju.current=Xu,t===null?Xu:t}function Cy(){(We===0||We===3||We===2)&&(We=4),Ye===null||!(Oi&268435455)&&!(od&268435455)||_n(Ye,Ze)}function tc(t,e){var r=le;le|=2;var n=Lx();(Ye!==t||Ze!==e)&&($r=null,Si(t,e));do try{dk();break}catch(i){Bx(t,i)}while(1);if(oy(),le=r,Ju.current=n,Fe!==null)throw Error(B(261));return Ye=null,Ze=0,We}function dk(){for(;Fe!==null;)Ux(Fe)}function fk(){for(;Fe!==null&&!LP();)Ux(Fe)}function Ux(t){var e=qx(t.alternate,t,It);t.memoizedProps=t.pendingProps,e===null?Fx(t):Fe=e,_y.current=null}function Fx(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=sk(r,e),r!==null){r.flags&=32767,Fe=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{We=6,Fe=null;return}}else if(r=ik(r,e,It),r!==null){Fe=r;return}if(e=e.sibling,e!==null){Fe=e;return}Fe=e=t}while(e!==null);We===0&&(We=5)}function oi(t,e,r){var n=ve,i=Gt.transition;try{Gt.transition=null,ve=1,hk(t,e,r,n)}finally{Gt.transition=i,ve=n}return null}function hk(t,e,r,n){do ws();while(Rn!==null);if(le&6)throw Error(B(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(B(177));t.callbackNode=null,t.callbackPriority=0;var s=r.lanes|r.childLanes;if(VP(t,s),t===Ye&&(Fe=Ye=null,Ze=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||ql||(ql=!0,jx(Bu,function(){return ws(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=Gt.transition,Gt.transition=null;var o=ve;ve=1;var a=le;le|=4,_y.current=null,ak(t,r),Ox(r,t),OI(am),Uu=!!om,am=om=null,t.current=r,lk(r),UP(),le=a,ve=o,Gt.transition=s}else t.current=r;if(ql&&(ql=!1,Rn=t,ec=i),s=t.pendingLanes,s===0&&(Un=null),qP(r.stateNode),wt(t,Be()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Zu)throw Zu=!1,t=Pm,Pm=null,t;return ec&1&&t.tag!==0&&ws(),s=t.pendingLanes,s&1?t===Im?jo++:(jo=0,Im=t):jo=0,ti(),null}function ws(){if(Rn!==null){var t=vS(ec),e=Gt.transition,r=ve;try{if(Gt.transition=null,ve=16>t?16:t,Rn===null)var n=!1;else{if(t=Rn,Rn=null,ec=0,le&6)throw Error(B(331));var i=le;for(le|=4,z=t.current;z!==null;){var s=z,o=s.child;if(z.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(z=u;z!==null;){var c=z;switch(c.tag){case 0:case 11:case 15:$o(8,c,s)}var h=c.child;if(h!==null)h.return=c,z=h;else for(;z!==null;){c=z;var f=c.sibling,v=c.return;if(Rx(c),c===u){z=null;break}if(f!==null){f.return=v,z=f;break}z=v}}}var y=s.alternate;if(y!==null){var w=y.child;if(w!==null){y.child=null;do{var _=w.sibling;w.sibling=null,w=_}while(w!==null)}}z=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,z=o;else e:for(;z!==null;){if(s=z,s.flags&2048)switch(s.tag){case 0:case 11:case 15:$o(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,z=g;break e}z=s.return}}var p=t.current;for(z=p;z!==null;){o=z;var m=o.child;if(o.subtreeFlags&2064&&m!==null)m.return=o,z=m;else e:for(o=p;z!==null;){if(a=z,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:sd(9,a)}}catch(S){Oe(a,a.return,S)}if(a===o){z=null;break e}var b=a.sibling;if(b!==null){b.return=a.return,z=b;break e}z=a.return}}if(le=i,ti(),Ar&&typeof Ar.onPostCommitFiberRoot=="function")try{Ar.onPostCommitFiberRoot(Xc,t)}catch{}n=!0}return n}finally{ve=r,Gt.transition=e}}return!1}function Yv(t,e,r){e=Qs(r,e),e=_x(t,e,1),t=Ln(t,e,1),e=ct(),t!==null&&(ol(t,1,e),wt(t,e))}function Oe(t,e,r){if(t.tag===3)Yv(t,t,r);else for(;e!==null;){if(e.tag===3){Yv(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Un===null||!Un.has(n))){t=Qs(r,t),t=wx(e,t,1),e=Ln(e,t,1),t=ct(),e!==null&&(ol(e,1,t),wt(e,t));break}}e=e.return}}function pk(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=ct(),t.pingedLanes|=t.suspendedLanes&r,Ye===t&&(Ze&r)===r&&(We===4||We===3&&(Ze&130023424)===Ze&&500>Be()-by?Si(t,0):wy|=r),wt(t,e)}function $x(t,e){e===0&&(t.mode&1?(e=Al,Al<<=1,!(Al&130023424)&&(Al=4194304)):e=1);var r=ct();t=Kr(t,e),t!==null&&(ol(t,e,r),wt(t,r))}function mk(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),$x(t,r)}function gk(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(B(314))}n!==null&&n.delete(e),$x(t,r)}var qx;qx=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||vt.current)yt=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return yt=!1,nk(t,e,r);yt=!!(t.flags&131072)}else yt=!1,ke&&e.flags&1048576&&zS(e,Gu,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;yu(t,e),t=e.pendingProps;var i=zs(e,at.current);_s(e,r),i=py(null,e,n,t,i,r);var s=my();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,_t(n)?(s=!0,Hu(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,uy(e),i.updater=nd,e.stateNode=i,i._reactInternals=e,gm(e,n,t,r),e=_m(null,e,n,!0,s,r)):(e.tag=0,ke&&s&&ry(e),ut(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(yu(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=vk(n),t=or(n,t),i){case 0:e=vm(null,e,n,t,r);break e;case 1:e=$v(null,e,n,t,r);break e;case 11:e=Uv(null,e,n,t,r);break e;case 14:e=Fv(null,e,n,or(n.type,t),r);break e}throw Error(B(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:or(n,i),vm(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:or(n,i),$v(t,e,n,i,r);case 3:e:{if(Cx(e),t===null)throw Error(B(387));n=e.pendingProps,s=e.memoizedState,i=s.element,QS(t,e),Qu(e,n,null,r);var o=e.memoizedState;if(n=o.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Qs(Error(B(423)),e),e=qv(t,e,n,r,i);break e}else if(n!==i){i=Qs(Error(B(424)),e),e=qv(t,e,n,r,i);break e}else for(kt=Bn(e.stateNode.containerInfo.firstChild),At=e,ke=!0,ur=null,r=JS(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Gs(),n===i){e=Yr(t,e,r);break e}ut(t,e,n,r)}e=e.child}return e;case 5:return ZS(e),t===null&&hm(e),n=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,lm(n,i)?o=null:s!==null&&lm(n,s)&&(e.flags|=32),xx(t,e),ut(t,e,o,r),e.child;case 6:return t===null&&hm(e),null;case 13:return Ex(t,e,r);case 4:return cy(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Ws(e,null,n,r):ut(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:or(n,i),Uv(t,e,n,i,r);case 7:return ut(t,e,e.pendingProps,r),e.child;case 8:return ut(t,e,e.pendingProps.children,r),e.child;case 12:return ut(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,xe(Wu,n._currentValue),n._currentValue=o,s!==null)if(mr(s.value,o)){if(s.children===i.children&&!vt.current){e=Yr(t,e,r);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===n){if(s.tag===1){l=Gr(-1,r&-r),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=r,l=s.alternate,l!==null&&(l.lanes|=r),pm(s.return,r,e),a.lanes|=r;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(B(341));o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),pm(o,r,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}ut(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,_s(e,r),i=Xt(i),n=n(i),e.flags|=1,ut(t,e,n,r),e.child;case 14:return n=e.type,i=or(n,e.pendingProps),i=or(n.type,i),Fv(t,e,n,i,r);case 15:return bx(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:or(n,i),yu(t,e),e.tag=1,_t(n)?(t=!0,Hu(e)):t=!1,_s(e,r),YS(e,n,i),gm(e,n,i,r),_m(null,e,n,!0,t,r);case 19:return Tx(t,e,r);case 22:return Sx(t,e,r)}throw Error(B(156,e.tag))};function jx(t,e){return pS(t,e)}function yk(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ht(t,e,r,n){return new yk(t,e,r,n)}function Ey(t){return t=t.prototype,!(!t||!t.isReactComponent)}function vk(t){if(typeof t=="function")return Ey(t)?1:0;if(t!=null){if(t=t.$$typeof,t===zg)return 11;if(t===Gg)return 14}return 2}function $n(t,e){var r=t.alternate;return r===null?(r=Ht(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function wu(t,e,r,n,i,s){var o=2;if(n=t,typeof t=="function")Ey(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case rs:return xi(r.children,i,s,e);case Hg:o=8,i|=8;break;case $p:return t=Ht(12,r,e,i|2),t.elementType=$p,t.lanes=s,t;case qp:return t=Ht(13,r,e,i),t.elementType=qp,t.lanes=s,t;case jp:return t=Ht(19,r,e,i),t.elementType=jp,t.lanes=s,t;case Xb:return ad(r,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Kb:o=10;break e;case Yb:o=9;break e;case zg:o=11;break e;case Gg:o=14;break e;case gn:o=16,n=null;break e}throw Error(B(130,t==null?t:typeof t,""))}return e=Ht(o,r,e,i),e.elementType=t,e.type=n,e.lanes=s,e}function xi(t,e,r,n){return t=Ht(7,t,n,e),t.lanes=r,t}function ad(t,e,r,n){return t=Ht(22,t,n,e),t.elementType=Xb,t.lanes=r,t.stateNode={isHidden:!1},t}function Ef(t,e,r){return t=Ht(6,t,null,e),t.lanes=r,t}function Tf(t,e,r){return e=Ht(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function _k(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=of(0),this.expirationTimes=of(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=of(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Ty(t,e,r,n,i,s,o,a,l){return t=new _k(t,e,r,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Ht(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},uy(s),t}function wk(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ts,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function Hx(t){if(!t)return zn;t=t._reactInternals;e:{if($i(t)!==t||t.tag!==1)throw Error(B(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(_t(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(B(171))}if(t.tag===1){var r=t.type;if(_t(r))return jS(t,r,e)}return e}function zx(t,e,r,n,i,s,o,a,l){return t=Ty(r,n,!0,t,i,s,o,a,l),t.context=Hx(null),r=t.current,n=ct(),i=Fn(r),s=Gr(n,i),s.callback=e??null,Ln(r,s,i),t.current.lanes=i,ol(t,i,n),wt(t,n),t}function ld(t,e,r,n){var i=e.current,s=ct(),o=Fn(i);return r=Hx(r),e.context===null?e.context=r:e.pendingContext=r,e=Gr(s,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Ln(i,e,o),t!==null&&(hr(t,i,o,s),pu(t,i,o)),o}function rc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Xv(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function Py(t,e){Xv(t,e),(t=t.alternate)&&Xv(t,e)}function bk(){return null}var Gx=typeof reportError=="function"?reportError:function(t){console.error(t)};function Iy(t){this._internalRoot=t}ud.prototype.render=Iy.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(B(409));ld(t,e,null,null)};ud.prototype.unmount=Iy.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ni(function(){ld(null,t,null,null)}),e[Qr]=null}};function ud(t){this._internalRoot=t}ud.prototype.unstable_scheduleHydration=function(t){if(t){var e=bS();t={blockedOn:null,target:t,priority:e};for(var r=0;r<vn.length&&e!==0&&e<vn[r].priority;r++);vn.splice(r,0,t),r===0&&xS(t)}};function ky(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function cd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Jv(){}function Sk(t,e,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var u=rc(o);s.call(u)}}var o=zx(e,n,t,0,null,!1,!1,"",Jv);return t._reactRootContainer=o,t[Qr]=o.current,oa(t.nodeType===8?t.parentNode:t),Ni(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var a=n;n=function(){var u=rc(l);a.call(u)}}var l=Ty(t,0,!1,null,null,!1,!1,"",Jv);return t._reactRootContainer=l,t[Qr]=l.current,oa(t.nodeType===8?t.parentNode:t),Ni(function(){ld(e,l,r,n)}),l}function dd(t,e,r,n,i){var s=r._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=rc(o);a.call(l)}}ld(e,o,t,i)}else o=Sk(r,e,t,i,n);return rc(o)}_S=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Ro(e.pendingLanes);r!==0&&(Qg(e,r|1),wt(e,Be()),!(le&6)&&(Ks=Be()+500,ti()))}break;case 13:Ni(function(){var n=Kr(t,1);if(n!==null){var i=ct();hr(n,t,1,i)}}),Py(t,1)}};Kg=function(t){if(t.tag===13){var e=Kr(t,134217728);if(e!==null){var r=ct();hr(e,t,134217728,r)}Py(t,134217728)}};wS=function(t){if(t.tag===13){var e=Fn(t),r=Kr(t,e);if(r!==null){var n=ct();hr(r,t,e,n)}Py(t,e)}};bS=function(){return ve};SS=function(t,e){var r=ve;try{return ve=t,e()}finally{ve=r}};Jp=function(t,e,r){switch(e){case"input":if(Gp(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=td(n);if(!i)throw Error(B(90));Zb(n),Gp(n,i)}}}break;case"textarea":tS(t,r);break;case"select":e=r.value,e!=null&&ms(t,!!r.multiple,e,!1)}};lS=Sy;uS=Ni;var xk={usingClientEntryPoint:!1,Events:[ll,os,td,oS,aS,Sy]},bo={findFiberByHostInstance:ai,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},Ck={bundleType:bo.bundleType,version:bo.version,rendererPackageName:bo.rendererPackageName,rendererConfig:bo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Jr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=fS(t),t===null?null:t.stateNode},findFiberByHostInstance:bo.findFiberByHostInstance||bk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jl.isDisabled&&jl.supportsFiber)try{Xc=jl.inject(Ck),Ar=jl}catch{}}Nt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xk;Nt.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ky(e))throw Error(B(200));return wk(t,e,null,r)};Nt.createRoot=function(t,e){if(!ky(t))throw Error(B(299));var r=!1,n="",i=Gx;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Ty(t,1,!1,null,null,r,!1,n,i),t[Qr]=e.current,oa(t.nodeType===8?t.parentNode:t),new Iy(e)};Nt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(B(188)):(t=Object.keys(t).join(","),Error(B(268,t)));return t=fS(e),t=t===null?null:t.stateNode,t};Nt.flushSync=function(t){return Ni(t)};Nt.hydrate=function(t,e,r){if(!cd(e))throw Error(B(200));return dd(null,t,e,!0,r)};Nt.hydrateRoot=function(t,e,r){if(!ky(t))throw Error(B(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",o=Gx;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=zx(e,null,t,1,r??null,i,!1,s,o),t[Qr]=e.current,oa(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new ud(e)};Nt.render=function(t,e,r){if(!cd(e))throw Error(B(200));return dd(null,t,e,!1,r)};Nt.unmountComponentAtNode=function(t){if(!cd(t))throw Error(B(40));return t._reactRootContainer?(Ni(function(){dd(null,null,t,!1,function(){t._reactRootContainer=null,t[Qr]=null})}),!0):!1};Nt.unstable_batchedUpdates=Sy;Nt.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!cd(r))throw Error(B(200));if(t==null||t._reactInternals===void 0)throw Error(B(38));return dd(t,e,r,!1,n)};Nt.version="18.2.0-next-9e3b772b8-20220608";function Wx(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Wx)}catch(t){console.error(t)}}Wx(),zb.exports=Nt;var Ry=zb.exports,Zv=Ry;Up.createRoot=Zv.createRoot,Up.hydrateRoot=Zv.hydrateRoot;function Vx(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(r=Vx(t[e]))&&(n&&(n+=" "),n+=r);else for(e in t)t[e]&&(n&&(n+=" "),n+=e);return n}function ma(){for(var t,e,r=0,n="";r<arguments.length;)(t=arguments[r++])&&(e=Vx(t))&&(n&&(n+=" "),n+=e);return n}function Ay({children:t,status:e,staticPosition:r=!1,className:n}){return F.jsx(F.Fragment,{children:F.jsx("div",{className:ma("m-3 flex items-center justify-center rounded-xl px-6 py-3",e==="error"?"bg-rose-900 font-radiocanada text-white":"bg-emerald-800 font-grandstander text-lime-100",!r&&"absolute inset-x-0",n),children:t})})}function Hl({message:t,staticPosition:e}){return F.jsxs(Ay,{status:"error",staticPosition:e,children:[F.jsx("strong",{className:"font-semibold",children:"Key Invalid"}),": ",t," Download a new key from [",F.jsx("a",{href:"https://slime2.stream/account",target:"_blank",rel:"noreferrer",className:"text-rose-200 underline",children:"slime2.stream/account"}),"]."]})}var Ek={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function Tk(t){if(typeof t=="number")return{value:t,unit:"px"};var e,r=(t.match(/^[0-9.]*/)||"").toString();r.includes(".")?e=parseFloat(r):e=parseInt(r,10);var n=(t.match(/[^0-9]*$/)||"").toString();return Ek[n]?{value:e,unit:n}:(console.warn("React Spinners: ".concat(t," is not a valid css value. Defaulting to ").concat(e,"px.")),{value:e,unit:"px"})}function zl(t){var e=Tk(t);return"".concat(e.value).concat(e.unit)}var Pk=function(t,e,r){var n="react-spinners-".concat(t,"-").concat(r);if(typeof window>"u"||!window.document)return n;var i=document.createElement("style");document.head.appendChild(i);var s=i.sheet,o=`
    @keyframes `.concat(n,` {
      `).concat(e,`
    }
  `);return s&&s.insertRule(o,0),n},nc=globalThis&&globalThis.__assign||function(){return nc=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},nc.apply(this,arguments)},Ik=globalThis&&globalThis.__rest||function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r},kk=Pk("ScaleLoader","0% {transform: scaley(1.0)} 50% {transform: scaley(0.4)} 100% {transform: scaley(1.0)}","scale");function Rk(t){var e=t.loading,r=e===void 0?!0:e,n=t.color,i=n===void 0?"#000000":n,s=t.speedMultiplier,o=s===void 0?1:s,a=t.cssOverride,l=a===void 0?{}:a,u=t.height,c=u===void 0?35:u,h=t.width,f=h===void 0?4:h,v=t.radius,y=v===void 0?2:v,w=t.margin,_=w===void 0?2:w,g=Ik(t,["loading","color","speedMultiplier","cssOverride","height","width","radius","margin"]),p=nc({display:"inherit"},l),m=function(b){return{backgroundColor:i,width:zl(f),height:zl(c),margin:zl(_),borderRadius:zl(y),display:"inline-block",animation:"".concat(kk," ").concat(1/o,"s ").concat(b*.1,"s infinite cubic-bezier(0.2, 0.68, 0.18, 1.08)"),animationFillMode:"both"}};return r?j.createElement("span",nc({style:p},g),j.createElement("span",{style:m(1)}),j.createElement("span",{style:m(2)}),j.createElement("span",{style:m(3)}),j.createElement("span",{style:m(4)}),j.createElement("span",{style:m(5)})):null}var Qx={},Kx={},My={exports:{}},Ee=String,Yx=function(){return{isColorSupported:!1,reset:Ee,bold:Ee,dim:Ee,italic:Ee,underline:Ee,inverse:Ee,hidden:Ee,strikethrough:Ee,black:Ee,red:Ee,green:Ee,yellow:Ee,blue:Ee,magenta:Ee,cyan:Ee,white:Ee,gray:Ee,bgBlack:Ee,bgRed:Ee,bgGreen:Ee,bgYellow:Ee,bgBlue:Ee,bgMagenta:Ee,bgCyan:Ee,bgWhite:Ee}};My.exports=Yx();My.exports.createColors=Yx;var Ak=My.exports;(function(t){Object.defineProperty(t,"__esModule",{value:!0});function e(l,u){for(var c in u)Object.defineProperty(l,c,{enumerable:!0,get:u[c]})}e(t,{dim:function(){return o},default:function(){return a}});const r=n(Ak);function n(l){return l&&l.__esModule?l:{default:l}}let i=new Set;function s(l,u,c){typeof process<"u"&&{}.JEST_WORKER_ID||c&&i.has(c)||(c&&i.add(c),console.warn(""),u.forEach(h=>console.warn(l,"-",h)))}function o(l){return r.default.dim(l)}const a={info(l,u){s(r.default.bold(r.default.cyan("info")),...Array.isArray(l)?[l]:[u,l])},warn(l,u){s(r.default.bold(r.default.yellow("warn")),...Array.isArray(l)?[l]:[u,l])},risk(l,u){s(r.default.bold(r.default.magenta("risk")),...Array.isArray(l)?[l]:[u,l])}}})(Kx);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i}});const e=r(Kx);function r(s){return s&&s.__esModule?s:{default:s}}function n({version:s,from:o,to:a}){e.default.warn(`${o}-color-renamed`,[`As of Tailwind CSS ${s}, \`${o}\` has been renamed to \`${a}\`.`,"Update your configuration file to silence this warning."])}const i={inherit:"inherit",current:"currentColor",transparent:"transparent",black:"#000",white:"#fff",slate:{50:"#f8fafc",100:"#f1f5f9",200:"#e2e8f0",300:"#cbd5e1",400:"#94a3b8",500:"#64748b",600:"#475569",700:"#334155",800:"#1e293b",900:"#0f172a",950:"#020617"},gray:{50:"#f9fafb",100:"#f3f4f6",200:"#e5e7eb",300:"#d1d5db",400:"#9ca3af",500:"#6b7280",600:"#4b5563",700:"#374151",800:"#1f2937",900:"#111827",950:"#030712"},zinc:{50:"#fafafa",100:"#f4f4f5",200:"#e4e4e7",300:"#d4d4d8",400:"#a1a1aa",500:"#71717a",600:"#52525b",700:"#3f3f46",800:"#27272a",900:"#18181b",950:"#09090b"},neutral:{50:"#fafafa",100:"#f5f5f5",200:"#e5e5e5",300:"#d4d4d4",400:"#a3a3a3",500:"#737373",600:"#525252",700:"#404040",800:"#262626",900:"#171717",950:"#0a0a0a"},stone:{50:"#fafaf9",100:"#f5f5f4",200:"#e7e5e4",300:"#d6d3d1",400:"#a8a29e",500:"#78716c",600:"#57534e",700:"#44403c",800:"#292524",900:"#1c1917",950:"#0c0a09"},red:{50:"#fef2f2",100:"#fee2e2",200:"#fecaca",300:"#fca5a5",400:"#f87171",500:"#ef4444",600:"#dc2626",700:"#b91c1c",800:"#991b1b",900:"#7f1d1d",950:"#450a0a"},orange:{50:"#fff7ed",100:"#ffedd5",200:"#fed7aa",300:"#fdba74",400:"#fb923c",500:"#f97316",600:"#ea580c",700:"#c2410c",800:"#9a3412",900:"#7c2d12",950:"#431407"},amber:{50:"#fffbeb",100:"#fef3c7",200:"#fde68a",300:"#fcd34d",400:"#fbbf24",500:"#f59e0b",600:"#d97706",700:"#b45309",800:"#92400e",900:"#78350f",950:"#451a03"},yellow:{50:"#fefce8",100:"#fef9c3",200:"#fef08a",300:"#fde047",400:"#facc15",500:"#eab308",600:"#ca8a04",700:"#a16207",800:"#854d0e",900:"#713f12",950:"#422006"},lime:{50:"#f7fee7",100:"#ecfccb",200:"#d9f99d",300:"#bef264",400:"#a3e635",500:"#84cc16",600:"#65a30d",700:"#4d7c0f",800:"#3f6212",900:"#365314",950:"#1a2e05"},green:{50:"#f0fdf4",100:"#dcfce7",200:"#bbf7d0",300:"#86efac",400:"#4ade80",500:"#22c55e",600:"#16a34a",700:"#15803d",800:"#166534",900:"#14532d",950:"#052e16"},emerald:{50:"#ecfdf5",100:"#d1fae5",200:"#a7f3d0",300:"#6ee7b7",400:"#34d399",500:"#10b981",600:"#059669",700:"#047857",800:"#065f46",900:"#064e3b",950:"#022c22"},teal:{50:"#f0fdfa",100:"#ccfbf1",200:"#99f6e4",300:"#5eead4",400:"#2dd4bf",500:"#14b8a6",600:"#0d9488",700:"#0f766e",800:"#115e59",900:"#134e4a",950:"#042f2e"},cyan:{50:"#ecfeff",100:"#cffafe",200:"#a5f3fc",300:"#67e8f9",400:"#22d3ee",500:"#06b6d4",600:"#0891b2",700:"#0e7490",800:"#155e75",900:"#164e63",950:"#083344"},sky:{50:"#f0f9ff",100:"#e0f2fe",200:"#bae6fd",300:"#7dd3fc",400:"#38bdf8",500:"#0ea5e9",600:"#0284c7",700:"#0369a1",800:"#075985",900:"#0c4a6e",950:"#082f49"},blue:{50:"#eff6ff",100:"#dbeafe",200:"#bfdbfe",300:"#93c5fd",400:"#60a5fa",500:"#3b82f6",600:"#2563eb",700:"#1d4ed8",800:"#1e40af",900:"#1e3a8a",950:"#172554"},indigo:{50:"#eef2ff",100:"#e0e7ff",200:"#c7d2fe",300:"#a5b4fc",400:"#818cf8",500:"#6366f1",600:"#4f46e5",700:"#4338ca",800:"#3730a3",900:"#312e81",950:"#1e1b4b"},violet:{50:"#f5f3ff",100:"#ede9fe",200:"#ddd6fe",300:"#c4b5fd",400:"#a78bfa",500:"#8b5cf6",600:"#7c3aed",700:"#6d28d9",800:"#5b21b6",900:"#4c1d95",950:"#2e1065"},purple:{50:"#faf5ff",100:"#f3e8ff",200:"#e9d5ff",300:"#d8b4fe",400:"#c084fc",500:"#a855f7",600:"#9333ea",700:"#7e22ce",800:"#6b21a8",900:"#581c87",950:"#3b0764"},fuchsia:{50:"#fdf4ff",100:"#fae8ff",200:"#f5d0fe",300:"#f0abfc",400:"#e879f9",500:"#d946ef",600:"#c026d3",700:"#a21caf",800:"#86198f",900:"#701a75",950:"#4a044e"},pink:{50:"#fdf2f8",100:"#fce7f3",200:"#fbcfe8",300:"#f9a8d4",400:"#f472b6",500:"#ec4899",600:"#db2777",700:"#be185d",800:"#9d174d",900:"#831843",950:"#500724"},rose:{50:"#fff1f2",100:"#ffe4e6",200:"#fecdd3",300:"#fda4af",400:"#fb7185",500:"#f43f5e",600:"#e11d48",700:"#be123c",800:"#9f1239",900:"#881337",950:"#4c0519"},get lightBlue(){return n({version:"v2.2",from:"lightBlue",to:"sky"}),this.sky},get warmGray(){return n({version:"v3.0",from:"warmGray",to:"stone"}),this.stone},get trueGray(){return n({version:"v3.0",from:"trueGray",to:"neutral"}),this.neutral},get coolGray(){return n({version:"v3.0",from:"coolGray",to:"gray"}),this.gray},get blueGray(){return n({version:"v3.0",from:"blueGray",to:"slate"}),this.slate}}})(Qx);let Pf=Qx;var Mk=(Pf.__esModule?Pf:{default:Pf}).default;const Ok=Xr(Mk);function ga({message:t,items:e,staticPosition:r}){return F.jsxs(Ay,{status:"loading",staticPosition:r,className:"flex-col",children:[F.jsxs("div",{className:"flex items-center justify-center gap-3",children:[Am,t,Am]}),e&&F.jsx("div",{className:"flex flex-col",children:e.map(n=>F.jsx(Nk,{...n},n.message))})]})}function Nk({message:t,status:e}){let r=Am;switch(e){case"error":r=F.jsx("p",{children:""});break;case"success":r=F.jsx("p",{children:""});break}return F.jsxs("div",{className:"flex items-center justify-between gap-2",children:[F.jsx("p",{children:t}),r]})}const Am=F.jsx(Rk,{color:Ok.lime[100],loading:!0,speedMultiplier:.5,height:16,width:3,radius:10});function cl(){}function io(){return j.useContext(Jx)}function Dk(){const t=j.useContext(Zx);function e(l){t({type:"set-on-event",onEvent:l})}function r(l){t({type:"set-platform",platform:l})}function n(l,u){t({type:"set-key",provider:l,key:u})}function i(l){t({type:"set-max-events",maxEvents:l})}function s(l){t({type:"set-event-delay",delay:l})}function o(l,u){t({type:"set-event-expiration",expiration:l,options:u})}function a(l){t({type:"set-widget-settings-page",fragment:l})}return{onEvent:e,setKey:n,setPlatform:r,setMaxEvents:i,setEventDelay:s,setEventExpiration:o,setWidgetSettingsPage:a}}const Xx={sendEvent:cl,maxEvents:100,platforms:[],keys:{twitch:"",google:""}},Jx=j.createContext(Xx),Zx=j.createContext(cl);function Bk(t,e){switch(e.type){case"set-platform":return{...t,platforms:Array.isArray(e.platform)?e.platform:[e.platform]};case"set-key":return{...t,keys:{...t.keys,[e.provider]:e.key}};case"set-on-event":return{...t,sendEvent:e.onEvent};case"set-max-events":return{...t,maxEvents:e.maxEvents};case"set-event-expiration":return{...t,eventExpiration:e.expiration,eventExpirationOptions:e.options};case"set-event-delay":return{...t,eventDelay:e.delay};case"set-widget-settings-page":return{...t,settingsPage:e.fragment}}}function $e(t,e){let r=t.length;Array.isArray(t[0])||(t=[t]),Array.isArray(e[0])||(e=e.map(o=>[o]));let n=e[0].length,i=e[0].map((o,a)=>e.map(l=>l[a])),s=t.map(o=>i.map(a=>{let l=0;if(!Array.isArray(o)){for(let u of a)l+=o*u;return l}for(let u=0;u<o.length;u++)l+=o[u]*(a[u]||0);return l}));return r===1&&(s=s[0]),n===1?s.map(o=>o[0]):s}function dl(t){return qn(t)==="string"}function qn(t){return(Object.prototype.toString.call(t).match(/^\[object\s+(.*?)\]$/)[1]||"").toLowerCase()}function ic(t,e){t=+t,e=+e;let r=(Math.floor(t)+"").length;if(e>r)return+t.toFixed(e-r);{let n=10**(r-e);return Math.round(t/n)*n}}function e2(t){if(!t)return;t=t.trim();const e=/^([a-z]+)\((.+?)\)$/i,r=/^-?[\d.]+$/;let n=t.match(e);if(n){let i=[];return n[2].replace(/\/?\s*([-\w.]+(?:%|deg)?)/g,(s,o)=>{/%$/.test(o)?(o=new Number(o.slice(0,-1)/100),o.type="<percentage>"):/deg$/.test(o)?(o=new Number(+o.slice(0,-3)),o.type="<angle>",o.unit="deg"):r.test(o)&&(o=new Number(o),o.type="<number>"),s.startsWith("/")&&(o=o instanceof Number?o:new Number(o),o.alpha=!0),i.push(o)}),{name:n[1].toLowerCase(),rawName:n[1],rawArgs:n[2],args:i}}}function t2(t){return t[t.length-1]}function sc(t,e,r){return isNaN(t)?e:isNaN(e)?t:t+(e-t)*r}function r2(t,e,r){return(r-t)/(e-t)}function Oy(t,e,r){return sc(e[0],e[1],r2(t[0],t[1],r))}function n2(t){return t.map(e=>e.split("|").map(r=>{r=r.trim();let n=r.match(/^(<[a-z]+>)\[(-?[.\d]+),\s*(-?[.\d]+)\]?$/);if(n){let i=new String(n[1]);return i.range=[+n[2],+n[3]],i}return r}))}var Lk=Object.freeze({__proto__:null,interpolate:sc,interpolateInv:r2,isString:dl,last:t2,mapRange:Oy,multiplyMatrices:$e,parseCoordGrammar:n2,parseFunction:e2,toPrecision:ic,type:qn});class Uk{add(e,r,n){if(typeof arguments[0]!="string"){for(var e in arguments[0])this.add(e,arguments[0][e],arguments[1]);return}(Array.isArray(e)?e:[e]).forEach(function(i){this[i]=this[i]||[],r&&this[i][n?"unshift":"push"](r)},this)}run(e,r){this[e]=this[e]||[],this[e].forEach(function(n){n.call(r&&r.context?r.context:r,r)})}}const Gn=new Uk;var Or={gamut_mapping:"lch.c",precision:5,deltaE:"76"};const dr={D50:[.3457/.3585,1,(1-.3457-.3585)/.3585],D65:[.3127/.329,1,(1-.3127-.329)/.329]};function Mm(t){return Array.isArray(t)?t:dr[t]}function oc(t,e,r,n={}){if(t=Mm(t),e=Mm(e),!t||!e)throw new TypeError(`Missing white point to convert ${t?"":"from"}${!t&&!e?"/":""}${e?"":"to"}`);if(t===e)return r;let i={W1:t,W2:e,XYZ:r,options:n};if(Gn.run("chromatic-adaptation-start",i),i.M||(i.W1===dr.D65&&i.W2===dr.D50?i.M=[[1.0479298208405488,.022946793341019088,-.05019222954313557],[.029627815688159344,.990434484573249,-.01707382502938514],[-.009243058152591178,.015055144896577895,.7518742899580008]]:i.W1===dr.D50&&i.W2===dr.D65&&(i.M=[[.9554734527042182,-.023098536874261423,.0632593086610217],[-.028369706963208136,1.0099954580058226,.021041398966943008],[.012314001688319899,-.020507696433477912,1.3303659366080753]])),Gn.run("chromatic-adaptation-end",i),i.M)return $e(i.M,i.XYZ);throw new TypeError("Only Bradford CAT with white points D50 and D65 supported for now.")}const Fk=75e-6,Tt=class Tt{constructor(e){var i,s,o;this.id=e.id,this.name=e.name,this.base=e.base?Tt.get(e.base):null,this.aliases=e.aliases,this.base&&(this.fromBase=e.fromBase,this.toBase=e.toBase);let r=e.coords??this.base.coords;for(let a in r)"name"in r[a]||(r[a].name=a);this.coords=r;let n=e.white??this.base.white??"D65";this.white=Mm(n),this.formats=e.formats??{};for(let a in this.formats){let l=this.formats[a];l.type||(l.type="function"),l.name||(l.name=a)}e.cssId&&!((i=this.formats.functions)!=null&&i.color)?(this.formats.color={id:e.cssId},Object.defineProperty(this,"cssId",{value:e.cssId})):(s=this.formats)!=null&&s.color&&!((o=this.formats)!=null&&o.color.id)&&(this.formats.color.id=this.id),this.referred=e.referred,Object.defineProperty(this,"path",{value:$k(this).reverse(),writable:!1,enumerable:!0,configurable:!0}),Gn.run("colorspace-init-end",this)}inGamut(e,{epsilon:r=Fk}={}){if(this.isPolar)return e=this.toBase(e),this.base.inGamut(e,{epsilon:r});let n=Object.values(this.coords);return e.every((i,s)=>{let o=n[s];if(o.type!=="angle"&&o.range){if(Number.isNaN(i))return!0;let[a,l]=o.range;return(a===void 0||i>=a-r)&&(l===void 0||i<=l+r)}return!0})}get cssId(){var e,r;return((r=(e=this.formats.functions)==null?void 0:e.color)==null?void 0:r.id)||this.id}get isPolar(){for(let e in this.coords)if(this.coords[e].type==="angle")return!0;return!1}getFormat(e){if(typeof e=="object")return e=e_(e,this),e;let r;return e==="default"?r=Object.values(this.formats)[0]:r=this.formats[e],r?(r=e_(r,this),r):null}equals(e){return e?this===e||this.id===e.id:!1}to(e,r){if(arguments.length===1&&([e,r]=[e.space,e.coords]),e=Tt.get(e),this.equals(e))return r;r=r.map(a=>Number.isNaN(a)?0:a);let n=this.path,i=e.path,s,o;for(let a=0;a<n.length&&n[a].equals(i[a]);a++)s=n[a],o=a;if(!s)throw new Error(`Cannot convert between color spaces ${this} and ${e}: no connection space was found`);for(let a=n.length-1;a>o;a--)r=n[a].toBase(r);for(let a=o+1;a<i.length;a++)r=i[a].fromBase(r);return r}from(e,r){return arguments.length===1&&([e,r]=[e.space,e.coords]),e=Tt.get(e),e.to(this,r)}toString(){return`${this.name} (${this.id})`}getMinCoords(){let e=[];for(let r in this.coords){let n=this.coords[r],i=n.range||n.refRange;e.push((i==null?void 0:i.min)??0)}return e}static get all(){return[...new Set(Object.values(Tt.registry))]}static register(e,r){if(arguments.length===1&&(r=arguments[0],e=r.id),r=this.get(r),this.registry[e]&&this.registry[e]!==r)throw new Error(`Duplicate color space registration: '${e}'`);if(this.registry[e]=r,arguments.length===1&&r.aliases)for(let n of r.aliases)this.register(n,r);return r}static get(e,...r){if(!e||e instanceof Tt)return e;if(qn(e)==="string"){let i=Tt.registry[e.toLowerCase()];if(!i)throw new TypeError(`No color space found with id = "${e}"`);return i}if(r.length)return Tt.get(...r);throw new TypeError(`${e} is not a valid color space`)}static resolveCoord(e,r){var l;let n=qn(e),i,s;if(n==="string"?e.includes(".")?[i,s]=e.split("."):[i,s]=[,e]:Array.isArray(e)?[i,s]=e:(i=e.space,s=e.coordId),i=Tt.get(i),i||(i=r),!i)throw new TypeError(`Cannot resolve coordinate reference ${e}: No color space specified and relative references are not allowed here`);if(n=qn(s),n==="number"||n==="string"&&s>=0){let u=Object.entries(i.coords)[s];if(u)return{space:i,id:u[0],index:s,...u[1]}}i=Tt.get(i);let o=s.toLowerCase(),a=0;for(let u in i.coords){let c=i.coords[u];if(u.toLowerCase()===o||((l=c.name)==null?void 0:l.toLowerCase())===o)return{space:i,id:u,index:a,...c};a++}throw new TypeError(`No "${s}" coordinate found in ${i.name}. Its coordinates are: ${Object.keys(i.coords).join(", ")}`)}};_r(Tt,"registry",{}),_r(Tt,"DEFAULT_FORMAT",{type:"functions",name:"color"});let J=Tt;function $k(t){let e=[t];for(let r=t;r=r.base;)e.push(r);return e}function e_(t,{coords:e}={}){if(t.coords&&!t.coordGrammar){t.type||(t.type="function"),t.name||(t.name="color"),t.coordGrammar=n2(t.coords);let r=Object.entries(e).map(([n,i],s)=>{let o=t.coordGrammar[s][0],a=i.range||i.refRange,l=o.range,u="";return o=="<percentage>"?(l=[0,100],u="%"):o=="<angle>"&&(u="deg"),{fromRange:a,toRange:l,suffix:u}});t.serializeCoords=(n,i)=>n.map((s,o)=>{let{fromRange:a,toRange:l,suffix:u}=r[o];return a&&l&&(s=Oy(a,l,s)),s=ic(s,i),u&&(s+=u),s})}return t}var Wt=new J({id:"xyz-d65",name:"XYZ D65",coords:{x:{name:"X"},y:{name:"Y"},z:{name:"Z"}},white:"D65",formats:{color:{ids:["xyz-d65","xyz"]}},aliases:["xyz"]});class St extends J{constructor(e){e.coords||(e.coords={r:{range:[0,1],name:"Red"},g:{range:[0,1],name:"Green"},b:{range:[0,1],name:"Blue"}}),e.base||(e.base=Wt),e.toXYZ_M&&e.fromXYZ_M&&(e.toBase??(e.toBase=r=>{let n=$e(e.toXYZ_M,r);return this.white!==this.base.white&&(n=oc(this.white,this.base.white,n)),n}),e.fromBase??(e.fromBase=r=>(r=oc(this.base.white,this.white,r),$e(e.fromXYZ_M,r)))),e.referred??(e.referred="display"),super(e)}}function i2(t,{meta:e}={}){var n,i,s,o,a;let r={str:(n=String(t))==null?void 0:n.trim()};if(Gn.run("parse-start",r),r.color)return r.color;if(r.parsed=e2(r.str),r.parsed){let l=r.parsed.name;if(l==="color"){let u=r.parsed.args.shift(),c=r.parsed.rawArgs.indexOf("/")>0?r.parsed.args.pop():1;for(let f of J.all){let v=f.getFormat("color");if(v&&(u===v.id||(i=v.ids)!=null&&i.includes(u))){const y=Object.keys(f.coords).map((w,_)=>r.parsed.args[_]||0);return e&&(e.formatId="color"),{spaceId:f.id,coords:y,alpha:c}}}let h="";if(u in J.registry){let f=(a=(o=(s=J.registry[u].formats)==null?void 0:s.functions)==null?void 0:o.color)==null?void 0:a.id;f&&(h=`Did you mean color(${f})?`)}throw new TypeError(`Cannot parse color(${u}). `+(h||"Missing a plugin?"))}else for(let u of J.all){let c=u.getFormat(l);if(c&&c.type==="function"){let h=1;(c.lastAlpha||t2(r.parsed.args).alpha)&&(h=r.parsed.args.pop());let f=r.parsed.args,v;return c.coordGrammar&&(v=Object.entries(u.coords).map(([y,w],_)=>{var R;let g=c.coordGrammar[_],p=(R=f[_])==null?void 0:R.type,m=g.find(A=>A==p);if(!m){let A=w.name||y;throw new TypeError(`${p} not allowed for ${A} in ${l}()`)}let b=m.range;p==="<percentage>"&&(b||(b=[0,1]));let S=w.range||w.refRange;return b&&S&&(f[_]=Oy(b,S,f[_])),m})),e&&Object.assign(e,{formatId:c.name,types:v}),{spaceId:u.id,coords:f,alpha:h}}}}else for(let l of J.all)for(let u in l.formats){let c=l.formats[u];if(c.type!=="custom"||c.test&&!c.test(r.str))continue;let h=c.parse(r.str);if(h)return h.alpha??(h.alpha=1),e&&(e.formatId=u),h}throw new TypeError(`Could not parse ${t} as a color. Missing a plugin?`)}function fe(t){if(!t)throw new TypeError("Empty color reference");dl(t)&&(t=i2(t));let e=t.space||t.spaceId;return e instanceof J||(t.space=J.get(e)),t.alpha===void 0&&(t.alpha=1),t}function fl(t,e){return e=J.get(e),e.from(t)}function Vt(t,e){let{space:r,index:n}=J.resolveCoord(e,t.space);return fl(t,r)[n]}function s2(t,e,r){return e=J.get(e),t.coords=e.to(t.space,r),t}function Wn(t,e,r){if(t=fe(t),arguments.length===2&&qn(arguments[1])==="object"){let n=arguments[1];for(let i in n)Wn(t,i,n[i])}else{typeof r=="function"&&(r=r(Vt(t,e)));let{space:n,index:i}=J.resolveCoord(e,t.space),s=fl(t,n);s[i]=r,s2(t,n,s)}return t}var Ny=new J({id:"xyz-d50",name:"XYZ D50",white:"D50",base:Wt,fromBase:t=>oc(Wt.white,"D50",t),toBase:t=>oc("D50",Wt.white,t),formats:{color:{}}});const qk=216/24389,t_=24/116,Gl=24389/27;let If=dr.D50;var Rt=new J({id:"lab",name:"Lab",coords:{l:{refRange:[0,100],name:"L"},a:{refRange:[-125,125]},b:{refRange:[-125,125]}},white:If,base:Ny,fromBase(t){let r=t.map((n,i)=>n/If[i]).map(n=>n>qk?Math.cbrt(n):(Gl*n+16)/116);return[116*r[1]-16,500*(r[0]-r[1]),200*(r[1]-r[2])]},toBase(t){let e=[];return e[1]=(t[0]+16)/116,e[0]=t[1]/500+e[1],e[2]=e[1]-t[2]/200,[e[0]>t_?Math.pow(e[0],3):(116*e[0]-16)/Gl,t[0]>8?Math.pow((t[0]+16)/116,3):t[0]/Gl,e[2]>t_?Math.pow(e[2],3):(116*e[2]-16)/Gl].map((n,i)=>n*If[i])},formats:{lab:{coords:["<number> | <percentage>","<number> | <percentage>[-1,1]","<number> | <percentage>[-1,1]"]}}});function fd(t){return(t%360+360)%360}function jk(t,e){if(t==="raw")return e;let[r,n]=e.map(fd),i=n-r;return t==="increasing"?i<0&&(n+=360):t==="decreasing"?i>0&&(r+=360):t==="longer"?-180<i&&i<180&&(i>0?r+=360:n+=360):t==="shorter"&&(i>180?r+=360:i<-180&&(n+=360)),[r,n]}var ya=new J({id:"lch",name:"LCH",coords:{l:{refRange:[0,100],name:"Lightness"},c:{refRange:[0,150],name:"Chroma"},h:{refRange:[0,360],type:"angle",name:"Hue"}},base:Rt,fromBase(t){let[e,r,n]=t,i;const s=.02;return Math.abs(r)<s&&Math.abs(n)<s?i=NaN:i=Math.atan2(n,r)*180/Math.PI,[e,Math.sqrt(r**2+n**2),fd(i)]},toBase(t){let[e,r,n]=t;return r<0&&(r=0),isNaN(n)&&(n=0),[e,r*Math.cos(n*Math.PI/180),r*Math.sin(n*Math.PI/180)]},formats:{lch:{coords:["<number> | <percentage>","<number> | <percentage>","<number> | <angle>"]}}});const r_=25**7,ac=Math.PI,n_=180/ac,Vi=ac/180;function Om(t,e,{kL:r=1,kC:n=1,kH:i=1}={}){let[s,o,a]=Rt.from(t),l=ya.from(Rt,[s,o,a])[1],[u,c,h]=Rt.from(e),f=ya.from(Rt,[u,c,h])[1];l<0&&(l=0),f<0&&(f=0);let y=((l+f)/2)**7,w=.5*(1-Math.sqrt(y/(y+r_))),_=(1+w)*o,g=(1+w)*c,p=Math.sqrt(_**2+a**2),m=Math.sqrt(g**2+h**2),b=_===0&&a===0?0:Math.atan2(a,_),S=g===0&&h===0?0:Math.atan2(h,g);b<0&&(b+=2*ac),S<0&&(S+=2*ac),b*=n_,S*=n_;let R=u-s,A=m-p,I=S-b,L=b+S,H=Math.abs(I),X;p*m===0?X=0:H<=180?X=I:I>180?X=I-360:I<-180?X=I+360:console.log("the unthinkable has happened");let _e=2*Math.sqrt(m*p)*Math.sin(X*Vi/2),me=(s+u)/2,P=(p+m)/2,N=Math.pow(P,7),V;p*m===0?V=L:H<=180?V=L/2:L<360?V=(L+360)/2:V=(L-360)/2;let ge=(me-50)**2,U=1+.015*ge/Math.sqrt(20+ge),$=1+.045*P,K=1;K-=.17*Math.cos((V-30)*Vi),K+=.24*Math.cos(2*V*Vi),K+=.32*Math.cos((3*V+6)*Vi),K-=.2*Math.cos((4*V-63)*Vi);let ae=1+.015*P*K,we=30*Math.exp(-1*((V-275)/25)**2),tn=2*Math.sqrt(N/(N+r_)),xt=-1*Math.sin(2*we*Vi)*tn,yr=(R/(r*U))**2;return yr+=(A/(n*$))**2,yr+=(_e/(i*ae))**2,yr+=xt*(A/(n*$))*(_e/(i*ae)),Math.sqrt(yr)}const Hk=75e-6;function Ho(t,e=t.space,{epsilon:r=Hk}={}){t=fe(t),e=J.get(e);let n=t.coords;return e!==t.space&&(n=e.from(t)),e.inGamut(n,{epsilon:r})}function va(t){return{space:t.space,coords:t.coords.slice(),alpha:t.alpha}}function Vn(t,{method:e=Or.gamut_mapping,space:r=t.space}={}){if(dl(arguments[1])&&(r=arguments[1]),r=J.get(r),Ho(t,r,{epsilon:0}))return fe(t);let n=zt(t,r);if(e!=="clip"&&!Ho(t,r)){let i=Vn(va(n),{method:"clip",space:r});if(Om(t,i)>2){let s=J.resolveCoord(e),o=s.space,a=s.id,l=zt(n,o),c=(s.range||s.refRange)[0],h=.01,f=c,v=Vt(l,a);for(;v-f>h;){let y=va(l);y=Vn(y,{space:r,method:"clip"}),Om(l,y)-2<h?f=Vt(l,a):v=Vt(l,a),Wn(l,a,(f+v)/2)}n=zt(l,r)}else n=i}if(e==="clip"||!Ho(n,r,{epsilon:0})){let i=Object.values(r.coords).map(s=>s.range||[]);n.coords=n.coords.map((s,o)=>{let[a,l]=i[o];return a!==void 0&&(s=Math.max(a,s)),l!==void 0&&(s=Math.min(s,l)),s})}return r!==t.space&&(n=zt(n,t.space)),t.coords=n.coords,t}Vn.returns="color";function zt(t,e,{inGamut:r}={}){t=fe(t),e=J.get(e);let n=e.from(t),i={space:e,coords:n,alpha:t.alpha};return r&&(i=Vn(i)),i}zt.returns="color";function lc(t,{precision:e=Or.precision,format:r="default",inGamut:n=!0,...i}={}){var l;let s;t=fe(t);let o=r;r=t.space.getFormat(r)??t.space.getFormat("default")??J.DEFAULT_FORMAT,n||(n=r.toGamut);let a=t.coords;if(a=a.map(u=>u||0),n&&!Ho(t)&&(a=Vn(va(t),n===!0?void 0:n).coords),r.type==="custom")if(i.precision=e,r.serialize)s=r.serialize(a,t.alpha,i);else throw new TypeError(`format ${o} can only be used to parse colors, not for serialization`);else{let u=r.name||"color";r.serializeCoords?a=r.serializeCoords(a,e):e!==null&&(a=a.map(v=>ic(v,e)));let c=[...a];if(u==="color"){let v=r.id||((l=r.ids)==null?void 0:l[0])||t.space.id;c.unshift(v)}let h=t.alpha;e!==null&&(h=ic(h,e));let f=t.alpha<1&&!r.noAlpha?`${r.commas?",":" /"} ${h}`:"";s=`${u}(${c.join(r.commas?", ":" ")}${f})`}return s}const zk=[[.6369580483012914,.14461690358620832,.1688809751641721],[.2627002120112671,.6779980715188708,.05930171646986196],[0,.028072693049087428,1.060985057710791]],Gk=[[1.716651187971268,-.355670783776392,-.25336628137366],[-.666684351832489,1.616481236634939,.0157685458139111],[.017639857445311,-.042770613257809,.942103121235474]];var hd=new St({id:"rec2020-linear",name:"Linear REC.2020",white:"D65",toXYZ_M:zk,fromXYZ_M:Gk,formats:{color:{}}});const Wl=1.09929682680944,i_=.018053968510807;var o2=new St({id:"rec2020",name:"REC.2020",base:hd,toBase(t){return t.map(function(e){return e<i_*4.5?e/4.5:Math.pow((e+Wl-1)/Wl,1/.45)})},fromBase(t){return t.map(function(e){return e>=i_?Wl*Math.pow(e,.45)-(Wl-1):4.5*e})},formats:{color:{}}});const Wk=[[.4865709486482162,.26566769316909306,.1982172852343625],[.2289745640697488,.6917385218365064,.079286914093745],[0,.04511338185890264,1.043944368900976]],Vk=[[2.493496911941425,-.9313836179191239,-.40271078445071684],[-.8294889695615747,1.7626640603183463,.023624685841943577],[.03584583024378447,-.07617238926804182,.9568845240076872]];var a2=new St({id:"p3-linear",name:"Linear P3",white:"D65",toXYZ_M:Wk,fromXYZ_M:Vk});const Qk=[[.41239079926595934,.357584339383878,.1804807884018343],[.21263900587151027,.715168678767756,.07219231536073371],[.01933081871559182,.11919477979462598,.9505321522496607]],Kk=[[3.2409699419045226,-1.537383177570094,-.4986107602930034],[-.9692436362808796,1.8759675015077202,.04155505740717559],[.05563007969699366,-.20397695888897652,1.0569715142428786]];var l2=new St({id:"srgb-linear",name:"Linear sRGB",white:"D65",toXYZ_M:Qk,fromXYZ_M:Kk,formats:{color:{}}}),s_={aliceblue:[240/255,248/255,1],antiquewhite:[250/255,235/255,215/255],aqua:[0,1,1],aquamarine:[127/255,1,212/255],azure:[240/255,1,1],beige:[245/255,245/255,220/255],bisque:[1,228/255,196/255],black:[0,0,0],blanchedalmond:[1,235/255,205/255],blue:[0,0,1],blueviolet:[138/255,43/255,226/255],brown:[165/255,42/255,42/255],burlywood:[222/255,184/255,135/255],cadetblue:[95/255,158/255,160/255],chartreuse:[127/255,1,0],chocolate:[210/255,105/255,30/255],coral:[1,127/255,80/255],cornflowerblue:[100/255,149/255,237/255],cornsilk:[1,248/255,220/255],crimson:[220/255,20/255,60/255],cyan:[0,1,1],darkblue:[0,0,139/255],darkcyan:[0,139/255,139/255],darkgoldenrod:[184/255,134/255,11/255],darkgray:[169/255,169/255,169/255],darkgreen:[0,100/255,0],darkgrey:[169/255,169/255,169/255],darkkhaki:[189/255,183/255,107/255],darkmagenta:[139/255,0,139/255],darkolivegreen:[85/255,107/255,47/255],darkorange:[1,140/255,0],darkorchid:[153/255,50/255,204/255],darkred:[139/255,0,0],darksalmon:[233/255,150/255,122/255],darkseagreen:[143/255,188/255,143/255],darkslateblue:[72/255,61/255,139/255],darkslategray:[47/255,79/255,79/255],darkslategrey:[47/255,79/255,79/255],darkturquoise:[0,206/255,209/255],darkviolet:[148/255,0,211/255],deeppink:[1,20/255,147/255],deepskyblue:[0,191/255,1],dimgray:[105/255,105/255,105/255],dimgrey:[105/255,105/255,105/255],dodgerblue:[30/255,144/255,1],firebrick:[178/255,34/255,34/255],floralwhite:[1,250/255,240/255],forestgreen:[34/255,139/255,34/255],fuchsia:[1,0,1],gainsboro:[220/255,220/255,220/255],ghostwhite:[248/255,248/255,1],gold:[1,215/255,0],goldenrod:[218/255,165/255,32/255],gray:[128/255,128/255,128/255],green:[0,128/255,0],greenyellow:[173/255,1,47/255],grey:[128/255,128/255,128/255],honeydew:[240/255,1,240/255],hotpink:[1,105/255,180/255],indianred:[205/255,92/255,92/255],indigo:[75/255,0,130/255],ivory:[1,1,240/255],khaki:[240/255,230/255,140/255],lavender:[230/255,230/255,250/255],lavenderblush:[1,240/255,245/255],lawngreen:[124/255,252/255,0],lemonchiffon:[1,250/255,205/255],lightblue:[173/255,216/255,230/255],lightcoral:[240/255,128/255,128/255],lightcyan:[224/255,1,1],lightgoldenrodyellow:[250/255,250/255,210/255],lightgray:[211/255,211/255,211/255],lightgreen:[144/255,238/255,144/255],lightgrey:[211/255,211/255,211/255],lightpink:[1,182/255,193/255],lightsalmon:[1,160/255,122/255],lightseagreen:[32/255,178/255,170/255],lightskyblue:[135/255,206/255,250/255],lightslategray:[119/255,136/255,153/255],lightslategrey:[119/255,136/255,153/255],lightsteelblue:[176/255,196/255,222/255],lightyellow:[1,1,224/255],lime:[0,1,0],limegreen:[50/255,205/255,50/255],linen:[250/255,240/255,230/255],magenta:[1,0,1],maroon:[128/255,0,0],mediumaquamarine:[102/255,205/255,170/255],mediumblue:[0,0,205/255],mediumorchid:[186/255,85/255,211/255],mediumpurple:[147/255,112/255,219/255],mediumseagreen:[60/255,179/255,113/255],mediumslateblue:[123/255,104/255,238/255],mediumspringgreen:[0,250/255,154/255],mediumturquoise:[72/255,209/255,204/255],mediumvioletred:[199/255,21/255,133/255],midnightblue:[25/255,25/255,112/255],mintcream:[245/255,1,250/255],mistyrose:[1,228/255,225/255],moccasin:[1,228/255,181/255],navajowhite:[1,222/255,173/255],navy:[0,0,128/255],oldlace:[253/255,245/255,230/255],olive:[128/255,128/255,0],olivedrab:[107/255,142/255,35/255],orange:[1,165/255,0],orangered:[1,69/255,0],orchid:[218/255,112/255,214/255],palegoldenrod:[238/255,232/255,170/255],palegreen:[152/255,251/255,152/255],paleturquoise:[175/255,238/255,238/255],palevioletred:[219/255,112/255,147/255],papayawhip:[1,239/255,213/255],peachpuff:[1,218/255,185/255],peru:[205/255,133/255,63/255],pink:[1,192/255,203/255],plum:[221/255,160/255,221/255],powderblue:[176/255,224/255,230/255],purple:[128/255,0,128/255],rebeccapurple:[102/255,51/255,153/255],red:[1,0,0],rosybrown:[188/255,143/255,143/255],royalblue:[65/255,105/255,225/255],saddlebrown:[139/255,69/255,19/255],salmon:[250/255,128/255,114/255],sandybrown:[244/255,164/255,96/255],seagreen:[46/255,139/255,87/255],seashell:[1,245/255,238/255],sienna:[160/255,82/255,45/255],silver:[192/255,192/255,192/255],skyblue:[135/255,206/255,235/255],slateblue:[106/255,90/255,205/255],slategray:[112/255,128/255,144/255],slategrey:[112/255,128/255,144/255],snow:[1,250/255,250/255],springgreen:[0,1,127/255],steelblue:[70/255,130/255,180/255],tan:[210/255,180/255,140/255],teal:[0,128/255,128/255],thistle:[216/255,191/255,216/255],tomato:[1,99/255,71/255],turquoise:[64/255,224/255,208/255],violet:[238/255,130/255,238/255],wheat:[245/255,222/255,179/255],white:[1,1,1],whitesmoke:[245/255,245/255,245/255],yellow:[1,1,0],yellowgreen:[154/255,205/255,50/255]};let o_=Array(3).fill("<percentage> | <number>[0, 255]"),a_=Array(3).fill("<number>[0, 255]");var _a=new St({id:"srgb",name:"sRGB",base:l2,fromBase:t=>t.map(e=>{let r=e<0?-1:1,n=e*r;return n>.0031308?r*(1.055*n**(1/2.4)-.055):12.92*e}),toBase:t=>t.map(e=>{let r=e<0?-1:1,n=e*r;return n<.04045?e/12.92:r*((n+.055)/1.055)**2.4}),formats:{rgb:{coords:o_},rgb_number:{name:"rgb",commas:!0,coords:a_,noAlpha:!0},color:{},rgba:{coords:o_,commas:!0,lastAlpha:!0},rgba_number:{name:"rgba",commas:!0,coords:a_},hex:{type:"custom",toGamut:!0,test:t=>/^#([a-f0-9]{3,4}){1,2}$/i.test(t),parse(t){t.length<=5&&(t=t.replace(/[a-f0-9]/gi,"$&$&"));let e=[];return t.replace(/[a-f0-9]{2}/gi,r=>{e.push(parseInt(r,16)/255)}),{spaceId:"srgb",coords:e.slice(0,3),alpha:e.slice(3)[0]}},serialize:(t,e,{collapse:r=!0}={})=>{e<1&&t.push(e),t=t.map(s=>Math.round(s*255));let n=r&&t.every(s=>s%17===0);return"#"+t.map(s=>n?(s/17).toString(16):s.toString(16).padStart(2,"0")).join("")}},keyword:{type:"custom",test:t=>/^[a-z]+$/i.test(t),parse(t){t=t.toLowerCase();let e={spaceId:"srgb",coords:null,alpha:1};if(t==="transparent"?(e.coords=s_.black,e.alpha=0):e.coords=s_[t],e.coords)return e}}}}),u2=new St({id:"p3",name:"P3",base:a2,fromBase:_a.fromBase,toBase:_a.toBase,formats:{color:{id:"display-p3"}}});Or.display_space=_a;if(typeof CSS<"u"&&CSS.supports)for(let t of[Rt,o2,u2]){let e=t.getMinCoords(),n=lc({space:t,coords:e,alpha:1});if(CSS.supports("color",n)){Or.display_space=t;break}}function Yk(t,{space:e=Or.display_space,...r}={}){let n=lc(t,r);if(typeof CSS>"u"||CSS.supports("color",n)||!Or.display_space)n=new String(n),n.color=t;else{let i=zt(t,e);n=new String(lc(i,r)),n.color=i}return n}function c2(t,e,r="lab"){r=J.get(r);let n=r.from(t),i=r.from(e);return Math.sqrt(n.reduce((s,o,a)=>{let l=i[a];return isNaN(o)||isNaN(l)?s:s+(l-o)**2},0))}function Xk(t,e){return t=fe(t),e=fe(e),t.space===e.space&&t.alpha===e.alpha&&t.coords.every((r,n)=>r===e.coords[n])}function Qn(t){return Vt(t,[Wt,"y"])}function d2(t,e){Wn(t,[Wt,"y"],e)}function Jk(t){Object.defineProperty(t.prototype,"luminance",{get(){return Qn(this)},set(e){d2(this,e)}})}var Zk=Object.freeze({__proto__:null,getLuminance:Qn,register:Jk,setLuminance:d2});function eR(t,e){t=fe(t),e=fe(e);let r=Math.max(Qn(t),0),n=Math.max(Qn(e),0);return n>r&&([r,n]=[n,r]),(r+.05)/(n+.05)}const tR=.56,rR=.57,nR=.62,iR=.65,l_=.022,sR=1.414,oR=.1,aR=5e-4,lR=1.14,u_=.027,uR=1.14;function c_(t){return t>=l_?t:t+(l_-t)**sR}function Qi(t){let e=t<0?-1:1,r=Math.abs(t);return e*Math.pow(r,2.4)}function cR(t,e){e=fe(e),t=fe(t);let r,n,i,s,o,a;e=zt(e,"srgb"),[s,o,a]=e.coords;let l=Qi(s)*.2126729+Qi(o)*.7151522+Qi(a)*.072175;t=zt(t,"srgb"),[s,o,a]=t.coords;let u=Qi(s)*.2126729+Qi(o)*.7151522+Qi(a)*.072175,c=c_(l),h=c_(u),f=h>c;return Math.abs(h-c)<aR?n=0:f?(r=h**tR-c**rR,n=r*lR):(r=h**iR-c**nR,n=r*uR),Math.abs(n)<oR?i=0:n>0?i=n-u_:i=n+u_,i*100}function dR(t,e){t=fe(t),e=fe(e);let r=Math.max(Qn(t),0),n=Math.max(Qn(e),0);n>r&&([r,n]=[n,r]);let i=r+n;return i===0?0:(r-n)/i}const fR=5e4;function hR(t,e){t=fe(t),e=fe(e);let r=Math.max(Qn(t),0),n=Math.max(Qn(e),0);return n>r&&([r,n]=[n,r]),n===0?fR:(r-n)/n}function pR(t,e){t=fe(t),e=fe(e);let r=Vt(t,[Rt,"l"]),n=Vt(e,[Rt,"l"]);return Math.abs(r-n)}const mR=216/24389,d_=24/116,Vl=24389/27;let kf=dr.D65;var Nm=new J({id:"lab-d65",name:"Lab D65",coords:{l:{refRange:[0,100],name:"L"},a:{refRange:[-125,125]},b:{refRange:[-125,125]}},white:kf,base:Wt,fromBase(t){let r=t.map((n,i)=>n/kf[i]).map(n=>n>mR?Math.cbrt(n):(Vl*n+16)/116);return[116*r[1]-16,500*(r[0]-r[1]),200*(r[1]-r[2])]},toBase(t){let e=[];return e[1]=(t[0]+16)/116,e[0]=t[1]/500+e[1],e[2]=e[1]-t[2]/200,[e[0]>d_?Math.pow(e[0],3):(116*e[0]-16)/Vl,t[0]>8?Math.pow((t[0]+16)/116,3):t[0]/Vl,e[2]>d_?Math.pow(e[2],3):(116*e[2]-16)/Vl].map((n,i)=>n*kf[i])},formats:{"lab-d65":{coords:["<number> | <percentage>","<number> | <percentage>[-1,1]","<number> | <percentage>[-1,1]"]}}});const Rf=Math.pow(5,.5)*.5+.5;function gR(t,e){t=fe(t),e=fe(e);let r=Vt(t,[Nm,"l"]),n=Vt(e,[Nm,"l"]),i=Math.abs(Math.pow(r,Rf)-Math.pow(n,Rf)),s=Math.pow(i,1/Rf)*Math.SQRT2-40;return s<7.5?0:s}var bu=Object.freeze({__proto__:null,contrastAPCA:cR,contrastDeltaPhi:gR,contrastLstar:pR,contrastMichelson:dR,contrastWCAG21:eR,contrastWeber:hR});function yR(t,e,r={}){dl(r)&&(r={algorithm:r});let{algorithm:n,...i}=r;if(!n){let s=Object.keys(bu).map(o=>o.replace(/^contrast/,"")).join(", ");throw new TypeError(`contrast() function needs a contrast algorithm. Please specify one of: ${s}`)}t=fe(t),e=fe(e);for(let s in bu)if("contrast"+n.toLowerCase()===s.toLowerCase())return bu[s](t,e,i);throw new TypeError(`Unknown contrast algorithm: ${n}`)}function f2(t){let[e,r,n]=fl(t,Wt),i=e+15*r+3*n;return[4*e/i,9*r/i]}function h2(t){let[e,r,n]=fl(t,Wt),i=e+r+n;return[e/i,r/i]}function vR(t){Object.defineProperty(t.prototype,"uv",{get(){return f2(this)}}),Object.defineProperty(t.prototype,"xy",{get(){return h2(this)}})}var _R=Object.freeze({__proto__:null,register:vR,uv:f2,xy:h2});function wR(t,e){return c2(t,e,"lab")}const bR=Math.PI,f_=bR/180;function SR(t,e,{l:r=2,c:n=1}={}){let[i,s,o]=Rt.from(t),[,a,l]=ya.from(Rt,[i,s,o]),[u,c,h]=Rt.from(e),f=ya.from(Rt,[u,c,h])[1];a<0&&(a=0),f<0&&(f=0);let v=i-u,y=a-f,w=s-c,_=o-h,g=w**2+_**2-y**2,p=.511;i>=16&&(p=.040975*i/(1+.01765*i));let m=.0638*a/(1+.0131*a)+.638,b;Number.isNaN(l)&&(l=0),l>=164&&l<=345?b=.56+Math.abs(.2*Math.cos((l+168)*f_)):b=.36+Math.abs(.4*Math.cos((l+35)*f_));let S=Math.pow(a,4),R=Math.sqrt(S/(S+1900)),A=m*(R*b+1-R),I=(v/(r*p))**2;return I+=(y/(n*m))**2,I+=g/A**2,Math.sqrt(I)}const h_=203;var Dy=new J({id:"xyz-abs-d65",name:"Absolute XYZ D65",coords:{x:{refRange:[0,9504.7],name:"Xa"},y:{refRange:[0,1e4],name:"Ya"},z:{refRange:[0,10888.3],name:"Za"}},base:Wt,fromBase(t){return t.map(e=>Math.max(e*h_,0))},toBase(t){return t.map(e=>Math.max(e/h_,0))}});const Ql=1.15,Kl=.66,p_=2610/2**14,xR=2**14/2610,m_=3424/2**12,g_=2413/2**7,y_=2392/2**7,CR=1.7*2523/2**5,v_=2**5/(1.7*2523),Yl=-.56,Af=16295499532821565e-27,ER=[[.41478972,.579999,.014648],[-.20151,1.120649,.0531008],[-.0166008,.2648,.6684799]],TR=[[1.9242264357876067,-1.0047923125953657,.037651404030618],[.35031676209499907,.7264811939316552,-.06538442294808501],[-.09098281098284752,-.3127282905230739,1.5227665613052603]],PR=[[.5,.5,0],[3.524,-4.066708,.542708],[.199076,1.096799,-1.295875]],IR=[[1,.1386050432715393,.05804731615611886],[.9999999999999999,-.1386050432715393,-.05804731615611886],[.9999999999999998,-.09601924202631895,-.8118918960560388]];var p2=new J({id:"jzazbz",name:"Jzazbz",coords:{jz:{refRange:[0,1],name:"Jz"},az:{refRange:[-.5,.5]},bz:{refRange:[-.5,.5]}},base:Dy,fromBase(t){let[e,r,n]=t,i=Ql*e-(Ql-1)*n,s=Kl*r-(Kl-1)*e,a=$e(ER,[i,s,n]).map(function(f){let v=m_+g_*(f/1e4)**p_,y=1+y_*(f/1e4)**p_;return(v/y)**CR}),[l,u,c]=$e(PR,a);return[(1+Yl)*l/(1+Yl*l)-Af,u,c]},toBase(t){let[e,r,n]=t,i=(e+Af)/(1+Yl-Yl*(e+Af)),o=$e(IR,[i,r,n]).map(function(f){let v=m_-f**v_,y=y_*f**v_-g_;return 1e4*(v/y)**xR}),[a,l,u]=$e(TR,o),c=(a+(Ql-1)*u)/Ql,h=(l+(Kl-1)*c)/Kl;return[c,h,u]},formats:{color:{}}}),Dm=new J({id:"jzczhz",name:"JzCzHz",coords:{jz:{refRange:[0,1],name:"Jz"},cz:{refRange:[0,1],name:"Chroma"},hz:{refRange:[0,360],type:"angle",name:"Hue"}},base:p2,fromBase(t){let[e,r,n]=t,i;const s=2e-4;return Math.abs(r)<s&&Math.abs(n)<s?i=NaN:i=Math.atan2(n,r)*180/Math.PI,[e,Math.sqrt(r**2+n**2),fd(i)]},toBase(t){return[t[0],t[1]*Math.cos(t[2]*Math.PI/180),t[1]*Math.sin(t[2]*Math.PI/180)]},formats:{color:{}}});function kR(t,e){let[r,n,i]=Dm.from(t),[s,o,a]=Dm.from(e),l=r-s,u=n-o;Number.isNaN(i)&&Number.isNaN(a)?(i=0,a=0):Number.isNaN(i)?i=a:Number.isNaN(a)&&(a=i);let c=i-a,h=2*Math.sqrt(n*o)*Math.sin(c/2*(Math.PI/180));return Math.sqrt(l**2+u**2+h**2)}const m2=3424/4096,g2=2413/128,y2=2392/128,__=2610/16384,RR=2523/32,AR=16384/2610,w_=32/2523,MR=[[.3592,.6976,-.0358],[-.1922,1.1004,.0755],[.007,.0749,.8434]],OR=[[2048/4096,2048/4096,0],[6610/4096,-13613/4096,7003/4096],[17933/4096,-17390/4096,-543/4096]],NR=[[.9999888965628402,.008605050147287059,.11103437159861648],[1.00001110343716,-.008605050147287059,-.11103437159861648],[1.0000320633910054,.56004913547279,-.3206339100541203]],DR=[[2.0701800566956137,-1.326456876103021,.20661600684785517],[.3649882500326575,.6804673628522352,-.04542175307585323],[-.04959554223893211,-.04942116118675749,1.1879959417328034]];var Bm=new J({id:"ictcp",name:"ICTCP",coords:{i:{refRange:[0,1],name:"I"},ct:{refRange:[-.5,.5],name:"CT"},cp:{refRange:[-.5,.5],name:"CP"}},base:Dy,fromBase(t){let e=$e(MR,t);return BR(e)},toBase(t){let e=LR(t);return $e(DR,e)},formats:{color:{}}});function BR(t){let e=t.map(function(r){let n=m2+g2*(r/1e4)**__,i=1+y2*(r/1e4)**__;return(n/i)**RR});return $e(OR,e)}function LR(t){return $e(NR,t).map(function(n){let i=Math.max(n**w_-m2,0),s=g2-y2*n**w_;return 1e4*(i/s)**AR})}function UR(t,e){let[r,n,i]=Bm.from(t),[s,o,a]=Bm.from(e);return 720*Math.sqrt((r-s)**2+.25*(n-o)**2+(i-a)**2)}const FR=[[.8190224432164319,.3619062562801221,-.12887378261216414],[.0329836671980271,.9292868468965546,.03614466816999844],[.048177199566046255,.26423952494422764,.6335478258136937]],$R=[[1.2268798733741557,-.5578149965554813,.28139105017721583],[-.04057576262431372,1.1122868293970594,-.07171106666151701],[-.07637294974672142,-.4214933239627914,1.5869240244272418]],qR=[[.2104542553,.793617785,-.0040720468],[1.9779984951,-2.428592205,.4505937099],[.0259040371,.7827717662,-.808675766]],jR=[[.9999999984505198,.39633779217376786,.2158037580607588],[1.0000000088817609,-.10556134232365635,-.06385417477170591],[1.0000000546724108,-.08948418209496575,-1.2914855378640917]];var uc=new J({id:"oklab",name:"Oklab",coords:{l:{refRange:[0,1],name:"L"},a:{refRange:[-.4,.4]},b:{refRange:[-.4,.4]}},white:"D65",base:Wt,fromBase(t){let r=$e(FR,t).map(n=>Math.cbrt(n));return $e(qR,r)},toBase(t){let r=$e(jR,t).map(n=>n**3);return $e($R,r)},formats:{oklab:{coords:["<percentage> | <number>","<number> | <percentage>[-1,1]","<number> | <percentage>[-1,1]"]}}});function HR(t,e){let[r,n,i]=uc.from(t),[s,o,a]=uc.from(e),l=r-s,u=n-o,c=i-a;return Math.sqrt(l**2+u**2+c**2)}var cc={deltaE76:wR,deltaECMC:SR,deltaE2000:Om,deltaEJz:kR,deltaEITP:UR,deltaEOK:HR};function Mo(t,e,r={}){dl(r)&&(r={method:r});let{method:n=Or.deltaE,...i}=r;t=fe(t),e=fe(e);for(let s in cc)if("deltae"+n.toLowerCase()===s.toLowerCase())return cc[s](t,e,i);throw new TypeError(`Unknown deltaE method: ${n}`)}function zR(t,e=.25){let n=[J.get("oklch","lch"),"l"];return Wn(t,n,i=>i*(1+e))}function GR(t,e=.25){let n=[J.get("oklch","lch"),"l"];return Wn(t,n,i=>i*(1-e))}var WR=Object.freeze({__proto__:null,darken:GR,lighten:zR});function v2(t,e,r=.5,n={}){[t,e]=[fe(t),fe(e)],qn(r)==="object"&&([r,n]=[.5,r]);let{space:i,outputSpace:s,premultiplied:o}=n;return hl(t,e,{space:i,outputSpace:s,premultiplied:o})(r)}function _2(t,e,r={}){let n;By(t)&&([n,r]=[t,e],[t,e]=n.rangeArgs.colors);let{maxDeltaE:i,deltaEMethod:s,steps:o=2,maxSteps:a=1e3,...l}=r;n||([t,e]=[fe(t),fe(e)],n=hl(t,e,l));let u=Mo(t,e),c=i>0?Math.max(o,Math.ceil(u/i)+1):o,h=[];if(a!==void 0&&(c=Math.min(c,a)),c===1)h=[{p:.5,color:n(.5)}];else{let f=1/(c-1);h=Array.from({length:c},(v,y)=>{let w=y*f;return{p:w,color:n(w)}})}if(i>0){let f=h.reduce((v,y,w)=>{if(w===0)return 0;let _=Mo(y.color,h[w-1].color,s);return Math.max(v,_)},0);for(;f>i;){f=0;for(let v=1;v<h.length&&h.length<a;v++){let y=h[v-1],w=h[v],_=(w.p+y.p)/2,g=n(_);f=Math.max(f,Mo(g,y.color),Mo(g,w.color)),h.splice(v,0,{p:_,color:n(_)}),v++}}}return h=h.map(f=>f.color),h}function hl(t,e,r={}){if(By(t)){let[l,u]=[t,e];return hl(...l.rangeArgs.colors,{...l.rangeArgs.options,...u})}let{space:n,outputSpace:i,progression:s,premultiplied:o}=r;t=fe(t),e=fe(e),t=va(t),e=va(e);let a={colors:[t,e],options:r};if(n?n=J.get(n):n=J.registry[Or.interpolationSpace]||t.space,i=i?J.get(i):n,t=zt(t,n),e=zt(e,n),t=Vn(t),e=Vn(e),n.coords.h&&n.coords.h.type==="angle"){let l=r.hue=r.hue||"shorter",u=[n,"h"],[c,h]=[Vt(t,u),Vt(e,u)];[c,h]=jk(l,[c,h]),Wn(t,u,c),Wn(e,u,h)}return o&&(t.coords=t.coords.map(l=>l*t.alpha),e.coords=e.coords.map(l=>l*e.alpha)),Object.assign(l=>{l=s?s(l):l;let u=t.coords.map((f,v)=>{let y=e.coords[v];return sc(f,y,l)}),c=sc(t.alpha,e.alpha,l),h={space:n,coords:u,alpha:c};return o&&(h.coords=h.coords.map(f=>f/c)),i!==n&&(h=zt(h,i)),h},{rangeArgs:a})}function By(t){return qn(t)==="function"&&!!t.rangeArgs}Or.interpolationSpace="lab";function VR(t){t.defineFunction("mix",v2,{returns:"color"}),t.defineFunction("range",hl,{returns:"function<color>"}),t.defineFunction("steps",_2,{returns:"array<color>"})}var QR=Object.freeze({__proto__:null,isRange:By,mix:v2,range:hl,register:VR,steps:_2}),w2=new J({id:"hsl",name:"HSL",coords:{h:{refRange:[0,360],type:"angle",name:"Hue"},s:{range:[0,100],name:"Saturation"},l:{range:[0,100],name:"Lightness"}},base:_a,fromBase:t=>{let e=Math.max(...t),r=Math.min(...t),[n,i,s]=t,[o,a,l]=[NaN,0,(r+e)/2],u=e-r;if(u!==0){switch(a=l===0||l===1?0:(e-l)/Math.min(l,1-l),e){case n:o=(i-s)/u+(i<s?6:0);break;case i:o=(s-n)/u+2;break;case s:o=(n-i)/u+4}o=o*60}return[o,a*100,l*100]},toBase:t=>{let[e,r,n]=t;e=e%360,e<0&&(e+=360),r/=100,n/=100;function i(s){let o=(s+e/30)%12,a=r*Math.min(n,1-n);return n-a*Math.max(-1,Math.min(o-3,9-o,1))}return[i(0),i(8),i(4)]},formats:{hsl:{toGamut:!0,coords:["<number> | <angle>","<percentage>","<percentage>"]},hsla:{coords:["<number> | <angle>","<percentage>","<percentage>"],commas:!0,lastAlpha:!0}}}),b2=new J({id:"hsv",name:"HSV",coords:{h:{refRange:[0,360],type:"angle",name:"Hue"},s:{range:[0,100],name:"Saturation"},v:{range:[0,100],name:"Value"}},base:w2,fromBase(t){let[e,r,n]=t;r/=100,n/=100;let i=n+r*Math.min(n,1-n);return[e,i===0?0:200*(1-n/i),100*i]},toBase(t){let[e,r,n]=t;r/=100,n/=100;let i=n*(1-r/2);return[e,i===0||i===1?0:(n-i)/Math.min(i,1-i)*100,i*100]},formats:{color:{toGamut:!0}}}),KR=new J({id:"hwb",name:"HWB",coords:{h:{refRange:[0,360],type:"angle",name:"Hue"},w:{range:[0,100],name:"Whiteness"},b:{range:[0,100],name:"Blackness"}},base:b2,fromBase(t){let[e,r,n]=t;return[e,n*(100-r)/100,100-n]},toBase(t){let[e,r,n]=t;r/=100,n/=100;let i=r+n;if(i>=1){let a=r/i;return[e,0,a*100]}let s=1-n,o=s===0?0:1-r/s;return[e,o*100,s*100]},formats:{hwb:{toGamut:!0,coords:["<number> | <angle>","<percentage>","<percentage>"]}}});const YR=[[.5766690429101305,.1855582379065463,.1882286462349947],[.29734497525053605,.6273635662554661,.07529145849399788],[.02703136138641234,.07068885253582723,.9913375368376388]],XR=[[2.0415879038107465,-.5650069742788596,-.34473135077832956],[-.9692436362808795,1.8759675015077202,.04155505740717557],[.013444280632031142,-.11836239223101838,1.0151749943912054]];var S2=new St({id:"a98rgb-linear",name:"Linear Adobe 98 RGB compatible",white:"D65",toXYZ_M:YR,fromXYZ_M:XR}),JR=new St({id:"a98rgb",name:"Adobe 98 RGB compatible",base:S2,toBase:t=>t.map(e=>Math.pow(Math.abs(e),563/256)*Math.sign(e)),fromBase:t=>t.map(e=>Math.pow(Math.abs(e),256/563)*Math.sign(e)),formats:{color:{id:"a98-rgb"}}});const ZR=[[.7977604896723027,.13518583717574031,.0313493495815248],[.2880711282292934,.7118432178101014,8565396060525902e-20],[0,0,.8251046025104601]],eA=[[1.3457989731028281,-.25558010007997534,-.05110628506753401],[-.5446224939028347,1.5082327413132781,.02053603239147973],[0,0,1.2119675456389454]];var x2=new St({id:"prophoto-linear",name:"Linear ProPhoto",white:"D50",base:Ny,toXYZ_M:ZR,fromXYZ_M:eA});const tA=1/512,rA=16/512;var nA=new St({id:"prophoto",name:"ProPhoto",base:x2,toBase(t){return t.map(e=>e<rA?e/16:e**1.8)},fromBase(t){return t.map(e=>e>=tA?e**(1/1.8):16*e)},formats:{color:{id:"prophoto-rgb"}}}),iA=new J({id:"oklch",name:"Oklch",coords:{l:{refRange:[0,1],name:"Lightness"},c:{refRange:[0,.4],name:"Chroma"},h:{refRange:[0,360],type:"angle",name:"Hue"}},white:"D65",base:uc,fromBase(t){let[e,r,n]=t,i;const s=2e-4;return Math.abs(r)<s&&Math.abs(n)<s?i=NaN:i=Math.atan2(n,r)*180/Math.PI,[e,Math.sqrt(r**2+n**2),fd(i)]},toBase(t){let[e,r,n]=t,i,s;return isNaN(n)?(i=0,s=0):(i=r*Math.cos(n*Math.PI/180),s=r*Math.sin(n*Math.PI/180)),[e,i,s]},formats:{oklch:{coords:["<number> | <percentage>","<number> | <percentage>[0,1]","<number> | <angle>"]}}});const b_=203,S_=2610/2**14,sA=2**14/2610,oA=2523/2**5,x_=2**5/2523,C_=3424/2**12,E_=2413/2**7,T_=2392/2**7;var aA=new St({id:"rec2100pq",name:"REC.2100-PQ",base:hd,toBase(t){return t.map(function(e){return(Math.max(e**x_-C_,0)/(E_-T_*e**x_))**sA*1e4/b_})},fromBase(t){return t.map(function(e){let r=Math.max(e*b_/1e4,0),n=C_+E_*r**S_,i=1+T_*r**S_;return(n/i)**oA})},formats:{color:{id:"rec2100-pq"}}});const P_=.17883277,I_=.28466892,k_=.55991073,Mf=3.7743;var lA=new St({id:"rec2100hlg",cssid:"rec2100-hlg",name:"REC.2100-HLG",referred:"scene",base:hd,toBase(t){return t.map(function(e){return e<=.5?e**2/3*Mf:(Math.exp((e-k_)/P_)+I_)/12*Mf})},fromBase(t){return t.map(function(e){return e/=Mf,e<=1/12?Math.sqrt(3*e):P_*Math.log(12*e-I_)+k_})},formats:{color:{id:"rec2100-hlg"}}});const C2={};Gn.add("chromatic-adaptation-start",t=>{t.options.method&&(t.M=E2(t.W1,t.W2,t.options.method))});Gn.add("chromatic-adaptation-end",t=>{t.M||(t.M=E2(t.W1,t.W2,t.options.method))});function pd({id:t,toCone_M:e,fromCone_M:r}){C2[t]=arguments[0]}function E2(t,e,r="Bradford"){let n=C2[r],[i,s,o]=$e(n.toCone_M,t),[a,l,u]=$e(n.toCone_M,e),c=[[a/i,0,0],[0,l/s,0],[0,0,u/o]],h=$e(c,n.toCone_M);return $e(n.fromCone_M,h)}pd({id:"von Kries",toCone_M:[[.40024,.7076,-.08081],[-.2263,1.16532,.0457],[0,0,.91822]],fromCone_M:[[1.8599364,-1.1293816,.2198974],[.3611914,.6388125,-64e-7],[0,0,1.0890636]]});pd({id:"Bradford",toCone_M:[[.8951,.2664,-.1614],[-.7502,1.7135,.0367],[.0389,-.0685,1.0296]],fromCone_M:[[.9869929,-.1470543,.1599627],[.4323053,.5183603,.0492912],[-.0085287,.0400428,.9684867]]});pd({id:"CAT02",toCone_M:[[.7328,.4296,-.1624],[-.7036,1.6975,.0061],[.003,.0136,.9834]],fromCone_M:[[1.0961238,-.278869,.1827452],[.454369,.4735332,.0720978],[-.0096276,-.005698,1.0153256]]});pd({id:"CAT16",toCone_M:[[.401288,.650173,-.051461],[-.250268,1.204414,.045854],[-.002079,.048952,.953127]],fromCone_M:[[1.862067855087233,-1.011254630531685,.1491867754444518],[.3875265432361372,.6214474419314753,-.008973985167612518],[-.01584149884933386,-.03412293802851557,1.04996443687785]]});Object.assign(dr,{A:[1.0985,1,.35585],C:[.98074,1,1.18232],D55:[.95682,1,.92149],D75:[.94972,1,1.22638],E:[1,1,1],F2:[.99186,1,.67393],F7:[.95041,1,1.08747],F11:[1.00962,1,.6435]});dr.ACES=[.32168/.33767,1,(1-.32168-.33767)/.33767];const uA=[[.6624541811085053,.13400420645643313,.1561876870049078],[.27222871678091454,.6740817658111484,.05368951740793705],[-.005574649490394108,.004060733528982826,1.0103391003129971]],cA=[[1.6410233796943257,-.32480329418479,-.23642469523761225],[-.6636628587229829,1.6153315916573379,.016756347685530137],[.011721894328375376,-.008284441996237409,.9883948585390215]];var T2=new St({id:"acescg",name:"ACEScg",coords:{r:{range:[0,65504],name:"Red"},g:{range:[0,65504],name:"Green"},b:{range:[0,65504],name:"Blue"}},referred:"scene",white:dr.ACES,toXYZ_M:uA,fromXYZ_M:cA,formats:{color:{}}});const Xl=2**-16,Of=-.35828683,Jl=(Math.log2(65504)+9.72)/17.52;var dA=new St({id:"acescc",name:"ACEScc",coords:{r:{range:[Of,Jl],name:"Red"},g:{range:[Of,Jl],name:"Green"},b:{range:[Of,Jl],name:"Blue"}},referred:"scene",base:T2,toBase(t){const e=-.3013698630136986;return t.map(function(r){return r<=e?(2**(r*17.52-9.72)-Xl)*2:r<Jl?2**(r*17.52-9.72):65504})},fromBase(t){return t.map(function(e){return e<=0?(Math.log2(Xl)+9.72)/17.52:e<Xl?(Math.log2(Xl+e*.5)+9.72)/17.52:(Math.log2(e)+9.72)/17.52})},formats:{color:{}}}),R_=Object.freeze({__proto__:null,A98RGB:JR,A98RGB_Linear:S2,ACEScc:dA,ACEScg:T2,HSL:w2,HSV:b2,HWB:KR,ICTCP:Bm,JzCzHz:Dm,Jzazbz:p2,LCH:ya,Lab:Rt,Lab_D65:Nm,OKLCH:iA,OKLab:uc,P3:u2,P3_Linear:a2,ProPhoto:nA,ProPhoto_Linear:x2,REC_2020:o2,REC_2020_Linear:hd,REC_2100_HLG:lA,REC_2100_PQ:aA,XYZ_ABS_D65:Dy,XYZ_D50:Ny,XYZ_D65:Wt,sRGB:_a,sRGB_Linear:l2});class ye{constructor(...e){let r;e.length===1&&(r=fe(e[0]));let n,i,s;r?(n=r.space||r.spaceId,i=r.coords,s=r.alpha):[n,i,s]=e,Object.defineProperty(this,"space",{value:J.get(n),writable:!1,enumerable:!0,configurable:!0}),this.coords=i?i.slice():[0,0,0],this.alpha=s<1?s:1;for(let o=0;o<this.coords.length;o++)this.coords[o]==="NaN"&&(this.coords[o]=NaN);for(let o in this.space.coords)Object.defineProperty(this,o,{get:()=>this.get(o),set:a=>this.set(o,a)})}get spaceId(){return this.space.id}clone(){return new ye(this.space,this.coords,this.alpha)}toJSON(){return{spaceId:this.spaceId,coords:this.coords,alpha:this.alpha}}display(...e){let r=Yk(this,...e);return r.color=new ye(r.color),r}static get(e,...r){return e instanceof ye?e:new ye(e,...r)}static defineFunction(e,r,n=r){let{instance:i=!0,returns:s}=n,o=function(...a){let l=r(...a);if(s==="color")l=ye.get(l);else if(s==="function<color>"){let u=l;l=function(...c){let h=u(...c);return ye.get(h)},Object.assign(l,u)}else s==="array<color>"&&(l=l.map(u=>ye.get(u)));return l};e in ye||(ye[e]=o),i&&(ye.prototype[e]=function(...a){return o(this,...a)})}static defineFunctions(e){for(let r in e)ye.defineFunction(r,e[r],e[r])}static extend(e){if(e.register)e.register(ye);else for(let r in e)ye.defineFunction(r,e[r])}}ye.defineFunctions({get:Vt,getAll:fl,set:Wn,setAll:s2,to:zt,equals:Xk,inGamut:Ho,toGamut:Vn,distance:c2,toString:lc});Object.assign(ye,{util:Lk,hooks:Gn,WHITES:dr,Space:J,spaces:J.registry,parse:i2,defaults:Or});for(let t of Object.keys(R_))J.register(R_[t]);for(let t in J.registry)Lm(t,J.registry[t]);Gn.add("colorspace-init-end",t=>{var e;Lm(t.id,t),(e=t.aliases)==null||e.forEach(r=>{Lm(r,t)})});function Lm(t,e){Object.keys(e.coords),Object.values(e.coords).map(n=>n.name);let r=t.replace(/-/g,"_");Object.defineProperty(ye.prototype,r,{get(){let n=this.getAll(t);return typeof Proxy>"u"?n:new Proxy(n,{has:(i,s)=>{try{return J.resolveCoord([e,s]),!0}catch{}return Reflect.has(i,s)},get:(i,s,o)=>{if(s&&typeof s!="symbol"&&!(s in i)){let{index:a}=J.resolveCoord([e,s]);if(a>=0)return i[a]}return Reflect.get(i,s,o)},set:(i,s,o,a)=>{if(s&&typeof s!="symbol"&&!(s in i)||s>=0){let{index:l}=J.resolveCoord([e,s]);if(l>=0)return i[l]=o,this.setAll(t,i),!0}return Reflect.set(i,s,o,a)}})},set(n){this.setAll(t,n)},configurable:!0,enumerable:!0})}ye.extend(cc);ye.extend({deltaE:Mo});Object.assign(ye,{deltaEMethods:cc});ye.extend(WR);ye.extend({contrast:yR});ye.extend(_R);ye.extend(Zk);ye.extend(QR);ye.extend(bu);class fA extends ye{static light(e){return new ye(this._generateAccessibleColor(e,"black")).toString({format:"hex"})}static dark(e){return new ye(this._generateAccessibleColor(e,"white")).toString({format:"hex"})}static accessibleBackground(e){const r=this._contrast("black",e),n=this._contrast("white",e);return r>n?"black":"white"}static accessibleForeground(e){const r=this._contrast(e,"black"),n=this._contrast(e,"white");return r>n?"black":"white"}static _generateAccessibleColor(e,r){let n=e;const i=this.steps(e,r==="black"?"white":"black",{space:"hsv",outputSpace:"srgb",steps:9});for(const s of i)if(this._contrast(r,s)>75){n=s;break}return n}static _contrast(e,r){return Math.abs(this.contrastAPCA(e,r))}}const Zr={gcTime:1/0,staleTime:1/0,retry:1,retryOnMount:!1,refetchOnMount:!1,refetchOnWindowFocus:!1,refetchOnReconnect:!1};function hA(t){const r=(t instanceof DocumentFragment?t:t[0]).cloneNode(!0),n=document.createElement("div");n.appendChild(r);const i=n.innerHTML;return n.remove(),i}function pA(t){const e=document.getElementById(t);if(!e)throw Error(`Template with id "${t}" not found.`);if(e.tagName!=="TEMPLATE")throw Error(`Element with id "${t}" is not a template.`);return e.content.cloneNode(!0)}const A_=60,M_=20;function P2({broadcaster:t,staticPosition:e,platform:r}){const[n,i]=j.useState(!1);return j.useEffect(()=>{setTimeout(()=>{i(!0)},3.5*1e3)},[]),n?null:F.jsx(Ay,{status:"success",staticPosition:e,className:"slime2-banner-fade",children:F.jsxs("div",{className:"flex items-center justify-center",children:["Connected to",F.jsx("a",{href:t.url,target:"_blank",children:F.jsxs("div",{className:"relative mx-3 inline-block",children:[F.jsx("img",{src:t.image,alt:"Your Profile Picture",width:A_,height:A_,className:"inline rounded-full"}),F.jsx("img",{src:`https://slime2.stream/assets/${r}-logo.svg`,height:M_,width:M_,alt:"Stream Platform Logo",className:"absolute -bottom-px -right-1"})]})}),t.displayName]})})}function pl(){const t=j.useContext(R2);function e(r){return!!t[r]}return{isPlatformReady:e}}function I2(){const t=j.useContext(A2);function e(r){t({type:r})}return{setPlatformReady:e}}const k2={},R2=j.createContext(k2),A2=j.createContext(cl);function mA(t,e){switch(e.type){case"twitch":return{...t,twitch:!0};case"youtube":return{...t,youtube:!0}}}function M2(){return j.useContext(N2)}function md(){const t=j.useContext(D2),e=M2(),r=io(),{maxEvents:n,eventDelay:i}=r;function s(u,c){t({type:"remove",eventType:u,eventId:c})}function o(u){if(e.length+1>n){const[h]=e;s(h.type,h.id)}function c(){t({type:"add",event:{...u,renderable:!0,remove:()=>s(u.type,u.id)}})}i?setTimeout(c,i):c()}function a(u){t({type:"remove-user",userId:u})}function l(){t({type:"remove-messages"})}return{removeEvent:s,addEvent:o,removeUser:a,removeMessages:l}}const O2=[],N2=j.createContext(O2),D2=j.createContext(cl);function gA(t,e){switch(e.type){case"add":return[...t,e.event];case"remove":return t.filter(r=>r.type!==e.eventType||r.id!==e.eventId);case"remove-user":return t.filter(r=>r.userId!==e.userId);case"remove-messages":return t.filter(r=>r.type!=="message")}}var Um=function(t,e){return Um=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},Um(t,e)};function so(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Um(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Di=function(){return Di=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Di.apply(this,arguments)};function x(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s}function pr(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(c){try{u(n.next(c))}catch(h){o(h)}}function l(c){try{u(n.throw(c))}catch(h){o(h)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((n=n.apply(t,e||[])).next())})}function Qt(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(c){return l([u,c])}}function l(u){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(r=0)),r;)try{if(n=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){r.label=u[1];break}if(u[0]===6&&r.label<s[1]){r.label=s[1],s=u;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(u);break}s[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(c){u=[6,c],i=0}finally{n=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function Su(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function en(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return s}function Kn(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,s;n<i;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return t.concat(s||Array.prototype.slice.call(e))}const gd=Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]";var ln,Y;(function(t){t[t.CRITICAL=0]="CRITICAL",t[t.ERROR=1]="ERROR",t[t.WARNING=2]="WARNING",t[t.INFO=3]="INFO",t[t.DEBUG=4]="DEBUG",t[t.TRACE=7]="TRACE"})(Y||(Y={}));function Ly(t){if(typeof t=="number"){if(Object.prototype.hasOwnProperty.call(Y,t))return t;var e=Object.keys(Y).map(function(n){return parseInt(n,10)}).filter(function(n){return!isNaN(n)&&n<t});return e.length?Math.max.apply(Math,e):Y.WARNING}var r=t.replace(/\d+$/,"").toUpperCase();if(!Object.prototype.hasOwnProperty.call(Y,r))throw new Error("Unknown log level string: ".concat(t));return Y[r]}var yA=gd?console.log.bind(console):console.debug.bind(console),B2=(ln={},ln[Y.CRITICAL]=console.error.bind(console),ln[Y.ERROR]=console.error.bind(console),ln[Y.WARNING]=console.warn.bind(console),ln[Y.INFO]=console.info.bind(console),ln[Y.DEBUG]=yA.bind(console),ln[Y.TRACE]=console.trace.bind(console),ln);function G(t){return t===void 0&&(t=!0),function(e,r){Object.defineProperty(e,r,{get:function(){},set:function(n){Object.defineProperty(this,r,{value:n,writable:!0,enumerable:t})},enumerable:t})}}function O_(t){var e;return(e=[]).concat.apply(e,Kn([],en(t),!1))}function Fm(t){return pr(this,void 0,Promise,function(){return Qt(this,function(e){switch(e.label){case 0:return typeof t!="function"?[3,2]:[4,t()];case 1:return[2,e.sent()];case 2:return[2,t]}})})}function vA(t){return typeof t=="function"?t():t}function L2(t){var e,r,n;return Qt(this,function(i){switch(i.label){case 0:e=0,r=1,i.label=1;case 1:return e<t?[4,e]:[3,3];case 2:return i.sent(),n=en([r,e+r],2),e=n[0],r=n[1],[3,1];case 3:return[4,t];case 4:return i.sent(),[3,3];case 5:return[2]}})}function Oo(t,e){return Object.assign.apply(Object,Kn([{}],en(t.map(e)),!1))}function $m(t,e){Object.entries(t).forEach(function(r){var n=en(r,2),i=n[0],s=n[1];return e(s,i)})}function U2(t,e){if(typeof e!="function"){var r=e;e=function(n){return n[r].toString()}}return Oo(t,function(n){var i;return i={},i[e(n)]=n,i})}function F2(t){return t==null}function Zt(t,e){return F2(t)?null:e(t)}function Nr(t,e){return F2(t)?void 0:e(t)}function _A(t){return pr(this,void 0,Promise,function(){return Qt(this,function(e){switch(e.label){case 0:return[4,new Promise(function(r){return setTimeout(r,t)})];case 1:return e.sent(),[2]}})})}function wa(){var t,e,r=new Promise(function(n,i){t=n,e=i});return{promise:r,resolve:t,reject:e}}function wA(t,e,r){if(typeof t=="number"&&(t=t.toString()),e=e-t.length,e<=0)return t;r===void 0&&(r=" ");var n="";do(e&1)===1&&(n+=r),e>>=1,e&&(r+=r);while(e);return n+t}function Ci(t,e,r){var n=t.split(e);return n.length<=r?n:Kn(Kn([],en(n.slice(0,r-1)),!1),[n.slice(r-1).join(e)],!1)}function $2(t){return Kn([],en(t),!1).length}function qm(t,e,r){return Kn([],en(t),!1).slice(e,r).join("")}var Nf,Df,dc=typeof process>"u"?[]:(Df=(Nf={}.LOGGING)===null||Nf===void 0?void 0:Nf.split(";").map(function(t){var e=t.split("=",2),r=e[0],n=e[1];return n?[r==="default"?void 0:r.split(":"),Ly(n)]:null}).filter(function(t){return!!t}).sort(function(t,e){var r,n,i=t[0],s=e[0];return((r=s==null?void 0:s.length)!==null&&r!==void 0?r:0)-((n=i==null?void 0:i.length)!==null&&n!==void 0?n:0)}))!==null&&Df!==void 0?Df:[],Bf=dc.findIndex(function(t){var e=t[0];return!e}),q2=void 0;Bf!==-1&&(q2=dc[Bf][1],dc.splice(Bf));function bA(t,e){return e.length<=t.length&&e.every(function(r,n){return r===t[n]})}function j2(t){for(var e=t.split(":"),r=0,n=dc;r<n.length;r++){var i=n[r],s=i[0],o=i[1];if(bA(e,s))return o}return q2}var H2=function(){function t(e){var r=e.name,n=e.minLevel,i=e.emoji,s=i===void 0?!1:i,o=e.colors,a=e.timestamps,l=a===void 0?gd:a,u,c;this._name=r,this._minLevel=(c=(u=Nr(n,function(h){return Ly(h)}))!==null&&u!==void 0?u:j2(r))!==null&&c!==void 0?c:Y.WARNING,this._emoji=s,this._colors=o,this._timestamps=l}return t.prototype.crit=function(e){this.log(Y.CRITICAL,e)},t.prototype.error=function(e){this.log(Y.ERROR,e)},t.prototype.warn=function(e){this.log(Y.WARNING,e)},t.prototype.info=function(e){this.log(Y.INFO,e)},t.prototype.debug=function(e){this.log(Y.DEBUG,e)},t.prototype.trace=function(e){this.log(Y.TRACE,e)},t}(),SA=function(t){so(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.log=function(r,n){if(!(r>this._minLevel)){var i=B2[r],s="[".concat(this._name,"] ").concat(n);this._timestamps&&(s="[".concat(new Date().toISOString(),"] ").concat(n)),i(s)}},e}(H2),xA=function(){function t(e){var r=e.name,n=e.minLevel,i=e.custom,s;this._minLevel=(s=Nr(n,function(o){return Ly(o)}))!==null&&s!==void 0?s:j2(r),this._override=typeof i=="function"?{log:i}:i}return t.prototype.log=function(e,r){this._shouldLog(e)&&this._override.log(e,r)},t.prototype.crit=function(e){this._override.crit?this._shouldLog(Y.CRITICAL)&&this._override.crit(e):this.log(Y.CRITICAL,e)},t.prototype.error=function(e){this._override.error?this._shouldLog(Y.ERROR)&&this._override.error(e):this.log(Y.ERROR,e)},t.prototype.warn=function(e){this._override.warn?this._shouldLog(Y.WARNING)&&this._override.warn(e):this.log(Y.WARNING,e)},t.prototype.info=function(e){this._override.info?this._shouldLog(Y.INFO)&&this._override.info(e):this.log(Y.INFO,e)},t.prototype.debug=function(e){this._override.debug?this._shouldLog(Y.DEBUG)&&this._override.debug(e):this.log(Y.DEBUG,e)},t.prototype.trace=function(e){this._override.trace?this._shouldLog(Y.TRACE)&&this._override.trace(e):this.log(Y.TRACE,e)},t.prototype._shouldLog=function(e){return this._minLevel===void 0||this._minLevel>=e},t}(),un,cn,dn,CA=(un={},un[Y.CRITICAL]="",un[Y.ERROR]="",un[Y.WARNING]=" ",un[Y.INFO]=" ",un[Y.DEBUG]="",un[Y.TRACE]="",un),EA={black:30,red:31,green:32,yellow:33,blue:34,magenta:35,cyan:36,white:37,blackBright:90,redBright:91,greenBright:92,yellowBright:93,blueBright:94,magentaBright:95,cyanBright:96,whiteBright:97},TA={bgBlack:40,bgRed:41,bgGreen:42,bgYellow:43,bgBlue:44,bgMagenta:45,bgCyan:46,bgWhite:47,bgBlackBright:100,bgRedBright:101,bgGreenBright:102,bgYellowBright:103,bgBlueBright:104,bgMagentaBright:105,bgCyanBright:106,bgWhiteBright:107};function yd(t,e,r){return function(n){return"\x1B[".concat(t,"m").concat(r?r(n):n,"\x1B[").concat(e,"m")}}function kr(t){return yd(EA[t],39)}function So(t,e){return yd(TA[t],49,e)}var PA=(cn={},cn[Y.CRITICAL]=kr("red"),cn[Y.ERROR]=kr("redBright"),cn[Y.WARNING]=kr("yellow"),cn[Y.INFO]=kr("blue"),cn[Y.DEBUG]=kr("magenta"),cn[Y.TRACE]=yd(0,0),cn),N_=(dn={},dn[Y.CRITICAL]=So("bgRed",kr("white")),dn[Y.ERROR]=So("bgRedBright",kr("white")),dn[Y.WARNING]=So("bgYellow",kr("black")),dn[Y.INFO]=So("bgBlue",kr("white")),dn[Y.DEBUG]=So("bgMagenta",kr("black")),dn[Y.TRACE]=yd(7,27),dn),IA=function(t){so(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.log=function(r,n){var i,s,o;if(!(r>this._minLevel)){var a=B2[r],l="";if(this._timestamps&&(l+="[".concat(new Date().toISOString(),"] ")),this._emoji){var u=CA[r];l+="".concat(u," ")}var c=(o=(i=this._colors)!==null&&i!==void 0?i:(s=process.stdout)===null||s===void 0?void 0:s.isTTY)!==null&&o!==void 0?o:!0;c?l+="".concat(N_[r](this._name)," ").concat(N_[r](Y[r])," ").concat(PA[r](n)):l+="[".concat(this._name,":").concat(Y[r].toLowerCase(),"] ").concat(n),a(l)}},e}(H2);function oo(t){return t.custom?new xA(t):gd?new IA(t):new SA(t)}var z2=function(t){so(e,t);function e(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var i=this.constructor,s=this,o;return s=t.apply(this,Kn([],en(r),!1))||this,Object.setPrototypeOf(s,i.prototype),(o=Error.captureStackTrace)===null||o===void 0||o.call(Error,s,i.constructor),s}return Object.defineProperty(e.prototype,"name",{get:function(){return this.constructor.name},enumerable:!1,configurable:!0}),e}(Error),D_=function(t){so(e,t);function e(r){var n=t.call(this,"Need to retry after ".concat(r," ms"))||this;return n._retryAt=Date.now()+r,n}return Object.defineProperty(e.prototype,"retryAt",{get:function(){return this._retryAt},enumerable:!1,configurable:!0}),e}(z2),Uy=function(t){so(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(z2),G2={exports:{}},W2={exports:{}},kA="Function.prototype.bind called on incompatible ",RA=Object.prototype.toString,AA=Math.max,MA="[object Function]",B_=function(e,r){for(var n=[],i=0;i<e.length;i+=1)n[i]=e[i];for(var s=0;s<r.length;s+=1)n[s+e.length]=r[s];return n},OA=function(e,r){for(var n=[],i=r||0,s=0;i<e.length;i+=1,s+=1)n[s]=e[i];return n},NA=function(t,e){for(var r="",n=0;n<t.length;n+=1)r+=t[n],n+1<t.length&&(r+=e);return r},DA=function(e){var r=this;if(typeof r!="function"||RA.apply(r)!==MA)throw new TypeError(kA+r);for(var n=OA(arguments,1),i,s=function(){if(this instanceof i){var c=r.apply(this,B_(n,arguments));return Object(c)===c?c:this}return r.apply(e,B_(n,arguments))},o=AA(0,r.length-n.length),a=[],l=0;l<o;l++)a[l]="$"+l;if(i=Function("binder","return function ("+NA(a,",")+"){ return binder.apply(this,arguments); }")(s),r.prototype){var u=function(){};u.prototype=r.prototype,i.prototype=new u,u.prototype=null}return i},BA=DA,Fy=Function.prototype.bind||BA,$y=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;e[r]=i;for(r in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var s=Object.getOwnPropertySymbols(e);if(s.length!==1||s[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var o=Object.getOwnPropertyDescriptor(e,r);if(o.value!==i||o.enumerable!==!0)return!1}return!0},L_=typeof Symbol<"u"&&Symbol,LA=$y,qy=function(){return typeof L_!="function"||typeof Symbol!="function"||typeof L_("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:LA()},U_={foo:{}},UA=Object,V2=function(){return{__proto__:U_}.foo===U_.foo&&!({__proto__:null}instanceof UA)},FA=Function.prototype.call,$A=Object.prototype.hasOwnProperty,qA=Fy,ri=qA.call(FA,$A),re,Ys=SyntaxError,Q2=Function,bs=TypeError,Lf=function(t){try{return Q2('"use strict"; return ('+t+").constructor;")()}catch{}},Ei=Object.getOwnPropertyDescriptor;if(Ei)try{Ei({},"")}catch{Ei=null}var Uf=function(){throw new bs},jA=Ei?function(){try{return arguments.callee,Uf}catch{try{return Ei(arguments,"callee").get}catch{return Uf}}}():Uf,Ki=qy(),HA=V2(),Qe=Object.getPrototypeOf||(HA?function(t){return t.__proto__}:null),Xi={},zA=typeof Uint8Array>"u"||!Qe?re:Qe(Uint8Array),Ti={"%AggregateError%":typeof AggregateError>"u"?re:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?re:ArrayBuffer,"%ArrayIteratorPrototype%":Ki&&Qe?Qe([][Symbol.iterator]()):re,"%AsyncFromSyncIteratorPrototype%":re,"%AsyncFunction%":Xi,"%AsyncGenerator%":Xi,"%AsyncGeneratorFunction%":Xi,"%AsyncIteratorPrototype%":Xi,"%Atomics%":typeof Atomics>"u"?re:Atomics,"%BigInt%":typeof BigInt>"u"?re:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?re:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?re:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?re:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?re:Float32Array,"%Float64Array%":typeof Float64Array>"u"?re:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?re:FinalizationRegistry,"%Function%":Q2,"%GeneratorFunction%":Xi,"%Int8Array%":typeof Int8Array>"u"?re:Int8Array,"%Int16Array%":typeof Int16Array>"u"?re:Int16Array,"%Int32Array%":typeof Int32Array>"u"?re:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Ki&&Qe?Qe(Qe([][Symbol.iterator]())):re,"%JSON%":typeof JSON=="object"?JSON:re,"%Map%":typeof Map>"u"?re:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Ki||!Qe?re:Qe(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?re:Promise,"%Proxy%":typeof Proxy>"u"?re:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?re:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?re:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Ki||!Qe?re:Qe(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?re:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Ki&&Qe?Qe(""[Symbol.iterator]()):re,"%Symbol%":Ki?Symbol:re,"%SyntaxError%":Ys,"%ThrowTypeError%":jA,"%TypedArray%":zA,"%TypeError%":bs,"%Uint8Array%":typeof Uint8Array>"u"?re:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?re:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?re:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?re:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?re:WeakMap,"%WeakRef%":typeof WeakRef>"u"?re:WeakRef,"%WeakSet%":typeof WeakSet>"u"?re:WeakSet};if(Qe)try{null.error}catch(t){var GA=Qe(Qe(t));Ti["%Error.prototype%"]=GA}var WA=function t(e){var r;if(e==="%AsyncFunction%")r=Lf("async function () {}");else if(e==="%GeneratorFunction%")r=Lf("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=Lf("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&Qe&&(r=Qe(i.prototype))}return Ti[e]=r,r},F_={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},ml=Fy,fc=ri,VA=ml.call(Function.call,Array.prototype.concat),QA=ml.call(Function.apply,Array.prototype.splice),$_=ml.call(Function.call,String.prototype.replace),hc=ml.call(Function.call,String.prototype.slice),KA=ml.call(Function.call,RegExp.prototype.exec),YA=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,XA=/\\(\\)?/g,JA=function(e){var r=hc(e,0,1),n=hc(e,-1);if(r==="%"&&n!=="%")throw new Ys("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new Ys("invalid intrinsic syntax, expected opening `%`");var i=[];return $_(e,YA,function(s,o,a,l){i[i.length]=a?$_(l,XA,"$1"):o||s}),i},ZA=function(e,r){var n=e,i;if(fc(F_,n)&&(i=F_[n],n="%"+i[0]+"%"),fc(Ti,n)){var s=Ti[n];if(s===Xi&&(s=WA(n)),typeof s>"u"&&!r)throw new bs("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:s}}throw new Ys("intrinsic "+e+" does not exist!")},ie=function(e,r){if(typeof e!="string"||e.length===0)throw new bs("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new bs('"allowMissing" argument must be a boolean');if(KA(/^%?[^%]*%?$/,e)===null)throw new Ys("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=JA(e),i=n.length>0?n[0]:"",s=ZA("%"+i+"%",r),o=s.name,a=s.value,l=!1,u=s.alias;u&&(i=u[0],QA(n,VA([0,1],u)));for(var c=1,h=!0;c<n.length;c+=1){var f=n[c],v=hc(f,0,1),y=hc(f,-1);if((v==='"'||v==="'"||v==="`"||y==='"'||y==="'"||y==="`")&&v!==y)throw new Ys("property names with quotes must have matching quotes");if((f==="constructor"||!h)&&(l=!0),i+="."+f,o="%"+i+"%",fc(Ti,o))a=Ti[o];else if(a!=null){if(!(f in a)){if(!r)throw new bs("base intrinsic for "+e+" exists, but the property is not available.");return}if(Ei&&c+1>=n.length){var w=Ei(a,f);h=!!w,h&&"get"in w&&!("originalValue"in w.get)?a=w.get:a=a[f]}else h=fc(a,f),a=a[f];h&&!l&&(Ti[o]=a)}}return a},eM=ie,jm=eM("%Object.defineProperty%",!0),Hm=function(){if(jm)try{return jm({},"a",{value:1}),!0}catch{return!1}return!1};Hm.hasArrayLengthDefineBug=function(){if(!Hm())return null;try{return jm([],"length",{value:1}).length!==1}catch{return!0}};var vd=Hm,tM=ie,xu=tM("%Object.getOwnPropertyDescriptor%",!0);if(xu)try{xu([],"length")}catch{xu=null}var jy=xu,rM=vd(),Hy=ie,zo=rM&&Hy("%Object.defineProperty%",!0);if(zo)try{zo({},"a",{value:1})}catch{zo=!1}var nM=Hy("%SyntaxError%"),Yi=Hy("%TypeError%"),q_=jy,K2=function(e,r,n){if(!e||typeof e!="object"&&typeof e!="function")throw new Yi("`obj` must be an object or a function`");if(typeof r!="string"&&typeof r!="symbol")throw new Yi("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new Yi("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new Yi("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new Yi("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new Yi("`loose`, if provided, must be a boolean");var i=arguments.length>3?arguments[3]:null,s=arguments.length>4?arguments[4]:null,o=arguments.length>5?arguments[5]:null,a=arguments.length>6?arguments[6]:!1,l=!!q_&&q_(e,r);if(zo)zo(e,r,{configurable:o===null&&l?l.configurable:!o,enumerable:i===null&&l?l.enumerable:!i,value:n,writable:s===null&&l?l.writable:!s});else if(a||!i&&!s&&!o)e[r]=n;else throw new nM("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},Y2=ie,j_=K2,iM=vd(),H_=jy,z_=Y2("%TypeError%"),sM=Y2("%Math.floor%"),oM=function(e,r){if(typeof e!="function")throw new z_("`fn` is not a function");if(typeof r!="number"||r<0||r>4294967295||sM(r)!==r)throw new z_("`length` must be a positive 32-bit integer");var n=arguments.length>2&&!!arguments[2],i=!0,s=!0;if("length"in e&&H_){var o=H_(e,"length");o&&!o.configurable&&(i=!1),o&&!o.writable&&(s=!1)}return(i||s||!n)&&(iM?j_(e,"length",r,!0,!0):j_(e,"length",r)),e};(function(t){var e=Fy,r=ie,n=oM,i=r("%TypeError%"),s=r("%Function.prototype.apply%"),o=r("%Function.prototype.call%"),a=r("%Reflect.apply%",!0)||e.call(o,s),l=r("%Object.defineProperty%",!0),u=r("%Math.max%");if(l)try{l({},"a",{value:1})}catch{l=null}t.exports=function(f){if(typeof f!="function")throw new i("a function is required");var v=a(e,o,arguments);return n(v,1+u(0,f.length-(arguments.length-1)),!0)};var c=function(){return a(e,s,arguments)};l?l(t.exports,"apply",{value:c}):t.exports.apply=c})(W2);var gl=W2.exports,G_=Object.prototype.toString,X2=function(e){var r=G_.call(e),n=r==="[object Arguments]";return n||(n=r!=="[object Array]"&&e!==null&&typeof e=="object"&&typeof e.length=="number"&&e.length>=0&&G_.call(e.callee)==="[object Function]"),n},Ff,W_;function aM(){if(W_)return Ff;W_=1;var t;if(!Object.keys){var e=Object.prototype.hasOwnProperty,r=Object.prototype.toString,n=X2,i=Object.prototype.propertyIsEnumerable,s=!i.call({toString:null},"toString"),o=i.call(function(){},"prototype"),a=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],l=function(f){var v=f.constructor;return v&&v.prototype===f},u={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},c=function(){if(typeof window>"u")return!1;for(var f in window)try{if(!u["$"+f]&&e.call(window,f)&&window[f]!==null&&typeof window[f]=="object")try{l(window[f])}catch{return!0}}catch{return!0}return!1}(),h=function(f){if(typeof window>"u"||!c)return l(f);try{return l(f)}catch{return!1}};t=function(v){var y=v!==null&&typeof v=="object",w=r.call(v)==="[object Function]",_=n(v),g=y&&r.call(v)==="[object String]",p=[];if(!y&&!w&&!_)throw new TypeError("Object.keys called on a non-object");var m=o&&w;if(g&&v.length>0&&!e.call(v,0))for(var b=0;b<v.length;++b)p.push(String(b));if(_&&v.length>0)for(var S=0;S<v.length;++S)p.push(String(S));else for(var R in v)!(m&&R==="prototype")&&e.call(v,R)&&p.push(String(R));if(s)for(var A=h(v),I=0;I<a.length;++I)!(A&&a[I]==="constructor")&&e.call(v,a[I])&&p.push(a[I]);return p}}return Ff=t,Ff}var lM=Array.prototype.slice,uM=X2,V_=Object.keys,Cu=V_?function(e){return V_(e)}:aM(),Q_=Object.keys;Cu.shim=function(){if(Object.keys){var e=function(){var r=Object.keys(arguments);return r&&r.length===arguments.length}(1,2);e||(Object.keys=function(n){return uM(n)?Q_(lM.call(n)):Q_(n)})}else Object.keys=Cu;return Object.keys||Cu};var cM=Cu,dM=cM,fM=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",hM=Object.prototype.toString,pM=Array.prototype.concat,K_=K2,mM=function(t){return typeof t=="function"&&hM.call(t)==="[object Function]"},J2=vd(),gM=function(t,e,r,n){if(e in t){if(n===!0){if(t[e]===r)return}else if(!mM(n)||!n())return}J2?K_(t,e,r,!0):K_(t,e,r)},Z2=function(t,e){var r=arguments.length>2?arguments[2]:{},n=dM(e);fM&&(n=pM.call(n,Object.getOwnPropertySymbols(e)));for(var i=0;i<n.length;i+=1)gM(t,n[i],e[n[i]],r[n[i]])};Z2.supportsDescriptors=!!J2;var ao=Z2,_d=function(){if(typeof Promise!="function")throw new TypeError("`Promise.allSettled` requires a global `Promise` be available.")},$f,Y_;function yM(){if(Y_)return $f;Y_=1;var t=ie,e=gl,r=t("%Promise.resolve%",!0),n=r&&e(r);return $f=function(s,o){if(!n)throw new SyntaxError("This environment does not support Promises.");return n(s,o)},$f}var qf,X_;function eC(){return X_||(X_=1,qf=function(e){if(e===null)return"Null";if(typeof e>"u")return"Undefined";if(typeof e=="function"||typeof e=="object")return"Object";if(typeof e=="number")return"Number";if(typeof e=="boolean")return"Boolean";if(typeof e=="string")return"String"}),qf}var jf,J_;function vM(){if(J_)return jf;J_=1;var t=eC();return jf=function(r){return typeof r=="symbol"?"Symbol":typeof r=="bigint"?"BigInt":t(r)},jf}var xo={exports:{}},Hf,Z_;function wd(){if(Z_)return Hf;Z_=1;var t=$y;return Hf=function(){return t()&&!!Symbol.toStringTag},Hf}var zf,ew;function rr(){if(ew)return zf;ew=1;var t=ie,e=gl,r=e(t("String.prototype.indexOf"));return zf=function(i,s){var o=t(i,!!s);return typeof o=="function"&&r(i,".prototype.")>-1?e(o):o},zf}var Gf,tw;function _M(){if(tw)return Gf;tw=1;var t=wd()(),e=rr(),r=e("Object.prototype.toString"),n=function(a){return t&&a&&typeof a=="object"&&Symbol.toStringTag in a?!1:r(a)==="[object Arguments]"},i=function(a){return n(a)?!0:a!==null&&typeof a=="object"&&typeof a.length=="number"&&a.length>=0&&r(a)!=="[object Array]"&&r(a.callee)==="[object Function]"},s=function(){return n(arguments)}();return n.isLegacyArguments=i,Gf=s?n:i,Gf}const wM={},bM=Object.freeze(Object.defineProperty({__proto__:null,default:wM},Symbol.toStringTag,{value:"Module"})),SM=bb(bM);var Wf,rw;function tC(){if(rw)return Wf;rw=1;var t=typeof Map=="function"&&Map.prototype,e=Object.getOwnPropertyDescriptor&&t?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,r=t&&e&&typeof e.get=="function"?e.get:null,n=t&&Map.prototype.forEach,i=typeof Set=="function"&&Set.prototype,s=Object.getOwnPropertyDescriptor&&i?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,o=i&&s&&typeof s.get=="function"?s.get:null,a=i&&Set.prototype.forEach,l=typeof WeakMap=="function"&&WeakMap.prototype,u=l?WeakMap.prototype.has:null,c=typeof WeakSet=="function"&&WeakSet.prototype,h=c?WeakSet.prototype.has:null,f=typeof WeakRef=="function"&&WeakRef.prototype,v=f?WeakRef.prototype.deref:null,y=Boolean.prototype.valueOf,w=Object.prototype.toString,_=Function.prototype.toString,g=String.prototype.match,p=String.prototype.slice,m=String.prototype.replace,b=String.prototype.toUpperCase,S=String.prototype.toLowerCase,R=RegExp.prototype.test,A=Array.prototype.concat,I=Array.prototype.join,L=Array.prototype.slice,H=Math.floor,X=typeof BigInt=="function"?BigInt.prototype.valueOf:null,_e=Object.getOwnPropertySymbols,me=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,P=typeof Symbol=="function"&&typeof Symbol.iterator=="object",N=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===P||"symbol")?Symbol.toStringTag:null,V=Object.prototype.propertyIsEnumerable,ge=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(T){return T.__proto__}:null);function U(T,k){if(T===1/0||T===-1/0||T!==T||T&&T>-1e3&&T<1e3||R.call(/e/,k))return k;var ce=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof T=="number"){var be=T<0?-H(-T):H(T);if(be!==T){var De=String(be),ee=p.call(k,De.length+1);return m.call(De,ce,"$&_")+"."+m.call(m.call(ee,/([0-9]{3})/g,"$&_"),/_$/,"")}}return m.call(k,ce,"$&_")}var $=SM,K=$.custom,ae=T0(K)?K:null;Wf=function T(k,ce,be,De){var ee=ce||{};if(rn(ee,"quoteStyle")&&ee.quoteStyle!=="single"&&ee.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(rn(ee,"maxStringLength")&&(typeof ee.maxStringLength=="number"?ee.maxStringLength<0&&ee.maxStringLength!==1/0:ee.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var sn=rn(ee,"customInspect")?ee.customInspect:!0;if(typeof sn!="boolean"&&sn!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(rn(ee,"indent")&&ee.indent!==null&&ee.indent!=="	"&&!(parseInt(ee.indent,10)===ee.indent&&ee.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(rn(ee,"numericSeparator")&&typeof ee.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var ii=ee.numericSeparator;if(typeof k>"u")return"undefined";if(k===null)return"null";if(typeof k=="boolean")return k?"true":"false";if(typeof k=="string")return I0(k,ee);if(typeof k=="number"){if(k===0)return 1/0/k>0?"0":"-0";var Ct=String(k);return ii?U(k,Ct):Ct}if(typeof k=="bigint"){var on=String(k)+"n";return ii?U(k,on):on}var Gd=typeof ee.depth>"u"?5:ee.depth;if(typeof be>"u"&&(be=0),be>=Gd&&Gd>0&&typeof k=="object")return xt(k)?"[Array]":"[Object]";var zi=yT(ee,be);if(typeof De>"u")De=[];else if(P0(De,k)>=0)return"[Circular]";function nr(Gi,Cl,_T){if(Cl&&(De=L.call(De),De.push(Cl)),_T){var L0={depth:ee.depth};return rn(ee,"quoteStyle")&&(L0.quoteStyle=ee.quoteStyle),T(Gi,L0,be+1,De)}return T(Gi,ee,be+1,De)}if(typeof k=="function"&&!vr(k)){var R0=lT(k),A0=Sl(k,nr);return"[Function"+(R0?": "+R0:" (anonymous)")+"]"+(A0.length>0?" { "+I.call(A0,", ")+" }":"")}if(T0(k)){var M0=P?m.call(String(k),/^(Symbol\(.*\))_[^)]*$/,"$1"):me.call(k);return typeof k=="object"&&!P?fo(M0):M0}if(pT(k)){for(var ho="<"+S.call(String(k.nodeName)),Wd=k.attributes||[],xl=0;xl<Wd.length;xl++)ho+=" "+Wd[xl].name+"="+we(tn(Wd[xl].value),"double",ee);return ho+=">",k.childNodes&&k.childNodes.length&&(ho+="..."),ho+="</"+S.call(String(k.nodeName))+">",ho}if(xt(k)){if(k.length===0)return"[]";var Vd=Sl(k,nr);return zi&&!gT(Vd)?"["+zd(Vd,zi)+"]":"[ "+I.call(Vd,", ")+" ]"}if(Hi(k)){var Qd=Sl(k,nr);return!("cause"in Error.prototype)&&"cause"in k&&!V.call(k,"cause")?"{ ["+String(k)+"] "+I.call(A.call("[cause]: "+nr(k.cause),Qd),", ")+" }":Qd.length===0?"["+String(k)+"]":"{ ["+String(k)+"] "+I.call(Qd,", ")+" }"}if(typeof k=="object"&&sn){if(ae&&typeof k[ae]=="function"&&$)return $(k,{depth:Gd-be});if(sn!=="symbol"&&typeof k.inspect=="function")return k.inspect()}if(uT(k)){var O0=[];return n&&n.call(k,function(Gi,Cl){O0.push(nr(Cl,k,!0)+" => "+nr(Gi,k))}),k0("Map",r.call(k),O0,zi)}if(fT(k)){var N0=[];return a&&a.call(k,function(Gi){N0.push(nr(Gi,k))}),k0("Set",o.call(k),N0,zi)}if(cT(k))return Hd("WeakMap");if(hT(k))return Hd("WeakSet");if(dT(k))return Hd("WeakRef");if(iT(k))return fo(nr(Number(k)));if(oT(k))return fo(nr(X.call(k)));if(sT(k))return fo(y.call(k));if(nT(k))return fo(nr(String(k)));if(typeof window<"u"&&k===window)return"{ [object Window] }";if(k===Vc)return"{ [object globalThis] }";if(!yr(k)&&!vr(k)){var Kd=Sl(k,nr),D0=ge?ge(k)===Object.prototype:k instanceof Object||k.constructor===Object,Yd=k instanceof Object?"":"null prototype",B0=!D0&&N&&Object(k)===k&&N in k?p.call(nn(k),8,-1):Yd?"Object":"",vT=D0||typeof k.constructor!="function"?"":k.constructor.name?k.constructor.name+" ":"",Xd=vT+(B0||Yd?"["+I.call(A.call([],B0||[],Yd||[]),": ")+"] ":"");return Kd.length===0?Xd+"{}":zi?Xd+"{"+zd(Kd,zi)+"}":Xd+"{ "+I.call(Kd,", ")+" }"}return String(k)};function we(T,k,ce){var be=(ce.quoteStyle||k)==="double"?'"':"'";return be+T+be}function tn(T){return m.call(String(T),/"/g,"&quot;")}function xt(T){return nn(T)==="[object Array]"&&(!N||!(typeof T=="object"&&N in T))}function yr(T){return nn(T)==="[object Date]"&&(!N||!(typeof T=="object"&&N in T))}function vr(T){return nn(T)==="[object RegExp]"&&(!N||!(typeof T=="object"&&N in T))}function Hi(T){return nn(T)==="[object Error]"&&(!N||!(typeof T=="object"&&N in T))}function nT(T){return nn(T)==="[object String]"&&(!N||!(typeof T=="object"&&N in T))}function iT(T){return nn(T)==="[object Number]"&&(!N||!(typeof T=="object"&&N in T))}function sT(T){return nn(T)==="[object Boolean]"&&(!N||!(typeof T=="object"&&N in T))}function T0(T){if(P)return T&&typeof T=="object"&&T instanceof Symbol;if(typeof T=="symbol")return!0;if(!T||typeof T!="object"||!me)return!1;try{return me.call(T),!0}catch{}return!1}function oT(T){if(!T||typeof T!="object"||!X)return!1;try{return X.call(T),!0}catch{}return!1}var aT=Object.prototype.hasOwnProperty||function(T){return T in this};function rn(T,k){return aT.call(T,k)}function nn(T){return w.call(T)}function lT(T){if(T.name)return T.name;var k=g.call(_.call(T),/^function\s*([\w$]+)/);return k?k[1]:null}function P0(T,k){if(T.indexOf)return T.indexOf(k);for(var ce=0,be=T.length;ce<be;ce++)if(T[ce]===k)return ce;return-1}function uT(T){if(!r||!T||typeof T!="object")return!1;try{r.call(T);try{o.call(T)}catch{return!0}return T instanceof Map}catch{}return!1}function cT(T){if(!u||!T||typeof T!="object")return!1;try{u.call(T,u);try{h.call(T,h)}catch{return!0}return T instanceof WeakMap}catch{}return!1}function dT(T){if(!v||!T||typeof T!="object")return!1;try{return v.call(T),!0}catch{}return!1}function fT(T){if(!o||!T||typeof T!="object")return!1;try{o.call(T);try{r.call(T)}catch{return!0}return T instanceof Set}catch{}return!1}function hT(T){if(!h||!T||typeof T!="object")return!1;try{h.call(T,h);try{u.call(T,u)}catch{return!0}return T instanceof WeakSet}catch{}return!1}function pT(T){return!T||typeof T!="object"?!1:typeof HTMLElement<"u"&&T instanceof HTMLElement?!0:typeof T.nodeName=="string"&&typeof T.getAttribute=="function"}function I0(T,k){if(T.length>k.maxStringLength){var ce=T.length-k.maxStringLength,be="... "+ce+" more character"+(ce>1?"s":"");return I0(p.call(T,0,k.maxStringLength),k)+be}var De=m.call(m.call(T,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,mT);return we(De,"single",k)}function mT(T){var k=T.charCodeAt(0),ce={8:"b",9:"t",10:"n",12:"f",13:"r"}[k];return ce?"\\"+ce:"\\x"+(k<16?"0":"")+b.call(k.toString(16))}function fo(T){return"Object("+T+")"}function Hd(T){return T+" { ? }"}function k0(T,k,ce,be){var De=be?zd(ce,be):I.call(ce,", ");return T+" ("+k+") {"+De+"}"}function gT(T){for(var k=0;k<T.length;k++)if(P0(T[k],`
`)>=0)return!1;return!0}function yT(T,k){var ce;if(T.indent==="	")ce="	";else if(typeof T.indent=="number"&&T.indent>0)ce=I.call(Array(T.indent+1)," ");else return null;return{base:ce,prev:I.call(Array(k+1),ce)}}function zd(T,k){if(T.length===0)return"";var ce=`
`+k.prev+k.base;return ce+I.call(T,","+ce)+`
`+k.prev}function Sl(T,k){var ce=xt(T),be=[];if(ce){be.length=T.length;for(var De=0;De<T.length;De++)be[De]=rn(T,De)?k(T[De],T):""}var ee=typeof _e=="function"?_e(T):[],sn;if(P){sn={};for(var ii=0;ii<ee.length;ii++)sn["$"+ee[ii]]=ee[ii]}for(var Ct in T)rn(T,Ct)&&(ce&&String(Number(Ct))===Ct&&Ct<T.length||P&&sn["$"+Ct]instanceof Symbol||(R.call(/[^\w$]/,Ct)?be.push(k(Ct,T)+": "+k(T[Ct],T)):be.push(Ct+": "+k(T[Ct],T))));if(typeof _e=="function")for(var on=0;on<ee.length;on++)V.call(T,ee[on])&&be.push("["+k(ee[on])+"]: "+k(T[ee[on]],T));return be}return Wf}var Vf,nw;function xM(){if(nw)return Vf;nw=1;var t=ie,e=rr(),r=tC(),n=t("%TypeError%"),i=t("%WeakMap%",!0),s=t("%Map%",!0),o=e("WeakMap.prototype.get",!0),a=e("WeakMap.prototype.set",!0),l=e("WeakMap.prototype.has",!0),u=e("Map.prototype.get",!0),c=e("Map.prototype.set",!0),h=e("Map.prototype.has",!0),f=function(_,g){for(var p=_,m;(m=p.next)!==null;p=m)if(m.key===g)return p.next=m.next,m.next=_.next,_.next=m,m},v=function(_,g){var p=f(_,g);return p&&p.value},y=function(_,g,p){var m=f(_,g);m?m.value=p:_.next={key:g,next:_.next,value:p}},w=function(_,g){return!!f(_,g)};return Vf=function(){var g,p,m,b={assert:function(S){if(!b.has(S))throw new n("Side channel does not contain "+r(S))},get:function(S){if(i&&S&&(typeof S=="object"||typeof S=="function")){if(g)return o(g,S)}else if(s){if(p)return u(p,S)}else if(m)return v(m,S)},has:function(S){if(i&&S&&(typeof S=="object"||typeof S=="function")){if(g)return l(g,S)}else if(s){if(p)return h(p,S)}else if(m)return w(m,S);return!1},set:function(S,R){i&&S&&(typeof S=="object"||typeof S=="function")?(g||(g=new i),a(g,S,R)):s?(p||(p=new s),c(p,S,R)):(m||(m={key:{},next:null}),y(m,S,R))}};return b},Vf}var Qf,iw;function CM(){if(iw)return Qf;iw=1;var t=ie,e=ri,r=xM()(),n=t("%TypeError%"),i={assert:function(s,o){if(!s||typeof s!="object"&&typeof s!="function")throw new n("`O` is not an object");if(typeof o!="string")throw new n("`slot` must be a string");if(r.assert(s),!i.has(s,o))throw new n("`"+o+"` is not present on `O`")},get:function(s,o){if(!s||typeof s!="object"&&typeof s!="function")throw new n("`O` is not an object");if(typeof o!="string")throw new n("`slot` must be a string");var a=r.get(s);return a&&a["$"+o]},has:function(s,o){if(!s||typeof s!="object"&&typeof s!="function")throw new n("`O` is not an object");if(typeof o!="string")throw new n("`slot` must be a string");var a=r.get(s);return!!a&&e(a,"$"+o)},set:function(s,o,a){if(!s||typeof s!="object"&&typeof s!="function")throw new n("`O` is not an object");if(typeof o!="string")throw new n("`slot` must be a string");var l=r.get(s);l||(l={},r.set(s,l)),l["$"+o]=a}};return Object.freeze&&Object.freeze(i),Qf=i,Qf}var Kf,sw;function EM(){if(sw)return Kf;sw=1;var t=CM(),e=SyntaxError,r=typeof StopIteration=="object"?StopIteration:null;return Kf=function(i){if(!r)throw new e("this environment lacks StopIteration");t.set(i,"[[Done]]",!1);var s={next:function(){var a=t.get(this,"[[Iterator]]"),l=t.get(a,"[[Done]]");try{return{done:l,value:l?void 0:a.next()}}catch(u){if(t.set(a,"[[Done]]",!0),u!==r)throw u;return{done:!0,value:void 0}}}};return t.set(s,"[[Iterator]]",i),s},Kf}var Yf,ow;function TM(){if(ow)return Yf;ow=1;var t={}.toString;return Yf=Array.isArray||function(e){return t.call(e)=="[object Array]"},Yf}var Xf,aw;function rC(){if(aw)return Xf;aw=1;var t=String.prototype.valueOf,e=function(o){try{return t.call(o),!0}catch{return!1}},r=Object.prototype.toString,n="[object String]",i=wd()();return Xf=function(o){return typeof o=="string"?!0:typeof o!="object"?!1:i?e(o):r.call(o)===n},Xf}var Jf,lw;function PM(){if(lw)return Jf;lw=1;var t=typeof Map=="function"&&Map.prototype?Map:null,e=typeof Set=="function"&&Set.prototype?Set:null,r;t||(r=function(o){return!1});var n=t?Map.prototype.has:null,i=e?Set.prototype.has:null;return!r&&!n&&(r=function(o){return!1}),Jf=r||function(o){if(!o||typeof o!="object")return!1;try{if(n.call(o),i)try{i.call(o)}catch{return!0}return o instanceof t}catch{}return!1},Jf}var Zf,uw;function IM(){if(uw)return Zf;uw=1;var t=typeof Map=="function"&&Map.prototype?Map:null,e=typeof Set=="function"&&Set.prototype?Set:null,r;e||(r=function(o){return!1});var n=t?Map.prototype.has:null,i=e?Set.prototype.has:null;return!r&&!i&&(r=function(o){return!1}),Zf=r||function(o){if(!o||typeof o!="object")return!1;try{if(i.call(o),n)try{n.call(o)}catch{return!0}return o instanceof e}catch{}return!1},Zf}var cw;function kM(){if(cw)return xo.exports;cw=1;var t=_M(),e=EM();if(qy()||$y()){var r=Symbol.iterator;xo.exports=function(L){if(L!=null&&typeof L[r]<"u")return L[r]();if(t(L))return Array.prototype[r].call(L)}}else{var n=TM(),i=rC(),s=ie,o=s("%Map%",!0),a=s("%Set%",!0),l=rr(),u=l("Array.prototype.push"),c=l("String.prototype.charCodeAt"),h=l("String.prototype.slice"),f=function(L,H){var X=L.length;if(H+1>=X)return H+1;var _e=c(L,H);if(_e<55296||_e>56319)return H+1;var me=c(L,H+1);return me<56320||me>57343?H+1:H+2},v=function(L){var H=0;return{next:function(){var _e=H>=L.length,me;return _e||(me=L[H],H+=1),{done:_e,value:me}}}},y=function(L,H){if(n(L)||t(L))return v(L);if(i(L)){var X=0;return{next:function(){var me=f(L,X),P=h(L,X,me);return X=me,{done:me>L.length,value:P}}}}if(H&&typeof L["_es6-shim iterator_"]<"u")return L["_es6-shim iterator_"]()};if(!o&&!a)xo.exports=function(L){if(L!=null)return y(L,!0)};else{var w=PM(),_=IM(),g=l("Map.prototype.forEach",!0),p=l("Set.prototype.forEach",!0);if(typeof process>"u"||!process.versions||!process.versions.node)var m=l("Map.prototype.iterator",!0),b=l("Set.prototype.iterator",!0);var S=l("Map.prototype.@@iterator",!0)||l("Map.prototype._es6-shim iterator_",!0),R=l("Set.prototype.@@iterator",!0)||l("Set.prototype._es6-shim iterator_",!0),A=function(L){if(w(L)){if(m)return e(m(L));if(S)return S(L);if(g){var H=[];return g(L,function(_e,me){u(H,[me,_e])}),v(H)}}if(_(L)){if(b)return e(b(L));if(R)return R(L);if(p){var X=[];return p(L,function(_e){u(X,_e)}),v(X)}}};xo.exports=function(L){return A(L)||y(L)}}}return xo.exports}var eh,dw;function RM(){if(dw)return eh;dw=1;var t=TypeError;return eh=function(r){if(!r||typeof r.next!="function")throw new t("iterator must be an object with a `next` method");if(arguments.length>1){var n=arguments[1];if(typeof n!="function")throw new t("`callback`, if provided, must be a function")}for(var i=n||[],s;(s=r.next())&&!s.done;)n?n(s.value):i.push(s.value);if(!n)return i},eh}var th,fw;function AM(){if(fw)return th;fw=1;var t=kM(),e=TypeError,r=RM();return th=function(i){var s=t(i);if(!s)throw new e("non-iterable value provided");return arguments.length>1?r(s,arguments[1]):r(s)},th}var rh,hw;function MM(){if(hw)return rh;hw=1;var t=ie,e=t("%TypeError%");return rh=function(n,i){if(n==null)throw new e(i||"Cannot call method on "+n);return n},rh}var nh,pw;function bd(){return pw||(pw=1,nh=MM()),nh}var ih,mw;function zy(){return mw||(mw=1,ih=Number.isNaN||function(e){return e!==e}),ih}var sh,gw;function nC(){if(gw)return sh;gw=1;var t=zy();return sh=function(e){return(typeof e=="number"||typeof e=="bigint")&&!t(e)&&e!==1/0&&e!==-1/0},sh}var oh,yw;function Gy(){if(yw)return oh;yw=1;var t=ie,e=t("%Math.abs%"),r=t("%Math.floor%"),n=zy(),i=nC();return oh=function(o){if(typeof o!="number"||n(o)||!i(o))return!1;var a=e(o);return r(a)===a},oh}var ah,vw;function OM(){if(vw)return ah;vw=1;var t=ie,e=t("%Array.prototype%"),r=t("%RangeError%"),n=t("%SyntaxError%"),i=t("%TypeError%"),s=Gy(),o=Math.pow(2,32)-1,a=V2(),l=t("%Object.setPrototypeOf%",!0)||(a?function(u,c){return u.__proto__=c,u}:null);return ah=function(c){if(!s(c)||c<0)throw new i("Assertion failed: `length` must be an integer Number >= 0");if(c>o)throw new r("length is greater than (2**32 - 1)");var h=arguments.length>1?arguments[1]:e,f=[];if(h!==e){if(!l)throw new n("ArrayCreate: a `proto` argument that is not `Array.prototype` is not supported in an environment that does not support setting the [[Prototype]]");l(f,h)}return c!==0&&(f.length=c),f},ah}var lh,_w;function qi(){return _w||(_w=1,lh=function(e){return typeof e=="string"||typeof e=="symbol"}),lh}var uh,ww;function ht(){if(ww)return uh;ww=1;var t=eC();return uh=function(r){return typeof r=="symbol"?"Symbol":typeof r=="bigint"?"BigInt":t(r)},uh}var ch,bw;function iC(){if(bw)return ch;bw=1;var t=ie,e=t("%TypeError%"),r=tC(),n=qi(),i=ht();return ch=function(o,a){if(i(o)!=="Object")throw new e("Assertion failed: Type(O) is not Object");if(!n(a))throw new e("Assertion failed: IsPropertyKey(P) is not true, got "+r(a));return o[a]},ch}var dh,Sw;function sC(){if(Sw)return dh;Sw=1;var t=ie,e=t("%Array%"),r=!e.isArray&&rr()("Object.prototype.toString");return dh=e.isArray||function(i){return r(i)==="[object Array]"},dh}var fh,xw;function oC(){return xw||(xw=1,fh=sC()),fh}var Zl={exports:{}},hh,Cw;function NM(){return Cw||(Cw=1,hh=ie),hh}var ph,Ew;function Wy(){if(Ew)return ph;Ew=1;var t=ie,e=ri,r=t("%TypeError%");return ph=function(i,s){if(i.Type(s)!=="Object")return!1;var o={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};for(var a in s)if(e(s,a)&&!o[a])return!1;if(i.IsDataDescriptor(s)&&i.IsAccessorDescriptor(s))throw new r("Property Descriptors may not be both accessor and data descriptors");return!0},ph}var mh,Tw;function aC(){if(Tw)return mh;Tw=1;var t=vd,e=ie,r=t()&&e("%Object.defineProperty%",!0),n=t.hasArrayLengthDefineBug(),i=n&&sC(),s=rr(),o=s("Object.prototype.propertyIsEnumerable");return mh=function(l,u,c,h,f,v){if(!r){if(!l(v)||!v["[[Configurable]]"]||!v["[[Writable]]"]||f in h&&o(h,f)!==!!v["[[Enumerable]]"])return!1;var y=v["[[Value]]"];return h[f]=y,u(h[f],y)}return n&&f==="length"&&"[[Value]]"in v&&i(h)&&h.length!==v["[[Value]]"]?(h.length=v["[[Value]]"],h.length===v["[[Value]]"]):(r(h,f,c(v)),!0)},mh}var gh,Pw;function DM(){if(Pw)return gh;Pw=1;var t=ri;return gh=function(r){return t(r,"[[StartIndex]]")&&t(r,"[[EndIndex]]")&&r["[[StartIndex]]"]>=0&&r["[[EndIndex]]"]>=r["[[StartIndex]]"]&&String(parseInt(r["[[StartIndex]]"],10))===String(r["[[StartIndex]]"])&&String(parseInt(r["[[EndIndex]]"],10))===String(r["[[EndIndex]]"])},gh}var yh,Iw;function Sd(){if(Iw)return yh;Iw=1;var t=ie,e=t("%TypeError%"),r=t("%SyntaxError%"),n=ri,i=Gy(),s=DM(),o={"Property Descriptor":function(l){var u={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};if(!l)return!1;for(var c in l)if(n(l,c)&&!u[c])return!1;var h=n(l,"[[Value]]"),f=n(l,"[[Get]]")||n(l,"[[Set]]");if(h&&f)throw new e("Property Descriptors may not be both accessor and data descriptors");return!0},"Match Record":s,"Iterator Record":function(l){return n(l,"[[Iterator]]")&&n(l,"[[NextMethod]]")&&n(l,"[[Done]]")},"PromiseCapability Record":function(l){return!!l&&n(l,"[[Resolve]]")&&typeof l["[[Resolve]]"]=="function"&&n(l,"[[Reject]]")&&typeof l["[[Reject]]"]=="function"&&n(l,"[[Promise]]")&&l["[[Promise]]"]&&typeof l["[[Promise]]"].then=="function"},"AsyncGeneratorRequest Record":function(l){return!!l&&n(l,"[[Completion]]")&&n(l,"[[Capability]]")&&o["PromiseCapability Record"](l["[[Capability]]"])},"RegExp Record":function(l){return l&&n(l,"[[IgnoreCase]]")&&typeof l["[[IgnoreCase]]"]=="boolean"&&n(l,"[[Multiline]]")&&typeof l["[[Multiline]]"]=="boolean"&&n(l,"[[DotAll]]")&&typeof l["[[DotAll]]"]=="boolean"&&n(l,"[[Unicode]]")&&typeof l["[[Unicode]]"]=="boolean"&&n(l,"[[CapturingGroupsCount]]")&&typeof l["[[CapturingGroupsCount]]"]=="number"&&i(l["[[CapturingGroupsCount]]"])&&l["[[CapturingGroupsCount]]"]>=0}};return yh=function(l,u,c,h){var f=o[u];if(typeof f!="function")throw new r("unknown record type: "+u);if(l(h)!=="Object"||!f(h))throw new e(c+" must be a "+u)},yh}var vh,kw;function BM(){return kw||(kw=1,vh=function(e){if(typeof e>"u")return e;var r={};return"[[Value]]"in e&&(r.value=e["[[Value]]"]),"[[Writable]]"in e&&(r.writable=!!e["[[Writable]]"]),"[[Get]]"in e&&(r.get=e["[[Get]]"]),"[[Set]]"in e&&(r.set=e["[[Set]]"]),"[[Enumerable]]"in e&&(r.enumerable=!!e["[[Enumerable]]"]),"[[Configurable]]"in e&&(r.configurable=!!e["[[Configurable]]"]),r}),vh}var _h,Rw;function lC(){if(Rw)return _h;Rw=1;var t=Sd(),e=BM(),r=ht();return _h=function(i){return typeof i<"u"&&t(r,"Property Descriptor","Desc",i),e(i)},_h}var wh,Aw;function xd(){if(Aw)return wh;Aw=1;var t=ri,e=ht(),r=Sd();return wh=function(i){return!(typeof i>"u"||(r(e,"Property Descriptor","Desc",i),!t(i,"[[Get]]")&&!t(i,"[[Set]]")))},wh}var bh,Mw;function Cd(){if(Mw)return bh;Mw=1;var t=ri,e=ht(),r=Sd();return bh=function(i){return!(typeof i>"u"||(r(e,"Property Descriptor","Desc",i),!t(i,"[[Value]]")&&!t(i,"[[Writable]]")))},bh}var Sh,Ow;function Vy(){if(Ow)return Sh;Ow=1;var t=zy();return Sh=function(r,n){return r===n?r===0?1/r===1/n:!0:t(r)&&t(n)},Sh}var xh,Nw;function LM(){return Nw||(Nw=1,xh=function(e){return!!e}),xh}var Ch,Dw;function uC(){if(Dw)return Ch;Dw=1;var t=Function.prototype.toString,e=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,r,n;if(typeof e=="function"&&typeof Object.defineProperty=="function")try{r=Object.defineProperty({},"length",{get:function(){throw n}}),n={},e(function(){throw 42},null,r)}catch(p){p!==n&&(e=null)}else e=null;var i=/^\s*class\b/,s=function(m){try{var b=t.call(m);return i.test(b)}catch{return!1}},o=function(m){try{return s(m)?!1:(t.call(m),!0)}catch{return!1}},a=Object.prototype.toString,l="[object Object]",u="[object Function]",c="[object GeneratorFunction]",h="[object HTMLAllCollection]",f="[object HTML document.all class]",v="[object HTMLCollection]",y=typeof Symbol=="function"&&!!Symbol.toStringTag,w=!(0 in[,]),_=function(){return!1};if(typeof document=="object"){var g=document.all;a.call(g)===a.call(document.all)&&(_=function(m){if((w||!m)&&(typeof m>"u"||typeof m=="object"))try{var b=a.call(m);return(b===h||b===f||b===v||b===l)&&m("")==null}catch{}return!1})}return Ch=e?function(m){if(_(m))return!0;if(!m||typeof m!="function"&&typeof m!="object")return!1;try{e(m,null,r)}catch(b){if(b!==n)return!1}return!s(m)&&o(m)}:function(m){if(_(m))return!0;if(!m||typeof m!="function"&&typeof m!="object")return!1;if(y)return o(m);if(s(m))return!1;var b=a.call(m);return b!==u&&b!==c&&!/^\[object HTML/.test(b)?!1:o(m)},Ch}var Eh,Bw;function cC(){return Bw||(Bw=1,Eh=uC()),Eh}var Th,Lw;function dC(){if(Lw)return Th;Lw=1;var t=ri,e=ie,r=e("%TypeError%"),n=ht(),i=LM(),s=cC();return Th=function(a){if(n(a)!=="Object")throw new r("ToPropertyDescriptor requires an object");var l={};if(t(a,"enumerable")&&(l["[[Enumerable]]"]=i(a.enumerable)),t(a,"configurable")&&(l["[[Configurable]]"]=i(a.configurable)),t(a,"value")&&(l["[[Value]]"]=a.value),t(a,"writable")&&(l["[[Writable]]"]=i(a.writable)),t(a,"get")){var u=a.get;if(typeof u<"u"&&!s(u))throw new r("getter must be a function");l["[[Get]]"]=u}if(t(a,"set")){var c=a.set;if(typeof c<"u"&&!s(c))throw new r("setter must be a function");l["[[Set]]"]=c}if((t(l,"[[Get]]")||t(l,"[[Set]]"))&&(t(l,"[[Value]]")||t(l,"[[Writable]]")))throw new r("Invalid property descriptor. Cannot both specify accessors and a value or writable attribute");return l},Th}var Ph,Uw;function UM(){if(Uw)return Ph;Uw=1;var t=ie,e=t("%TypeError%"),r=Wy(),n=aC(),i=lC(),s=xd(),o=Cd(),a=qi(),l=Vy(),u=dC(),c=ht();return Ph=function(f,v,y){if(c(f)!=="Object")throw new e("Assertion failed: Type(O) is not Object");if(!a(v))throw new e("Assertion failed: IsPropertyKey(P) is not true");var w=r({Type:c,IsDataDescriptor:o,IsAccessorDescriptor:s},y)?y:u(y);if(!r({Type:c,IsDataDescriptor:o,IsAccessorDescriptor:s},w))throw new e("Assertion failed: Desc is not a valid Property Descriptor");return n(o,l,i,f,v,w)},Ph}var Fw;function FM(){if(Fw)return Zl.exports;Fw=1;var t=NM(),e=t("%Reflect.construct%",!0),r=UM();try{r({},"",{"[[Get]]":function(){}})}catch{r=null}if(r&&e){var n={},i={};r(i,"length",{"[[Get]]":function(){throw n},"[[Enumerable]]":!0}),Zl.exports=function(o){try{e(o,i)}catch(a){return a===n}}}else Zl.exports=function(o){return typeof o=="function"&&!!o.prototype};return Zl.exports}var Ih,$w;function $M(){if($w)return Ih;$w=1;var t=ie,e=t("%Symbol.species%",!0),r=t("%TypeError%"),n=OM(),i=iC(),s=oC(),o=FM(),a=ht(),l=Gy();return Ih=function(c,h){if(!l(h)||h<0)throw new r("Assertion failed: length must be an integer >= 0");var f=s(c);if(!f)return n(h);var v=i(c,"constructor");if(e&&a(v)==="Object"&&(v=i(v,e),v===null&&(v=void 0)),typeof v>"u")return n(h);if(!o(v))throw new r("C must be a constructor");return new v(h)},Ih}var kh,qw;function qM(){if(qw)return kh;qw=1;var t=ie,e=rr(),r=t("%TypeError%"),n=oC(),i=t("%Reflect.apply%",!0)||e("Function.prototype.apply");return kh=function(o,a){var l=arguments.length>2?arguments[2]:[];if(!n(l))throw new r("Assertion failed: optional `argumentsList`, if provided, must be a List");return i(o,a,l)},kh}var Rh,jw;function fC(){return jw||(jw=1,Rh=function(e){return e===null||typeof e!="function"&&typeof e!="object"}),Rh}var Ah,Hw;function jM(){if(Hw)return Ah;Hw=1;var t=ie,e=t("%Object.preventExtensions%",!0),r=t("%Object.isExtensible%",!0),n=fC();return Ah=e?function(s){return!n(s)&&r(s)}:function(s){return!n(s)},Ah}var Mh,zw;function HM(){return zw||(zw=1,Mh=function(e,r){return!!r&&typeof r=="object"&&"[[Enumerable]]"in r&&"[[Configurable]]"in r&&(e.IsAccessorDescriptor(r)||e.IsDataDescriptor(r))}),Mh}var Oh,Gw;function zM(){if(Gw)return Oh;Gw=1;var t=Sd(),e=xd(),r=Cd(),n=ht();return Oh=function(s){return typeof s>"u"?!1:(t(n,"Property Descriptor","Desc",s),!e(s)&&!r(s))},Oh}var Nh,Ww;function GM(){if(Ww)return Nh;Ww=1;var t=ie,e=t("%TypeError%"),r=aC(),n=HM(),i=Wy(),s=lC(),o=xd(),a=Cd(),l=zM(),u=qi(),c=Vy(),h=ht();return Nh=function(v,y,w,_,g){var p=h(v);if(p!=="Undefined"&&p!=="Object")throw new e("Assertion failed: O must be undefined or an Object");if(!u(y))throw new e("Assertion failed: P must be a Property Key");if(h(w)!=="Boolean")throw new e("Assertion failed: extensible must be a Boolean");if(!i({Type:h,IsDataDescriptor:a,IsAccessorDescriptor:o},_))throw new e("Assertion failed: Desc must be a Property Descriptor");if(h(g)!=="Undefined"&&!i({Type:h,IsDataDescriptor:a,IsAccessorDescriptor:o},g))throw new e("Assertion failed: current must be a Property Descriptor, or undefined");if(h(g)==="Undefined")return w?p==="Undefined"?!0:o(_)?r(a,c,s,v,y,_):r(a,c,s,v,y,{"[[Configurable]]":!!_["[[Configurable]]"],"[[Enumerable]]":!!_["[[Enumerable]]"],"[[Value]]":_["[[Value]]"],"[[Writable]]":!!_["[[Writable]]"]}):!1;if(!n({IsAccessorDescriptor:o,IsDataDescriptor:a},g))throw new e("`current`, when present, must be a fully populated and valid Property Descriptor");if(!g["[[Configurable]]"]){if("[[Configurable]]"in _&&_["[[Configurable]]"]||"[[Enumerable]]"in _&&!c(_["[[Enumerable]]"],g["[[Enumerable]]"])||!l(_)&&!c(o(_),o(g)))return!1;if(o(g)){if("[[Get]]"in _&&!c(_["[[Get]]"],g["[[Get]]"])||"[[Set]]"in _&&!c(_["[[Set]]"],g["[[Set]]"]))return!1}else if(!g["[[Writable]]"]&&("[[Writable]]"in _&&_["[[Writable]]"]||"[[Value]]"in _&&!c(_["[[Value]]"],g["[[Value]]"])))return!1}if(p!=="Undefined"){var m,b;return a(g)&&o(_)?(m=("[[Configurable]]"in _?_:g)["[[Configurable]]"],b=("[[Enumerable]]"in _?_:g)["[[Enumerable]]"],r(a,c,s,v,y,{"[[Configurable]]":!!m,"[[Enumerable]]":!!b,"[[Get]]":("[[Get]]"in _?_:g)["[[Get]]"],"[[Set]]":("[[Set]]"in _?_:g)["[[Set]]"]})):o(g)&&a(_)?(m=("[[Configurable]]"in _?_:g)["[[Configurable]]"],b=("[[Enumerable]]"in _?_:g)["[[Enumerable]]"],r(a,c,s,v,y,{"[[Configurable]]":!!m,"[[Enumerable]]":!!b,"[[Value]]":("[[Value]]"in _?_:g)["[[Value]]"],"[[Writable]]":!!("[[Writable]]"in _?_:g)["[[Writable]]"]})):r(a,c,s,v,y,_)}return!0},Nh}var Dh,Vw;function WM(){if(Vw)return Dh;Vw=1;var t=ie,e=jy,r=t("%SyntaxError%"),n=t("%TypeError%"),i=Wy(),s=xd(),o=Cd(),a=jM(),l=qi(),u=dC(),c=Vy(),h=ht(),f=GM();return Dh=function(y,w,_){if(h(y)!=="Object")throw new n("Assertion failed: O must be an Object");if(!l(w))throw new n("Assertion failed: P must be a Property Key");if(!i({Type:h,IsDataDescriptor:o,IsAccessorDescriptor:s},_))throw new n("Assertion failed: Desc must be a Property Descriptor");if(!e){if(s(_))throw new r("This environment does not support accessor property descriptors.");var g=!(w in y)&&_["[[Writable]]"]&&_["[[Enumerable]]"]&&_["[[Configurable]]"]&&"[[Value]]"in _,p=w in y&&(!("[[Configurable]]"in _)||_["[[Configurable]]"])&&(!("[[Enumerable]]"in _)||_["[[Enumerable]]"])&&(!("[[Writable]]"in _)||_["[[Writable]]"])&&"[[Value]]"in _;if(g||p)return y[w]=_["[[Value]]"],c(y[w],_["[[Value]]"]);throw new r("This environment does not support defining non-writable, non-enumerable, or non-configurable properties")}var m=e(y,w),b=m&&u(m),S=a(y);return f(y,w,S,_,b)},Dh}var Bh,Qw;function VM(){if(Qw)return Bh;Qw=1;var t=ie,e=t("%TypeError%"),r=qi(),n=WM(),i=ht();return Bh=function(o,a,l){if(i(o)!=="Object")throw new e("Assertion failed: Type(O) is not Object");if(!r(a))throw new e("Assertion failed: IsPropertyKey(P) is not true");var u={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Value]]":l,"[[Writable]]":!0};return n(o,a,u)},Bh}var Lh,Kw;function QM(){if(Kw)return Lh;Kw=1;var t=ie,e=t("%TypeError%"),r=VM(),n=qi(),i=ht();return Lh=function(o,a,l){if(i(o)!=="Object")throw new e("Assertion failed: Type(O) is not Object");if(!n(a))throw new e("Assertion failed: IsPropertyKey(P) is not true");var u=r(o,a,l);if(!u)throw new e("unable to create data property")},Lh}var Uh,Yw;function KM(){if(Yw)return Uh;Yw=1;var t=ie,e=t("%TypeError%"),r=qi(),n=ht();return Uh=function(s,o){if(n(s)!=="Object")throw new e("Assertion failed: `O` must be an Object");if(!r(o))throw new e("Assertion failed: `P` must be a Property Key");return o in s},Uh}var Fh,Xw;function YM(){if(Xw)return Fh;Xw=1;var t=Math.floor;return Fh=function(r,n){var i=r%n;return t(i>=0?i:i+n)},Fh}var $h,Jw;function XM(){if(Jw)return $h;Jw=1;var t=YM();return $h=function(r,n){return t(r,n)},$h}var qh,Zw;function JM(){return Zw||(Zw=1,qh=function(e){return e===null||typeof e!="function"&&typeof e!="object"}),qh}var jh,e1;function ZM(){if(e1)return jh;e1=1;var t=Date.prototype.getDay,e=function(o){try{return t.call(o),!0}catch{return!1}},r=Object.prototype.toString,n="[object Date]",i=wd()();return jh=function(o){return typeof o!="object"||o===null?!1:i?e(o):r.call(o)===n},jh}var eu={exports:{}},t1;function e3(){if(t1)return eu.exports;t1=1;var t=Object.prototype.toString,e=qy();if(e){var r=Symbol.prototype.toString,n=/^Symbol\(.*\)$/,i=function(o){return typeof o.valueOf()!="symbol"?!1:n.test(r.call(o))};eu.exports=function(o){if(typeof o=="symbol")return!0;if(t.call(o)!=="[object Symbol]")return!1;try{return i(o)}catch{return!1}}}else eu.exports=function(o){return!1};return eu.exports}var Hh,r1;function t3(){if(r1)return Hh;r1=1;var t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol",e=JM(),r=uC(),n=ZM(),i=e3(),s=function(l,u){if(typeof l>"u"||l===null)throw new TypeError("Cannot call method on "+l);if(typeof u!="string"||u!=="number"&&u!=="string")throw new TypeError('hint must be "string" or "number"');var c=u==="string"?["toString","valueOf"]:["valueOf","toString"],h,f,v;for(v=0;v<c.length;++v)if(h=l[c[v]],r(h)&&(f=h.call(l),e(f)))return f;throw new TypeError("No default value")},o=function(l,u){var c=l[u];if(c!==null&&typeof c<"u"){if(!r(c))throw new TypeError(c+" returned for property "+u+" of object "+l+" is not a function");return c}};return Hh=function(l){if(e(l))return l;var u="default";arguments.length>1&&(arguments[1]===String?u="string":arguments[1]===Number&&(u="number"));var c;if(t&&(Symbol.toPrimitive?c=o(l,Symbol.toPrimitive):i(l)&&(c=Symbol.prototype.valueOf)),typeof c<"u"){var h=c.call(l,u);if(e(h))return h;throw new TypeError("unable to convert exotic object to primitive")}return u==="default"&&(n(l)||i(l))&&(u="string"),s(l,u==="default"?"number":u)},Hh}var zh,n1;function r3(){if(n1)return zh;n1=1;var t=t3();return zh=function(r){return arguments.length>1?t(r,arguments[1]):t(r)},zh}var Gh,i1;function n3(){if(i1)return Gh;i1=1;var t=rr(),e=wd()(),r,n,i,s;if(e){r=t("Object.prototype.hasOwnProperty"),n=t("RegExp.prototype.exec"),i={};var o=function(){throw i};s={toString:o,valueOf:o},typeof Symbol.toPrimitive=="symbol"&&(s[Symbol.toPrimitive]=o)}var a=t("Object.prototype.toString"),l=Object.getOwnPropertyDescriptor,u="[object RegExp]";return Gh=e?function(h){if(!h||typeof h!="object")return!1;var f=l(h,"lastIndex"),v=f&&r(f,"value");if(!v)return!1;try{n(h,s)}catch(y){return y===i}}:function(h){return!h||typeof h!="object"&&typeof h!="function"?!1:a(h)===u},Gh}var Wh,s1;function i3(){if(s1)return Wh;s1=1;var t=rr(),e=ie,r=n3(),n=t("RegExp.prototype.exec"),i=e("%TypeError%");return Wh=function(o){if(!r(o))throw new i("`regex` must be a RegExp");return function(l){return n(o,l)!==null}},Wh}var Vh,o1;function hC(){if(o1)return Vh;o1=1;var t=ie,e=t("%String%"),r=t("%TypeError%");return Vh=function(i){if(typeof i=="symbol")throw new r("Cannot convert a Symbol value to a string");return e(i)},Vh}var Qh,a1;function pC(){if(a1)return Qh;a1=1;var t=bd(),e=hC(),r=rr(),n=r("String.prototype.replace"),i=/^\s$/.test(""),s=i?/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+/:/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+/,o=i?/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+$/:/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+$/;return Qh=function(){var l=e(t(this));return n(n(l,s,""),o,"")},Qh}var Kh,l1;function mC(){if(l1)return Kh;l1=1;var t=pC(),e="",r="";return Kh=function(){return String.prototype.trim&&e.trim()===e&&r.trim()===r&&("_"+r).trim()==="_"+r&&(r+"_").trim()===r+"_"?String.prototype.trim:t},Kh}var Yh,u1;function s3(){if(u1)return Yh;u1=1;var t=ao,e=mC();return Yh=function(){var n=e();return t(String.prototype,{trim:n},{trim:function(){return String.prototype.trim!==n}}),n},Yh}var Xh,c1;function o3(){if(c1)return Xh;c1=1;var t=gl,e=ao,r=bd(),n=pC(),i=mC(),s=s3(),o=t(i()),a=function(u){return r(u),o(u)};return e(a,{getPolyfill:i,implementation:n,shim:s}),Xh=a,Xh}var Jh,d1;function a3(){if(d1)return Jh;d1=1;var t=ie,e=t("%Number%"),r=t("%RegExp%"),n=t("%TypeError%"),i=t("%parseInt%"),s=rr(),o=i3(),a=s("String.prototype.slice"),l=o(/^0b[01]+$/i),u=o(/^0o[0-7]+$/i),c=o(/^[-+]0x[0-9a-f]+$/i),h=["","",""].join(""),f=new r("["+h+"]","g"),v=o(f),y=o3(),w=ht();return Jh=function _(g){if(w(g)!=="String")throw new n("Assertion failed: `argument` is not a String");if(l(g))return e(i(a(g,2),2));if(u(g))return e(i(a(g,2),8));if(v(g)||c(g))return NaN;var p=y(g);return p!==g?_(p):e(g)},Jh}var Zh,f1;function l3(){if(f1)return Zh;f1=1;var t=ie,e=t("%TypeError%"),r=t("%Number%"),n=fC(),i=r3(),s=a3();return Zh=function(a){var l=n(a)?a:i(a,r);if(typeof l=="symbol")throw new e("Cannot convert a Symbol value to a number");if(typeof l=="bigint")throw new e("Conversion from 'BigInt' to 'number' is not allowed.");return typeof l=="string"?s(l):r(l)},Zh}var ep,h1;function u3(){if(h1)return ep;h1=1;var t=ht(),e=Math.floor;return ep=function(n){return t(n)==="BigInt"?n:e(n)},ep}var tp,p1;function c3(){if(p1)return tp;p1=1;var t=ie,e=u3(),r=t("%TypeError%");return tp=function(i){if(typeof i!="number"&&typeof i!="bigint")throw new r("argument must be a Number or a BigInt");var s=i<0?-e(-i):e(i);return s===0?0:s},tp}var rp,m1;function d3(){if(m1)return rp;m1=1;var t=XM(),e=l3(),r=c3(),n=nC(),i=4294967296;return rp=function(o){var a=e(o);if(!n(a)||a===0)return 0;var l=r(a),u=t(l,i);return u===0?0:u},rp}var np,g1;function f3(){if(g1)return np;g1=1;var t=ie,e=t("%Object%"),r=bd();return np=function(i){return r(i),e(i)},np}var ip,y1;function gC(){if(y1)return ip;y1=1;var t=$M(),e=qM(),r=QM(),n=iC(),i=KM(),s=cC(),o=d3(),a=f3(),l=hC(),u=rr(),c=rC(),h=Object("a"),f=h[0]!=="a"||!(0 in h),v=u("String.prototype.split");return ip=function(w){var _=a(this),g=f&&c(_)?v(_,""):_,p=o(g.length);if(!s(w))throw new TypeError("Array.prototype.map callback must be a function");var m;arguments.length>1&&(m=arguments[1]);for(var b=t(_,p),S=0;S<p;){var R=l(S),A=i(_,R);if(A){var I=n(_,R),L=e(w,m,[I,S,_]);r(b,R,L)}S+=1}return b},ip}var sp,v1;function h3(){return v1||(v1=1,sp=function(e){var r=!0,n=!0,i=!1;if(typeof e=="function"){try{e.call("f",function(s,o,a){typeof a!="object"&&(r=!1)}),e.call([null],function(){"use strict";n=typeof this=="string"},"x")}catch{i=!0}return!i&&r&&n}return!1}),sp}var op,_1;function yC(){if(_1)return op;_1=1;var t=h3(),e=gC();return op=function(){var n=Array.prototype.map;return t(n)?n:e},op}var ap,w1;function p3(){if(w1)return ap;w1=1;var t=ao,e=yC();return ap=function(){var n=e();return t(Array.prototype,{map:n},{map:function(){return Array.prototype.map!==n}}),n},ap}var lp,b1;function m3(){if(b1)return lp;b1=1;var t=ao,e=bd(),r=rr(),n=gC(),i=yC(),s=i(),o=p3(),a=r("Array.prototype.slice"),l=function(c,h){return e(c),s.apply(c,a(arguments,1))};return t(l,{getPolyfill:i,implementation:n,shim:o}),lp=l,lp}var g3=_d;g3();var y3=yM(),v3=vM(),_3=AM(),w3=m3(),vC=ie,_C=gl,b3=_C(vC("%Promise.all%")),S3=_C(vC("%Promise.reject%")),wC=function(e){var r=this;if(v3(r)!=="Object")throw new TypeError("`this` value must be an object");var n=_3(e);return b3(r,w3(n,function(i){var s=function(l){return{status:"fulfilled",value:l}},o=function(l){return{status:"rejected",reason:l}},a=y3(r,i);try{return a.then(s,o)}catch(l){return S3(r,l)}}))},x3=_d,C3=wC,bC=function(){return x3(),typeof Promise.allSettled=="function"?Promise.allSettled:C3},E3=_d,T3=bC,P3=ao,I3=function(){E3();var e=T3();return P3(Promise,{allSettled:e},{allSettled:function(){return Promise.allSettled!==e}}),e};(function(t){var e=gl,r=ao,n=_d,i=wC,s=bC,o=I3;n();var a=e(s()),l=function(c){return a(typeof this>"u"?Promise:this,c)};r(l,{getPolyfill:s,implementation:i,shim:o}),t.exports=l,t.exports.default=l})(G2);var k3=G2.exports;const R3=Xr(k3);var Qy=function(){function t(e){var r=e.logger;this._queue=[],this._batchRunning=!1,this._paused=!1,this._logger=oo(Di({name:"rate-limiter",emoji:!0},r))}return t.prototype.request=function(e,r){return pr(this,void 0,Promise,function(){var n=this;return Qt(this,function(i){switch(i.label){case 0:return this._logger.trace("request start"),[4,new Promise(function(s,o){var a,l={req:e,resolve:s,reject:o,limitReachedBehavior:(a=r==null?void 0:r.limitReachedBehavior)!==null&&a!==void 0?a:"enqueue"};n._batchRunning||n._nextBatchTimer||n._paused?(n._logger.trace("request queued batchRunning:".concat(n._batchRunning.toString()," hasNextBatchTimer:").concat((!!n._nextBatchTimer).toString()," paused:").concat(n._paused.toString())),n._queue.push(l)):n._runRequestBatch([l])})];case 1:return[2,i.sent()]}})})},t.prototype.clear=function(){this._queue=[]},t.prototype.pause=function(){this._paused=!0},t.prototype.resume=function(){this._paused=!1,this._runNextBatch()},Object.defineProperty(t.prototype,"stats",{get:function(){var e,r,n,i,s;return{lastKnownLimit:(r=(e=this._parameters)===null||e===void 0?void 0:e.limit)!==null&&r!==void 0?r:null,lastKnownRemainingRequests:(i=(n=this._parameters)===null||n===void 0?void 0:n.remaining)!==null&&i!==void 0?i:null,lastKnownResetDate:Zt((s=this._parameters)===null||s===void 0?void 0:s.resetsAt,function(o){return new Date(o)})}},enumerable:!1,configurable:!0}),t.prototype._runRequestBatch=function(e){return pr(this,void 0,void 0,function(){var r,n,i,s,o,a,l,u,c=this;return Qt(this,function(h){switch(h.label){case 0:return this._logger.trace("runRequestBatch start specs:".concat(e.length)),this._batchRunning=!0,this._parameters&&this._logger.debug("Remaining requests: ".concat(this._parameters.remaining)),this._logger.debug("Doing ".concat(e.length," requests, new queue length is ").concat(this._queue.length)),r=e.map(function(f){return pr(c,void 0,Promise,function(){var v,y,w,_,g,p,m;return Qt(this,function(b){switch(b.label){case 0:v=f.req,y=f.resolve,w=f.reject,b.label=1;case 1:return b.trys.push([1,3,,4]),[4,this.doRequest(v)];case 2:if(_=b.sent(),g=this.needsToRetryAfter(_),g!==null)throw this._queue.unshift(f),this._logger.info("Retrying after ".concat(g," ms")),new D_(g);return p=this.getParametersFromResponse(_),y(_),[2,p];case 3:if(m=b.sent(),m instanceof D_)throw m;return w(m),[2,void 0];case 4:return[2]}})})}),[4,R3.call(Promise,r)];case 1:return n=h.sent(),i=n.filter(function(f){return f.status==="rejected"}),s=Date.now(),i.length?(this._logger.trace("runRequestBatch some rejected"),o=Math.max.apply(Math,Kn([s],en(i.map(function(f){return f.reason.retryAt})),!1)),a=o-s,this._logger.warn("Waiting for ".concat(a," ms because the rate limit was exceeded")),this._nextBatchTimer=setTimeout(function(){c._parameters=void 0,c._runNextBatch()},a)):(this._logger.trace("runRequestBatch none rejected"),l=n.filter(function(f){return f.status==="fulfilled"&&f.value!==void 0}).map(function(f){return f.value}).reduce(function(f,v){return f?v.remaining<f.remaining?v:f:v},void 0),this._batchRunning=!1,l&&(this._parameters=l,l.resetsAt<s||l.remaining>0?(this._logger.trace("runRequestBatch canRunMore"),this._runNextBatch()):(u=l.resetsAt-s,this._logger.trace("runRequestBatch delay:".concat(u)),this._logger.warn("Waiting for ".concat(u," ms because the rate limit was reached")),this._queue=this._queue.filter(function(f){switch(f.limitReachedBehavior){case"enqueue":return!0;case"null":return f.resolve(null),!1;case"throw":return f.reject(new Uy("Request removed from queue because the rate limit was reached")),!1;default:throw new Error("this should never happen")}}),this._nextBatchTimer=setTimeout(function(){c._parameters=void 0,c._runNextBatch()},u)))),this._logger.trace("runRequestBatch end"),[2]}})})},t.prototype._runNextBatch=function(){if(!this._paused){this._logger.trace("runNextBatch start"),this._nextBatchTimer&&(clearTimeout(this._nextBatchTimer),this._nextBatchTimer=void 0);var e=this._parameters?Math.min(this._parameters.remaining,this._parameters.limit/10):1,r=this._queue.splice(0,e);r.length&&this._runRequestBatch(r),this._logger.trace("runNextBatch end")}},t}(),A3=function(){function t(e){this._children=new Map,this._paused=!1,this._partitionKeyCallback=e.getPartitionKey,this._createChildCallback=e.createChild}return t.prototype.request=function(e,r){return pr(this,void 0,Promise,function(){var n,i;return Qt(this,function(s){switch(s.label){case 0:return n=this._partitionKeyCallback(e),i=this._getChild(n),[4,i.request(e,r)];case 1:return[2,s.sent()]}})})},t.prototype.clear=function(){var e,r;try{for(var n=Su(this._children.values()),i=n.next();!i.done;i=n.next()){var s=i.value;s.clear()}}catch(o){e={error:o}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}},t.prototype.pause=function(){var e,r;this._paused=!0;try{for(var n=Su(this._children.values()),i=n.next();!i.done;i=n.next()){var s=i.value;s.pause()}}catch(o){e={error:o}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}},t.prototype.resume=function(){var e,r;this._paused=!1;try{for(var n=Su(this._children.values()),i=n.next();!i.done;i=n.next()){var s=i.value;s.resume()}}catch(o){e={error:o}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}},t.prototype.getChildStats=function(e){if(!this._children.has(e))return null;var r=this._children.get(e);return r instanceof Qy?r.stats:null},t.prototype._getChild=function(e){if(this._children.has(e))return this._children.get(e);var r=this._createChildCallback(e);return this._paused&&r.pause(),this._children.set(e,r),r},t}(),SC=function(){function t(e){var r=e.logger,n=e.bucketSize,i=e.timeFrame,s=e.doRequest,o=e.getPartitionKey;this._partitionedQueue=new Map,this._usedFromBucket=new Map,this._paused=!1,this._logger=oo(Di({name:"rate-limiter",emoji:!0},r)),this._bucketSize=n,this._timeFrame=i,this._callback=s,this._partitionKeyCallback=o}return t.prototype.request=function(e,r){return pr(this,void 0,Promise,function(){var n=this;return Qt(this,function(i){switch(i.label){case 0:return[4,new Promise(function(s,o){var a,l,u={req:e,resolve:s,reject:o,limitReachedBehavior:(a=r==null?void 0:r.limitReachedBehavior)!==null&&a!==void 0?a:"enqueue"},c=n._partitionKeyCallback(e),h=(l=n._usedFromBucket.get(c))!==null&&l!==void 0?l:0;if(h>=n._bucketSize||n._paused)switch(u.limitReachedBehavior){case"enqueue":{var f=n._getPartitionedQueue(c);f.push(u),h+f.length>=n._bucketSize?n._logger.warn("Rate limit of ".concat(n._bucketSize," for ").concat(c?"partition ".concat(c):"default partition"," was reached, waiting for ").concat(n._paused?"the limiter to be unpaused":"a free bucket entry","; queue size is ").concat(f.length)):n._logger.info("Enqueueing request for ".concat(c?"partition ".concat(c):"default partition"," because the rate limiter is paused; queue size is ").concat(f.length));break}case"null":{u.resolve(null),n._paused?n._logger.info("Returning null for request for ".concat(c?"partition ".concat(c):"default partition"," because the rate limiter is paused")):n._logger.warn("Rate limit of ".concat(n._bucketSize," for ").concat(c?"partition ".concat(c):"default partition"," was reached, dropping request and returning null"));break}case"throw":{u.reject(new Uy("Request dropped because ".concat(n._paused?"the rate limiter is paused":"the rate limit for ".concat(c?"partition ".concat(c):"default partition"," was reached"))));break}default:throw new Error("this should never happen")}else n._runRequest(u,c)})];case 1:return[2,i.sent()]}})})},t.prototype.clear=function(){this._partitionedQueue.clear()},t.prototype.pause=function(){this._paused=!0},t.prototype.resume=function(){var e,r;this._paused=!1;try{for(var n=Su(this._partitionedQueue.keys()),i=n.next();!i.done;i=n.next()){var s=i.value;this._runNextRequest(s)}}catch(o){e={error:o}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}},t.prototype._getPartitionedQueue=function(e){if(this._partitionedQueue.has(e))return this._partitionedQueue.get(e);var r=[];return this._partitionedQueue.set(e,r),r},t.prototype._runRequest=function(e,r){var n;return pr(this,void 0,void 0,function(){var i,s,o,a,l,u,c=this;return Qt(this,function(h){switch(h.label){case 0:i=this._getPartitionedQueue(r),this._logger.debug("doing a request for ".concat(r?"partition ".concat(r):"default partition",", new queue length is ").concat(i.length)),this._usedFromBucket.set(r,((n=this._usedFromBucket.get(r))!==null&&n!==void 0?n:0)+1),s=e.req,o=e.resolve,a=e.reject,h.label=1;case 1:return h.trys.push([1,3,4,5]),l=o,[4,this._callback(s)];case 2:return l.apply(void 0,[h.sent()]),[3,5];case 3:return u=h.sent(),a(u),[3,5];case 4:return setTimeout(function(){var f=c._usedFromBucket.get(r)-1;c._usedFromBucket.set(r,f),i.length&&f<c._bucketSize&&c._runNextRequest(r)},this._timeFrame),[7];case 5:return[2]}})})},t.prototype._runNextRequest=function(e){if(!this._paused){var r=this._getPartitionedQueue(e),n=r.shift();n&&this._runRequest(n,e)}},t}(),zm=function(){function t(e){var r=e.logger,n=e.bucketSize,i=e.timeFrame,s=e.doRequest;this._queue=[],this._usedFromBucket=0,this._paused=!1,this._logger=oo(Di({name:"rate-limiter",emoji:!0},r)),this._bucketSize=n,this._timeFrame=i,this._callback=s}return t.prototype.request=function(e,r){return pr(this,void 0,Promise,function(){var n=this;return Qt(this,function(i){switch(i.label){case 0:return[4,new Promise(function(s,o){var a,l={req:e,resolve:s,reject:o,limitReachedBehavior:(a=r==null?void 0:r.limitReachedBehavior)!==null&&a!==void 0?a:"enqueue"};if(n._usedFromBucket>=n._bucketSize||n._paused)switch(l.limitReachedBehavior){case"enqueue":{n._queue.push(l),n._usedFromBucket+n._queue.length>=n._bucketSize?n._logger.warn("Rate limit of ".concat(n._bucketSize," was reached, waiting for ").concat(n._paused?"the limiter to be unpaused":"a free bucket entry","; queue size is ").concat(n._queue.length)):n._logger.info("Enqueueing request because the rate limiter is paused; queue size is ".concat(n._queue.length));break}case"null":{l.resolve(null),n._logger.warn("Rate limit of ".concat(n._bucketSize," was reached, dropping request and returning null")),n._paused?n._logger.info("Returning null for request because the rate limiter is paused"):n._logger.warn("Rate limit of ".concat(n._bucketSize," was reached, dropping request and returning null"));break}case"throw":{l.reject(new Uy("Request dropped because ".concat(n._paused?"the rate limiter is paused":"the rate limit was reached")));break}default:throw new Error("this should never happen")}else n._runRequest(l)})];case 1:return[2,i.sent()]}})})},t.prototype.clear=function(){this._queue=[]},t.prototype.pause=function(){this._paused=!0},t.prototype.resume=function(){this._paused=!1,this._runNextRequest()},t.prototype._runRequest=function(e){return pr(this,void 0,void 0,function(){var r,n,i,s,o,a=this;return Qt(this,function(l){switch(l.label){case 0:this._logger.debug("doing a request, new queue length is ".concat(this._queue.length)),this._usedFromBucket+=1,r=e.req,n=e.resolve,i=e.reject,l.label=1;case 1:return l.trys.push([1,3,4,5]),s=n,[4,this._callback(r)];case 2:return s.apply(void 0,[l.sent()]),[3,5];case 3:return o=l.sent(),i(o),[3,5];case 4:return setTimeout(function(){a._usedFromBucket-=1,a._queue.length&&a._usedFromBucket<a._bucketSize&&a._runNextRequest()},this._timeFrame),[7];case 5:return[2]}})})},t.prototype._runNextRequest=function(){if(!this._paused){var e=this._queue.shift();e&&this._runRequest(e)}},t}(),M3=function(t){so(e,t);function e(r,n){return t.call(this,Di(Di({},n),{doRequest:function(i,s){return pr(this,void 0,Promise,function(){return Qt(this,function(o){switch(o.label){case 0:return[4,r.request(i,s)];case 1:return[2,o.sent()]}})})}}))||this}return e}(zm);class O3{constructor(e,r,n,i=!1){this.owner=e,this.event=r,this.listener=n,this._internal=i}unbind(){this.owner.removeListener(this)}}class lo{constructor(){this._eventListeners=new Map,this._internalEventListeners=new Map}on(e,r){return this._addListener(!1,e,r)}addListener(e,r){return this._addListener(!1,e,r)}removeListener(e,r){this._removeListener(!1,e,r)}registerEvent(){const e=r=>this.addListener(e,r);return e}emit(e,...r){if(this._eventListeners.has(e))for(const n of this._eventListeners.get(e))n(...r);if(this._internalEventListeners.has(e))for(const n of this._internalEventListeners.get(e))n(...r)}registerInternalEvent(){const e=r=>this.addInternalListener(e,r);return e}addInternalListener(e,r){return this._addListener(!0,e,r)}removeInternalListener(e,r){this._removeListener(!0,e,r)}_addListener(e,r,n){const i=e?this._eventListeners:this._internalEventListeners;return i.has(r)?i.get(r).push(n):i.set(r,[n]),new O3(this,r,n,e)}_removeListener(e,r,n){const i=e?this._eventListeners:this._internalEventListeners;if(!r)i.clear();else if(typeof r=="object"){const s=r;this._removeListener(s._internal,s.event,s.listener)}else{const s=r;if(i.has(s))if(n){const o=i.get(s);let a=0;for(;(a=o.indexOf(n))!==-1;)o.splice(a,1)}else i.delete(s)}}}const N3=6e4;function D3(t){return Zt(t.expiresIn,e=>t.obtainmentTimestamp+e*1e3-N3)}function Ss(t){var e;return(e=Zt(D3(t),r=>Date.now()>r))!==null&&e!==void 0?e:!1}var Gm={exports:{}};(function(t,e){var r=typeof self<"u"?self:Vc,n=function(){function s(){this.fetch=!1,this.DOMException=r.DOMException}return s.prototype=r,new s}();(function(s){(function(o){var a={searchParams:"URLSearchParams"in s,iterable:"Symbol"in s&&"iterator"in Symbol,blob:"FileReader"in s&&"Blob"in s&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in s,arrayBuffer:"ArrayBuffer"in s};function l(P){return P&&DataView.prototype.isPrototypeOf(P)}if(a.arrayBuffer)var u=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],c=ArrayBuffer.isView||function(P){return P&&u.indexOf(Object.prototype.toString.call(P))>-1};function h(P){if(typeof P!="string"&&(P=String(P)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(P))throw new TypeError("Invalid character in header field name");return P.toLowerCase()}function f(P){return typeof P!="string"&&(P=String(P)),P}function v(P){var N={next:function(){var V=P.shift();return{done:V===void 0,value:V}}};return a.iterable&&(N[Symbol.iterator]=function(){return N}),N}function y(P){this.map={},P instanceof y?P.forEach(function(N,V){this.append(V,N)},this):Array.isArray(P)?P.forEach(function(N){this.append(N[0],N[1])},this):P&&Object.getOwnPropertyNames(P).forEach(function(N){this.append(N,P[N])},this)}y.prototype.append=function(P,N){P=h(P),N=f(N);var V=this.map[P];this.map[P]=V?V+", "+N:N},y.prototype.delete=function(P){delete this.map[h(P)]},y.prototype.get=function(P){return P=h(P),this.has(P)?this.map[P]:null},y.prototype.has=function(P){return this.map.hasOwnProperty(h(P))},y.prototype.set=function(P,N){this.map[h(P)]=f(N)},y.prototype.forEach=function(P,N){for(var V in this.map)this.map.hasOwnProperty(V)&&P.call(N,this.map[V],V,this)},y.prototype.keys=function(){var P=[];return this.forEach(function(N,V){P.push(V)}),v(P)},y.prototype.values=function(){var P=[];return this.forEach(function(N){P.push(N)}),v(P)},y.prototype.entries=function(){var P=[];return this.forEach(function(N,V){P.push([V,N])}),v(P)},a.iterable&&(y.prototype[Symbol.iterator]=y.prototype.entries);function w(P){if(P.bodyUsed)return Promise.reject(new TypeError("Already read"));P.bodyUsed=!0}function _(P){return new Promise(function(N,V){P.onload=function(){N(P.result)},P.onerror=function(){V(P.error)}})}function g(P){var N=new FileReader,V=_(N);return N.readAsArrayBuffer(P),V}function p(P){var N=new FileReader,V=_(N);return N.readAsText(P),V}function m(P){for(var N=new Uint8Array(P),V=new Array(N.length),ge=0;ge<N.length;ge++)V[ge]=String.fromCharCode(N[ge]);return V.join("")}function b(P){if(P.slice)return P.slice(0);var N=new Uint8Array(P.byteLength);return N.set(new Uint8Array(P)),N.buffer}function S(){return this.bodyUsed=!1,this._initBody=function(P){this._bodyInit=P,P?typeof P=="string"?this._bodyText=P:a.blob&&Blob.prototype.isPrototypeOf(P)?this._bodyBlob=P:a.formData&&FormData.prototype.isPrototypeOf(P)?this._bodyFormData=P:a.searchParams&&URLSearchParams.prototype.isPrototypeOf(P)?this._bodyText=P.toString():a.arrayBuffer&&a.blob&&l(P)?(this._bodyArrayBuffer=b(P.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):a.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(P)||c(P))?this._bodyArrayBuffer=b(P):this._bodyText=P=Object.prototype.toString.call(P):this._bodyText="",this.headers.get("content-type")||(typeof P=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):a.searchParams&&URLSearchParams.prototype.isPrototypeOf(P)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},a.blob&&(this.blob=function(){var P=w(this);if(P)return P;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?w(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(g)}),this.text=function(){var P=w(this);if(P)return P;if(this._bodyBlob)return p(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(m(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},a.formData&&(this.formData=function(){return this.text().then(L)}),this.json=function(){return this.text().then(JSON.parse)},this}var R=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function A(P){var N=P.toUpperCase();return R.indexOf(N)>-1?N:P}function I(P,N){N=N||{};var V=N.body;if(P instanceof I){if(P.bodyUsed)throw new TypeError("Already read");this.url=P.url,this.credentials=P.credentials,N.headers||(this.headers=new y(P.headers)),this.method=P.method,this.mode=P.mode,this.signal=P.signal,!V&&P._bodyInit!=null&&(V=P._bodyInit,P.bodyUsed=!0)}else this.url=String(P);if(this.credentials=N.credentials||this.credentials||"same-origin",(N.headers||!this.headers)&&(this.headers=new y(N.headers)),this.method=A(N.method||this.method||"GET"),this.mode=N.mode||this.mode||null,this.signal=N.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&V)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(V)}I.prototype.clone=function(){return new I(this,{body:this._bodyInit})};function L(P){var N=new FormData;return P.trim().split("&").forEach(function(V){if(V){var ge=V.split("="),U=ge.shift().replace(/\+/g," "),$=ge.join("=").replace(/\+/g," ");N.append(decodeURIComponent(U),decodeURIComponent($))}}),N}function H(P){var N=new y,V=P.replace(/\r?\n[\t ]+/g," ");return V.split(/\r?\n/).forEach(function(ge){var U=ge.split(":"),$=U.shift().trim();if($){var K=U.join(":").trim();N.append($,K)}}),N}S.call(I.prototype);function X(P,N){N||(N={}),this.type="default",this.status=N.status===void 0?200:N.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in N?N.statusText:"OK",this.headers=new y(N.headers),this.url=N.url||"",this._initBody(P)}S.call(X.prototype),X.prototype.clone=function(){return new X(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new y(this.headers),url:this.url})},X.error=function(){var P=new X(null,{status:0,statusText:""});return P.type="error",P};var _e=[301,302,303,307,308];X.redirect=function(P,N){if(_e.indexOf(N)===-1)throw new RangeError("Invalid status code");return new X(null,{status:N,headers:{location:P}})},o.DOMException=s.DOMException;try{new o.DOMException}catch{o.DOMException=function(N,V){this.message=N,this.name=V;var ge=Error(N);this.stack=ge.stack},o.DOMException.prototype=Object.create(Error.prototype),o.DOMException.prototype.constructor=o.DOMException}function me(P,N){return new Promise(function(V,ge){var U=new I(P,N);if(U.signal&&U.signal.aborted)return ge(new o.DOMException("Aborted","AbortError"));var $=new XMLHttpRequest;function K(){$.abort()}$.onload=function(){var ae={status:$.status,statusText:$.statusText,headers:H($.getAllResponseHeaders()||"")};ae.url="responseURL"in $?$.responseURL:ae.headers.get("X-Request-URL");var we="response"in $?$.response:$.responseText;V(new X(we,ae))},$.onerror=function(){ge(new TypeError("Network request failed"))},$.ontimeout=function(){ge(new TypeError("Network request failed"))},$.onabort=function(){ge(new o.DOMException("Aborted","AbortError"))},$.open(U.method,U.url,!0),U.credentials==="include"?$.withCredentials=!0:U.credentials==="omit"&&($.withCredentials=!1),"responseType"in $&&a.blob&&($.responseType="blob"),U.headers.forEach(function(ae,we){$.setRequestHeader(we,ae)}),U.signal&&(U.signal.addEventListener("abort",K),$.onreadystatechange=function(){$.readyState===4&&U.signal.removeEventListener("abort",K)}),$.send(typeof U._bodyInit>"u"?null:U._bodyInit)})}return me.polyfill=!0,s.fetch||(s.fetch=me,s.Headers=y,s.Request=I,s.Response=X),o.Headers=y,o.Request=I,o.Response=X,o.fetch=me,Object.defineProperty(o,"__esModule",{value:!0}),o})({})})(n),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var i=n;e=i.fetch,e.default=i.fetch,e.fetch=i.fetch,e.Headers=i.Headers,e.Request=i.Request,e.Response=i.Response,t.exports=e})(Gm,Gm.exports);var xC=Gm.exports;const B3=Xr(xC);var up=Object.prototype.hasOwnProperty,Ji=Array.isArray,br=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),L3=function(e){for(;e.length>1;){var r=e.pop(),n=r.obj[r.prop];if(Ji(n)){for(var i=[],s=0;s<n.length;++s)typeof n[s]<"u"&&i.push(n[s]);r.obj[r.prop]=i}}},CC=function(e,r){for(var n=r&&r.plainObjects?Object.create(null):{},i=0;i<e.length;++i)typeof e[i]<"u"&&(n[i]=e[i]);return n},U3=function t(e,r,n){if(!r)return e;if(typeof r!="object"){if(Ji(e))e.push(r);else if(e&&typeof e=="object")(n&&(n.plainObjects||n.allowPrototypes)||!up.call(Object.prototype,r))&&(e[r]=!0);else return[e,r];return e}if(!e||typeof e!="object")return[e].concat(r);var i=e;return Ji(e)&&!Ji(r)&&(i=CC(e,n)),Ji(e)&&Ji(r)?(r.forEach(function(s,o){if(up.call(e,o)){var a=e[o];a&&typeof a=="object"&&s&&typeof s=="object"?e[o]=t(a,s,n):e.push(s)}else e[o]=s}),e):Object.keys(r).reduce(function(s,o){var a=r[o];return up.call(s,o)?s[o]=t(s[o],a,n):s[o]=a,s},i)},F3=function(e,r){return Object.keys(r).reduce(function(n,i){return n[i]=r[i],n},e)},$3=function(t,e,r){var n=t.replace(/\+/g," ");if(r==="iso-8859-1")return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch{return n}},q3=function(e,r,n){if(e.length===0)return e;var i=e;if(typeof e=="symbol"?i=Symbol.prototype.toString.call(e):typeof e!="string"&&(i=String(e)),n==="iso-8859-1")return escape(i).replace(/%u[0-9a-f]{4}/gi,function(l){return"%26%23"+parseInt(l.slice(2),16)+"%3B"});for(var s="",o=0;o<i.length;++o){var a=i.charCodeAt(o);if(a===45||a===46||a===95||a===126||a>=48&&a<=57||a>=65&&a<=90||a>=97&&a<=122){s+=i.charAt(o);continue}if(a<128){s=s+br[a];continue}if(a<2048){s=s+(br[192|a>>6]+br[128|a&63]);continue}if(a<55296||a>=57344){s=s+(br[224|a>>12]+br[128|a>>6&63]+br[128|a&63]);continue}o+=1,a=65536+((a&1023)<<10|i.charCodeAt(o)&1023),s+=br[240|a>>18]+br[128|a>>12&63]+br[128|a>>6&63]+br[128|a&63]}return s},j3=function(e){for(var r=[{obj:{o:e},prop:"o"}],n=[],i=0;i<r.length;++i)for(var s=r[i],o=s.obj[s.prop],a=Object.keys(o),l=0;l<a.length;++l){var u=a[l],c=o[u];typeof c=="object"&&c!==null&&n.indexOf(c)===-1&&(r.push({obj:o,prop:u}),n.push(c))}return L3(r),e},H3=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},z3=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},G3=function(e,r){return[].concat(e,r)},Ky={arrayToObject:CC,assign:F3,combine:G3,compact:j3,decode:$3,encode:q3,isBuffer:z3,isRegExp:H3,merge:U3},W3=String.prototype.replace,V3=/%20/g,Q3=Ky,S1={RFC1738:"RFC1738",RFC3986:"RFC3986"},K3=Q3.assign({default:S1.RFC3986,formatters:{RFC1738:function(t){return W3.call(t,V3,"+")},RFC3986:function(t){return String(t)}}},S1),EC=Ky,Go=K3,Y3=Object.prototype.hasOwnProperty,x1={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,r){return e+"["+r+"]"},repeat:function(e){return e}},xs=Array.isArray,X3=Array.prototype.push,Wm=function(t,e){X3.apply(t,xs(e)?e:[e])},J3=Date.prototype.toISOString,C1=Go.default,it={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:EC.encode,encodeValuesOnly:!1,format:C1,formatter:Go.formatters[C1],indices:!1,serializeDate:function(e){return J3.call(e)},skipNulls:!1,strictNullHandling:!1},Z3=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},eO=function t(e,r,n,i,s,o,a,l,u,c,h,f,v){var y=e;if(typeof a=="function"?y=a(r,y):y instanceof Date?y=c(y):n==="comma"&&xs(y)&&(y=y.join(",")),y===null){if(i)return o&&!f?o(r,it.encoder,v,"key"):r;y=""}if(Z3(y)||EC.isBuffer(y)){if(o){var w=f?r:o(r,it.encoder,v,"key");return[h(w)+"="+h(o(y,it.encoder,v,"value"))]}return[h(r)+"="+h(String(y))]}var _=[];if(typeof y>"u")return _;var g;if(xs(a))g=a;else{var p=Object.keys(y);g=l?p.sort(l):p}for(var m=0;m<g.length;++m){var b=g[m];s&&y[b]===null||(xs(y)?Wm(_,t(y[b],typeof n=="function"?n(r,b):r,n,i,s,o,a,l,u,c,h,f,v)):Wm(_,t(y[b],r+(u?"."+b:"["+b+"]"),n,i,s,o,a,l,u,c,h,f,v)))}return _},tO=function(e){if(!e)return it;if(e.encoder!==null&&e.encoder!==void 0&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var r=e.charset||it.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=Go.default;if(typeof e.format<"u"){if(!Y3.call(Go.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var i=Go.formatters[n],s=it.filter;return(typeof e.filter=="function"||xs(e.filter))&&(s=e.filter),{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:it.addQueryPrefix,allowDots:typeof e.allowDots>"u"?it.allowDots:!!e.allowDots,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:it.charsetSentinel,delimiter:typeof e.delimiter>"u"?it.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:it.encode,encoder:typeof e.encoder=="function"?e.encoder:it.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:it.encodeValuesOnly,filter:s,formatter:i,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:it.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:it.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:it.strictNullHandling}},rO=function(t,e){var r=t,n=tO(e),i,s;typeof n.filter=="function"?(s=n.filter,r=s("",r)):xs(n.filter)&&(s=n.filter,i=s);var o=[];if(typeof r!="object"||r===null)return"";var a;e&&e.arrayFormat in x1?a=e.arrayFormat:e&&"indices"in e?a=e.indices?"indices":"repeat":a="indices";var l=x1[a];i||(i=Object.keys(r)),n.sort&&i.sort(n.sort);for(var u=0;u<i.length;++u){var c=i[u];n.skipNulls&&r[c]===null||Wm(o,eO(r[c],c,l,n.strictNullHandling,n.skipNulls,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.formatter,n.encodeValuesOnly,n.charset))}var h=o.join(n.delimiter),f=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?f+="utf8=%26%2310003%3B&":f+="utf8=%E2%9C%93&"),h.length>0?f+h:""};const TC=Xr(rO);var nO=Ky;nO.decode;const d=Symbol("twurpleRawData");class Q{constructor(e){this[d]=e}}class Dr extends Error{constructor(e,r){var n;super(e,r),Object.setPrototypeOf(this,new.target.prototype),(n=Error.captureStackTrace)===null||n===void 0||n.call(Error,this,new.target.constructor)}get name(){return this.constructor.name}}class iO extends Dr{constructor(){super("Relation returned null - this may be a library bug or a race condition in your own code")}}function Z(t){if(t==null)throw new iO;return t}function D(t,e,r){return n=>{const i=r?function(){return`[${e}#${this[r]} - please check https://twurple.js.org/reference/${t}/classes/${e}.html for available properties]`}:function(){return`[${e} - please check https://twurple.js.org/reference/${t}/classes/${e}.html for available properties]`};Object.defineProperty(n.prototype,Symbol.for("nodejs.util.inspect.custom"),{value:i,enumerable:!1})}}let Vm=class extends Q{get authorName(){return this[d].author_name}get bitsEnabled(){return this[d].bits_enabled}get installable(){return this[d].can_install}get configurationLocation(){return this[d].configuration_location}get description(){return this[d].description}get tosUrl(){return this[d].eula_tos_url}get hasChatSupport(){return this[d].has_chat_support}get iconUrl(){return this[d].icon_url}getIconUrl(e){return this[d].icon_urls[e]}get id(){return this[d].id}get name(){return this[d].name}get privacyPolicyUrl(){return this[d].privacy_policy_url}get requestsIdentityLink(){return this[d].request_identity_link}get screenshotUrls(){return this[d].screenshot_urls}get state(){return this[d].state}get subscriptionsSupportLevel(){return this[d].subscriptions_support_level}get summary(){return this[d].summary}get supportEmail(){return this[d].support_email}get version(){return this[d].version}get viewerSummery(){return this[d].viewer_summary}get allowedConfigUrls(){return this[d].allowlisted_config_urls}get allowedPanelUrls(){return this[d].allowlisted_panel_urls}get mobileViewerUrl(){var e,r;return(r=(e=this[d].views.mobile)===null||e===void 0?void 0:e.viewer_url)!==null&&r!==void 0?r:null}get panelViewerUrl(){var e,r;return(r=(e=this[d].views.panel)===null||e===void 0?void 0:e.viewer_url)!==null&&r!==void 0?r:null}get panelHeight(){var e,r;return(r=(e=this[d].views.panel)===null||e===void 0?void 0:e.height)!==null&&r!==void 0?r:null}get panelCanLinkExternalContent(){var e,r;return(r=(e=this[d].views.panel)===null||e===void 0?void 0:e.can_link_external_content)!==null&&r!==void 0?r:null}get overlayViewerUrl(){var e,r;return(r=(e=this[d].views.video_overlay)===null||e===void 0?void 0:e.viewer_url)!==null&&r!==void 0?r:null}get overlayCanLinkExternalContent(){var e,r;return(r=(e=this[d].views.video_overlay)===null||e===void 0?void 0:e.can_link_external_content)!==null&&r!==void 0?r:null}get componentViewerUrl(){var e,r;return(r=(e=this[d].views.component)===null||e===void 0?void 0:e.viewer_url)!==null&&r!==void 0?r:null}get componentAspectWidth(){var e,r;return(r=(e=this[d].views.component)===null||e===void 0?void 0:e.aspect_width)!==null&&r!==void 0?r:null}get componentAspectHeight(){var e,r;return(r=(e=this[d].views.component)===null||e===void 0?void 0:e.aspect_height)!==null&&r!==void 0?r:null}get componentAspectRatioX(){var e,r;return(r=(e=this[d].views.component)===null||e===void 0?void 0:e.aspect_ratio_x)!==null&&r!==void 0?r:null}get componentAspectRatioY(){var e,r;return(r=(e=this[d].views.component)===null||e===void 0?void 0:e.aspect_ratio_y)!==null&&r!==void 0?r:null}get componentAutoScales(){var e,r;return(r=(e=this[d].views.component)===null||e===void 0?void 0:e.autoscale)!==null&&r!==void 0?r:null}get componentScalePixels(){var e,r;return(r=(e=this[d].views.component)===null||e===void 0?void 0:e.scale_pixels)!==null&&r!==void 0?r:null}get componentTargetHeight(){var e,r;return(r=(e=this[d].views.component)===null||e===void 0?void 0:e.target_height)!==null&&r!==void 0?r:null}get componentSize(){var e,r;return(r=(e=this[d].views.component)===null||e===void 0?void 0:e.size)!==null&&r!==void 0?r:null}get componentZoom(){var e,r;return(r=(e=this[d].views.component)===null||e===void 0?void 0:e.zoom)!==null&&r!==void 0?r:null}get componentZoomPixels(){var e,r;return(r=(e=this[d].views.component)===null||e===void 0?void 0:e.zoom_pixels)!==null&&r!==void 0?r:null}get componentCanLinkExternalContent(){var e,r;return(r=(e=this[d].views.component)===null||e===void 0?void 0:e.can_link_external_content)!==null&&r!==void 0?r:null}get configViewerUrl(){var e,r;return(r=(e=this[d].views.config)===null||e===void 0?void 0:e.viewer_url)!==null&&r!==void 0?r:null}get configCanLinkExternalContent(){var e,r;return(r=(e=this[d].views.config)===null||e===void 0?void 0:e.can_link_external_content)!==null&&r!==void 0?r:null}};Vm=x([D("api","HelixExtension","id")],Vm);class Yn extends Dr{constructor(e){super(`${e} - this should never happen, please file a bug in the GitHub issue tracker`)}}function C(t){return typeof t=="string"?t:typeof t=="number"?t.toString(10):t.id}function Wo(t){return typeof t=="string"?t:t.name}class Bi extends Dr{constructor(e,r,n,i,s,o){super(`Encountered HTTP status code ${e}: ${r}

URL: ${n}
Method: ${i}
Body:
${!o&&s.length>150?`${s.slice(0,147)}...`:s}`),this._statusCode=e,this._url=n,this._method=i,this._body=s}get statusCode(){return this._statusCode}get url(){return this._url}get method(){return this._method}get body(){return this._body}}async function Qm(t,e){var r;if(!t.ok){const n=t.headers.get("Content-Type")==="application/json",i=n?JSON.stringify(await t.json(),null,2):await t.text(),s=TC(e.query,{arrayFormat:"repeat",addQueryPrefix:!0}),o=`${e.url}${s}`;throw new Bi(t.status,t.statusText,o,(r=e.method)!==null&&r!==void 0?r:"GET",i,n)}}async function PC(t){if(t.status===204)return;const e=await t.text();if(e)return JSON.parse(e)}function sO(t,e){switch(e){case"helix":return`https://api.twitch.tv/helix/${t.replace(/^\//,"")}`;case"auth":return`https://id.twitch.tv/oauth2/${t.replace(/^\//,"")}`;case"custom":return t;default:return t}}async function Ed(t,e,r,n,i={}){var s,o;const a=(s=t.type)!==null&&s!==void 0?s:"helix",l=sO(t.url,a),u=TC(t.query,{arrayFormat:"repeat",addQueryPrefix:!0}),c=new xC.Headers({Accept:"application/json"});let h;t.jsonBody&&(h=JSON.stringify(t.jsonBody),c.append("Content-Type","application/json")),e&&a!=="auth"&&c.append("Client-ID",e),r&&c.append("Authorization",`${a==="helix"?n??"Bearer":"OAuth"} ${r}`);const f={...i,method:(o=t.method)!==null&&o!==void 0?o:"GET",headers:c,body:h};return await B3(`${l}${u}`,f)}async function yl(t,e,r,n,i={}){const s=await Ed(t,e,r,n,i);return await Qm(s,t),await PC(s)}function de(t){return{broadcaster_id:C(t)}}class Pi extends Dr{constructor(e){super("Invalid token supplied",e)}}class Eu extends Dr{}function oO(t,e,r,n){return{grant_type:"authorization_code",client_id:t,client_secret:e,code:r,redirect_uri:n}}function aO(t,e){return{grant_type:"client_credentials",client_id:t,client_secret:e}}function lO(t,e,r){return{grant_type:"refresh_token",client_id:t,client_secret:e,refresh_token:r}}let pc=class extends Q{constructor(e){super(e),this._obtainmentDate=new Date}get clientId(){return this[d].client_id}get userId(){var e;return(e=this[d].user_id)!==null&&e!==void 0?e:null}get userName(){var e;return(e=this[d].login)!==null&&e!==void 0?e:null}get scopes(){return this[d].scopes}get expiryDate(){return Zt(this[d].expires_in,e=>new Date(this._obtainmentDate.getTime()+e*1e3))}};pc=x([D("auth","TokenInfo","clientId")],pc);function Yy(t){var e,r;return{accessToken:t.access_token,refreshToken:t.refresh_token||null,scope:(e=t.scope)!==null&&e!==void 0?e:[],expiresIn:(r=t.expires_in)!==null&&r!==void 0?r:null,obtainmentTimestamp:Date.now()}}async function uO(t,e,r,n){return Yy(await yl({type:"auth",url:"token",method:"POST",query:oO(t,e,r,n)}))}async function cO(t,e){return Yy(await yl({type:"auth",url:"token",method:"POST",query:aO(t,e)}))}async function E1(t,e,r){return Yy(await yl({type:"auth",url:"token",method:"POST",query:lO(t,e,r)}))}async function Li(t,e){try{const r=await yl({type:"auth",url:"validate"},e,t);return new pc(r)}catch(r){throw r instanceof Bi&&r.statusCode===401?new Pi({cause:r}):r}}const dO=new Map([["channel_commercial",["channel:edit:commercial"]],["channel_editor",["channel:manage:broadcast"]],["channel_read",["channel:read:stream_key"]],["channel_subscriptions",["channel:read:subscriptions"]],["user_blocks_read",["user:read:blocked_users"]],["user_blocks_edit",["user:manage:blocked_users"]],["user_follows_edit",["user:edit:follows"]],["user_read",["user:read:email"]],["user_subscriptions",["user:read:subscriptions"]],["user:edit:broadcast",["channel:manage:broadcast","channel:manage:extensions"]]]);function fO(t,e){if(e!=null&&e.length){const r=new Set(t.flatMap(n=>{var i;return[n,...(i=dO.get(n))!==null&&i!==void 0?i:[]]}));if(e.every(n=>!r.has(n))){const n=e.join(", ");throw new Error(`This token does not have any of the requested scopes (${n}) and can not be upgraded.
If you need dynamically upgrading scopes, please implement the AuthProvider interface accordingly:

	https://twurple.js.org/reference/auth/interfaces/AuthProvider.html`)}}}function Km(t,e){for(const r of e)fO(t,r)}async function hO(t,e,r,n,i){if(i!=null&&i.length||!r){const s=await Li(e,t);if(!s.userId)throw new Error("Trying to use an app access token as a user access token");const o=n??s.scopes;return i&&Km(o,i.filter(a=>!!a)),[o,s.userId]}return[n,r]}class T1{constructor(e){this._newTokenScopeSets=[],this._newTokenPromise=null,this._queuedScopeSets=[],this._queueExecutor=null,this._queuePromise=null,this._executor=e}async fetch(...e){var r;const n=e.filter(a=>!!a);if(this._newTokenPromise){if(!n.length)return await this._newTokenPromise;if(this._queueExecutor?this._queuedScopeSets.push(...n):this._queuedScopeSets=[...n],!this._queuePromise){const{promise:a,resolve:l,reject:u}=wa();this._queuePromise=a,this._queueExecutor=async()=>{var c;if(this._queuePromise){this._newTokenScopeSets=this._queuedScopeSets,this._queuedScopeSets=[],this._newTokenPromise=this._queuePromise,this._queuePromise=null,this._queueExecutor=null;try{l(await this._executor(this._newTokenScopeSets))}catch(h){u(h)}finally{this._newTokenPromise=null,this._newTokenScopeSets=[],(c=this._queueExecutor)===null||c===void 0||c.call(this)}}}}return await this._queuePromise}this._newTokenScopeSets=[...n];const{promise:i,resolve:s,reject:o}=wa();this._newTokenPromise=i;try{s(await this._executor(this._newTokenScopeSets))}catch(a){o(a)}finally{this._newTokenPromise=null,this._newTokenScopeSets=[],(r=this._queueExecutor)===null||r===void 0||r.call(this)}return await i}}class P1 extends Dr{constructor(e){super(`The user context for the user ${e} has been disabled.
This happened because the access token became invalid (e.g. by expiry) and refreshing it failed (e.g. because the account's password was changed).

Use .addUser(), .addUserForToken() or .addUserForCode() for the same user context to re-enable the user with a new, valid token.`),this.userId=e}}class pO extends Dr{constructor(e){super(`User ${e} was removed while trying to fetch a token.

Make sure you're not executing any actions when you want to remove a user.`),this.userId=e}}class mO extends Dr{constructor(e){super(`Unknown intent: ${e}`),this.intent=e}}let Xn=class extends lo{constructor(e){var r;super(),this._userAccessTokens=new Map,this._userTokenFetchers=new Map,this._intentToUserId=new Map,this._userIdToIntents=new Map,this._cachedRefreshFailures=new Set,this.onRefresh=this.registerEvent(),this.onRefreshFailure=this.registerEvent(),this._clientId=e.clientId,this._clientSecret=e.clientSecret,this._redirectUri=e.redirectUri,this._appImpliedScopes=(r=e.appImpliedScopes)!==null&&r!==void 0?r:[],this._appTokenFetcher=new T1(async n=>await this._fetchAppToken(n))}addUser(e,r,n){const i=C(e);if(!r.refreshToken)throw new Error(`Trying to add user ${i} without refresh token`);this._cachedRefreshFailures.delete(i),this._userAccessTokens.set(i,{...r,userId:i}),this._userTokenFetchers.has(i)||this._userTokenFetchers.set(i,new T1(async s=>await this._fetchUserToken(i,s))),n&&this.addIntentsToUser(e,n)}async addUserForToken(e,r){let n=null;if(e.accessToken&&!Ss(e))try{const a=await Li(e.accessToken);n=[e,a]}catch(a){if(!(a instanceof Pi))throw a}if(!n){if(!e.refreshToken)throw new Pi;const a=await E1(this._clientId,this._clientSecret,e.refreshToken),l=await Li(a.accessToken);this.emit(this.onRefresh,l.userId,a),n=[a,l]}const[i,s]=n;if(!s.userId)throw new Eu("Could not determine a user ID for your token; you might be trying to disguise an app token as a user token.");const o=i.scope?i:{...i,scope:s.scopes};return this.addUser(s.userId,o,r),s.userId}async addUserForCode(e,r){if(!this._redirectUri)throw new Error("This method requires you to pass a `redirectUri` as a configuration property");const n=await uO(this._clientId,this._clientSecret,e,this._redirectUri);return await this.addUserForToken(n,r)}hasUser(e){return this._userTokenFetchers.has(C(e))}removeUser(e){const r=C(e);if(this._userIdToIntents.has(r)){const n=this._userIdToIntents.get(r);for(const i of n)this._intentToUserId.delete(i);this._userIdToIntents.delete(r)}this._userAccessTokens.delete(r),this._userTokenFetchers.delete(r),this._cachedRefreshFailures.delete(r)}addIntentsToUser(e,r){const n=C(e);if(!this._userAccessTokens.has(n))throw new Error("Trying to add intents to a user that was not added to this provider");for(const i of r)this._intentToUserId.has(i)&&this._userIdToIntents.get(this._intentToUserId.get(i)).delete(i),this._intentToUserId.set(i,n),this._userIdToIntents.has(n)?this._userIdToIntents.get(n).add(i):this._userIdToIntents.set(n,new Set([i]))}getIntentsForUser(e){const r=C(e);return this._userIdToIntents.has(r)?Array.from(this._userIdToIntents.get(r)):[]}removeIntents(e){var r;for(const n of e)if(this._intentToUserId.has(n)){const i=this._intentToUserId.get(n);(r=this._userIdToIntents.get(i))===null||r===void 0||r.delete(n),this._intentToUserId.delete(n)}}async refreshAccessTokenForUser(e){const r=C(e);if(this._cachedRefreshFailures.has(r))throw new P1(r);const n=this._userAccessTokens.get(r);if(!n)throw new Error("Trying to refresh token for user that was not added to the provider");const i=await this._refreshUserTokenWithCallback(r,n.refreshToken);return this._checkIntermediateUserRemoval(r),this._userAccessTokens.set(r,{...i,userId:r}),this.emit(this.onRefresh,r,i),{...i,userId:r}}async refreshAccessTokenForIntent(e){if(!this._intentToUserId.has(e))throw new mO(e);const r=this._intentToUserId.get(e);return await this.refreshAccessTokenForUser(r)}get clientId(){return this._clientId}getCurrentScopesForUser(e){var r;const n=this._userAccessTokens.get(C(e));if(!n)throw new Error("Trying to get scopes for user that was not added to the provider");return(r=n.scope)!==null&&r!==void 0?r:[]}async getAccessTokenForUser(e,...r){const n=C(e),i=this._userTokenFetchers.get(n);if(!i)return null;if(this._cachedRefreshFailures.has(n))throw new P1(n);return await i.fetch(...r)}async getAccessTokenForIntent(e,...r){if(!this._intentToUserId.has(e))return null;const n=this._intentToUserId.get(e),i=await this.getAccessTokenForUser(n,...r);if(!i)throw new Yn(`Found intent ${e} corresponding to user ID ${n} but no token was found`);return{...i,userId:n}}async getAnyAccessToken(e){if(e){const r=C(e);if(this._userAccessTokens.has(r)){const n=await this.getAccessTokenForUser(r);if(!n)throw new Yn(`Token for user ID ${r} exists but nothing was returned by getAccessTokenForUser`);return{...n,userId:r}}}return await this.getAppAccessToken()}async getAppAccessToken(e=!1){return e&&(this._appAccessToken=void 0),await this._appTokenFetcher.fetch(...this._appImpliedScopes.map(r=>[r]))}_checkIntermediateUserRemoval(e){if(!this._userTokenFetchers.has(e))throw this._cachedRefreshFailures.delete(e),new pO(e)}async _fetchUserToken(e,r){const n=this._userAccessTokens.get(e);if(!n)throw new Error("Trying to get token for user that was not added to the provider");if(n.accessToken&&!Ss(n))try{if(n.scope)return Km(n.scope,r),n;const[s=[]]=await hO(this._clientId,n.accessToken,e,n.scope,r),o={...n,scope:s};return this._checkIntermediateUserRemoval(e),this._userAccessTokens.set(e,o),o}catch(s){if(!(s instanceof Pi))throw s}this._checkIntermediateUserRemoval(e);const i=await this.refreshAccessTokenForUser(e);return Km(i.scope,r),i}async _refreshUserTokenWithCallback(e,r){try{return await E1(this.clientId,this._clientSecret,r)}catch(n){throw this._cachedRefreshFailures.add(e),this.emit(this.onRefreshFailure,e),n}}async _fetchAppToken(e){if(e.length>0)for(const r of e)if(this._appImpliedScopes.length){if(r.every(n=>!this._appImpliedScopes.includes(n)))throw new Error(`One of the scopes ${r.join(", ")} requested but only the scope ${this._appImpliedScopes.join(", ")} is implied`)}else throw new Error(`One of the scopes ${r.join(", ")} requested but the client credentials flow does not support scopes`);return!this._appAccessToken||Ss(this._appAccessToken)?await this._refreshAppToken():this._appAccessToken}async _refreshAppToken(){return this._appAccessToken=await cO(this._clientId,this._clientSecret)}};x([G(!1)],Xn.prototype,"_clientSecret",void 0);x([G(!1)],Xn.prototype,"_userAccessTokens",void 0);x([G(!1)],Xn.prototype,"_userTokenFetchers",void 0);x([G(!1)],Xn.prototype,"_appAccessToken",void 0);x([G(!1)],Xn.prototype,"_appTokenFetcher",void 0);Xn=x([D("auth","RefreshingAuthProvider","clientId")],Xn);class gO extends lo{constructor({lineBased:e,logger:r,additionalOptions:n}={}){super(),this._currentLine="",this._connecting=!1,this._connected=!1,this.onReceive=this.registerEvent(),this.onConnect=this.registerEvent(),this.onDisconnect=this.registerEvent(),this.onEnd=this.registerEvent(),this._lineBased=e??!1,this._logger=r,this._additionalOptions=n}get isConnecting(){return this._connecting}get isConnected(){return this._connected}sendLine(e){this._connected&&(e=e.replace(/[\0\r\n]/g,""),this.sendRaw(`${e}\r
`))}assumeExternalDisconnect(){var e;(e=this._logger)===null||e===void 0||e.trace("AbstractConnection assumeExternalDisconnect"),this._connected=!1,this._connecting=!1,this.clearSocket(),this.emit(this.onDisconnect,!1)}receiveRaw(e){var r,n;if(!this._lineBased){this.emit(this.onReceive,e);return}const i=e.split(`\r
`);if(this._currentLine+=(r=i.shift())!==null&&r!==void 0?r:"",i.length){this.emit(this.onReceive,this._currentLine),this._currentLine=(n=i.pop())!==null&&n!==void 0?n:"";for(const s of i)this.emit(this.onReceive,s)}}}class yO{constructor(){throw new Error("DirectConnection is not implemented in a browser environment")}}class vO extends lo{constructor(e,r,n={}){var i;super(),this._type=e,this._target=r,this._config=n,this._retryLimit=1/0,this._initialRetryLimit=3,this._connecting=!1,this._connectionRetryCount=0,this.onReceive=this.registerEvent(),this.onConnect=this.registerEvent(),this.onDisconnect=this.registerEvent(),this.onEnd=this.registerEvent(),this._retryLimit=(i=n.retryLimit)!==null&&i!==void 0?i:1/0,this._logger=n.logger}get isConnected(){var e,r;return(r=(e=this._currentConnection)===null||e===void 0?void 0:e.isConnected)!==null&&r!==void 0?r:!1}get isConnecting(){var e,r;return(r=(e=this._currentConnection)===null||e===void 0?void 0:e.isConnecting)!==null&&r!==void 0?r:this._connecting}get hasSocket(){var e,r;return(r=(e=this._currentConnection)===null||e===void 0?void 0:e.hasSocket)!==null&&r!==void 0?r:!1}sendLine(e){var r;(r=this._currentConnection)===null||r===void 0||r.sendLine(e)}connect(){if(this._currentConnection||this._connecting)throw new Error("Connection already present");this._connecting=!0,this._connectionRetryCount=0,this._tryConnect(!0)}disconnect(){var e;if((e=this._logger)===null||e===void 0||e.trace(`PersistentConnection disconnect currentConnectionExists:${(!!this._currentConnection).toString()} connecting:${this._connecting.toString()}`),this._connecting=!1,this._currentConnection){const r=this._currentConnection;this._currentConnection=void 0,r.disconnect()}}assumeExternalDisconnect(){var e,r;(e=this._logger)===null||e===void 0||e.trace("PersistentConnection assumeExternalDisconnect"),(r=this._currentConnection)===null||r===void 0||r.assumeExternalDisconnect()}reconnect(){this._reconnect(!0)}acknowledgeSuccessfulReconnect(){this._previousConnection&&(this._previousConnection.disconnect(),this._previousConnection=void 0)}_startTryingToConnect(e=!1){this._connecting=!0,this._connectionRetryCount=0,this._tryConnect(e)}_tryConnect(e=!1){var r,n;(r=this._logger)===null||r===void 0||r.trace(`PersistentConnection tryConnect currentConnectionExists:${(!!this._currentConnection).toString()} connecting:${this._connecting.toString()}`);const i=e?this._initialRetryLimit:this._retryLimit;(n=this._retryTimerGenerator)!==null&&n!==void 0||(this._retryTimerGenerator=L2(120));const s=this._currentConnection=new this._type(vA(this._target),this._config);s.onReceive(o=>this.emit(this.onReceive,o)),s.onConnect(()=>{this.emit(this.onConnect),this._connecting=!1,this._retryTimerGenerator=void 0}),s.onDisconnect((o,a)=>{var l,u,c;if(this.emit(this.onDisconnect,o,a),o)this.emit(this.onEnd,!0),this._connecting=!1,this._retryTimerGenerator=void 0,s.disconnect(),this._currentConnection===s&&(this._currentConnection=void 0),this._previousConnection===s&&(this._previousConnection=void 0);else if(this._connecting){if((l=this._logger)===null||l===void 0||l.debug(`Connection error caught: ${(u=a==null?void 0:a.message)!==null&&u!==void 0?u:"unknown error"}`),this._connectionRetryCount>=i)return;this._connectionRetryCount++;const h=this._retryTimerGenerator.next().value;h!==0&&((c=this._logger)===null||c===void 0||c.info(`Retrying in ${h} seconds`)),setTimeout(()=>{var f;this._connecting&&((f=this._logger)===null||f===void 0||f.info(e?"Retrying connection":"Trying to reconnect"),this._tryConnect())},h*1e3)}else this._reconnect()}),s.connect()}_reconnect(e=!1){e&&this._config.overlapManualReconnect?(this._previousConnection=this._currentConnection,this._currentConnection=void 0):this.disconnect(),this._startTryingToConnect(e)}}var Zi=null;typeof WebSocket<"u"?Zi=WebSocket:typeof MozWebSocket<"u"?Zi=MozWebSocket:typeof global<"u"?Zi=global.WebSocket||global.MozWebSocket:typeof window<"u"?Zi=window.WebSocket||window.MozWebSocket:typeof self<"u"&&(Zi=self.WebSocket||self.MozWebSocket);class _O extends gO{constructor(e,r){if(super(r),this._socket=null,this._closingOnDemand=!1,e.hostName&&e.port)this._url=`ws${e.secure?"s":""}://${e.hostName}:${e.port}`;else if(e.url)this._url=e.url;else throw new Error("WebSocketConnection requires either hostName & port or url to be set")}get hasSocket(){return!!this._socket}sendRaw(e){var r;(r=this._socket)===null||r===void 0||r.send(e)}connect(){var e,r;(e=this._logger)===null||e===void 0||e.trace("WebSocketConnection connect"),this._connecting=!0,this._socket=new Zi(this._url,(r=this._additionalOptions)===null||r===void 0?void 0:r.wsOptions),this._socket.onopen=()=>{var n;(n=this._logger)===null||n===void 0||n.trace("WebSocketConnection onOpen"),this._connected=!0,this._connecting=!1,this.emit(this.onConnect)},this._socket.onmessage=({data:n})=>{this.receiveRaw(n.toString())},this._socket.onerror=n=>{var i;(i=this._logger)===null||i===void 0||i.trace(`WebSocketConnection onError message:${n.message}`)},this._socket.onclose=n=>{var i;const s=this._connected,o=this._connecting;if((i=this._logger)===null||i===void 0||i.trace(`WebSocketConnection onClose wasConnected:${s.toString()} wasConnecting:${o.toString()} closingOnDemand:${this._closingOnDemand.toString()} wasClean:${n.wasClean.toString()}`),this._connected=!1,this._connecting=!1,n.wasClean||this._closingOnDemand)this._closingOnDemand=!1,this.emit(this.onDisconnect,!0),this.emit(this.onEnd,!0);else{const a=new Error(`[${n.code}] ${n.reason}`);this.emit(this.onDisconnect,!1,a),this.emit(this.onEnd,!1,a)}this.clearSocket()}}disconnect(){var e,r;(e=this._logger)===null||e===void 0||e.trace("WebSocketConnection disconnect"),this._closingOnDemand=!0,(r=this._socket)===null||r===void 0||r.close()}clearSocket(){this._socket&&(this._socket.onopen=null,this._socket.onmessage=null,this._socket.onerror=null,this._socket.onclose=null,this._socket=null)}}function Vo(t){var e,r,n;if(Array.isArray(t)){for(r=Array(e=t.length);e--;)r[e]=(n=t[e])&&typeof n=="object"?Vo(n):n;return r}if(Object.prototype.toString.call(t)==="[object Object]"){r={};for(e in t)e==="__proto__"?Object.defineProperty(r,e,{value:Vo(t[e]),configurable:!0,enumerable:!0,writable:!0}):r[e]=(n=t[e])&&typeof n=="object"?Vo(n):n;return r}return t}const wO={name:"away-notify"};class mc extends Error{constructor(e,r,n){super(`command "${e}" expected ${r} or more parameters, got ${n}`),this._command=e,this._expectedParams=r,this._actualParams=n,Object.setPrototypeOf(this,mc.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,mc)}get command(){return this._command}get expectedParams(){return this._expectedParams}get actualParams(){return this._actualParams}}class gc extends Error{constructor(e,r,n,i){var s;super(`required parameter "${r}" did not validate against ${(s=n.type)!==null&&s!==void 0?s:"regex"} validation: "${i}"`),this._command=e,this._paramName=r,this._paramSpec=n,this._givenValue=i,Object.setPrototypeOf(this,gc.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,gc)}get command(){return this._command}get paramName(){return this._paramName}get paramSpec(){return this._paramSpec}get givenValue(){return this._givenValue}}const Cs={channelTypes:"#&",supportedUserModes:"iwso",supportedChannelModes:{prefix:"ov",list:"b",alwaysWithParam:"ovk",paramWhenSet:"l",noParam:"imnpst"},prefixes:[{modeChar:"v",prefix:"+"},{modeChar:"o",prefix:"@"}]};var IC={exports:{}};(function(t){t.exports=e=>{if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")},t.exports.default=t.exports})(IC);var bO=IC.exports;const SO=Xr(bO);function Ym(t,e="#&"){return new RegExp(`^[${SO(e)}][^ \b\0
\r,]+$`).test(t)}const I1={0:"\0",n:`
`,r:"\r","":""};function k1(t){if(!t.startsWith("")||(t=t.substring(1),t.endsWith("")&&(t=t.slice(0,-1)),!t))return!1;t=t.replace(/\x10(.)/,(n,i)=>i in I1?I1[i]:"");let[e,r=""]=Ci(t," ",2);return e=e?e.toUpperCase():"",{command:e,params:r}}const xO={"\\":"\\",";":":","\n":"n","\r":"r"," ":"s"};function CO(t){return t.replace(/[\\;\n\r ]/g,e=>`\\${xO[e]}`)}function EO(t){let e=`${t.nick}`;return t.user&&(e+=`!${t.user}`),t.host&&(e+=`@${t.host}`),e}function TO(t,e,r,n,i=Cs,s=!1){const o=new t(t.COMMAND,void 0,{serverProperties:i}),a={};if(o._paramSpec&&$m(o._paramSpec,(l,u)=>{if(!(s&&l.noServer)&&!(!s&&l.noClient)){if(u in e){const c=e[u];if(c!==void 0){if(t.checkParam(c,l,i))a[u]={value:c,trailing:!!l.trailing};else if(!l.optional)throw new Error(`required parameter "${u}" did not suit requirements: "${c}"`)}}if(!(u in a)&&!l.optional)throw new Error(`required parameter "${u}" not found in command "${t.COMMAND}"`)}}),o._parsedParams=a,o._paramSpec)for(const l of Object.keys(o._paramSpec))Object.defineProperty(o,l,{get(){var u,c;return(c=(u=this._parsedParams)===null||u===void 0?void 0:u[l])===null||c===void 0?void 0:c.value}});return o._initPrefixAndTags(r,n),o}class O{static checkParam(e,r,n=Cs){return!(r.type==="channel"&&!Ym(e,n.channelTypes)||r.type==="channelList"&&!e.split(",").every(s=>Ym(s,n.channelTypes))||r.match&&!r.match.test(e))}constructor(e,{params:r,tags:n,prefix:i,rawLine:s}={},{serverProperties:o=Cs,isServer:a=!1,shouldParseParams:l=!0}={},u){this._params=[],this._serverProperties=Cs,this._paramSpec=u,this._command=e,this._params=r,this._tags=n??new Map,this._prefix=i,this._serverProperties=o,this._raw=s,l&&this.parseParams(a)}getMinParamCount(e=!1){return this._paramSpec?Object.values(this._paramSpec).filter(r=>r.noServer&&e||r.noClient&&!e?!1:!r.optional).length:0}get paramCount(){var e,r;return(r=(e=this._params)===null||e===void 0?void 0:e.length)!==null&&r!==void 0?r:0}prefixToString(){return this._prefix?EO(this._prefix):""}tagsToString(){return[...this._tags.entries()].map(([e,r])=>r?`${e}=${CO(r)}`:e).join(";")}toString(e=!1,r=!1){const i=[r?this._buildCommandFromRawParams():this._buildCommandFromNamedParams()];if(e){const o=this.prefixToString();o&&i.unshift(`:${o}`)}const s=this.tagsToString();return s&&i.unshift(`@${s}`),i.join(" ")}_initPrefixAndTags(e,r){this._prefix=e,r&&(this._tags=r)}parseParams(e=!1){if(this._params){let r=this.getMinParamCount(e);if(r>this._params.length)throw new mc(this._command,r,this._params.length);const n=this._paramSpec;if(!n)return;let i=0;const s={};for(const[o,a]of Object.entries(n)){if(a.noServer&&e||a.noClient&&!e)continue;if(this._params.length-i<=r){if(a.optional)continue;if(this._params.length-i!==r)throw new Error("not enough parameters left for required parameters parsing (this is a library bug)")}let l=this._params[i];if(!l){if(a.optional)break;throw new Error("unexpected parameter underflow")}if(a.rest){const u=[];for(;this._params[i]&&!this._params[i].trailing;)u.push(this._params[i].value),++i;if(!u.length){if(a.optional)continue;throw new Error(`no parameters left for required rest parameter "${o}"`)}l={value:u.join(" "),trailing:!1}}if(O.checkParam(l.value,a))s[o]={...l},a.optional||--r,a.rest||++i;else if(!a.optional)throw new gc(this._command,o,a,l.value);if(a.trailing)break}if(this._parsedParams=s,this._paramSpec)for(const o of Object.keys(this._paramSpec))Object.defineProperty(this,o,{get(){var a,l;return(l=(a=this._parsedParams)===null||a===void 0?void 0:a[o])===null||l===void 0?void 0:l.value}})}}get rawParamValues(){var e,r;return(r=(e=this._params)===null||e===void 0?void 0:e.map(n=>n.value))!==null&&r!==void 0?r:[]}get prefix(){return this._prefix}get command(){return this._command}get tags(){return this._tags}get rawLine(){return this._raw}isResponseTo(e){return!1}endsResponseTo(e){return!1}_acceptsInReplyCollection(e){return e.isResponseTo(this)}_buildCommandFromNamedParams(){const e=this._paramSpec?Object.keys(this._paramSpec):[];return[this._command,...e.map(r=>{var n;const i=(n=this._parsedParams)===null||n===void 0?void 0:n[r];if(i)return(i.trailing?":":"")+i.value}).filter(r=>r!==void 0)].join(" ")}_buildCommandFromRawParams(){var e,r;return[this._command,...(r=(e=this._params)===null||e===void 0?void 0:e.map(n=>`${n.trailing?":":""}${n.value}`))!==null&&r!==void 0?r:[]].join(" ")}}O.COMMAND="";O.SUPPORTS_CAPTURE=!1;class kC extends O{constructor(e,r,n){super(e,r,n,{reference:{},type:{optional:!0},additionalParams:{optional:!0}})}}kC.COMMAND="BATCH";const PO={name:"batch",messageTypes:[kC],usesTags:!0},IO={name:"cap-notify"};class RC extends O{constructor(e,r,n){super(e,r,n,{newUser:{},newHost:{}})}}RC.COMMAND="CHGHOST";const kO={name:"chghost",messageTypes:[RC]},RO={name:"invite-notify"};class AC extends O{}AC.COMMAND="ACK";const AO={name:"labeled-response",messageTypes:[AC],usesTags:!0},MO={name:"message-tags",usesTags:!0},OO={name:"multi-prefix"},NO=Object.freeze(Object.defineProperty({__proto__:null,AwayNotify:wO,Batch:PO,CapNotify:IO,ChgHost:kO,InviteNotify:RO,LabeledResponse:AO,MessageTags:MO,MultiPrefix:OO},Symbol.toStringTag,{value:"Module"}));class DO{constructor(e,r,...n){this._client=e,this._originalMessage=r,this._messages=[],this._endEventHandlers=new Map,this._types=new Set(n)}untilEvent(e){this._cleanEndEventHandler(e);const r=this._client.on(e,()=>this.end());this._endEventHandlers.set(e,r)}async promise(){return this._promise||(this._promise=new Promise(e=>this._promiseResolve=e)),await this._promise}collect(e){return this._originalMessage._acceptsInReplyCollection(e)?(this._messages.push(e),e.endsResponseTo(this._originalMessage)&&this.end(),!0):!1}end(){this._client.stopCollect(this),this._cleanEndEventHandlers(),this._promiseResolve&&this._promiseResolve(this._messages)}_cleanEndEventHandlers(){this._endEventHandlers.forEach(e=>this._client.removeListener(e)),this._endEventHandlers.clear()}_cleanEndEventHandler(e){this._endEventHandlers.has(e)&&(this._client.removeListener(this._endEventHandlers.get(e)),this._endEventHandlers.delete(e))}}class Xy extends O{constructor(e,r,n){super(e,r,n,{password:{}})}}Xy.COMMAND="PASS";class Qo extends O{constructor(e,r,n){super(e,r,n,{nick:{}})}}Qo.COMMAND="NICK";class Jy extends O{constructor(e,r,n){super(e,r,n,{user:{},mode:{},unused:{},realName:{trailing:!0}})}}Jy.COMMAND="USER";class MC extends O{constructor(e,r,n){super(e,r,n,{name:{},password:{}})}}MC.COMMAND="OPER";class Zy extends O{constructor(e,r,n){super(e,r,n,{text:{trailing:!0,optional:!0}})}}Zy.COMMAND="QUIT";class OC extends O{constructor(e,r,n){super(e,r,n,{server:{},reason:{trailing:!0}})}}OC.COMMAND="SQUIT";class ba extends O{constructor(e,r,n){super(e,r,n,{channel:{type:"channel"},key:{optional:!0}})}}ba.COMMAND="JOIN";class Sa extends O{constructor(e,r,n){super(e,r,n,{channel:{type:"channel"},reason:{trailing:!0,optional:!0}})}}Sa.COMMAND="PART";class yc extends Error{constructor(e){super(`Unknown channel mode character ${e}`),this._char=e,Object.setPrototypeOf(this,yc.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,yc)}get char(){return this._char}}class NC extends O{constructor(e,r,n){super(e,r,n,{target:{},modes:{rest:!0,optional:!0}})}get isChannel(){return Ym(this.target,this._serverProperties.channelTypes)}separate(){const e=[],r=this.modes;if(!r)throw new Error("can't separate a channel mode request, just set actions");const n=r.split(" "),i=n.shift();let s="add";for(const o of i){let a=s;switch(o){case"+":{s="add";break}case"-":{s="remove";break}default:{let l=!1,u=!0;if(this.isChannel){if(this._serverProperties.supportedChannelModes.alwaysWithParam.includes(o)||this._serverProperties.supportedChannelModes.prefix.includes(o))l=!0;else if(this._serverProperties.supportedChannelModes.paramWhenSet.includes(o))s==="add"&&(l=!0);else if(this._serverProperties.supportedChannelModes.list.includes(o))n.length?l=!0:a="getList";else if(!this._serverProperties.supportedChannelModes.noParam.includes(o))throw new yc(o)}else u=this._serverProperties.supportedUserModes.includes(o);if(l&&!n.length)continue;e.push({prefix:this._prefix,action:a,letter:o,param:l?n.shift():void 0,known:u})}}}return e}}NC.COMMAND="MODE";class DC extends O{constructor(e,r,n){super(e,r,n,{channel:{type:"channel"},newTopic:{optional:!0,trailing:!0}})}}DC.COMMAND="TOPIC";class vl extends O{constructor(e,r,n){super(e,r,n,{channel:{type:"channelList",optional:!0}})}}vl.COMMAND="NAMES";vl.SUPPORTS_CAPTURE=!0;class BC extends O{constructor(e,r,n){super(e,r,n,{channel:{optional:!0},server:{optional:!0}})}}BC.COMMAND="LIST";class LC extends O{constructor(e,r,n){super(e,r,n,{target:{},channel:{type:"channel"}})}}LC.COMMAND="INVITE";class UC extends O{constructor(e,r,n){super(e,r,n,{channel:{type:"channel"},target:{},reason:{trailing:!0,optional:!0}})}}UC.COMMAND="KICK";class FC extends O{constructor(e,r,n){super(e,r,n,{server:{optional:!0}})}}FC.COMMAND="TIME";class xa extends O{constructor(e,r,n){super(e,r,n,{target:{},text:{trailing:!0}})}}xa.COMMAND="PRIVMSG";class Td extends O{constructor(e,r,n){super(e,r,n,{target:{},text:{trailing:!0}})}}Td.COMMAND="NOTICE";class Pd extends O{constructor(e,r,n){super(e,r,n,{mask:{},flags:{optional:!0},extendedMask:{optional:!0,trailing:!0}})}}Pd.COMMAND="WHO";class $C extends O{constructor(e,r,n){super(e,r,n,{server:{optional:!0},nickMask:{}})}}$C.COMMAND="WHOIS";class qC extends O{constructor(e,r,n){super(e,r,n,{nick:{},count:{optional:!0},server:{optional:!0}})}}qC.COMMAND="WHOWAS";class jC extends O{constructor(e,r,n){super(e,r,n,{target:{},reason:{trailing:!0,optional:!0}})}}jC.COMMAND="KILL";class vc extends O{constructor(e,r,n){super(e,r,n,{text:{trailing:!0}})}}vc.COMMAND="PING";class _c extends O{constructor(e,r,n){super(e,r,n,{server:{noClient:!0},text:{trailing:!0}})}}_c.COMMAND="PONG";class HC extends O{constructor(e,r,n){super(e,r,n,{text:{trailing:!0}})}}HC.COMMAND="ERROR";class zC extends O{constructor(e,r,n){super(e,r,n,{text:{trailing:!0,optional:!0}})}}zC.COMMAND="AWAY";class GC extends O{}GC.COMMAND="REHASH";class WC extends O{}WC.COMMAND="RESTART";class VC extends O{constructor(e,r,n){super(e,r,n,{text:{trailing:!0}})}}VC.COMMAND="WALLOPS";class QC extends O{constructor(e,r,n){super(e,r,n,{nicks:{rest:!0}})}}QC.COMMAND="USERHOST";class KC extends O{constructor(e,r,n){super(e,r,n,{nicks:{rest:!0}})}}KC.COMMAND="ISON";class jt extends O{constructor(e,r,n){super(e,r,n,{target:{match:/^(?:[a-z_\-\[\]\\^{}|`][a-z0-9_\-\[\]\\^{}|`]+|\*)$/i,optional:!0,noClient:!0},subCommand:{match:/^(?:LS|LIST|REQ|ACK|NAK|END|NEW|DEL)$/i},version:{match:/^\d+$/,optional:!0},continued:{match:/^\*$/,optional:!0},capabilities:{trailing:!0,optional:!0}})}isResponseTo(e){if(!(e instanceof jt))return!1;switch(this.subCommand){case"ACK":case"NAK":return e.subCommand==="REQ"&&e.capabilities===this.capabilities.trim();case"LS":case"LIST":return e.subCommand===this.subCommand;default:return!1}}endsResponseTo(e){if(!(e instanceof jt))return!1;switch(this.subCommand){case"LS":case"LIST":return!this.continued;default:return!0}}}jt.COMMAND="CAP";jt.SUPPORTS_CAPTURE=!0;class YC extends O{constructor(e,r,n){super(e,r,n,{target:{}})}}YC.COMMAND="TAGMSG";const XC=Object.freeze(Object.defineProperty({__proto__:null,Away:zC,CapabilityNegotiation:jt,ChannelInvite:LC,ChannelJoin:ba,ChannelKick:UC,ChannelList:BC,ChannelPart:Sa,ClientQuit:Zy,ErrorMessage:HC,IsOnQuery:KC,Kill:jC,Mode:NC,Names:vl,NickChange:Qo,Notice:Td,OperLogin:MC,Password:Xy,Ping:vc,Pong:_c,PrivateMessage:xa,Rehash:GC,Restart:WC,ServerQuit:OC,TagMessage:YC,Time:FC,Topic:DC,UserHostQuery:QC,UserRegistration:Jy,Wallops:VC,WhoIsQuery:$C,WhoQuery:Pd,WhoWasQuery:qC},Symbol.toStringTag,{value:"Module"}));class e0 extends O{constructor(e,r,n){super(e,r,n,{me:{},welcomeText:{trailing:!0}})}}e0.COMMAND="001";class JC extends O{constructor(e,r,n){super(e,r,n,{me:{},yourHost:{trailing:!0}})}}JC.COMMAND="002";class ZC extends O{constructor(e,r,n){super(e,r,n,{me:{},createdText:{trailing:!0}})}}ZC.COMMAND="003";class t0 extends O{constructor(e,r,n){super(e,r,n,{me:{},serverName:{},version:{},userModes:{},channelModes:{},channelModesWithParam:{optional:!0}})}}t0.COMMAND="004";class r0 extends O{constructor(e,r,n){super(e,r,n,{me:{},supports:{rest:!0},suffix:{trailing:!0}})}}r0.COMMAND="005";class eE extends O{constructor(e,r,n){super(e,r,n,{me:{},modes:{}})}}eE.COMMAND="221";class tE extends O{constructor(e,r,n){super(e,r,n,{me:{},nick:{},text:{trailing:!0}})}}tE.COMMAND="301";class rE extends O{constructor(e,r,n){super(e,r,n,{me:{},hosts:{trailing:!0}})}}rE.COMMAND="302";class nE extends O{constructor(e,r,n){super(e,r,n,{me:{},suffix:{trailing:!0}})}}nE.COMMAND="305";class iE extends O{constructor(e,r,n){super(e,r,n,{me:{},suffix:{trailing:!0}})}}iE.COMMAND="306";class sE extends O{constructor(e,r,n){super(e,r,n,{me:{},nick:{},username:{},host:{},_unused:{},realname:{trailing:!0}})}}sE.COMMAND="311";class oE extends O{constructor(e,r,n){super(e,r,n,{me:{},query:{},suffix:{trailing:!0}})}isResponseTo(e){return e instanceof Pd}endsResponseTo(){return!0}}oE.COMMAND="315";class aE extends O{constructor(e,r,n){super(e,r,n,{me:{},nickMask:{},suffix:{trailing:!0}})}}aE.COMMAND="318";class lE extends O{constructor(e,r,n){super(e,r,n,{me:{},nick:{},channels:{trailing:!0}})}}lE.COMMAND="319";class uE extends O{constructor(e,r,n){super(e,r,n,{me:{},channel:{type:"channel"},memberCount:{},topic:{trailing:!0}})}}uE.COMMAND="322";class cE extends O{constructor(e,r,n){super(e,r,n,{me:{},suffix:{trailing:!0}})}}cE.COMMAND="323";class dE extends O{constructor(e,r,n){super(e,r,n,{me:{},channel:{type:"channel"},modes:{rest:!0}})}}dE.COMMAND="324";class fE extends O{constructor(e,r,n){super(e,r,n,{me:{},channel:{type:"channel"},suffix:{trailing:!0}})}}fE.COMMAND="331";class hE extends O{constructor(e,r,n){super(e,r,n,{me:{},channel:{type:"channel"},topic:{trailing:!0}})}}hE.COMMAND="332";class pE extends O{constructor(e,r,n){super(e,r,n,{me:{},channel:{type:"channel"},who:{},ts:{}})}}pE.COMMAND="333";class mE extends O{constructor(e,r,n){super(e,r,n,{me:{},nick:{},channel:{type:"channel"}})}}mE.COMMAND="341";class gE extends O{constructor(e,r,n){super(e,r,n,{me:{},channel:{type:"channel"},mask:{},creatorName:{optional:!0},timestamp:{optional:!0}})}}gE.COMMAND="348";class yE extends O{constructor(e,r,n){super(e,r,n,{me:{},channel:{type:"channel"},suffix:{trailing:!0}})}}yE.COMMAND="349";class vE extends O{constructor(e,r,n){super(e,r,n,{me:{},channel:{},user:{},host:{},server:{},nick:{},flags:{},hopsAndRealName:{trailing:!0}})}get isAway(){return this.flags.includes("G")}get isOper(){return this.flags.includes("*")}get isBot(){return this.flags.includes("B")}isResponseTo(e){return e instanceof Pd}}vE.COMMAND="352";class _E extends O{constructor(e,r,n){super(e,r,n,{me:{},channelType:{},channel:{type:"channel"},names:{trailing:!0}})}isResponseTo(e){return e instanceof vl}}_E.COMMAND="353";class wE extends O{constructor(e,r,n){super(e,r,n,{me:{},channel:{},suffix:{trailing:!0}})}isResponseTo(e){return e instanceof vl}endsResponseTo(){return!0}}wE.COMMAND="366";class bE extends O{constructor(e,r,n){super(e,r,n,{me:{},channel:{type:"channel"},mask:{},creatorName:{optional:!0},timestamp:{optional:!0}})}}bE.COMMAND="367";class SE extends O{constructor(e,r,n){super(e,r,n,{me:{},channel:{type:"channel"},suffix:{trailing:!0}})}}SE.COMMAND="368";class xE extends O{constructor(e,r,n){super(e,r,n,{me:{},line:{trailing:!0}})}}xE.COMMAND="372";class CE extends O{constructor(e,r,n){super(e,r,n,{me:{},line:{trailing:!0}})}}CE.COMMAND="375";class n0 extends O{constructor(e,r,n){super(e,r,n,{me:{},suffix:{trailing:!0}})}}n0.COMMAND="376";class EE extends O{constructor(e,r,n){super(e,r,n,{me:{},suffix:{trailing:!0}})}}EE.COMMAND="381";class TE extends O{constructor(e,r,n){super(e,r,n,{me:{},server:{optional:!0},timestamp:{trailing:!0}})}}TE.COMMAND="391";class PE extends O{constructor(e,r,n){super(e,r,n,{me:{},nick:{},suffix:{trailing:!0}})}}PE.COMMAND="401";class IE extends O{constructor(e,r,n){super(e,r,n,{me:{},server:{},suffix:{trailing:!0}})}}IE.COMMAND="402";class kE extends O{constructor(e,r,n){super(e,r,n,{me:{},channel:{},suffix:{trailing:!0}})}}kE.COMMAND="403";class RE extends O{constructor(e,r,n){super(e,r,n,{me:{},channel:{type:"channel"},suffix:{trailing:!0}})}}RE.COMMAND="404";class AE extends O{constructor(e,r,n){super(e,r,n,{me:{},channel:{type:"channel"},suffix:{trailing:!0}})}}AE.COMMAND="405";class ME extends O{constructor(e,r,n){super(e,r,n,{me:{},subCommand:{},suffix:{trailing:!0}})}}ME.COMMAND="410";class OE extends O{constructor(e,r,n){super(e,r,n,{me:{},originalCommand:{},suffix:{trailing:!0}})}isResponseTo(e){return e.command===this.originalCommand}endsResponseTo(){return!0}}OE.COMMAND="421";class i0 extends O{constructor(e,r,n){super(e,r,n,{me:{},suffix:{trailing:!0}})}}i0.COMMAND="422";class NE extends O{constructor(e,r,n){super(e,r,n,{me:{},suffix:{trailing:!0}})}isResponseTo(e){return e.command==="NICK"}endsResponseTo(){return!0}}NE.COMMAND="431";class DE extends O{constructor(e,r,n){super(e,r,n,{me:{},nick:{},suffix:{trailing:!0}})}isResponseTo(e){return e.command==="NICK"}endsResponseTo(){return!0}}DE.COMMAND="432";class BE extends O{constructor(e,r,n){super(e,r,n,{me:{},nick:{},suffix:{trailing:!0}})}isResponseTo(e){return e.command==="NICK"}endsResponseTo(){return!0}}BE.COMMAND="433";class LE extends O{constructor(e,r,n){super(e,r,n,{me:{},nick:{},suffix:{trailing:!0}})}isResponseTo(e){return e.command==="NICK"}endsResponseTo(){return!0}}LE.COMMAND="436";class UE extends O{constructor(e,r,n){super(e,r,n,{me:{},nick:{},channel:{type:"channel"},suffix:{trailing:!0}})}isResponseTo(e){return e.command==="NICK"}endsResponseTo(){return!0}}UE.COMMAND="441";class FE extends O{constructor(e,r,n){super(e,r,n,{me:{},channel:{type:"channel"},suffix:{trailing:!0}})}isResponseTo(e){return e.command==="NICK"}endsResponseTo(){return!0}}FE.COMMAND="442";class $E extends O{constructor(e,r,n){super(e,r,n,{me:{},nick:{},channel:{type:"channel"},suffix:{trailing:!0}})}isResponseTo(e){return e.command==="NICK"}endsResponseTo(){return!0}}$E.COMMAND="443";class qE extends O{constructor(e,r,n){super(e,r,n,{me:{},suffix:{trailing:!0}})}}qE.COMMAND="451";class jE extends O{constructor(e,r,n){super(e,r,n,{me:{},originalCommand:{},suffix:{trailing:!0}})}}jE.COMMAND="461";class s0 extends O{constructor(e,r,n){super(e,r,n,{me:{},suffix:{trailing:!0}})}}s0.COMMAND="462";class HE extends O{constructor(e,r,n){super(e,r,n,{me:{},channel:{type:"channel"},suffix:{trailing:!0}})}}HE.COMMAND="471";class zE extends O{constructor(e,r,n){super(e,r,n,{me:{},char:{},suffix:{trailing:!0}})}}zE.COMMAND="472";class GE extends O{constructor(e,r,n){super(e,r,n,{me:{},channel:{type:"channel"},suffix:{trailing:!0}})}}GE.COMMAND="473";class WE extends O{constructor(e,r,n){super(e,r,n,{me:{},channel:{type:"channel"},suffix:{trailing:!0}})}}WE.COMMAND="474";class VE extends O{constructor(e,r,n){super(e,r,n,{me:{},channel:{type:"channel"},suffix:{trailing:!0}})}}VE.COMMAND="475";class QE extends O{constructor(e,r,n){super(e,r,n,{me:{},channel:{},suffix:{trailing:!0}})}}QE.COMMAND="479";class KE extends O{constructor(e,r,n){super(e,r,n,{me:{},suffix:{trailing:!0}})}}KE.COMMAND="481";class YE extends O{constructor(e,r,n){super(e,r,n,{me:{},channel:{},suffix:{trailing:!0}})}}YE.COMMAND="482";class XE extends O{constructor(e,r,n){super(e,r,n,{me:{},suffix:{trailing:!0}})}}XE.COMMAND="491";class JE extends O{constructor(e,r,n){super(e,r,n,{me:{},modeChar:{optional:!0,match:/^\w$/},suffix:{trailing:!0}})}}JE.COMMAND="501";class ZE extends O{constructor(e,r,n){super(e,r,n,{me:{},suffix:{trailing:!0}})}}ZE.COMMAND="502";const e5=Object.freeze(Object.defineProperty({__proto__:null,Error401NoSuchNick:PE,Error402NoSuchServer:IE,Error403NoSuchChannel:kE,Error404CanNotSendToChan:RE,Error405TooManyChannels:AE,Error410InvalidCapCmd:ME,Error421UnknownCommand:OE,Error422NoMotd:i0,Error431NoNickNameGiven:NE,Error432ErroneusNickname:DE,Error433NickNameInUse:BE,Error436NickCollision:LE,Error441UserNotInChannel:UE,Error442NotOnChannel:FE,Error443UserOnChannel:$E,Error451NotRegistered:qE,Error461NeedMoreParams:jE,Error462AlreadyRegistered:s0,Error471ChannelIsFull:HE,Error472UnknownMode:zE,Error473InviteOnlyChan:GE,Error474BannedFromChan:WE,Error475BadChannelKey:VE,Error479BadChanName:QE,Error481NoPrivileges:KE,Error482ChanOpPrivsNeeded:YE,Error491NoOperHost:XE,Error501UmodeUnknownFlag:JE,Error502UsersDontMatch:ZE,Reply001Welcome:e0,Reply002YourHost:JC,Reply003Created:ZC,Reply004ServerInfo:t0,Reply005Isupport:r0,Reply221UmodeIs:eE,Reply301Away:tE,Reply302UserHost:rE,Reply305UnAway:nE,Reply306NowAway:iE,Reply311WhoisUser:sE,Reply315EndOfWho:oE,Reply318EndOfWhois:aE,Reply319WhoisChannels:lE,Reply322List:uE,Reply323ListEnd:cE,Reply324ChannelModeIs:dE,Reply331NoTopic:fE,Reply332Topic:hE,Reply333TopicWhoTime:pE,Reply341Inviting:mE,Reply348ExceptList:gE,Reply349EndOfExceptList:yE,Reply352WhoReply:vE,Reply353NamesReply:_E,Reply366EndOfNames:wE,Reply367BanList:bE,Reply368EndOfBanList:SE,Reply372Motd:xE,Reply375MotdStart:CE,Reply376EndOfMotd:n0,Reply381YoureOper:EE,Reply391Time:TE},Symbol.toStringTag,{value:"Module"})),BO=new Map([...Object.values(XC),...Object.values(e5)].map(t=>[t.COMMAND,t]));function LO(t){const[e,r]=Ci(t,"!",2);if(r){const[n,i]=Ci(r,"@",2);return i?{nick:e,user:n,host:i}:{nick:e,host:n}}else return{nick:e}}const R1={":":";",n:`
`,r:"\r",s:" "};function UO(t){const e=new Map,r=t.split(";");for(const n of r){const[i,s]=Ci(n,"=",2);i!==""&&e.set(i,s?s.replace(/\\(.?)/g,(o,a)=>Object.prototype.hasOwnProperty.call(R1,a)?R1[a]:a):"")}return e}function FO(t,e=Cs,r=BO,n=!1,i=[],s=!0){const o=t.split(" ");let a,l;const u=[];let c,h;for(;o.length;){if(a=o[0],a.startsWith("@")&&!c&&!l&&!h)c=UO(a.slice(1));else if(a.startsWith(":"))if(!h&&!l)a.length>1&&(h=LO(a.slice(1)));else{u.push({value:o.join(" ").slice(1),trailing:!0});break}else l?u.push({value:a,trailing:!1}):l=a.toUpperCase();o.shift()}if(c||(c=new Map),!l)throw new Error(`line without command received: ${t}`);s&&(s=!i.includes(l));let f=O;return r.has(l)&&(f=r.get(l)),new f(l,{params:u,tags:c,prefix:h,rawLine:t},{serverProperties:e,isServer:n,shouldParseParams:s})}class t5 extends lo{constructor(e){super(),this._registered=!1,this._supportsCapabilities=!0,this._events=new Map,this._registeredMessageTypes=new Map,this.onConnect=this.registerEvent(),this.onRegister=this.registerEvent(),this.onDisconnect=this.registerEvent(),this.onPrivmsg=this.registerEvent(),this.onAction=this.registerEvent(),this.onNotice=this.registerEvent(),this.onNickChange=this.registerEvent(),this.onCtcp=this.registerEvent(),this.onCtcpReply=this.registerEvent(),this.onPasswordError=this.registerEvent(),this.onAnyMessage=this.registerEvent(),this._serverProperties=Vo(Cs),this._supportedFeatures={},this._collectors=[],this._clientCapabilities=new Map,this._serverCapabilities=new Map,this._negotiatedCapabilities=new Map,this._currentChannels=new Set,this._hasRegisteredBefore=!1,this._channelsFromLastRegister=new Set,this._initialConnectionSetupDone=!1;const{connection:r,credentials:n,channels:i,channelTypes:s,webSocket:o,logger:a={}}=e;this._options=e;const{pingOnInactivity:l=60,pingTimeout:u=10}=r;this._pingOnInactivity=l,this._pingTimeout=u,this._currentNick=n.nick,this._logger=oo({name:"ircv3",emoji:!0,...a}),this.registerCoreMessageTypes();const{hostName:c,secure:h,reconnect:f=!0}=r,v={hostName:c,port:this.port,secure:h},y={lineBased:!0,logger:this._logger,additionalOptions:e.connectionOptions},w=o?_O:yO;f?this._connection=new vO(w,v,y):this._connection=new w(y,this._logger,e.connectionOptions);for(const _ of Object.values(NO))this.addCapability(_);this.addInternalListener(this.onRegister,async()=>{const _=this._hasRegisteredBefore,g=this._channelsFromLastRegister;this._hasRegisteredBefore=!0,this._channelsFromLastRegister=new Set;const p=_&&this._options.rejoinChannelsOnReconnect?g:await Fm(i);if(p)for(const m of p)this.join(m)}),this.onTypedMessage(jt,async({subCommand:_,capabilities:g})=>{const p=g.split(" ");switch(_.toUpperCase()){case"NEW":{this._logger.debug(`Server registered new capabilities: ${p.join(", ")}`);const m=Oo(p,S=>{if(!S)return{};const[R,A]=Ci(S,"=",2);return{[R]:{name:R,param:A||!0}}});for(const[S,R]of Object.entries(m))this._serverCapabilities.set(S,R);const b=Object.keys(m);await this._negotiateCapabilities(Array.from(this._clientCapabilities.entries()).filter(([S])=>b.includes(S)).map(([,S])=>S));break}case"DEL":{this._logger.debug(`Server removed capabilities: ${p.join(", ")}`);for(const m of p)this._serverCapabilities.delete(m),this._negotiatedCapabilities.delete(m)}}}),this.onTypedMessage(vc,({text:_})=>{this.sendMessage(_c,{text:_})}),this.onTypedMessage(e0,({me:_})=>this._handleReceivedClientNick(_)),this.onTypedMessage(t0,({userModes:_})=>{_&&(this._serverProperties.supportedUserModes=_)}),this.onTypedMessage(r0,({supports:_})=>{const g=Oo(_.split(" "),p=>{const[m,b]=Ci(p,"=",2);return{[m]:b||!0}});this._supportedFeatures={...this._supportedFeatures,...g}}),this.onTypedMessage(n0,({me:_})=>{this._registered||(this._handleReceivedClientNick(_),this._registered=!0,this.emit(this.onRegister))}),this.onTypedMessage(i0,({me:_})=>{this._registered||(this._handleReceivedClientNick(_),this._registered=!0,this.emit(this.onRegister))}),this.onTypedMessage(s0,({me:_})=>{this._registered||(this._logger.warn("We thought we're not registered yet, but we actually are"),this._handleReceivedClientNick(_),this._registered=!0,this.emit(this.onRegister))}),this.onTypedMessage(xa,_=>{var g;const{target:p,text:m}=_,b=k1(m),S=(g=_.prefix)===null||g===void 0?void 0:g.nick;b?b.command==="ACTION"?this.emit(this.onAction,p,S,b.params,_):this.emit(this.onCtcp,p,S,b.command,b.params,_):this.emit(this.onPrivmsg,p,S,m,_)}),this.onTypedMessage(Qo,_=>{var g;const{nick:p}=_,m=(g=_.prefix)===null||g===void 0?void 0:g.nick;m===this._currentNick&&(this._currentNick=p),this.emit(this.onNickChange,m,p,_)}),this.onTypedMessage(Td,_=>{var g;const{target:p,text:m}=_,b=k1(m),S=(g=_.prefix)===null||g===void 0?void 0:g.nick;b&&this.emit(this.onCtcpReply,p,S,b.command,b.params,_),this.emit(this.onNotice,p,S,m,_)}),this._options.manuallyAcknowledgeJoins||this.onTypedMessage(ba,({channel:_,prefix:g})=>{(g==null?void 0:g.nick)===this._currentNick&&this.acknowledgeJoin(_)}),this.onTypedMessage(Sa,_=>{var g;((g=_.prefix)===null||g===void 0?void 0:g.nick)===this._currentNick&&(this._currentChannels.delete(_.channel),this._channelsFromLastRegister.delete(_.channel))}),this.addInternalListener(this.onRegister,()=>this._startPingCheckTimer()),this._desiredNick=n.nick,this._userName=n.userName,this._realName=n.realName,s&&(this._serverProperties.channelTypes=s)}receiveLine(e){var r;this._logger.debug(`Received message: ${e}`);let n;try{n=FO(e,this._serverProperties,this._registeredMessageTypes,!0,this._options.nonConformingCommands)}catch(i){this._logger.error(`Error parsing message: ${i.message}`),this._logger.trace((r=i.stack)!==null&&r!==void 0?r:"No stack available");return}this._logger.trace(`Parsed message: ${JSON.stringify(n)}`),this._startPingCheckTimer(),this.emit(this.onAnyMessage,n),this._handleEvents(n)}get serverProperties(){return Vo(this._serverProperties)}get port(){const{webSocket:e,connection:{port:r,secure:n}}=this._options;return r||(e?n?443:80:n?6697:6667)}pingCheck(){const e=Date.now(),r=e.toString(),n=this.onTypedMessage(_c,i=>{const{text:s}=i;s===r&&(this._logger.debug(`Current ping: ${Date.now()-e}ms`),this._pingTimeoutTimer&&clearTimeout(this._pingTimeoutTimer),this.removeMessageListener(n))});this._pingTimeoutTimer=setTimeout(()=>{this.removeMessageListener(n),this._options.connection.reconnect===!1?this._logger.error(`Disconnecting because the last ping took over ${this._pingTimeout} seconds`):this._logger.warn(`Reconnecting because the last ping took over ${this._pingTimeout} seconds`),this._connection.assumeExternalDisconnect()},this._pingTimeout*1e3),this.sendMessage(vc,{text:r})}reconnect(e){this.quit(e),this.connect()}registerMessageType(e){e.COMMAND!==""&&(this._logger.trace(`Registering message type ${e.COMMAND}`),this._registeredMessageTypes.set(e.COMMAND.toUpperCase(),e))}knowsCommand(e){return this._registeredMessageTypes.has(e.toUpperCase())}getCommandClass(e){return this._registeredMessageTypes.get(e.toUpperCase())}acknowledgeJoin(e){this._currentChannels.add(e),this._channelsFromLastRegister.add(e)}connect(){this._supportsCapabilities=!1,this._negotiatedCapabilities=new Map,this._currentChannels=new Set,this._currentNick=this._desiredNick,this._setupConnection(),this._logger.info(`Connecting to ${this._options.connection.hostName}:${this.port}`),this._connection.connect()}addCapability(e){if(this._clientCapabilities.set(e.name,e),e.messageTypes)for(const r of Object.values(e.messageTypes))this.registerMessageType(r)}async registerCapability(e){return this.addCapability(e),this._serverCapabilities.has(e.name)?await this._negotiateCapabilities([e]):[]}send(e){this.sendRaw(e.toString())}sendRaw(e){this._connection.isConnected&&(this._logger.debug(`Sending message: ${e}`),this._connection.sendLine(e))}onNamedMessage(e,r,n){this._events.has(e)||this._events.set(e,new Map);const i=this._events.get(e);if(!n)do n=`${e}:${wA(Math.random()*1e4,4,"0")}`;while(i.has(n));return i.set(n,r),n}onTypedMessage(e,r,n){return this.onNamedMessage(e.COMMAND,r,n)}removeMessageListener(e){const[r]=e.split(":");this._events.has(r)&&this._events.get(r).delete(e)}createMessage(e,r,n){const i=n?new Map(Object.entries(n)):void 0;return TO(e,r,void 0,i,this.serverProperties)}sendMessage(e,r,n){this.send(this.createMessage(e,r,n))}async sendMessageAndCaptureReply(e,r){if(!e.SUPPORTS_CAPTURE)throw new Error(`The command "${e.COMMAND}" does not support reply capture`);const n=this.createMessage(e,r),i=this.collect(n).promise();return this.send(n),await i}get isConnected(){return this._connection.isConnected}get isConnecting(){return this._connection.isConnecting}get isRegistered(){return this._registered}get currentNick(){return this._currentNick}get currentChannels(){return Array.from(this._currentChannels)}collect(e,...r){const n=new DO(this,e,...r);return this._collectors.push(n),n}stopCollect(e){this._collectors.splice(this._collectors.findIndex(r=>r===e),1)}join(e,r){this.sendMessage(ba,{channel:e,key:r})}part(e){this.sendMessage(Sa,{channel:e})}quit(e){this.sendMessage(Zy,{text:e}),this.quitAbruptly()}quitAbruptly(){this._registered=!1,this._connection.disconnect()}say(e,r,n={}){this.sendMessage(xa,{target:e,text:r},n)}sendCtcp(e,r,n){this.say(e,`${r.toUpperCase()} ${n}`)}action(e,r){this.sendCtcp(e,"ACTION",r)}changeNick(e){this._currentNick!==e&&(this._desiredNick=e,this.isRegistered&&this.sendMessage(Qo,{nick:e}))}registerCoreMessageTypes(){$m(XC,e=>{this.registerMessageType(e)}),$m(e5,e=>{this.registerMessageType(e)})}async _negotiateCapabilityBatch(e){return await Promise.all(e.filter(r=>r.length).map(async r=>await this._negotiateCapabilities(r)))}async _negotiateCapabilities(e){const r=Oo(e,o=>({[o.name]:o})),i=(await this.sendMessageAndCaptureReply(jt,{subCommand:"REQ",capabilities:e.map(o=>o.name).join(" ")})).shift();if(!i)throw new Error("capability negotiation failed unexpectedly without any reply");if(!(i instanceof jt))throw new Error(`capability negotiation failed unexpectedly with "${i.command}" command`);const s=i.capabilities.split(" ").filter(o=>o);if(i.subCommand==="ACK"){this._logger.debug(`Successfully negotiated capabilities: ${s.join(", ")}`);const o=s.map(a=>r[a]);for(const a of o){const l=this._clientCapabilities.get(a.name);l.param=a.param,this._negotiatedCapabilities.set(l.name,l)}return o}else return this._logger.warn(`Failed to negotiate capabilities: ${s.join(", ")}`),new Error("capabilities failed to negotiate")}_setupConnection(){this._initialConnectionSetupDone||(this._connection.onConnect(async()=>{var e,r;this._logger.info(`Connection to server ${this._options.connection.hostName}:${this.port} established`),this.emit(this.onConnect),this._logger.debug("Determining connection password");try{const[n]=await Promise.all([Fm(this._options.credentials.password),this.sendMessageAndCaptureReply(jt,{subCommand:"LS",version:"302"}).then(i=>{if(!i.length||!(i[0]instanceof jt))return this._logger.debug("Server does not support capabilities"),[];this._supportsCapabilities=!0;const s=i.map(a=>Oo(a.capabilities.split(" "),l=>{if(!l)return{};const[u,c]=Ci(l,"=",2);return{[u]:{name:u,param:c||!0}}}));this._serverCapabilities=new Map(Object.entries(Object.assign({},...s))),this._logger.debug(`Capabilities supported by server: ${Array.from(this._serverCapabilities.keys()).join(", ")}`);const o=s.map(a=>{const l=Object.keys(a);return Array.from(this._clientCapabilities.entries()).filter(([u])=>l.includes(u)).map(([,u])=>u)});return this._negotiateCapabilityBatch(o)}).then(()=>{this.sendMessage(jt,{subCommand:"END"})})]);n&&this.sendMessage(Xy,{password:n}),this.sendMessage(Qo,{nick:this._desiredNick}),this.sendMessage(Jy,{user:(e=this._userName)!==null&&e!==void 0?e:this._desiredNick,mode:"8",unused:"*",realName:(r=this._realName)!==null&&r!==void 0?r:this._desiredNick})}catch(n){this.emit(this.onPasswordError,n),this.quit()}}),this._initialConnectionSetupDone=!0,this._connection.onReceive(e=>{this.receiveLine(e)}),this._connection.onDisconnect((e,r)=>{var n;if(this._registered=!1,this._pingCheckTimer&&clearTimeout(this._pingCheckTimer),this._pingTimeoutTimer&&clearTimeout(this._pingTimeoutTimer),e)this._logger.info("Disconnected");else{const i=(n=this._options.connection.reconnect)!==null&&n!==void 0?n:!0,s=r?`Disconnected unexpectedly: ${r.message}`:"Disconnected unexpectedly";i?this._logger.warn(`${s}; trying to reconnect`):this._logger.error(s)}this.emit(this.onDisconnect,e,r)}),this._connection.onEnd(e=>{e||this._logger.warn("No further retries will be made")}))}_handleReceivedClientNick(e){this._currentNick!==e&&(this._currentNick!==""&&this._logger.warn(`Mismatching nicks: passed ${this._currentNick}, but you're actually ${e}`),this._currentNick=e)}_handleEvents(e){this._collectors.some(n=>n.collect(e));const r=this._events.get(e.constructor.COMMAND);if(r)for(const n of r.values())n(e)}_startPingCheckTimer(){this._pingCheckTimer&&clearTimeout(this._pingCheckTimer),this._connection.isConnected?this._pingCheckTimer=setTimeout(()=>this.pingCheck(),this._pingOnInactivity*1e3):this._pingCheckTimer=void 0}}x([G(!1)],t5.prototype,"_options",void 0);class o0 extends O{constructor(e,r,n){super(e,r,n,{channel:{type:"channel"},user:{trailing:!0,optional:!0}})}get date(){const e=this._tags.get("tmi-sent-ts");return new Date(Number(e))}get channelId(){return this._tags.get("room-id")}get targetUserId(){var e;return(e=this._tags.get("target-user-id"))!==null&&e!==void 0?e:null}}o0.COMMAND="CLEARCHAT";class r5 extends O{}r5.COMMAND="RECONNECT";class a0 extends O{constructor(e,r,n){super(e,r,n,{channel:{type:"channel"}})}}a0.COMMAND="ROOMSTATE";function $O(t){switch(typeof t){case"undefined":return"";case"object":{if(t===null)return"";if("cacheKey"in t)return t.cacheKey;const e=JSON.stringify(t);if(e!=="{}")return e}default:return t.toString()}}function n5(t,e,r){return[t,...e.map($O)].join("/")+(r?"/":"")}function _l(t){return class extends t{constructor(){super(...arguments),this.cache=new Map}getFromCache(e){if(this._cleanCache(),this.cache.has(e)){const r=this.cache.get(e);if(r)return r.value}}setCache(e,r,n){this.cache.set(e,{value:r,expires:Date.now()+n*1e3})}removeFromCache(e,r){const n=this._getInternalCacheKey(e,r);r?this.cache.forEach((i,s)=>{s.startsWith(n)&&this.cache.delete(s)}):this.cache.delete(n)}_cleanCache(){const e=Date.now();this.cache.forEach((r,n)=>{r.expires<e&&this.cache.delete(n)})}_getInternalCacheKey(e,r){if(typeof e=="string"){let n=e;return n.endsWith("/")||(n+="/"),n}else{const n=e.shift();return n5(n,e,r)}}}}function pe(t=1/0){return function(e,r,n){if(n.get){const i=n.get;n.get=function(){const s=n5(r,[]),o=this.getFromCache(s);if(o)return o;const a=i.call(this);return this.setCache(s,a,t),a}}return n}}var Tu;let Jn=Tu=class{constructor(e,r){this._userName=e.toLowerCase(),this._userData=r?new Map(r):new Map}static _parseBadgesLike(e){return e?new Map(e.split(",").map(r=>{const n=r.indexOf("/");return n===-1?[r,""]:[r.slice(0,n),r.slice(n+1)]})):new Map}get userName(){return this._userName}get displayName(){var e;return(e=this._userData.get("display-name"))!==null&&e!==void 0?e:this._userName}get color(){return this._userData.get("color")}get badges(){const e=this._userData.get("badges");return Tu._parseBadgesLike(e)}get badgeInfo(){const e=this._userData.get("badge-info");return Tu._parseBadgesLike(e)}get userId(){return this._userData.get("user-id")}get userType(){return this._userData.get("user-type")}get isBroadcaster(){return this.badges.has("broadcaster")}get isSubscriber(){return this.badges.has("subscriber")||this.isFounder}get isFounder(){return this.badges.has("founder")}get isMod(){return this.badges.has("moderator")}get isVip(){const e=this._userData.get("vip");return e!=null&&e!=="0"}get isArtist(){return this.badges.has("artist-badge")}};x([G(!1)],Jn.prototype,"_userData",void 0);x([pe()],Jn.prototype,"badges",null);x([pe()],Jn.prototype,"badgeInfo",null);Jn=Tu=x([_l,D("chat","ChatUser","userId")],Jn);function l0(t){return t?new Map(t.split("/").map(e=>{const[r,n]=e.split(":",2);return n?[r,n.split(",")]:null}).filter(e=>e!==null)):new Map}class Id extends O{constructor(e,r,n){super(e,r,n,{channel:{type:"channel"},text:{trailing:!0,optional:!0}})}get id(){return this._tags.get("id")}get date(){const e=this._tags.get("tmi-sent-ts");return new Date(Number(e))}get userInfo(){return new Jn(this._tags.get("login"),this._tags)}get channelId(){var e;return(e=this._tags.get("room-id"))!==null&&e!==void 0?e:null}get emoteOffsets(){return l0(this._tags.get("emotes"))}}Id.COMMAND="USERNOTICE";class i5 extends O{constructor(e,r,n){super(e,r,n,{channel:{type:"channel"}})}}i5.COMMAND="USERSTATE";class u0 extends O{constructor(e,r,n){super(e,r,n,{target:{},text:{trailing:!0}})}get userInfo(){return new Jn(this._prefix.nick,this._tags)}get emoteOffsets(){return l0(this._tags.get("emotes"))}}u0.COMMAND="WHISPER";const qO={name:"twitch.tv/commands",messageTypes:[o0,r5,a0,Id,i5,u0]},jO={name:"twitch.tv/membership"};class c0 extends O{constructor(e,r,n){super(e,r,n,{channel:{type:"channel"},text:{trailing:!0}})}get date(){const e=this._tags.get("tmi-sent-ts");return new Date(Number(e))}get userName(){return this._tags.get("login")}get channelId(){return this._tags.get("room-id")}get targetMessageId(){return this._tags.get("target-msg-id")}}c0.COMMAND="CLEARMSG";class s5 extends O{}s5.COMMAND="GLOBALUSERSTATE";const HO={name:"twitch.tv/tags",messageTypes:[s5,c0]},zO=["ONE","TWO","THREE","FOUR","FIVE","SIX","SEVEN","EIGHT","NINE","TEN"];let wc=class extends xa{get id(){return this._tags.get("id")}get date(){const e=this._tags.get("tmi-sent-ts");return new Date(Number(e))}get userInfo(){return new Jn(this._prefix.nick,this._tags)}get channelId(){var e;return(e=this._tags.get("room-id"))!==null&&e!==void 0?e:null}get isCheer(){return this._tags.has("bits")}get isRedemption(){return!!this._tags.get("custom-reward-id")}get rewardId(){return this._tags.get("custom-reward-id")||null}get isFirst(){return this._tags.get("first-msg")==="1"}get isReturningChatter(){return this._tags.get("returning-chatter")==="1"}get isHighlight(){return this._tags.get("msg-id")==="highlighted-message"}get isReply(){return this._tags.has("reply-parent-msg-id")}get parentMessageId(){var e;return(e=this._tags.get("reply-parent-msg-id"))!==null&&e!==void 0?e:null}get parentMessageText(){var e;return(e=this._tags.get("reply-parent-msg-body"))!==null&&e!==void 0?e:null}get parentMessageUserId(){var e;return(e=this._tags.get("reply-parent-user-id"))!==null&&e!==void 0?e:null}get parentMessageUserName(){var e;return(e=this._tags.get("reply-parent-user-login"))!==null&&e!==void 0?e:null}get parentMessageUserDisplayName(){var e;return(e=this._tags.get("reply-parent-display-name"))!==null&&e!==void 0?e:null}get threadMessageId(){var e;return(e=this._tags.get("reply-thread-parent-msg-id"))!==null&&e!==void 0?e:null}get threadMessageUserId(){var e;return(e=this._tags.get("reply-thread-parent-user-id"))!==null&&e!==void 0?e:null}get bits(){var e;return Number((e=this._tags.get("bits"))!==null&&e!==void 0?e:0)}get emoteOffsets(){return l0(this._tags.get("emotes"))}get isHypeChat(){return this._tags.has("pinned-chat-paid-amount")}get hypeChatAmount(){return Zt(this._tags.get("pinned-chat-paid-amount"),Number)}get hypeChatDecimalPlaces(){return Zt(this._tags.get("pinned-chat-paid-exponent"),Number)}get hypeChatLocalizedAmount(){const e=this.hypeChatAmount;return e?e/10**this.hypeChatDecimalPlaces:null}get hypeChatCurrency(){var e;return(e=this._tags.get("pinned-chat-paid-currency"))!==null&&e!==void 0?e:null}get hypeChatLevel(){const e=this._tags.get("pinned-chat-paid-level");return e?zO.indexOf(e)+1:null}get hypeChatIsSystemMessage(){const e=this._tags.get("pinned-chat-paid-is-system-message");return e?!!Number(e):null}};wc=x([D("chat","ChatMessage","id")],wc);function GO(t){return t instanceof wc?t.tags.get("id"):t}function A1(t,e){if(t.length<=e)return[t];t=t.trim();const r=[];let n=0,i=e;for(;n<t.length;){let s=t.lastIndexOf(" ",i);(s===-1||s<=n||t.length-n+1<=e)&&(s=n+e);const o=t.slice(n,s).trim();o.length&&r.push(o),n=s+(t[s]===" "?1:0),i=n+e}return r}const WO=/^[a-z0-9][a-z0-9_]{0,24}$/;function He(t){const e=t.replace(/^#/,"").toLowerCase();if(!WO.test(e))throw new Error(`"${e}" is not a valid user or channel name. It must be at most 25 characters long, can only include letters, numbers and underscores, and can not start with an underscore.`);return e}function tu(t){return`#${He(t)}`}var Xm;let bc=Xm=class extends lo{constructor(e={}){var r,n,i,s,o;if(e.authProvider&&!e.authProvider.getAccessTokenForIntent)throw new Eu("You can not connect to chat using an AuthProvider that does not support intents.\nTo get an anonymous, read-only connection, please don't pass an `AuthProvider` at all.\nTo get a read-write connection, please provide an auth provider that provides user access tokens via intents, such as `RefreshingAuthProvider`.");super(),this._authVerified=!1,this._authRetryCount=0,this.onConnect=this.registerEvent(),this.onDisconnect=this.registerEvent(),this.onTimeout=this.registerEvent(),this.onBan=this.registerEvent(),this.onBitsBadgeUpgrade=this.registerEvent(),this.onChatClear=this.registerEvent(),this.onEmoteOnly=this.registerEvent(),this.onFollowersOnly=this.registerEvent(),this.onJoin=this.registerEvent(),this.onJoinFailure=this.registerEvent(),this.onPart=this.registerEvent(),this.onMessageRemove=this.registerEvent(),this.onUniqueChat=this.registerEvent(),this.onRaid=this.registerEvent(),this.onRaidCancel=this.registerEvent(),this.onRitual=this.registerEvent(),this.onSlow=this.registerEvent(),this.onSubsOnly=this.registerEvent(),this.onSub=this.registerEvent(),this.onResub=this.registerEvent(),this.onSubGift=this.registerEvent(),this.onCommunitySub=this.registerEvent(),this.onSubExtend=this.registerEvent(),this.onRewardGift=this.registerEvent(),this.onPrimePaidUpgrade=this.registerEvent(),this.onGiftPaidUpgrade=this.registerEvent(),this.onPrimeCommunityGift=this.registerEvent(),this.onStandardPayForward=this.registerEvent(),this.onCommunityPayForward=this.registerEvent(),this.onAnnouncement=this.registerEvent(),this.onWhisper=this.registerEvent(),this.onNoPermission=this.registerEvent(),this.onMessageRatelimit=this.registerEvent(),this.onAuthenticationSuccess=this.registerEvent(),this.onAuthenticationFailure=this.registerEvent(),this.onTokenFetchFailure=this.registerEvent(),this.onMessageFailed=this.registerEvent(),this.onMessage=this.registerEvent(),this.onAction=this.registerEvent(),this._onJoinResult=this.registerInternalEvent(),this._ircClient=new t5({connection:{hostName:(r=e.hostName)!==null&&r!==void 0?r:!((n=e.webSocket)!==null&&n!==void 0)||n?"irc-ws.chat.twitch.tv":"irc.chat.twitch.tv",secure:(i=e.ssl)!==null&&i!==void 0?i:!0},credentials:{nick:"",password:async()=>await this._getAuthToken()},webSocket:(s=e.webSocket)!==null&&s!==void 0?s:!0,connectionOptions:e.connectionOptions,logger:{name:"twurple:chat:irc",...e.logger},nonConformingCommands:["004"],manuallyAcknowledgeJoins:!0,rejoinChannelsOnReconnect:e.rejoinChannelsOnReconnect}),this._ircClient.onDisconnect((u,c)=>{this._messageRateLimiter.clear(),this._messageRateLimiter.pause(),this._joinRateLimiter.clear(),this._joinRateLimiter.pause(),this.emit(this.onDisconnect,u,c)}),this._ircClient.registerMessageType(wc),this._chatLogger=oo({name:"twurple:chat:twitch",...e.logger}),this._authProvider=e.authProvider,this._useLegacyScopes=!!e.legacyScopes,this._readOnly=!!e.readOnly,this._authIntents=[...(o=e.authIntents)!==null&&o!==void 0?o:[],"chat"];const a=async({type:u,text:c,channel:h,tags:f})=>{u==="say"?this._ircClient.say(h,c,f):this._ircClient.action(h,c)},l=async u=>{const{promise:c,resolve:h,reject:f}=wa();let v;const y=this.addInternalListener(this._onJoinResult,(w,_,g)=>{w===u&&(clearTimeout(v),g?f(g):h(),this.removeListener(y))});v=setTimeout(()=>{this.removeListener(y),this.emit(this._onJoinResult,u,void 0,"twurple_timeout"),f(new Error(`Did not receive a reply to join ${u} in time; assuming that the join failed`))},1e4),this._ircClient.join(u),await c};if(e.isAlwaysMod)this._messageRateLimiter=new zm({bucketSize:e.botLevel==="verified"?7500:100,timeFrame:32e3,doRequest:a});else{let u=20;e.botLevel==="verified"?u=7500:e.botLevel==="known"&&(u=50),this._messageRateLimiter=new M3(new SC({bucketSize:1,timeFrame:1200,logger:{minLevel:Y.ERROR},doRequest:a,getPartitionKey:({channel:c})=>c}),{bucketSize:u,timeFrame:32e3})}this._joinRateLimiter=new zm({bucketSize:e.botLevel==="verified"?2e3:20,timeFrame:11e3,doRequest:l}),this._messageRateLimiter.pause(),this._joinRateLimiter.pause(),this._ircClient.addCapability(HO),this._ircClient.addCapability(qO),e.requestMembershipEvents&&this._ircClient.addCapability(jO),this._ircClient.onConnect(()=>{this.emit(this.onConnect)}),this._ircClient.onRegister(async()=>{this._messageRateLimiter.resume(),this._joinRateLimiter.resume(),this._authVerified=!0,this._authRetryTimer=void 0,this._authRetryCount=0,this.emit(this.onAuthenticationSuccess);const u=await Fm(e.channels);u&&await Promise.all(u.map(async c=>{var h;try{await this.join(c)}catch(f){this._chatLogger.warn(`Failed to join configured channel ${c}; original message: ${(h=f==null?void 0:f.message)!==null&&h!==void 0?h:f}`)}}))}),this._ircClient.onPasswordError(u=>{this._chatLogger.error(`Error fetching a token for connecting to the server: ${u.message}`),this.emit(this.onTokenFetchFailure,u)}),this._ircClient.onPrivmsg((u,c,h,f)=>{c!=="jtv"&&this.emit(this.onMessage,He(u),c,h,f)}),this._ircClient.onAction((u,c,h,f)=>{this.emit(this.onAction,He(u),c,h,f)}),this.addInternalListener(this._onJoinResult,(u,c,h)=>{h?this.emit(this.onJoinFailure,He(u),h):this._ircClient.acknowledgeJoin(u)}),this._ircClient.onTypedMessage(o0,u=>{const{channel:c,user:h,tags:f}=u,v=He(c);if(h){const y=f.get("ban-duration");y===void 0?this.emit(this.onBan,v,h,u):this.emit(this.onTimeout,v,h,Number(y),u)}else this.emit(this.onChatClear,v,u)}),this._ircClient.onTypedMessage(c0,u=>{const{channel:c,targetMessageId:h}=u;this.emit(this.onMessageRemove,He(c),h,u)}),this._ircClient.onTypedMessage(ba,({prefix:u,channel:c})=>{this.emit(this.onJoin,He(c),u.nick)}),this._ircClient.onTypedMessage(Sa,({prefix:u,channel:c})=>{this.emit(this.onPart,He(c),u.nick)}),this._ircClient.onTypedMessage(a0,({channel:u,tags:c})=>{let h=!1;if(c.has("subs-only")&&c.has("slow")&&(this.emit(this._onJoinResult,u,c),h=!0),!h){const f=He(u);if(c.has("slow")){const v=Number(c.get("slow"));v?this.emit(this.onSlow,f,!0,v):this.emit(this.onSlow,f,!1)}if(c.has("followers-only")){const v=Number(c.get("followers-only"));v===-1?this.emit(this.onFollowersOnly,f,!1):this.emit(this.onFollowersOnly,f,!0,v)}}}),this._ircClient.onTypedMessage(Id,u=>{const{channel:c,text:h,tags:f}=u,v=f.get("msg-id"),y=He(c);switch(v){case"sub":case"resub":{const w=v==="sub"?this.onSub:this.onResub,_=f.get("msg-param-sub-plan"),g=f.get("msg-param-streak-months"),p={userId:f.get("user-id"),displayName:f.get("display-name"),plan:_,planName:f.get("msg-param-sub-plan-name"),isPrime:_==="Prime",months:Number(f.get("msg-param-cumulative-months")),streak:g?Number(g):void 0,message:h};if(f.get("msg-param-was-gifted")==="true"){const b=f.get("msg-param-anon-gift")==="true",S=Number(f.get("msg-param-gift-months")),R=Number(f.get("msg-param-gift-month-being-redeemed"));b?p.originalGiftInfo={anonymous:!0,duration:S,redeemedMonth:R}:p.originalGiftInfo={anonymous:!1,duration:S,redeemedMonth:R,userId:f.get("msg-param-gifter-id"),userName:f.get("msg-param-gifter-login"),userDisplayName:f.get("msg-param-gifter-name")}}this.emit(w,y,f.get("login"),p,u);break}case"subgift":{const w=f.get("msg-param-sub-plan"),_=f.get("login"),g=_==="ananonymousgifter",p={userId:f.get("msg-param-recipient-id"),displayName:f.get("msg-param-recipient-display-name"),gifter:g?void 0:_,gifterUserId:g?void 0:f.get("user-id"),gifterDisplayName:g?void 0:f.get("display-name"),gifterGiftCount:g?void 0:Number(f.get("msg-param-sender-count")),giftDuration:Number(f.get("msg-param-gift-months")),plan:w,planName:f.get("msg-param-sub-plan-name"),isPrime:w==="Prime",months:Number(f.get("msg-param-months"))};this.emit(this.onSubGift,y,f.get("msg-param-recipient-user-name"),p,u);break}case"submysterygift":{const w=f.get("login"),_=w==="ananonymousgifter",g={gifter:_?void 0:w,gifterUserId:_?void 0:f.get("user-id"),gifterDisplayName:_?void 0:f.get("display-name"),gifterGiftCount:_?void 0:Number(f.get("msg-param-sender-count")),count:Number(f.get("msg-param-mass-gift-count")),plan:f.get("msg-param-sub-plan")};this.emit(this.onCommunitySub,y,f.get("login"),g,u);break}case"primepaidupgrade":{const w={userId:f.get("user-id"),displayName:f.get("display-name"),plan:f.get("msg-param-sub-plan")};this.emit(this.onPrimePaidUpgrade,y,f.get("login"),w,u);break}case"giftpaidupgrade":{const w={userId:f.get("user-id"),displayName:f.get("display-name"),gifter:f.get("msg-param-sender-login"),gifterDisplayName:f.get("msg-param-sender-name")};this.emit(this.onGiftPaidUpgrade,y,f.get("login"),w,u);break}case"standardpayforward":{const w=f.get("msg-param-prior-gifter-anonymous")==="true",_={userId:f.get("user-id"),displayName:f.get("display-name"),originalGifterUserId:w?void 0:f.get("msg-param-prior-gifter-id"),originalGifterDisplayName:w?void 0:f.get("msg-param-prior-gifter-display-name"),recipientUserId:f.get("msg-param-recipient-id"),recipientDisplayName:f.get("msg-param-recipient-display-name")};this.emit(this.onStandardPayForward,y,f.get("login"),_,u);break}case"communitypayforward":{const w=f.get("msg-param-prior-gifter-anonymous")==="true",_={userId:f.get("user-id"),displayName:f.get("display-name"),originalGifterUserId:w?void 0:f.get("msg-param-prior-gifter-id"),originalGifterDisplayName:w?void 0:f.get("msg-param-prior-gifter-display-name")};this.emit(this.onCommunityPayForward,y,f.get("login"),_,u);break}case"primecommunitygiftreceived":{const w={name:f.get("msg-param-gift-name"),gifter:f.get("login"),gifterDisplayName:f.get("display-name")};this.emit(this.onPrimeCommunityGift,y,f.get("msg-param-recipient"),w,u);break}case"raid":{const w={displayName:f.get("msg-param-displayName"),viewerCount:Number(f.get("msg-param-viewerCount"))};this.emit(this.onRaid,y,f.get("login"),w,u);break}case"unraid":{this.emit(this.onRaidCancel,y,u);break}case"ritual":{const w={ritualName:f.get("msg-param-ritual-name"),message:h};this.emit(this.onRitual,y,f.get("login"),w,u);break}case"bitsbadgetier":{const w={displayName:f.get("display-name"),threshold:Number(f.get("msg-param-threshold"))};this.emit(this.onBitsBadgeUpgrade,y,f.get("login"),w,u);break}case"extendsub":{const w={userId:f.get("user-id"),displayName:f.get("display-name"),plan:f.get("msg-param-sub-plan"),months:Number(f.get("msg-param-cumulative-months")),endMonth:Number(f.get("msg-param-sub-benefit-end-month"))};this.emit(this.onSubExtend,y,f.get("login"),w,u);break}case"rewardgift":{const w={domain:f.get("msg-param-domain"),gifterId:f.get("user-id"),gifterDisplayName:f.get("display-name"),count:Number(f.get("msg-param-selected-count")),gifterGiftCount:Number(f.get("msg-param-total-reward-count")),triggerType:f.get("msg-param-trigger-type")};this.emit(this.onRewardGift,y,f.get("login"),w,u);break}case"announcement":{const w={color:f.get("msg-param-color")};this.emit(this.onAnnouncement,y,f.get("login"),w,u);break}default:this._chatLogger.warn(`Unrecognized usernotice ID: ${v}`)}}),this._ircClient.onTypedMessage(u0,u=>{this.emit(this.onWhisper,u.prefix.nick,u.text,u)}),this._ircClient.onTypedMessage(Td,async({target:u,text:c,tags:h})=>{const f=h.get("msg-id");switch(f){case"emote_only_on":{this.emit(this.onEmoteOnly,He(u),!0);break}case"emote_only_off":{this.emit(this.onEmoteOnly,He(u),!1);break}case"msg_channel_suspended":case"msg_banned":{this.emit(this._onJoinResult,u,void 0,f);break}case"r9k_on":{this.emit(this.onUniqueChat,He(u),!0);break}case"r9k_off":{this.emit(this.onUniqueChat,He(u),!1);break}case"subs_on":{this.emit(this.onSubsOnly,He(u),!0);break}case"subs_off":{this.emit(this.onSubsOnly,He(u),!1);break}case"cmds_available":break;case"followers_on":case"followers_on_zero":case"followers_off":case"slow_on":case"slow_off":break;case"timeout_success":break;case"unrecognized_cmd":break;case"no_permission":{this.emit(this.onNoPermission,He(u),c);break}case"msg_ratelimit":{this.emit(this.onMessageRatelimit,He(u),c);break}case"msg_duplicate":case"msg_emoteonly":case"msg_followersonly":case"msg_followersonly_followed":case"msg_followersonly_zero":case"msg_subsonly":case"msg_slowmode":case"msg_r9k":case"msg_verified_email":case"msg_timedout":case"msg_rejected_mandatory":case"msg_channel_blocked":{this.emit(this.onMessageFailed,He(u),f);break}case void 0:{if(c==="Login authentication failed"||c==="Improperly formatted AUTH"||c==="Invalid NICK"){this._authVerified=!1,this._authRetryTimer||(this._authRetryTimer=L2(120),this._authRetryCount=0);const v=this._authRetryTimer.next().value,y=++this._authRetryCount;this.emit(this.onAuthenticationFailure,c,y),v!==0&&this._chatLogger.info(`Retrying authentication in ${v} seconds`),await _A(v*1e3),this._ircClient.reconnect()}break}default:f.startsWith("usage_")||this._chatLogger.warn(`Unrecognized notice ID: '${f}'`)}})}connect(){this._authProvider||this._ircClient.changeNick(Xm._generateJustinfanNick()),this._ircClient.connect()}get irc(){return this._ircClient}get isConnected(){return this._ircClient.isConnected}get isConnecting(){return this._ircClient.isConnecting}get currentChannels(){return this._ircClient.currentChannels}async say(e,r,n={},i){const s={};n.replyTo&&(s["reply-parent-msg-id"]=GO(n.replyTo));const o=A1(r,500);await Promise.all(o.map(async a=>await this._messageRateLimiter.request({type:"say",channel:tu(e),text:a,tags:s},i)))}async action(e,r,n){const i=A1(r,490);await Promise.all(i.map(async s=>await this._messageRateLimiter.request({type:"action",channel:tu(e),text:s},n)))}async join(e){await this._joinRateLimiter.request(tu(e))}part(e){this._ircClient.part(tu(e))}quit(){this._ircClient.quitAbruptly()}reconnect(){this.quit(),this.connect()}async _getAuthToken(){var e,r;if(!this._authProvider){this._chatLogger.debug("No authProvider given; connecting anonymously");return}if(this._authToken&&!Ss(this._authToken)&&this._authVerified)return this._chatLogger.debug("AccessToken assumed to be correct from last connection"),`oauth:${this._authToken.accessToken}`;const n=this._getNecessaryScopes();let i,s=!1;for(const o of this._authIntents){try{if(this._authToken=await this._authProvider.getAccessTokenForIntent(o,n),!this._authToken)continue;s=!0;const a=await Li(this._authToken.accessToken);if(!a.userName)throw new Eu("Could not determine a user name for your token; you might be trying to disguise an app token as a user token.");return this._ircClient.changeNick(a.userName),`oauth:${this._authToken.accessToken}`}catch(a){a instanceof Pi?i=a:this._chatLogger.error(`Retrieving an access token failed: ${a.message}`)}this._chatLogger.warn("No valid token available; trying to refresh");try{if(this._authToken=await((r=(e=this._authProvider).refreshAccessTokenForIntent)===null||r===void 0?void 0:r.call(e,"chat")),this._authToken){const a=await Li(this._authToken.accessToken);if(!a.userName)throw new Eu("Could not determine a user name for your token; you might be trying to disguise an app token as a user token.");return this._ircClient.changeNick(a.userName),`oauth:${this._authToken.accessToken}`}}catch(a){a instanceof Pi?i=a:this._chatLogger.error(`Refreshing the access token failed: ${a.message}`)}}throw this._authVerified=!1,i??new Error(s?"Could not retrieve a valid token":`None of the queried intents (${this._authIntents.join(", ")}) are known by the auth provider${this._authProvider instanceof Xn?".\nPlease add one of these to the user you want to connect with using the `addIntentToUser` method or the additional parameter to `addUser` or `addUserForToken`.":""}`)}_getNecessaryScopes(){return this._useLegacyScopes?["chat_login"]:this._readOnly?["chat:read"]:["chat:read","chat:edit"]}static _generateJustinfanNick(){return`justinfan${Math.floor(Math.random()*1e5).toString().padStart(5,"0")}`}};x([G(!1)],bc.prototype,"_authProvider",void 0);bc=Xm=x([D("chat","ChatClient")],bc);function o5(t,e={}){const{animationSettings:r="default",backgroundType:n="dark",size:i="1.0"}=e;return`https://static-cdn.jtvnw.net/emoticons/v2/${t}/${r}/${n}/${i}`}function VO(t,e){return[...e.entries()].flatMap(([r,n])=>n.map(i=>{const[s,o]=i.split("-"),a=+s,l=+o,u=qm(t,a,l+1);return{type:"emote",position:a,length:l-a+1,id:r,name:u}})).sort((r,n)=>r.position-n.position)}function QO(t,e){const r=[],n=new RegExp("(?<=^|\\s)([a-z]+(?:\\d+[a-z]+)*)(\\d+)(?=\\s|$)","gi");let i=null;for(;i=n.exec(t);){const s=i[1].toLowerCase();if(e.includes(s)){const o=Number(i[2]);r.push({type:"cheer",name:s,amount:o,position:$2(t.slice(0,i.index)),length:i[0].length})}}return r}function KO(t,e){const r=$2(t);if(!e.length)return[{type:"text",position:0,length:r,text:t}];const n=[];let i=0;for(const s of e)s.position>i&&n.push({type:"text",position:i,length:s.position-i,text:qm(t,i,s.position)}),n.push(s),i=s.position+s.length;return i<r&&n.push({type:"text",position:i,length:r-i,text:qm(t,i)}),n}function YO(t,e,r){if(!t)return[];const n=VO(t,e);return r&&(n.push(...QO(t,r)),n.sort((i,s)=>i.position-s.position)),KO(t,n)}const Jm={twitch:{clientId:"xrjkdmui65qd33jdx8itfslt61qys8",scopes:["chat:read","channel:read:redemptions","moderator:read:followers"]},google:{clientId:"932208815805-oq2sevf3ida5idi4k84tlsh03nqc35cs.apps.googleusercontent.com",scopes:["https://www.googleapis.com/auth/youtube.readonly"]}};function a5(t,e){return function(){return t.apply(e,arguments)}}const{toString:XO}=Object.prototype,{getPrototypeOf:d0}=Object,kd=(t=>e=>{const r=XO.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Br=t=>(t=t.toLowerCase(),e=>kd(e)===t),Rd=t=>e=>typeof e===t,{isArray:uo}=Array,Ca=Rd("undefined");function JO(t){return t!==null&&!Ca(t)&&t.constructor!==null&&!Ca(t.constructor)&&Kt(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const l5=Br("ArrayBuffer");function ZO(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&l5(t.buffer),e}const e4=Rd("string"),Kt=Rd("function"),u5=Rd("number"),Ad=t=>t!==null&&typeof t=="object",t4=t=>t===!0||t===!1,Pu=t=>{if(kd(t)!=="object")return!1;const e=d0(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},r4=Br("Date"),n4=Br("File"),i4=Br("Blob"),s4=Br("FileList"),o4=t=>Ad(t)&&Kt(t.pipe),a4=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Kt(t.append)&&((e=kd(t))==="formdata"||e==="object"&&Kt(t.toString)&&t.toString()==="[object FormData]"))},l4=Br("URLSearchParams"),u4=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function wl(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let n,i;if(typeof t!="object"&&(t=[t]),uo(t))for(n=0,i=t.length;n<i;n++)e.call(null,t[n],n,t);else{const s=r?Object.getOwnPropertyNames(t):Object.keys(t),o=s.length;let a;for(n=0;n<o;n++)a=s[n],e.call(null,t[a],a,t)}}function c5(t,e){e=e.toLowerCase();const r=Object.keys(t);let n=r.length,i;for(;n-- >0;)if(i=r[n],e===i.toLowerCase())return i;return null}const d5=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),f5=t=>!Ca(t)&&t!==d5;function Zm(){const{caseless:t}=f5(this)&&this||{},e={},r=(n,i)=>{const s=t&&c5(e,i)||i;Pu(e[s])&&Pu(n)?e[s]=Zm(e[s],n):Pu(n)?e[s]=Zm({},n):uo(n)?e[s]=n.slice():e[s]=n};for(let n=0,i=arguments.length;n<i;n++)arguments[n]&&wl(arguments[n],r);return e}const c4=(t,e,r,{allOwnKeys:n}={})=>(wl(e,(i,s)=>{r&&Kt(i)?t[s]=a5(i,r):t[s]=i},{allOwnKeys:n}),t),d4=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),f4=(t,e,r,n)=>{t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},h4=(t,e,r,n)=>{let i,s,o;const a={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)o=i[s],(!n||n(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=r!==!1&&d0(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},p4=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;const n=t.indexOf(e,r);return n!==-1&&n===r},m4=t=>{if(!t)return null;if(uo(t))return t;let e=t.length;if(!u5(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},g4=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&d0(Uint8Array)),y4=(t,e)=>{const n=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=n.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},v4=(t,e)=>{let r;const n=[];for(;(r=t.exec(e))!==null;)n.push(r);return n},_4=Br("HTMLFormElement"),w4=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,i){return n.toUpperCase()+i}),M1=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),b4=Br("RegExp"),h5=(t,e)=>{const r=Object.getOwnPropertyDescriptors(t),n={};wl(r,(i,s)=>{let o;(o=e(i,s,t))!==!1&&(n[s]=o||i)}),Object.defineProperties(t,n)},S4=t=>{h5(t,(e,r)=>{if(Kt(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=t[r];if(Kt(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},x4=(t,e)=>{const r={},n=i=>{i.forEach(s=>{r[s]=!0})};return uo(t)?n(t):n(String(t).split(e)),r},C4=()=>{},E4=(t,e)=>(t=+t,Number.isFinite(t)?t:e),cp="abcdefghijklmnopqrstuvwxyz",O1="0123456789",p5={DIGIT:O1,ALPHA:cp,ALPHA_DIGIT:cp+cp.toUpperCase()+O1},T4=(t=16,e=p5.ALPHA_DIGIT)=>{let r="";const{length:n}=e;for(;t--;)r+=e[Math.random()*n|0];return r};function P4(t){return!!(t&&Kt(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const I4=t=>{const e=new Array(10),r=(n,i)=>{if(Ad(n)){if(e.indexOf(n)>=0)return;if(!("toJSON"in n)){e[i]=n;const s=uo(n)?[]:{};return wl(n,(o,a)=>{const l=r(o,i+1);!Ca(l)&&(s[a]=l)}),e[i]=void 0,s}}return n};return r(t,0)},k4=Br("AsyncFunction"),R4=t=>t&&(Ad(t)||Kt(t))&&Kt(t.then)&&Kt(t.catch),M={isArray:uo,isArrayBuffer:l5,isBuffer:JO,isFormData:a4,isArrayBufferView:ZO,isString:e4,isNumber:u5,isBoolean:t4,isObject:Ad,isPlainObject:Pu,isUndefined:Ca,isDate:r4,isFile:n4,isBlob:i4,isRegExp:b4,isFunction:Kt,isStream:o4,isURLSearchParams:l4,isTypedArray:g4,isFileList:s4,forEach:wl,merge:Zm,extend:c4,trim:u4,stripBOM:d4,inherits:f4,toFlatObject:h4,kindOf:kd,kindOfTest:Br,endsWith:p4,toArray:m4,forEachEntry:y4,matchAll:v4,isHTMLForm:_4,hasOwnProperty:M1,hasOwnProp:M1,reduceDescriptors:h5,freezeMethods:S4,toObjectSet:x4,toCamelCase:w4,noop:C4,toFiniteNumber:E4,findKey:c5,global:d5,isContextDefined:f5,ALPHABET:p5,generateString:T4,isSpecCompliantForm:P4,toJSONObject:I4,isAsyncFn:k4,isThenable:R4};function oe(t,e,r,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i)}M.inherits(oe,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:M.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const m5=oe.prototype,g5={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{g5[t]={value:t}});Object.defineProperties(oe,g5);Object.defineProperty(m5,"isAxiosError",{value:!0});oe.from=(t,e,r,n,i,s)=>{const o=Object.create(m5);return M.toFlatObject(t,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),oe.call(o,t.message,e,r,n,i),o.cause=t,o.name=t.name,s&&Object.assign(o,s),o};const A4=null;function eg(t){return M.isPlainObject(t)||M.isArray(t)}function y5(t){return M.endsWith(t,"[]")?t.slice(0,-2):t}function N1(t,e,r){return t?t.concat(e).map(function(i,s){return i=y5(i),!r&&s?"["+i+"]":i}).join(r?".":""):e}function M4(t){return M.isArray(t)&&!t.some(eg)}const O4=M.toFlatObject(M,{},null,function(e){return/^is[A-Z]/.test(e)});function Md(t,e,r){if(!M.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,r=M.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(w,_){return!M.isUndefined(_[w])});const n=r.metaTokens,i=r.visitor||c,s=r.dots,o=r.indexes,l=(r.Blob||typeof Blob<"u"&&Blob)&&M.isSpecCompliantForm(e);if(!M.isFunction(i))throw new TypeError("visitor must be a function");function u(y){if(y===null)return"";if(M.isDate(y))return y.toISOString();if(!l&&M.isBlob(y))throw new oe("Blob is not supported. Use a Buffer instead.");return M.isArrayBuffer(y)||M.isTypedArray(y)?l&&typeof Blob=="function"?new Blob([y]):Buffer.from(y):y}function c(y,w,_){let g=y;if(y&&!_&&typeof y=="object"){if(M.endsWith(w,"{}"))w=n?w:w.slice(0,-2),y=JSON.stringify(y);else if(M.isArray(y)&&M4(y)||(M.isFileList(y)||M.endsWith(w,"[]"))&&(g=M.toArray(y)))return w=y5(w),g.forEach(function(m,b){!(M.isUndefined(m)||m===null)&&e.append(o===!0?N1([w],b,s):o===null?w:w+"[]",u(m))}),!1}return eg(y)?!0:(e.append(N1(_,w,s),u(y)),!1)}const h=[],f=Object.assign(O4,{defaultVisitor:c,convertValue:u,isVisitable:eg});function v(y,w){if(!M.isUndefined(y)){if(h.indexOf(y)!==-1)throw Error("Circular reference detected in "+w.join("."));h.push(y),M.forEach(y,function(g,p){(!(M.isUndefined(g)||g===null)&&i.call(e,g,M.isString(p)?p.trim():p,w,f))===!0&&v(g,w?w.concat(p):[p])}),h.pop()}}if(!M.isObject(t))throw new TypeError("data must be an object");return v(t),e}function D1(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function f0(t,e){this._pairs=[],t&&Md(t,this,e)}const v5=f0.prototype;v5.append=function(e,r){this._pairs.push([e,r])};v5.toString=function(e){const r=e?function(n){return e.call(this,n,D1)}:D1;return this._pairs.map(function(i){return r(i[0])+"="+r(i[1])},"").join("&")};function N4(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function _5(t,e,r){if(!e)return t;const n=r&&r.encode||N4,i=r&&r.serialize;let s;if(i?s=i(e,r):s=M.isURLSearchParams(e)?e.toString():new f0(e,r).toString(n),s){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class D4{constructor(){this.handlers=[]}use(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){M.forEach(this.handlers,function(n){n!==null&&e(n)})}}const B1=D4,w5={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},B4=typeof URLSearchParams<"u"?URLSearchParams:f0,L4=typeof FormData<"u"?FormData:null,U4=typeof Blob<"u"?Blob:null,F4=(()=>{let t;return typeof navigator<"u"&&((t=navigator.product)==="ReactNative"||t==="NativeScript"||t==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),$4=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),Rr={isBrowser:!0,classes:{URLSearchParams:B4,FormData:L4,Blob:U4},isStandardBrowserEnv:F4,isStandardBrowserWebWorkerEnv:$4,protocols:["http","https","file","blob","url","data"]};function q4(t,e){return Md(t,new Rr.classes.URLSearchParams,Object.assign({visitor:function(r,n,i,s){return Rr.isNode&&M.isBuffer(r)?(this.append(n,r.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function j4(t){return M.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function H4(t){const e={},r=Object.keys(t);let n;const i=r.length;let s;for(n=0;n<i;n++)s=r[n],e[s]=t[s];return e}function b5(t){function e(r,n,i,s){let o=r[s++];const a=Number.isFinite(+o),l=s>=r.length;return o=!o&&M.isArray(i)?i.length:o,l?(M.hasOwnProp(i,o)?i[o]=[i[o],n]:i[o]=n,!a):((!i[o]||!M.isObject(i[o]))&&(i[o]=[]),e(r,n,i[o],s)&&M.isArray(i[o])&&(i[o]=H4(i[o])),!a)}if(M.isFormData(t)&&M.isFunction(t.entries)){const r={};return M.forEachEntry(t,(n,i)=>{e(j4(n),i,r,0)}),r}return null}function z4(t,e,r){if(M.isString(t))try{return(e||JSON.parse)(t),M.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(t)}const h0={transitional:w5,adapter:["xhr","http"],transformRequest:[function(e,r){const n=r.getContentType()||"",i=n.indexOf("application/json")>-1,s=M.isObject(e);if(s&&M.isHTMLForm(e)&&(e=new FormData(e)),M.isFormData(e))return i&&i?JSON.stringify(b5(e)):e;if(M.isArrayBuffer(e)||M.isBuffer(e)||M.isStream(e)||M.isFile(e)||M.isBlob(e))return e;if(M.isArrayBufferView(e))return e.buffer;if(M.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return q4(e,this.formSerializer).toString();if((a=M.isFileList(e))||n.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Md(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return s||i?(r.setContentType("application/json",!1),z4(e)):e}],transformResponse:[function(e){const r=this.transitional||h0.transitional,n=r&&r.forcedJSONParsing,i=this.responseType==="json";if(e&&M.isString(e)&&(n&&!this.responseType||i)){const o=!(r&&r.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?oe.from(a,oe.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Rr.classes.FormData,Blob:Rr.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};M.forEach(["delete","get","head","post","put","patch"],t=>{h0.headers[t]={}});const p0=h0,G4=M.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),W4=t=>{const e={};let r,n,i;return t&&t.split(`
`).forEach(function(o){i=o.indexOf(":"),r=o.substring(0,i).trim().toLowerCase(),n=o.substring(i+1).trim(),!(!r||e[r]&&G4[r])&&(r==="set-cookie"?e[r]?e[r].push(n):e[r]=[n]:e[r]=e[r]?e[r]+", "+n:n)}),e},L1=Symbol("internals");function Co(t){return t&&String(t).trim().toLowerCase()}function Iu(t){return t===!1||t==null?t:M.isArray(t)?t.map(Iu):String(t)}function V4(t){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(t);)e[n[1]]=n[2];return e}const Q4=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function dp(t,e,r,n,i){if(M.isFunction(n))return n.call(this,e,r);if(i&&(e=r),!!M.isString(e)){if(M.isString(n))return e.indexOf(n)!==-1;if(M.isRegExp(n))return n.test(e)}}function K4(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,n)=>r.toUpperCase()+n)}function Y4(t,e){const r=M.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+r,{value:function(i,s,o){return this[n].call(this,e,i,s,o)},configurable:!0})})}class Od{constructor(e){e&&this.set(e)}set(e,r,n){const i=this;function s(a,l,u){const c=Co(l);if(!c)throw new Error("header name must be a non-empty string");const h=M.findKey(i,c);(!h||i[h]===void 0||u===!0||u===void 0&&i[h]!==!1)&&(i[h||l]=Iu(a))}const o=(a,l)=>M.forEach(a,(u,c)=>s(u,c,l));return M.isPlainObject(e)||e instanceof this.constructor?o(e,r):M.isString(e)&&(e=e.trim())&&!Q4(e)?o(W4(e),r):e!=null&&s(r,e,n),this}get(e,r){if(e=Co(e),e){const n=M.findKey(this,e);if(n){const i=this[n];if(!r)return i;if(r===!0)return V4(i);if(M.isFunction(r))return r.call(this,i,n);if(M.isRegExp(r))return r.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=Co(e),e){const n=M.findKey(this,e);return!!(n&&this[n]!==void 0&&(!r||dp(this,this[n],n,r)))}return!1}delete(e,r){const n=this;let i=!1;function s(o){if(o=Co(o),o){const a=M.findKey(n,o);a&&(!r||dp(n,n[a],a,r))&&(delete n[a],i=!0)}}return M.isArray(e)?e.forEach(s):s(e),i}clear(e){const r=Object.keys(this);let n=r.length,i=!1;for(;n--;){const s=r[n];(!e||dp(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const r=this,n={};return M.forEach(this,(i,s)=>{const o=M.findKey(n,s);if(o){r[o]=Iu(i),delete r[s];return}const a=e?K4(s):String(s).trim();a!==s&&delete r[s],r[a]=Iu(i),n[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const r=Object.create(null);return M.forEach(this,(n,i)=>{n!=null&&n!==!1&&(r[i]=e&&M.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){const n=new this(e);return r.forEach(i=>n.set(i)),n}static accessor(e){const n=(this[L1]=this[L1]={accessors:{}}).accessors,i=this.prototype;function s(o){const a=Co(o);n[a]||(Y4(i,o),n[a]=!0)}return M.isArray(e)?e.forEach(s):s(e),this}}Od.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);M.reduceDescriptors(Od.prototype,({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(n){this[r]=n}}});M.freezeMethods(Od);const Wr=Od;function fp(t,e){const r=this||p0,n=e||r,i=Wr.from(n.headers);let s=n.data;return M.forEach(t,function(a){s=a.call(r,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function S5(t){return!!(t&&t.__CANCEL__)}function bl(t,e,r){oe.call(this,t??"canceled",oe.ERR_CANCELED,e,r),this.name="CanceledError"}M.inherits(bl,oe,{__CANCEL__:!0});function X4(t,e,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?t(r):e(new oe("Request failed with status code "+r.status,[oe.ERR_BAD_REQUEST,oe.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}const J4=Rr.isStandardBrowserEnv?function(){return{write:function(r,n,i,s,o,a){const l=[];l.push(r+"="+encodeURIComponent(n)),M.isNumber(i)&&l.push("expires="+new Date(i).toGMTString()),M.isString(s)&&l.push("path="+s),M.isString(o)&&l.push("domain="+o),a===!0&&l.push("secure"),document.cookie=l.join("; ")},read:function(r){const n=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove:function(r){this.write(r,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function Z4(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function eN(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}function x5(t,e){return t&&!Z4(e)?eN(t,e):e}const tN=Rr.isStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");let n;function i(s){let o=s;return e&&(r.setAttribute("href",o),o=r.href),r.setAttribute("href",o),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return n=i(window.location.href),function(o){const a=M.isString(o)?i(o):o;return a.protocol===n.protocol&&a.host===n.host}}():function(){return function(){return!0}}();function rN(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function nN(t,e){t=t||10;const r=new Array(t),n=new Array(t);let i=0,s=0,o;return e=e!==void 0?e:1e3,function(l){const u=Date.now(),c=n[s];o||(o=u),r[i]=l,n[i]=u;let h=s,f=0;for(;h!==i;)f+=r[h++],h=h%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),u-o<e)return;const v=c&&u-c;return v?Math.round(f*1e3/v):void 0}}function U1(t,e){let r=0;const n=nN(50,250);return i=>{const s=i.loaded,o=i.lengthComputable?i.total:void 0,a=s-r,l=n(a),u=s<=o;r=s;const c={loaded:s,total:o,progress:o?s/o:void 0,bytes:a,rate:l||void 0,estimated:l&&o&&u?(o-s)/l:void 0,event:i};c[e?"download":"upload"]=!0,t(c)}}const iN=typeof XMLHttpRequest<"u",sN=iN&&function(t){return new Promise(function(r,n){let i=t.data;const s=Wr.from(t.headers).normalize(),o=t.responseType;let a;function l(){t.cancelToken&&t.cancelToken.unsubscribe(a),t.signal&&t.signal.removeEventListener("abort",a)}let u;M.isFormData(i)&&(Rr.isStandardBrowserEnv||Rr.isStandardBrowserWebWorkerEnv?s.setContentType(!1):s.getContentType(/^\s*multipart\/form-data/)?M.isString(u=s.getContentType())&&s.setContentType(u.replace(/^\s*(multipart\/form-data);+/,"$1")):s.setContentType("multipart/form-data"));let c=new XMLHttpRequest;if(t.auth){const y=t.auth.username||"",w=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";s.set("Authorization","Basic "+btoa(y+":"+w))}const h=x5(t.baseURL,t.url);c.open(t.method.toUpperCase(),_5(h,t.params,t.paramsSerializer),!0),c.timeout=t.timeout;function f(){if(!c)return;const y=Wr.from("getAllResponseHeaders"in c&&c.getAllResponseHeaders()),_={data:!o||o==="text"||o==="json"?c.responseText:c.response,status:c.status,statusText:c.statusText,headers:y,config:t,request:c};X4(function(p){r(p),l()},function(p){n(p),l()},_),c=null}if("onloadend"in c?c.onloadend=f:c.onreadystatechange=function(){!c||c.readyState!==4||c.status===0&&!(c.responseURL&&c.responseURL.indexOf("file:")===0)||setTimeout(f)},c.onabort=function(){c&&(n(new oe("Request aborted",oe.ECONNABORTED,t,c)),c=null)},c.onerror=function(){n(new oe("Network Error",oe.ERR_NETWORK,t,c)),c=null},c.ontimeout=function(){let w=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const _=t.transitional||w5;t.timeoutErrorMessage&&(w=t.timeoutErrorMessage),n(new oe(w,_.clarifyTimeoutError?oe.ETIMEDOUT:oe.ECONNABORTED,t,c)),c=null},Rr.isStandardBrowserEnv){const y=(t.withCredentials||tN(h))&&t.xsrfCookieName&&J4.read(t.xsrfCookieName);y&&s.set(t.xsrfHeaderName,y)}i===void 0&&s.setContentType(null),"setRequestHeader"in c&&M.forEach(s.toJSON(),function(w,_){c.setRequestHeader(_,w)}),M.isUndefined(t.withCredentials)||(c.withCredentials=!!t.withCredentials),o&&o!=="json"&&(c.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&c.addEventListener("progress",U1(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&c.upload&&c.upload.addEventListener("progress",U1(t.onUploadProgress)),(t.cancelToken||t.signal)&&(a=y=>{c&&(n(!y||y.type?new bl(null,t,c):y),c.abort(),c=null)},t.cancelToken&&t.cancelToken.subscribe(a),t.signal&&(t.signal.aborted?a():t.signal.addEventListener("abort",a)));const v=rN(h);if(v&&Rr.protocols.indexOf(v)===-1){n(new oe("Unsupported protocol "+v+":",oe.ERR_BAD_REQUEST,t));return}c.send(i||null)})},tg={http:A4,xhr:sN};M.forEach(tg,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const F1=t=>`- ${t}`,oN=t=>M.isFunction(t)||t===null||t===!1,C5={getAdapter:t=>{t=M.isArray(t)?t:[t];const{length:e}=t;let r,n;const i={};for(let s=0;s<e;s++){r=t[s];let o;if(n=r,!oN(r)&&(n=tg[(o=String(r)).toLowerCase()],n===void 0))throw new oe(`Unknown adapter '${o}'`);if(n)break;i[o||"#"+s]=n}if(!n){const s=Object.entries(i).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=e?s.length>1?`since :
`+s.map(F1).join(`
`):" "+F1(s[0]):"as no adapter specified";throw new oe("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return n},adapters:tg};function hp(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new bl(null,t)}function $1(t){return hp(t),t.headers=Wr.from(t.headers),t.data=fp.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),C5.getAdapter(t.adapter||p0.adapter)(t).then(function(n){return hp(t),n.data=fp.call(t,t.transformResponse,n),n.headers=Wr.from(n.headers),n},function(n){return S5(n)||(hp(t),n&&n.response&&(n.response.data=fp.call(t,t.transformResponse,n.response),n.response.headers=Wr.from(n.response.headers))),Promise.reject(n)})}const q1=t=>t instanceof Wr?t.toJSON():t;function Xs(t,e){e=e||{};const r={};function n(u,c,h){return M.isPlainObject(u)&&M.isPlainObject(c)?M.merge.call({caseless:h},u,c):M.isPlainObject(c)?M.merge({},c):M.isArray(c)?c.slice():c}function i(u,c,h){if(M.isUndefined(c)){if(!M.isUndefined(u))return n(void 0,u,h)}else return n(u,c,h)}function s(u,c){if(!M.isUndefined(c))return n(void 0,c)}function o(u,c){if(M.isUndefined(c)){if(!M.isUndefined(u))return n(void 0,u)}else return n(void 0,c)}function a(u,c,h){if(h in e)return n(u,c);if(h in t)return n(void 0,u)}const l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(u,c)=>i(q1(u),q1(c),!0)};return M.forEach(Object.keys(Object.assign({},t,e)),function(c){const h=l[c]||i,f=h(t[c],e[c],c);M.isUndefined(f)&&h!==a||(r[c]=f)}),r}const E5="1.5.1",m0={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{m0[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});const j1={};m0.transitional=function(e,r,n){function i(s,o){return"[Axios v"+E5+"] Transitional option '"+s+"'"+o+(n?". "+n:"")}return(s,o,a)=>{if(e===!1)throw new oe(i(o," has been removed"+(r?" in "+r:"")),oe.ERR_DEPRECATED);return r&&!j1[o]&&(j1[o]=!0,console.warn(i(o," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(s,o,a):!0}};function aN(t,e,r){if(typeof t!="object")throw new oe("options must be an object",oe.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let i=n.length;for(;i-- >0;){const s=n[i],o=e[s];if(o){const a=t[s],l=a===void 0||o(a,s,t);if(l!==!0)throw new oe("option "+s+" must be "+l,oe.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new oe("Unknown option "+s,oe.ERR_BAD_OPTION)}}const rg={assertOptions:aN,validators:m0},fn=rg.validators;class Sc{constructor(e){this.defaults=e,this.interceptors={request:new B1,response:new B1}}request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=Xs(this.defaults,r);const{transitional:n,paramsSerializer:i,headers:s}=r;n!==void 0&&rg.assertOptions(n,{silentJSONParsing:fn.transitional(fn.boolean),forcedJSONParsing:fn.transitional(fn.boolean),clarifyTimeoutError:fn.transitional(fn.boolean)},!1),i!=null&&(M.isFunction(i)?r.paramsSerializer={serialize:i}:rg.assertOptions(i,{encode:fn.function,serialize:fn.function},!0)),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=s&&M.merge(s.common,s[r.method]);s&&M.forEach(["delete","get","head","post","put","patch","common"],y=>{delete s[y]}),r.headers=Wr.concat(o,s);const a=[];let l=!0;this.interceptors.request.forEach(function(w){typeof w.runWhen=="function"&&w.runWhen(r)===!1||(l=l&&w.synchronous,a.unshift(w.fulfilled,w.rejected))});const u=[];this.interceptors.response.forEach(function(w){u.push(w.fulfilled,w.rejected)});let c,h=0,f;if(!l){const y=[$1.bind(this),void 0];for(y.unshift.apply(y,a),y.push.apply(y,u),f=y.length,c=Promise.resolve(r);h<f;)c=c.then(y[h++],y[h++]);return c}f=a.length;let v=r;for(h=0;h<f;){const y=a[h++],w=a[h++];try{v=y(v)}catch(_){w.call(this,_);break}}try{c=$1.call(this,v)}catch(y){return Promise.reject(y)}for(h=0,f=u.length;h<f;)c=c.then(u[h++],u[h++]);return c}getUri(e){e=Xs(this.defaults,e);const r=x5(e.baseURL,e.url);return _5(r,e.params,e.paramsSerializer)}}M.forEach(["delete","get","head","options"],function(e){Sc.prototype[e]=function(r,n){return this.request(Xs(n||{},{method:e,url:r,data:(n||{}).data}))}});M.forEach(["post","put","patch"],function(e){function r(n){return function(s,o,a){return this.request(Xs(a||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}Sc.prototype[e]=r(),Sc.prototype[e+"Form"]=r(!0)});const ku=Sc;class g0{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(s){r=s});const n=this;this.promise.then(i=>{if(!n._listeners)return;let s=n._listeners.length;for(;s-- >0;)n._listeners[s](i);n._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(a=>{n.subscribe(a),s=a}).then(i);return o.cancel=function(){n.unsubscribe(s)},o},e(function(s,o,a){n.reason||(n.reason=new bl(s,o,a),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}static source(){let e;return{token:new g0(function(i){e=i}),cancel:e}}}const lN=g0;function uN(t){return function(r){return t.apply(null,r)}}function cN(t){return M.isObject(t)&&t.isAxiosError===!0}const ng={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(ng).forEach(([t,e])=>{ng[e]=t});const dN=ng;function T5(t){const e=new ku(t),r=a5(ku.prototype.request,e);return M.extend(r,ku.prototype,e,{allOwnKeys:!0}),M.extend(r,e,null,{allOwnKeys:!0}),r.create=function(i){return T5(Xs(t,i))},r}const je=T5(p0);je.Axios=ku;je.CanceledError=bl;je.CancelToken=lN;je.isCancel=S5;je.VERSION=E5;je.toFormData=Md;je.AxiosError=oe;je.Cancel=je.CanceledError;je.all=function(e){return Promise.all(e)};je.spread=uN;je.isAxiosError=cN;je.mergeConfig=Xs;je.AxiosHeaders=Wr;je.formToJSON=t=>b5(M.isHTMLForm(t)?new FormData(t):t);je.getAdapter=C5.getAdapter;je.HttpStatusCode=dN;je.default=je;const Nd=je,fN=Nd.create({baseURL:"https://slime2.stream/api"});function Js(t){const{keys:e,platforms:r}=io(),n=e[t],[i,s]=j.useState(!1),o=t==="google"?"youtube":t,a=r.includes(o);return j.useEffect(()=>{function l(){s(!0)}return addEventListener("slime2:ready",l),()=>{removeEventListener("slime2:ready",l)}},[]),tr({enabled:i,queryKey:[t,a,"accessToken",n],queryFn:async()=>{if(!a)throw Error("Not an actual error");return P5(t,n)},...Zr})}async function P5(t,e){if(!e)throw new ig(`Key not found for platform ${t}`);return fN.get(`/auth/${t}/token`,{headers:{Authorization:`Bearer ${e}`}}).then(r=>r.data.token).catch(r=>{const n=`Invalid key for platform ${t}, download a new one from https://slime2.stream/account`;throw console.error(n,r),new sg(`Invalid key for platform ${t}, download a new one from https://slime2.stream/account`,{cause:r})})}class ig extends Error{constructor(e,r){super(e,r),this.name="KeyNotFoundError"}}class sg extends Error{constructor(e,r){super(e,r),this.name="KeyInvalidError"}}class hN extends Dr{}class pN extends Qy{async doRequest({options:e,clientId:r,accessToken:n,authorizationType:i,fetchOptions:s}){return await Ed(e,r,n,i,s)}needsToRetryAfter(e){return e.status===429&&(!e.headers.has("ratelimit-remaining")||Number(e.headers.get("ratelimit-remaining"))===0)?+e.headers.get("ratelimit-reset")*1e3-Date.now():null}getParametersFromResponse(e){const{headers:r}=e;return{limit:+r.get("ratelimit-limit"),remaining:+r.get("ratelimit-remaining"),resetsAt:+r.get("ratelimit-reset")*1e3}}}var I5={};function er(t,e){typeof e=="boolean"&&(e={forever:e}),this._originalTimeouts=JSON.parse(JSON.stringify(t)),this._timeouts=t,this._options=e||{},this._maxRetryTime=e&&e.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._timer=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}var mN=er;er.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts.slice(0)};er.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timer&&clearTimeout(this._timer),this._timeouts=[],this._cachedTimeouts=null};er.prototype.retry=function(t){if(this._timeout&&clearTimeout(this._timeout),!t)return!1;var e=new Date().getTime();if(t&&e-this._operationStart>=this._maxRetryTime)return this._errors.push(t),this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(t);var r=this._timeouts.shift();if(r===void 0)if(this._cachedTimeouts)this._errors.splice(0,this._errors.length-1),r=this._cachedTimeouts.slice(-1);else return!1;var n=this;return this._timer=setTimeout(function(){n._attempts++,n._operationTimeoutCb&&(n._timeout=setTimeout(function(){n._operationTimeoutCb(n._attempts)},n._operationTimeout),n._options.unref&&n._timeout.unref()),n._fn(n._attempts)},r),this._options.unref&&this._timer.unref(),!0};er.prototype.attempt=function(t,e){this._fn=t,e&&(e.timeout&&(this._operationTimeout=e.timeout),e.cb&&(this._operationTimeoutCb=e.cb));var r=this;this._operationTimeoutCb&&(this._timeout=setTimeout(function(){r._operationTimeoutCb()},r._operationTimeout)),this._operationStart=new Date().getTime(),this._fn(this._attempts)};er.prototype.try=function(t){console.log("Using RetryOperation.try() is deprecated"),this.attempt(t)};er.prototype.start=function(t){console.log("Using RetryOperation.start() is deprecated"),this.attempt(t)};er.prototype.start=er.prototype.try;er.prototype.errors=function(){return this._errors};er.prototype.attempts=function(){return this._attempts};er.prototype.mainError=function(){if(this._errors.length===0)return null;for(var t={},e=null,r=0,n=0;n<this._errors.length;n++){var i=this._errors[n],s=i.message,o=(t[s]||0)+1;t[s]=o,o>=r&&(e=i,r=o)}return e};(function(t){var e=mN;t.operation=function(r){var n=t.timeouts(r);return new e(n,{forever:r&&(r.forever||r.retries===1/0),unref:r&&r.unref,maxRetryTime:r&&r.maxRetryTime})},t.timeouts=function(r){if(r instanceof Array)return[].concat(r);var n={retries:10,factor:2,minTimeout:1*1e3,maxTimeout:1/0,randomize:!1};for(var i in r)n[i]=r[i];if(n.minTimeout>n.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var s=[],o=0;o<n.retries;o++)s.push(this.createTimeout(o,n));return r&&r.forever&&!s.length&&s.push(this.createTimeout(o,n)),s.sort(function(a,l){return a-l}),s},t.createTimeout=function(r,n){var i=n.randomize?Math.random()+1:1,s=Math.round(i*Math.max(n.minTimeout,1)*Math.pow(n.factor,r));return s=Math.min(s,n.maxTimeout),s},t.wrap=function(r,n,i){if(n instanceof Array&&(i=n,n=null),!i){i=[];for(var s in r)typeof r[s]=="function"&&i.push(s)}for(var o=0;o<i.length;o++){var a=i[o],l=r[a];r[a]=(function(c){var h=t.operation(n),f=Array.prototype.slice.call(arguments,1),v=f.pop();f.push(function(y){h.retry(y)||(y&&(arguments[0]=h.mainError()),v.apply(this,arguments))}),h.attempt(function(){c.apply(r,f)})}).bind(r,l),r[a].options=n}}})(I5);var gN=I5;function yN(t={}){const{count:e=10,period:r="all",startDate:n,contextUserId:i}=t;return{count:e.toString(),period:r,started_at:n==null?void 0:n.toISOString(),user_id:i}}class Ce{constructor(e){this._client=e}_getUserContextIdWithDefault(e){var r;return(r=this._client._getUserIdFromRequestContext(e))!==null&&r!==void 0?r:e}}x([G(!1)],Ce.prototype,"_client",void 0);let xc=class extends Q{constructor(e,r){super(e),this._client=r}get userId(){return this[d].user_id}get userName(){return this[d].user_login}get userDisplayName(){return this[d].user_name}get rank(){return this[d].rank}get amount(){return this[d].score}async getUser(){return Z(await this._client.users.getUserById(this[d].user_id))}};x([G(!1)],xc.prototype,"_client",void 0);xc=x([D("api","HelixBitsLeaderboardEntry","userId")],xc);let Ea=class extends Q{constructor(e,r){super(e),this._client=r}get entries(){return this[d].data.map(e=>new xc(e,this._client))}get totalCount(){return this[d].total}};x([G(!1)],Ea.prototype,"_client",void 0);x([pe()],Ea.prototype,"entries",null);Ea=x([_l,D("api","HelixBitsLeaderboard")],Ea);let og=class extends Q{constructor(e){super(U2(e,r=>r.prefix.toLowerCase()))}getCheermoteDisplayInfo(e,r,n){e=e.toLowerCase();const{background:i,state:s,scale:o}=n,{tiers:a}=this[d][e],l=a.sort((u,c)=>c.min_bits-u.min_bits).find(u=>u.min_bits<=r);if(!l)throw new Yn(`Cheermote "${e}" does not have an applicable tier for ${r} bits`);return{url:l.images[i][s][o],color:l.color}}getPossibleNames(){return Object.keys(this[d])}};og=x([D("api","HelixCheermoteList")],og);let ag=class extends Ce{async getLeaderboard(e,r={}){const n=await this._client.callApi({type:"helix",url:"bits/leaderboard",userId:C(e),scopes:["bits:read"],query:yN(r)});return new Ea(n,this._client)}async getCheermotes(e){const r=await this._client.callApi({type:"helix",url:"bits/cheermotes",userId:Nr(e,C),query:Nr(e,de)});return new og(r.data)}};ag=x([D("api","HelixBitsApi")],ag);function vN(t){var e;return{game_id:t.gameId,broadcaster_language:t.language,title:t.title,delay:(e=t.delay)===null||e===void 0?void 0:e.toString(),tags:t.tags,content_classification_labels:t.contentClassificationLabels,is_branded_content:t.isBrandedContent}}function _N(t,e){return{broadcaster_id:C(t),length:e}}function H1(t,e){return{broadcaster_id:C(t),user_id:C(e)}}function pp(t,e){return{broadcaster_id:C(t),user_id:Nr(e,C)}}function z1(t,e){return{broadcaster_id:Nr(e,C),user_id:C(t)}}function Ue(t,e){return{[t]:e}}function G1(t){return{user_id:C(t)}}function k5(t,e){return{broadcaster_id:t,moderator_id:e}}function Dd(t,e){return{broadcaster_id:C(t),id:e}}function R5(t,e){return{broadcaster_id:C(t),user_id:e.map(C)}}let Ii=class extends Q{constructor(e,r){super(e),this._client=r}get id(){return this[d].user_id}get name(){return this[d].user_login}get displayName(){return this[d].user_name}async getUser(){return Z(await this._client.users.getUserById(this[d].user_id))}};x([G(!1)],Ii.prototype,"_client",void 0);Ii=x([D("api","HelixUserRelation","id")],Ii);class Yt{constructor(e,r,n,i,s,o=100){this._callOptions=e,this._queryParamName=r,this._matchKey=n,this._mapper=s,this._limitPerRequest=o,this._requestedIds=[],this._requestResolversById=new Map,this._waitTimer=null,this._client=i,this._delay=i._batchDelay}async request(e){const{promise:r,resolve:n,reject:i}=wa();return this._requestedIds.includes(e)||this._requestedIds.push(e),this._requestResolversById.has(e)?this._requestResolversById.get(e).push({resolve:n,reject:i}):this._requestResolversById.set(e,[{resolve:n,reject:i}]),this._waitTimer&&(clearTimeout(this._waitTimer),this._waitTimer=null),this._requestedIds.length>=this._limitPerRequest?this._handleBatch(this._requestedIds.splice(0,this._limitPerRequest)):this._waitTimer=setTimeout(()=>{this._handleBatch(this._requestedIds.splice(0,this._limitPerRequest))},this._delay),await r}async _handleBatch(e){var r;try{const{data:n}=await this._doRequest(e),i=U2(n,this._matchKey);for(const s of e){for(const o of(r=this._requestResolversById.get(s))!==null&&r!==void 0?r:[])Object.prototype.hasOwnProperty.call(i,s)?o.resolve(this._mapper(i[s])):o.resolve(null);this._requestResolversById.delete(s)}}catch{await Promise.all(e.map(async i=>{var s,o;try{const a=await this._doRequest([i]);for(const l of(s=this._requestResolversById.get(i))!==null&&s!==void 0?s:[])l.resolve(a.data.length?this._mapper(a.data[0]):null)}catch(a){for(const l of(o=this._requestResolversById.get(i))!==null&&o!==void 0?o:[])l.reject(a)}this._requestResolversById.delete(i)}))}}async _doRequest(e){return await this._client.callApi({type:"helix",...this._callOptions,query:{...this._callOptions.query,[this._queryParamName]:e}})}}x([G(!1)],Yt.prototype,"_client",void 0);var mp;Object.prototype.hasOwnProperty.call(Symbol,"asyncIterator")||(Symbol.asyncIterator=(mp=Symbol.asyncIterator)!==null&&mp!==void 0?mp:Symbol.for("Symbol.asyncIterator"));let Ie=class{constructor(e,r,n,i=100){this._callOptions=e,this._mapper=n,this._limitPerPage=i,this._isFinished=!1,this._client=r}get current(){var e;return(e=this._currentData)===null||e===void 0?void 0:e.data}async getNext(){var e;if(this._isFinished)return[];const r=await this._fetchData();return!((e=r.data)===null||e===void 0)&&e.length?this._processResult(r):(this._isFinished=!0,[])}async getAll(){this.reset();const e=[];do{const r=await this.getNext();if(!r.length)break;e.push(...r)}while(this._currentCursor);return this.reset(),e}get currentCursor(){return this._currentCursor}reset(){this._currentCursor=void 0,this._isFinished=!1,this._currentData=void 0}async*[Symbol.asyncIterator](){for(this.reset();;){const e=await this.getNext();if(!e.length)break;yield*e[Symbol.iterator]()}}async _fetchData(e={}){return await this._client.callApi({type:"helix",...this._callOptions,...e,query:{...this._callOptions.query,after:this._currentCursor,first:this._limitPerPage.toString(),...e.query}})}_processResult(e){return this._currentCursor=e.pagination?e.pagination.cursor:void 0,this._currentCursor===void 0&&(this._isFinished=!0),this._currentData=e,e.data.reduce((r,n)=>{const i=this._mapper(n);return Array.isArray(i)?[...r,...i]:[...r,i]},[])}};x([G(!1)],Ie.prototype,"_client",void 0);Ie=x([D("api","HelixPaginatedRequest")],Ie);let Ui=class extends Ie{async getTotalCount(){var e;return((e=this._currentData)!==null&&e!==void 0?e:await this._fetchData({query:{after:void 0}})).total}};Ui=x([D("api","HelixPaginatedRequestWithTotal")],Ui);function qe(t,e,r){var n;let i;return{get data(){var s,o;return i??(i=(o=(s=t.data)===null||s===void 0?void 0:s.map(a=>new e(a,r)))!==null&&o!==void 0?o:[])},cursor:(n=t.pagination)===null||n===void 0?void 0:n.cursor}}function An(t,e,r){let n;return{get data(){var i,s;return n??(n=(s=(i=t.data)===null||i===void 0?void 0:i.map(o=>new e(o,r)))!==null&&s!==void 0?s:[])},cursor:t.pagination.cursor,total:t.total}}function ue({after:t,before:e,limit:r}={}){return{after:t,before:e,first:r==null?void 0:r.toString()}}let Es=class extends Q{constructor(e,r){super(e),this._client=r}get id(){return this[d].broadcaster_id}get name(){return this[d].broadcaster_login}get displayName(){return this[d].broadcaster_name}async getBroadcaster(){return Z(await this._client.users.getUserById(this[d].broadcaster_id))}get language(){return this[d].broadcaster_language}get gameId(){return this[d].game_id}get gameName(){return this[d].game_name}async getGame(){return this[d].game_id?Z(await this._client.games.getGameById(this[d].game_id)):null}get title(){return this[d].title}get delay(){return this[d].delay}get tags(){return this[d].tags}get contentClassificationLabels(){return this[d].content_classification_labels}get isBrandedContent(){return this[d].is_branded_content}};x([G(!1)],Es.prototype,"_client",void 0);Es=x([D("api","HelixChannel","id")],Es);let Cc=class extends Q{constructor(e,r){super(e),this._client=r}get userId(){return this[d].user_id}get userDisplayName(){return this[d].user_name}async getUser(){return Z(await this._client.users.getUserById(this[d].user_id))}get creationDate(){return new Date(this[d].created_at)}};x([G(!1)],Cc.prototype,"_client",void 0);Cc=x([D("api","HelixChannelEditor","userId")],Cc);let Ta=class extends Q{constructor(e,r){super(e),this._client=r}get userId(){return this[d].user_id}get userName(){return this[d].user_login}get userDisplayName(){return this[d].user_name}async getUser(){return Z(await this._client.users.getUserById(this[d].user_id))}get followDate(){return new Date(this[d].followed_at)}};x([G(!1)],Ta.prototype,"_client",void 0);Ta=x([D("api","HelixChannelFollower","userId")],Ta);let Pa=class extends Q{constructor(e,r){super(e),this._client=r}get broadcasterId(){return this[d].broadcaster_id}get broadcasterName(){return this[d].broadcaster_login}get broadcasterDisplayName(){return this[d].broadcaster_name}async getBroadcaster(){return Z(await this._client.users.getUserById(this[d].broadcaster_id))}get followDate(){return new Date(this[d].followed_at)}};x([G(!1)],Pa.prototype,"_client",void 0);Pa=x([D("api","HelixFollowedChannel","broadcasterId")],Pa);let Ec=class extends Ce{constructor(){super(...arguments),this._getChannelByIdBatcher=new Yt({url:"channels"},"broadcaster_id","broadcaster_id",this._client,e=>new Es(e,this._client))}async getChannelInfoById(e){const r=C(e),n=await this._client.callApi({type:"helix",url:"channels",userId:r,query:de(r)});return Zt(n.data[0],i=>new Es(i,this._client))}async getChannelInfoByIdBatched(e){return await this._getChannelByIdBatcher.request(C(e))}async getChannelInfoByIds(e){const r=e.map(C);return(await this._client.callApi({type:"helix",url:"channels",query:Ue("broadcaster_id",r)})).data.map(i=>new Es(i,this._client))}async updateChannelInfo(e,r){await this._client.callApi({type:"helix",url:"channels",method:"PATCH",userId:C(e),scopes:["channel:manage:broadcast"],query:de(e),jsonBody:vN(r)})}async startChannelCommercial(e,r){await this._client.callApi({type:"helix",url:"channels/commercial",method:"POST",userId:C(e),scopes:["channel:edit:commercial"],jsonBody:_N(e,r)})}async getChannelEditors(e){return(await this._client.callApi({type:"helix",url:"channels/editors",userId:C(e),scopes:["channel:read:editors"],query:de(e)})).data.map(n=>new Cc(n,this._client))}async getVips(e,r){const n=await this._client.callApi({type:"helix",url:"channels/vips",userId:C(e),scopes:["channel:read:vips","channel:manage:vips"],query:{...de(e),...ue(r)}});return qe(n,Ii,this._client)}getVipsPaginated(e){return new Ie({url:"channels/vips",userId:C(e),scopes:["channel:read:vips","channel:manage:vips"],query:de(e)},this._client,r=>new Ii(r,this._client))}async checkVipForUsers(e,r){return(await this._client.callApi({type:"helix",url:"channels/vips",userId:C(e),scopes:["channel:read:vips","channel:manage:vips"],query:R5(e,r)})).data.map(i=>new Ii(i,this._client))}async checkVipForUser(e,r){const n=C(r);return(await this.checkVipForUsers(e,[n])).some(s=>s.id===n)}async addVip(e,r){await this._client.callApi({type:"helix",url:"channels/vips",method:"POST",userId:C(e),scopes:["channel:manage:vips"],query:H1(e,r)})}async removeVip(e,r){await this._client.callApi({type:"helix",url:"channels/vips",method:"DELETE",userId:C(e),scopes:["channel:manage:vips"],query:H1(e,r)})}async getChannelFollowerCount(e){return(await this._client.callApi({type:"helix",url:"channels/followers",method:"GET",userId:C(e),query:{...pp(e),...ue({limit:1})}})).total}async getChannelFollowers(e,r,n){const i=await this._client.callApi({type:"helix",url:"channels/followers",method:"GET",userId:C(e),canOverrideScopedUserContext:!0,scopes:["moderator:read:followers"],query:{...pp(e,r),...ue(n)}});return An(i,Ta,this._client)}getChannelFollowersPaginated(e){return new Ui({url:"channels/followers",method:"GET",userId:C(e),canOverrideScopedUserContext:!0,scopes:["moderator:read:followers"],query:pp(e)},this._client,r=>new Ta(r,this._client))}async getFollowedChannels(e,r,n){const i=await this._client.callApi({type:"helix",url:"channels/followed",method:"GET",userId:C(e),scopes:["user:read:follows"],query:{...z1(e,r),...ue(n)}});return An(i,Pa,this._client)}getFollowedChannelsPaginated(e,r){return new Ui({url:"channels/followed",method:"GET",userId:C(e),scopes:["user:read:follows"],query:z1(e,r)},this._client,n=>new Pa(n,this._client))}};x([G(!1)],Ec.prototype,"_getChannelByIdBatcher",void 0);Ec=x([D("api","HelixChannelApi")],Ec);function wN(t,e){return{broadcaster_id:C(t),only_manageable_rewards:e==null?void 0:e.toString()}}function W1(t,e){return{broadcaster_id:C(t),id:e}}function V1(t){var e,r,n;const i={title:t.title,cost:t.cost,prompt:t.prompt,background_color:t.backgroundColor,is_enabled:t.isEnabled,is_user_input_required:t.userInputRequired,should_redemptions_skip_request_queue:t.autoFulfill};return t.maxRedemptionsPerStream!==void 0&&(i.is_max_per_stream_enabled=!!t.maxRedemptionsPerStream,i.max_per_stream=(e=t.maxRedemptionsPerStream)!==null&&e!==void 0?e:0),t.maxRedemptionsPerUserPerStream!==void 0&&(i.is_max_per_user_per_stream_enabled=!!t.maxRedemptionsPerUserPerStream,i.max_per_user_per_stream=(r=t.maxRedemptionsPerUserPerStream)!==null&&r!==void 0?r:0),t.globalCooldown!==void 0&&(i.is_global_cooldown_enabled=!!t.globalCooldown,i.global_cooldown_seconds=(n=t.globalCooldown)!==null&&n!==void 0?n:0),"isPaused"in t&&(i.is_paused=t.isPaused),i}function Q1(t,e,r){return{broadcaster_id:C(t),reward_id:e,id:r}}function K1(t,e,r,n){return{broadcaster_id:C(t),reward_id:e,status:r,sort:n.newestFirst?"NEWEST":"OLDEST"}}let ci=class extends Q{constructor(e,r){super(e),this._client=r}get id(){return this[d].id}get broadcasterId(){return this[d].broadcaster_id}get broadcasterName(){return this[d].broadcaster_login}get broadcasterDisplayName(){return this[d].broadcaster_name}async getBroadcaster(){return Z(await this._client.users.getUserById(this[d].broadcaster_id))}getImageUrl(e){var r,n;const i=`url_${e}x`;return(n=(r=this[d].image)===null||r===void 0?void 0:r[i])!==null&&n!==void 0?n:this[d].default_image[i]}get backgroundColor(){return this[d].background_color}get isEnabled(){return this[d].is_enabled}get cost(){return this[d].cost}get title(){return this[d].title}get prompt(){return this[d].prompt}get userInputRequired(){return this[d].is_user_input_required}get maxRedemptionsPerStream(){return this[d].max_per_stream_setting.is_enabled?this[d].max_per_stream_setting.max_per_stream:null}get maxRedemptionsPerUserPerStream(){return this[d].max_per_user_per_stream_setting.is_enabled?this[d].max_per_user_per_stream_setting.max_per_user_per_stream:null}get globalCooldown(){return this[d].global_cooldown_setting.is_enabled?this[d].global_cooldown_setting.global_cooldown_seconds:null}get isPaused(){return this[d].is_paused}get isInStock(){return this[d].is_in_stock}get redemptionsThisStream(){return this[d].redemptions_redeemed_current_stream}get autoFulfill(){return this[d].should_redemptions_skip_request_queue}get cooldownExpiryDate(){return this[d].cooldown_expires_at?new Date(this[d].cooldown_expires_at):null}};x([G(!1)],ci.prototype,"_client",void 0);ci=x([D("api","HelixCustomReward","id")],ci);let di=class extends Q{constructor(e,r){super(e),this._client=r}get id(){return this[d].id}get broadcasterId(){return this[d].broadcaster_id}get broadcasterName(){return this[d].broadcaster_login}get broadcasterDisplayName(){return this[d].broadcaster_name}async getBroadcaster(){return Z(await this._client.users.getUserById(this[d].broadcaster_id))}get userId(){return this[d].user_id}get userName(){return this[d].user_login}get userDisplayName(){return this[d].user_name}async getUser(){return Z(await this._client.users.getUserById(this[d].user_id))}get userInput(){return this[d].user_input}get isFulfilled(){return this[d].status==="FULFILLED"}get isCanceled(){return this[d].status==="CANCELED"}get redemptionDate(){return new Date(this[d].redeemed_at)}get rewardId(){return this[d].reward.id}get rewardTitle(){return this[d].reward.title}get rewardPrompt(){return this[d].reward.prompt}get rewardCost(){return this[d].reward.cost}async getReward(){return Z(await this._client.channelPoints.getCustomRewardById(this[d].broadcaster_id,this[d].reward.id))}async updateStatus(e){return(await this._client.channelPoints.updateRedemptionStatusByIds(this[d].broadcaster_id,this[d].reward.id,[this[d].id],e))[0]}};x([G(!1)],di.prototype,"_client",void 0);di=x([D("api","HelixCustomRewardRedemption","id")],di);let lg=class extends Ce{async getCustomRewards(e,r){return(await this._client.callApi({type:"helix",url:"channel_points/custom_rewards",userId:C(e),scopes:["channel:read:redemptions","channel:manage:redemptions"],query:wN(e,r)})).data.map(i=>new ci(i,this._client))}async getCustomRewardsByIds(e,r){return r.length?(await this._client.callApi({type:"helix",url:"channel_points/custom_rewards",userId:C(e),scopes:["channel:read:redemptions","channel:manage:redemptions"],query:Dd(e,r)})).data.map(i=>new ci(i,this._client)):[]}async getCustomRewardById(e,r){const n=await this.getCustomRewardsByIds(e,[r]);return n.length?n[0]:null}async createCustomReward(e,r){const n=await this._client.callApi({type:"helix",url:"channel_points/custom_rewards",method:"POST",userId:C(e),scopes:["channel:manage:redemptions"],query:de(e),jsonBody:V1(r)});return new ci(n.data[0],this._client)}async updateCustomReward(e,r,n){const i=await this._client.callApi({type:"helix",url:"channel_points/custom_rewards",method:"PATCH",userId:C(e),scopes:["channel:manage:redemptions"],query:W1(e,r),jsonBody:V1(n)});return new ci(i.data[0],this._client)}async deleteCustomReward(e,r){await this._client.callApi({type:"helix",url:"channel_points/custom_rewards",method:"DELETE",userId:C(e),scopes:["channel:manage:redemptions"],query:W1(e,r)})}async getRedemptionsByIds(e,r,n){return n.length?(await this._client.callApi({type:"helix",url:"channel_points/custom_rewards/redemptions",userId:C(e),scopes:["channel:read:redemptions","channel:manage:redemptions"],query:Q1(e,r,n)})).data.map(s=>new di(s,this._client)):[]}async getRedemptionById(e,r,n){const i=await this.getRedemptionsByIds(e,r,[n]);return i.length?i[0]:null}async getRedemptionsForBroadcaster(e,r,n,i){const s=await this._client.callApi({type:"helix",url:"channel_points/custom_rewards/redemptions",userId:C(e),scopes:["channel:read:redemptions","channel:manage:redemptions"],query:{...K1(e,r,n,i),...ue(i)}});return qe(s,di,this._client)}getRedemptionsForBroadcasterPaginated(e,r,n,i){return new Ie({url:"channel_points/custom_rewards/redemptions",userId:C(e),scopes:["channel:read:redemptions","channel:manage:redemptions"],query:K1(e,r,n,i)},this._client,s=>new di(s,this._client),50)}async updateRedemptionStatusByIds(e,r,n,i){return n.length?(await this._client.callApi({type:"helix",url:"channel_points/custom_rewards/redemptions",method:"PATCH",userId:C(e),scopes:["channel:manage:redemptions"],query:Q1(e,r,n),jsonBody:{status:i}})).data.map(o=>new di(o,this._client)):[]}};lg=x([D("api","HelixChannelPointsApi")],lg);let Ia=class extends Q{get value(){return this[d].value}get decimalPlaces(){return this[d].decimal_places}get localizedValue(){return this.value/10**this.decimalPlaces}get currency(){return this[d].currency}};Ia=x([D("api","HelixCharityCampaignAmount")],Ia);let Tc=class extends Q{constructor(e,r){super(e),this._client=r}get id(){return this[d].id}get broadcasterId(){return this[d].broadcaster_id}get broadcasterName(){return this[d].broadcaster_login}get broadcasterDisplayName(){return this[d].broadcaster_name}async getBroadcaster(){return Z(await this._client.users.getUserById(this[d].broadcaster_id))}get charityName(){return this[d].charity_name}get charityDescription(){return this[d].charity_description}get charityLogo(){return this[d].charity_logo}get charityWebsite(){return this[d].charity_website}get currentAmount(){return new Ia(this[d].current_amount)}get targetAmount(){return new Ia(this[d].target_amount)}};x([G(!1)],Tc.prototype,"_client",void 0);Tc=x([D("api","HelixCharityCampaign","id")],Tc);let Pc=class extends Q{constructor(e,r){super(e),this._client=r}get campaignId(){return this[d].campaign_id}get donorId(){return this[d].user_id}get donorName(){return this[d].user_login}get donorDisplayName(){return this[d].user_name}async getDonor(){return Z(await this._client.users.getUserById(this[d].user_id))}get amount(){return new Ia(this[d].amount)}};x([G(!1)],Pc.prototype,"_client",void 0);Pc=x([D("api","HelixCharityCampaignDonation")],Pc);let ug=class extends Ce{async getCharityCampaign(e){const r=await this._client.callApi({type:"helix",url:"charity/campaigns",method:"GET",userId:C(e),scopes:["channel:read:charity"],query:de(e)});return new Tc(r.data[0],this._client)}async getCharityCampaignDonations(e,r){const n=await this._client.callApi({type:"helix",url:"charity/donations",userId:C(e),scopes:["channel:read:charity"],query:{...de(e),...ue(r)}});return qe(n,Pc,this._client)}};ug=x([D("api","HelixCharityApi")],ug);function bN(t){return{slow_mode:t.slowModeEnabled,slow_mode_wait_time:t.slowModeDelay,follower_mode:t.followerOnlyModeEnabled,follower_mode_duration:t.followerOnlyModeDelay,subscriber_mode:t.subscriberOnlyModeEnabled,emote_mode:t.emoteOnlyModeEnabled,unique_chat_mode:t.uniqueChatModeEnabled,non_moderator_chat_delay:t.nonModeratorChatDelayEnabled,non_moderator_chat_delay_duration:t.nonModeratorChatDelay}}function SN(t,e){return{user_id:C(t),color:e}}function xN(t,e,r){return{from_broadcaster_id:C(t),to_broadcaster_id:C(e),moderator_id:r}}let ka=class extends Q{get id(){return this[d].id}get name(){return this[d].name}get formats(){return this[d].format}get scales(){return this[d].scale}get themeModes(){return this[d].theme_mode}getImageUrl(e){return this[d].images[`url_${e}x`]}getStaticImageUrl(e="1.0",r="light"){return this[d].format.includes("static")&&this[d].scale.includes(e)?this.getFormattedImageUrl(e,"static",r):null}getAnimatedImageUrl(e="1.0",r="light"){return this[d].format.includes("animated")&&this[d].scale.includes(e)?this.getFormattedImageUrl(e,"animated",r):null}getFormattedImageUrl(e="1.0",r="static",n="light"){return`https://static-cdn.jtvnw.net/emoticons/v2/${this[d].id}/${r}/${n}/${e}`}};ka=x([D("api","HelixEmote","id")],ka);let Ic=class extends ka{constructor(e,r){super(e),this._client=r}get tier(){return this[d].tier||null}get type(){return this[d].emote_type}get emoteSetId(){return this[d].emote_set_id}async getAllEmotesFromSet(){return await this._client.chat.getEmotesFromSets([this[d].emote_set_id])}};x([G(!1)],Ic.prototype,"_client",void 0);Ic=x([D("api","HelixChannelEmote","id")],Ic);let cg=class extends Q{get id(){return this[d].id}getImageUrl(e){return this[d][`image_url_${e}x`]}get title(){return this[d].title}get description(){return this[d].description}get clickAction(){return this[d].click_action}get clickUrl(){return this[d].click_url}};cg=x([D("api","HelixChatBadgeVersion","id")],cg);let Ra=class extends Q{get id(){return this[d].set_id}get versions(){return this[d].versions.map(e=>new cg(e))}getVersion(e){var r;return(r=this.versions.find(n=>n.id===e))!==null&&r!==void 0?r:null}};x([pe()],Ra.prototype,"versions",null);Ra=x([_l,D("api","HelixChatBadgeSet","id")],Ra);let Aa=class extends Q{constructor(e,r){super(e),this._client=r}get userId(){return this[d].user_id}get userName(){return this[d].user_login}get userDisplayName(){return this[d].user_name}async getUser(){return Z(await this._client.users.getUserById(this[d].user_id))}};x([G(!1)],Aa.prototype,"_client",void 0);Aa=x([D("api","HelixChatChatter")],Aa);let kc=class extends Q{get broadcasterId(){return this[d].broadcaster_id}get slowModeEnabled(){return this[d].slow_mode}get slowModeDelay(){return this[d].slow_mode_wait_time}get followerOnlyModeEnabled(){return this[d].follower_mode}get followerOnlyModeDelay(){return this[d].follower_mode_duration}get subscriberOnlyModeEnabled(){return this[d].subscriber_mode}get emoteOnlyModeEnabled(){return this[d].emote_mode}get uniqueChatModeEnabled(){return this[d].unique_chat_mode}};kc=x([D("api","HelixChatSettings","broadcasterId")],kc);let Rc=class extends ka{constructor(e,r){super(e),this._client=r}get type(){return this[d].emote_type}get emoteSetId(){return this[d].emote_set_id}get ownerId(){switch(this[d].owner_id){case"0":case"twitch":return null;default:return this[d].owner_id}}async getOwner(){switch(this[d].owner_id){case"0":case"twitch":return null;default:return await this._client.users.getUserById(this[d].owner_id)}}};x([G(!1)],Rc.prototype,"_client",void 0);Rc=x([D("api","HelixEmoteFromSet","id")],Rc);let Ac=class extends kc{get nonModeratorChatDelayEnabled(){return this[d].non_moderator_chat_delay}get nonModeratorChatDelay(){return this[d].non_moderator_chat_delay_duration}};Ac=x([D("api","HelixPrivilegedChatSettings","broadcasterId")],Ac);let dg=class extends Ce{async getChatters(e,r){const n=C(e),i=await this._client.callApi({type:"helix",url:"chat/chatters",userId:n,canOverrideScopedUserContext:!0,scopes:["moderator:read:chatters"],query:{...this._createModeratorActionQuery(n),...ue(r)}});return An(i,Aa,this._client)}getChattersPaginated(e){const r=C(e);return new Ui({url:"chat/chatters",userId:r,canOverrideScopedUserContext:!0,scopes:["moderator:read:chatters"],query:this._createModeratorActionQuery(r)},this._client,n=>new Aa(n,this._client))}async getGlobalBadges(){return(await this._client.callApi({type:"helix",url:"chat/badges/global"})).data.map(r=>new Ra(r))}async getChannelBadges(e){return(await this._client.callApi({type:"helix",url:"chat/badges",userId:C(e),query:de(e)})).data.map(n=>new Ra(n))}async getGlobalEmotes(){return(await this._client.callApi({type:"helix",url:"chat/emotes/global"})).data.map(r=>new ka(r))}async getChannelEmotes(e){return(await this._client.callApi({type:"helix",url:"chat/emotes",userId:C(e),query:de(e)})).data.map(n=>new Ic(n,this._client))}async getEmotesFromSets(e){return(await this._client.callApi({type:"helix",url:"chat/emotes/set",query:Ue("emote_set_id",e)})).data.map(n=>new Rc(n,this._client))}async getSettings(e){const r=await this._client.callApi({type:"helix",url:"chat/settings",userId:C(e),query:de(e)});return new kc(r.data[0])}async getSettingsPrivileged(e){const r=C(e),n=await this._client.callApi({type:"helix",url:"chat/settings",userId:r,canOverrideScopedUserContext:!0,scopes:["moderator:read:chat_settings"],query:this._createModeratorActionQuery(r)});return new Ac(n.data[0])}async updateSettings(e,r){const n=C(e),i=await this._client.callApi({type:"helix",url:"chat/settings",method:"PATCH",userId:n,canOverrideScopedUserContext:!0,scopes:["moderator:manage:chat_settings"],query:this._createModeratorActionQuery(n),jsonBody:bN(r)});return new Ac(i.data[0])}async sendAnnouncement(e,r){const n=C(e);await this._client.callApi({type:"helix",url:"chat/announcements",method:"POST",userId:n,canOverrideScopedUserContext:!0,scopes:["moderator:manage:announcements"],query:this._createModeratorActionQuery(n),jsonBody:{message:r.message,color:r.color}})}async getColorsForUsers(e){const r=await this._client.callApi({type:"helix",url:"chat/color",query:Ue("user_id",e.map(C))});return new Map(r.data.map(n=>[n.user_id,n.color||null]))}async getColorForUser(e){const r=await this._client.callApi({type:"helix",url:"chat/color",userId:C(e),query:Ue("user_id",C(e))});if(r.data.length)return r.data[0].color||null}async setColorForUser(e,r){await this._client.callApi({type:"helix",url:"chat/color",method:"PUT",userId:C(e),scopes:["user:manage:chat_color"],query:SN(e,r)})}async shoutoutUser(e,r){const n=C(e);await this._client.callApi({type:"helix",url:"chat/shoutouts",method:"POST",userId:n,canOverrideScopedUserContext:!0,scopes:["moderator:manage:shoutouts"],query:xN(e,r,this._getUserContextIdWithDefault(n))})}_createModeratorActionQuery(e){return k5(e,this._getUserContextIdWithDefault(e))}};dg=x([D("api","HelixChatApi")],dg);function CN(t,e){return{broadcaster_id:C(t),has_delay:e.toString()}}function Y1(t){const{filterType:e,ids:r,startDate:n,endDate:i,isFeatured:s}=t;return{[e]:r,started_at:n,ended_at:i,is_featured:s==null?void 0:s.toString()}}let Ts=class extends Q{constructor(e,r){super(e),this._client=r}get id(){return this[d].id}get url(){return this[d].url}get embedUrl(){return this[d].embed_url}get broadcasterId(){return this[d].broadcaster_id}get broadcasterDisplayName(){return this[d].broadcaster_name}async getBroadcaster(){return Z(await this._client.users.getUserById(this[d].broadcaster_id))}get creatorId(){return this[d].creator_id}get creatorDisplayName(){return this[d].creator_name}async getCreator(){return Z(await this._client.users.getUserById(this[d].creator_id))}get videoId(){return this[d].video_id}async getVideo(){return Z(await this._client.videos.getVideoById(this[d].video_id))}get gameId(){return this[d].game_id}async getGame(){return this[d].game_id?Z(await this._client.games.getGameById(this[d].game_id)):null}get language(){return this[d].language}get title(){return this[d].title}get views(){return this[d].view_count}get creationDate(){return new Date(this[d].created_at)}get thumbnailUrl(){return this[d].thumbnail_url}get duration(){return this[d].duration}get vodOffset(){return this[d].vod_offset}get isFeatured(){return this[d].is_featured}};x([G(!1)],Ts.prototype,"_client",void 0);Ts=x([D("api","HelixClip","id")],Ts);let Mc=class extends Ce{constructor(){super(...arguments),this._getClipByIdBatcher=new Yt({url:"clips"},"id","id",this._client,e=>new Ts(e,this._client))}async getClipsForBroadcaster(e,r={}){return await this._getClips({...r,filterType:"broadcaster_id",ids:C(e),userId:C(e)})}getClipsForBroadcasterPaginated(e,r={}){return this._getClipsPaginated({...r,filterType:"broadcaster_id",ids:C(e),userId:C(e)})}async getClipsForGame(e,r={}){return await this._getClips({...r,filterType:"game_id",ids:e})}getClipsForGamePaginated(e,r={}){return this._getClipsPaginated({...r,filterType:"game_id",ids:e})}async getClipsByIds(e){return(await this._getClips({filterType:"id",ids:e})).data}async getClipById(e){const r=await this.getClipsByIds([e]);return r.length?r[0]:null}async getClipByIdBatched(e){return await this._getClipByIdBatcher.request(e)}async createClip(e){const{channel:r,createAfterDelay:n=!1}=e;return(await this._client.callApi({type:"helix",url:"clips",method:"POST",userId:C(r),scopes:["clips:edit"],canOverrideScopedUserContext:!0,query:CN(r,n)})).data[0].id}async _getClips(e){if(!e.ids.length)return{data:[]};const r=await this._client.callApi({type:"helix",url:"clips",userId:e.userId,query:{...Y1(e),...ue(e)}});return qe(r,Ts,this._client)}_getClipsPaginated(e){return new Ie({url:"clips",userId:e.userId,query:Y1(e)},this._client,r=>new Ts(r,this._client))}};x([G(!1)],Mc.prototype,"_getClipByIdBatcher",void 0);Mc=x([D("api","HelixClipApi")],Mc);class EN extends Q{get id(){return this[d].id}get name(){return this[d].name}get description(){return this[d].description}}let fg=class extends Ce{async getAll(e){return(await this._client.callApi({url:"content_classification_labels",query:{locale:e}})).data.map(n=>new EN(n))}};fg=x([D("api","HelixContentClassificationLabelApi")],fg);function X1(t,e){return{user_id:e?Nr(t.user,C):void 0,game_id:t.gameId,fulfillment_status:t.fulfillmentStatus}}function TN(t,e){return{fulfillment_status:e,entitlement_ids:t}}let fi=class extends Q{constructor(e,r){super(e),this._client=r}get id(){return this[d].id}get rewardId(){return this[d].benefit_id}get grantDate(){return new Date(this[d].timestamp)}get userId(){return this[d].user_id}async getUser(){return Z(await this._client.users.getUserById(this[d].user_id))}get gameId(){return this[d].game_id}async getGame(){return Z(await this._client.games.getGameById(this[d].game_id))}get fulfillmentStatus(){return this[d].fulfillment_status}get updateDate(){return new Date(this[d].last_updated)}};x([G(!1)],fi.prototype,"_client",void 0);fi=x([D("api","HelixDropsEntitlement")],fi);let Oc=class extends Ce{constructor(){super(...arguments),this._getDropsEntitlementByIdBatcher=new Yt({url:"entitlements/drops"},"id","id",this._client,e=>new fi(e,this._client))}async getDropsEntitlements(e,r=!1){const n=await this._client.callApi({type:"helix",url:"entitlements/drops",userId:Nr(e.user,C),forceType:e.user&&r?"app":void 0,query:{...X1(e,r),...ue(e)}});return qe(n,fi,this._client)}getDropsEntitlementsPaginated(e,r=!1){return new Ie({url:"entitlements/drops",userId:Nr(e.user,C),forceType:e.user&&r?"app":void 0,query:X1(e,r)},this._client,n=>new fi(n,this._client))}async getDropsEntitlementsByIds(e){return(await this._client.callApi({type:"helix",url:"entitlements/drops",query:{id:e}})).data.map(n=>new fi(n,this._client))}async getDropsEntitlementById(e){var r;return(r=(await this.getDropsEntitlementsByIds([e]))[0])!==null&&r!==void 0?r:null}async getDropsEntitlementByIdBatched(e){return await this._getDropsEntitlementByIdBatcher.request(e)}async updateDropsEntitlements(e,r){const n=await this._client.callApi({type:"helix",url:"entitlements/drops",method:"PATCH",jsonBody:TN(e,r)});return new Map(n.data.flatMap(i=>i.ids.map(s=>[s,i.status])))}};x([G(!1)],Oc.prototype,"_getDropsEntitlementByIdBatcher",void 0);Oc=x([D("api","HelixEntitlementApi")],Oc);function se(t){return{broadcaster_user_id:C(t)}}function ru(t,e){return{broadcaster_user_id:C(t),reward_id:e}}function Eo(t,e){return{broadcaster_user_id:t,moderator_user_id:e}}function PN(t){return{organization_id:t.organizationId,category_id:t.categoryId,campaign_id:t.campaignId}}let jr=class extends Q{constructor(e,r){super(e),this._client=r}get id(){return this[d].id}get status(){return this[d].status}get type(){return this[d].type}get cost(){return this[d].cost}get condition(){return this[d].condition}get creationDate(){return new Date(this[d].created_at)}async unsubscribe(){await this._client.eventSub.deleteSubscription(this[d].id)}get _transport(){return this[d].transport}set _status(e){this[d].status=e}};x([G(!1)],jr.prototype,"_client",void 0);jr=x([D("api","HelixEventSubSubscription","id")],jr);let hs=class extends Ui{constructor(e,r,n){super({url:"eventsub/subscriptions",userId:r,query:e},n,i=>new jr(i,n))}async getTotalCost(){var e;return((e=this._currentData)!==null&&e!==void 0?e:await this._fetchData({query:{after:void 0}})).total_cost}async getMaxTotalCost(){var e;return((e=this._currentData)!==null&&e!==void 0?e:await this._fetchData({query:{after:void 0}})).max_total_cost}};hs=x([D("api","HelixPaginatedEventSubSubscriptionsRequest")],hs);let hg=class extends Ce{async getSubscriptions(e){const r=await this._client.callApi({type:"helix",url:"eventsub/subscriptions",query:ue(e)});return{...An(r,jr,this._client),totalCost:r.total_cost,maxTotalCost:r.max_total_cost}}getSubscriptionsPaginated(){return new hs({},void 0,this._client)}async getSubscriptionsForStatus(e,r){const n=await this._client.callApi({type:"helix",url:"eventsub/subscriptions",query:{...ue(r),status:e}});return{...An(n,jr,this._client),totalCost:n.total_cost,maxTotalCost:n.max_total_cost}}getSubscriptionsForStatusPaginated(e){return new hs({status:e},void 0,this._client)}async getSubscriptionsForType(e,r){const n=await this._client.callApi({type:"helix",url:"eventsub/subscriptions",query:{...ue(r),type:e}});return{...An(n,jr,this._client),totalCost:n.total_cost,maxTotalCost:n.max_total_cost}}getSubscriptionsForTypePaginated(e){return new hs({type:e},void 0,this._client)}async getSubscriptionsForUser(e,r){const n=await this._client.callApi({type:"helix",url:"eventsub/subscriptions",userId:C(e),query:{...Ue("user_id",C(e)),...ue(r)}});return{...An(n,jr,this._client),totalCost:n.total_cost,maxTotalCost:n.max_total_cost}}getSubscriptionsForUserPaginated(e){const r=C(e);return new hs(Ue("user_id",r),r,this._client)}async createSubscription(e,r,n,i,s,o,a,l){const u=i.method==="webhook",c=u?void 0:o;if(!u&&!s)throw new Error(`Transport ${i.method} can only handle subscriptions with user context`);const h={type:e,version:r,condition:n,transport:i};l&&(h.is_batching_enabled=!0);const f=await this._client.callApi({type:"helix",url:"eventsub/subscriptions",method:"POST",scopes:c,userId:Nr(s,C),forceType:u?"app":"user",jsonBody:h});return new jr(f.data[0],this._client)}async deleteSubscription(e){await this._client.callApi({type:"helix",url:"eventsub/subscriptions",method:"DELETE",query:{id:e}})}async deleteAllSubscriptions(){await this._deleteSubscriptionsWithCondition()}async deleteBrokenSubscriptions(){await this._deleteSubscriptionsWithCondition(e=>e.status!=="enabled"&&e.status!=="webhook_callback_verification_pending")}async subscribeToStreamOnlineEvents(e,r){return await this.createSubscription("stream.online","1",se(e),r,e)}async subscribeToStreamOfflineEvents(e,r){return await this.createSubscription("stream.offline","1",se(e),r,e)}async subscribeToChannelUpdateEvents(e,r){return await this.createSubscription("channel.update","1",se(e),r,e)}async subscribeToChannelFollowEvents(e,r){const n=C(e);return await this.createSubscription("channel.follow","2",Eo(n,this._getUserContextIdWithDefault(n)),r,n,["moderator:read:followers"],!0)}async subscribeToChannelSubscriptionEvents(e,r){return await this.createSubscription("channel.subscribe","1",se(e),r,e,["channel:read:subscriptions"])}async subscribeToChannelSubscriptionGiftEvents(e,r){return await this.createSubscription("channel.subscription.gift","1",se(e),r,e,["channel:read:subscriptions"])}async subscribeToChannelSubscriptionMessageEvents(e,r){return await this.createSubscription("channel.subscription.message","1",se(e),r,e,["channel:read:subscriptions"])}async subscribeToChannelSubscriptionEndEvents(e,r){return await this.createSubscription("channel.subscription.end","1",se(e),r,e,["channel:read:subscriptions"])}async subscribeToChannelCheerEvents(e,r){return await this.createSubscription("channel.cheer","1",se(e),r,e,["bits:read"])}async subscribeToChannelCharityCampaignStartEvents(e,r){return await this.createSubscription("channel.charity_campaign.start","1",se(e),r,e,["channel:read:charity"])}async subscribeToChannelCharityCampaignStopEvents(e,r){return await this.createSubscription("channel.charity_campaign.stop","1",se(e),r,e,["channel:read:charity"])}async subscribeToChannelCharityDonationEvents(e,r){return await this.createSubscription("channel.charity_campaign.donate","1",se(e),r,e,["channel:read:charity"])}async subscribeToChannelCharityCampaignProgressEvents(e,r){return await this.createSubscription("channel.charity_campaign.progress","1",se(e),r,e,["channel:read:charity"])}async subscribeToChannelBanEvents(e,r){return await this.createSubscription("channel.ban","1",se(e),r,e,["channel:moderate"])}async subscribeToChannelUnbanEvents(e,r){return await this.createSubscription("channel.unban","1",se(e),r,e,["channel:moderate"])}async subscribeToChannelShieldModeBeginEvents(e,r){const n=C(e);return await this.createSubscription("channel.shield_mode.begin","1",Eo(n,this._getUserContextIdWithDefault(n)),r,n,["moderator:read:shield_mode","moderator:manage:shield_mode"],!0)}async subscribeToChannelShieldModeEndEvents(e,r){const n=C(e);return await this.createSubscription("channel.shield_mode.end","1",Eo(n,this._getUserContextIdWithDefault(n)),r,n,["moderator:read:shield_mode","moderator:manage:shield_mode"],!0)}async subscribeToChannelModeratorAddEvents(e,r){return await this.createSubscription("channel.moderator.add","1",se(e),r,e,["moderation:read"])}async subscribeToChannelModeratorRemoveEvents(e,r){return await this.createSubscription("channel.moderator.remove","1",se(e),r,e,["moderation:read"])}async subscribeToChannelRaidEventsFrom(e,r){return await this.createSubscription("channel.raid","1",Ue("from_broadcaster_user_id",C(e)),r,e)}async subscribeToChannelRaidEventsTo(e,r){return await this.createSubscription("channel.raid","1",Ue("to_broadcaster_user_id",C(e)),r,e)}async subscribeToChannelRewardAddEvents(e,r){return await this.createSubscription("channel.channel_points_custom_reward.add","1",se(e),r,e,["channel:read:redemptions","channel:manage:redemptions"])}async subscribeToChannelRewardUpdateEvents(e,r){return await this.createSubscription("channel.channel_points_custom_reward.update","1",se(e),r,e,["channel:read:redemptions","channel:manage:redemptions"])}async subscribeToChannelRewardUpdateEventsForReward(e,r,n){return await this.createSubscription("channel.channel_points_custom_reward.update","1",ru(e,r),n,e,["channel:read:redemptions","channel:manage:redemptions"])}async subscribeToChannelRewardRemoveEvents(e,r){return await this.createSubscription("channel.channel_points_custom_reward.remove","1",se(e),r,e,["channel:read:redemptions","channel:manage:redemptions"])}async subscribeToChannelRewardRemoveEventsForReward(e,r,n){return await this.createSubscription("channel.channel_points_custom_reward.remove","1",ru(e,r),n,e,["channel:read:redemptions","channel:manage:redemptions"])}async subscribeToChannelRedemptionAddEvents(e,r){return await this.createSubscription("channel.channel_points_custom_reward_redemption.add","1",se(e),r,e,["channel:read:redemptions","channel:manage:redemptions"])}async subscribeToChannelRedemptionAddEventsForReward(e,r,n){return await this.createSubscription("channel.channel_points_custom_reward_redemption.add","1",ru(e,r),n,e,["channel:read:redemptions","channel:manage:redemptions"])}async subscribeToChannelRedemptionUpdateEvents(e,r){return await this.createSubscription("channel.channel_points_custom_reward_redemption.update","1",se(e),r,e,["channel:read:redemptions","channel:manage:redemptions"])}async subscribeToChannelRedemptionUpdateEventsForReward(e,r,n){return await this.createSubscription("channel.channel_points_custom_reward_redemption.update","1",ru(e,r),n,e,["channel:read:redemptions","channel:manage:redemptions"])}async subscribeToChannelPollBeginEvents(e,r){return await this.createSubscription("channel.poll.begin","1",se(e),r,e,["channel:read:polls","channel:manage:polls"])}async subscribeToChannelPollProgressEvents(e,r){return await this.createSubscription("channel.poll.progress","1",se(e),r,e,["channel:read:polls","channel:manage:polls"])}async subscribeToChannelPollEndEvents(e,r){return await this.createSubscription("channel.poll.end","1",se(e),r,e,["channel:read:polls","channel:manage:polls"])}async subscribeToChannelPredictionBeginEvents(e,r){return await this.createSubscription("channel.prediction.begin","1",se(e),r,e,["channel:read:predictions","channel:manage:predictions"])}async subscribeToChannelPredictionProgressEvents(e,r){return await this.createSubscription("channel.prediction.progress","1",se(e),r,e,["channel:read:predictions","channel:manage:predictions"])}async subscribeToChannelPredictionLockEvents(e,r){return await this.createSubscription("channel.prediction.lock","1",se(e),r,e,["channel:read:predictions","channel:manage:predictions"])}async subscribeToChannelPredictionEndEvents(e,r){return await this.createSubscription("channel.prediction.end","1",se(e),r,e,["channel:read:predictions","channel:manage:predictions"])}async subscribeToChannelGoalBeginEvents(e,r){return await this.createSubscription("channel.goal.begin","1",se(e),r,e,["channel:read:goals"])}async subscribeToChannelGoalProgressEvents(e,r){return await this.createSubscription("channel.goal.progress","1",se(e),r,e,["channel:read:goals"])}async subscribeToChannelGoalEndEvents(e,r){return await this.createSubscription("channel.goal.end","1",se(e),r,e,["channel:read:goals"])}async subscribeToChannelHypeTrainBeginEvents(e,r){return await this.createSubscription("channel.hype_train.begin","1",se(e),r,e,["channel:read:hype_train"])}async subscribeToChannelHypeTrainProgressEvents(e,r){return await this.createSubscription("channel.hype_train.progress","1",se(e),r,e,["channel:read:hype_train"])}async subscribeToChannelHypeTrainEndEvents(e,r){return await this.createSubscription("channel.hype_train.end","1",se(e),r,e,["channel:read:hype_train"])}async subscribeToChannelShoutoutCreateEvents(e,r){const n=C(e);return await this.createSubscription("channel.shoutout.create","1",Eo(n,this._getUserContextIdWithDefault(n)),r,n,["moderator:read:shoutouts","moderator:manage:shoutouts"],!0)}async subscribeToChannelShoutoutReceiveEvents(e,r){const n=C(e);return await this.createSubscription("channel.shoutout.receive","1",Eo(n,this._getUserContextIdWithDefault(n)),r,n,["moderator:read:shoutouts","moderator:manage:shoutouts"],!0)}async subscribeToExtensionBitsTransactionCreateEvents(e,r){return await this.createSubscription("extension.bits_transaction.create","1",Ue("extension_client_id",e),r)}async subscribeToUserAuthorizationGrantEvents(e,r){return await this.createSubscription("user.authorization.grant","1",Ue("client_id",e),r)}async subscribeToUserAuthorizationRevokeEvents(e,r){return await this.createSubscription("user.authorization.revoke","1",Ue("client_id",e),r)}async subscribeToUserUpdateEvents(e,r,n){return await this.createSubscription("user.update","1",Ue("user_id",C(e)),r,e,n?["user:read:email"]:void 0)}async subscribeToDropEntitlementGrantEvents(e,r){return await this.createSubscription("drop.entitlement.grant","1",PN(e),r,void 0,void 0,!1,!0)}async _deleteSubscriptionsWithCondition(e){const r=this.getSubscriptionsPaginated();for await(const n of r)(!e||e(n))&&await n.unsubscribe()}};hg=x([D("api","HelixEventSubApi")],hg);function IN(t,e){return{extension_id:t,extension_version:e}}function kN(t){return{sku:t.sku,cost:{amount:t.cost,type:"bits"},display_name:t.displayName,in_development:t.inDevelopment,expiration:t.expirationDate,is_broadcast:t.broadcast}}function J1(t,e){return{extension_id:t,id:e.transactionIds}}let Ma=class extends Q{constructor(e,r){super(e),this._client=r}get id(){return this[d].broadcaster_id}get displayName(){return this[d].broadcaster_name}async getChannel(){return Z(await this._client.channels.getChannelInfoById(this[d].broadcaster_id))}async getBroadcaster(){return Z(await this._client.users.getUserById(this[d].broadcaster_id))}get gameId(){return this[d].game_id}get gameName(){return this[d].game_name}async getGame(){return this[d].game_id?Z(await this._client.games.getGameById(this[d].game_id)):null}get title(){return this[d].title}};x([G(!1)],Ma.prototype,"_client",void 0);Ma=x([D("api","HelixChannelReference","id")],Ma);let Nc=class extends Q{get sku(){return this[d].sku}get cost(){return this[d].cost.amount}get displayName(){return this[d].display_name}get inDevelopment(){return this[d].in_development}get isBroadcast(){return this[d].is_broadcast}get expirationDate(){return Zt(this[d].expiration,e=>new Date(e))}};Nc=x([D("api","HelixExtensionBitsProduct","sku")],Nc);let Oa=class extends Q{constructor(e,r){super(e),this._client=r}get id(){return this[d].id}get transactionDate(){return new Date(this[d].timestamp)}get broadcasterId(){return this[d].broadcaster_id}get broadcasterName(){return this[d].broadcaster_name}get broadcasterDisplayName(){return this[d].broadcaster_name}async getBroadcaster(){return Z(await this._client.users.getUserById(this[d].broadcaster_id))}get userId(){return this[d].user_id}get userName(){return this[d].user_login}get userDisplayName(){return this[d].user_name}async getUser(){return Z(await this._client.users.getUserById(this[d].user_id))}get productType(){return this[d].product_type}get productSku(){return this[d].product_data.sku}get productCost(){return this[d].product_data.cost.amount}get productDisplayName(){return this[d].product_data.displayName}get productInDevelopment(){return this[d].product_data.inDevelopment}};x([G(!1)],Oa.prototype,"_client",void 0);Oa=x([D("api","HelixExtensionTransaction","id")],Oa);let pg=class extends Ce{async getReleasedExtension(e,r){const n=await this._client.callApi({type:"helix",url:"extensions/released",query:IN(e,r)});return new Vm(n.data[0])}async getLiveChannelsWithExtension(e,r){const n=await this._client.callApi({type:"helix",url:"extensions/live",query:{...Ue("extension_id",e),...ue(r)}});return qe(n,Ma,this._client)}getLiveChannelsWithExtensionPaginated(e){return new Ie({url:"extensions/live",query:Ue("extension_id",e)},this._client,r=>new Ma(r,this._client))}async getExtensionBitsProducts(e){return(await this._client.callApi({type:"helix",url:"bits/extensions",forceType:"app",query:Ue("should_include_all",e==null?void 0:e.toString())})).data.map(n=>new Nc(n))}async putExtensionBitsProduct(e){const r=await this._client.callApi({type:"helix",url:"bits/extensions",method:"PUT",forceType:"app",jsonBody:kN(e)});return new Nc(r.data[0])}async getExtensionTransactions(e,r={}){const n=await this._client.callApi({type:"helix",url:"extensions/transactions",forceType:"app",query:{...J1(e,r),...ue(r)}});return qe(n,Oa,this._client)}getExtensionTransactionsPaginated(e,r={}){return new Ie({url:"extensions/transactions",forceType:"app",query:J1(e,r)},this._client,n=>new Oa(n,this._client))}};pg=x([D("api","HelixExtensionsApi")],pg);let cr=class extends Q{constructor(e,r){super(e),this._client=r}get id(){return this[d].id}get name(){return this[d].name}get boxArtUrl(){return this[d].box_art_url}get igdbId(){return this[d].igdb_id||null}getBoxArtUrl(e,r){return this[d].box_art_url.replace("{width}",e.toString()).replace("{height}",r.toString())}async getStreams(e){return await this._client.streams.getStreams({...e,game:this[d].id})}getStreamsPaginated(){return this._client.streams.getStreamsPaginated({game:this[d].id})}};x([G(!1)],cr.prototype,"_client",void 0);cr=x([D("api","HelixGame","id")],cr);let Zs=class extends Ce{constructor(){super(...arguments),this._getGameByIdBatcher=new Yt({url:"games"},"id","id",this._client,e=>new cr(e,this._client)),this._getGameByNameBatcher=new Yt({url:"games"},"name","name",this._client,e=>new cr(e,this._client)),this._getGameByIgdbIdBatcher=new Yt({url:"games"},"igdb_id","igdb_id",this._client,e=>new cr(e,this._client))}async getGamesByIds(e){return await this._getGames("id",e)}async getGamesByNames(e){return await this._getGames("name",e)}async getGamesByIgdbIds(e){return await this._getGames("igdb_id",e)}async getGameById(e){var r;return(r=(await this._getGames("id",[e]))[0])!==null&&r!==void 0?r:null}async getGameByName(e){var r;return(r=(await this._getGames("name",[e]))[0])!==null&&r!==void 0?r:null}async getGameByIgdbId(e){var r;return(r=(await this._getGames("igdb_id",[e]))[0])!==null&&r!==void 0?r:null}async getGameByIdBatched(e){return await this._getGameByIdBatcher.request(e)}async getGameByNameBatched(e){return await this._getGameByNameBatcher.request(e)}async getGameByIgdbIdBatched(e){return await this._getGameByIgdbIdBatcher.request(e)}async getTopGames(e){const r=await this._client.callApi({type:"helix",url:"games/top",query:ue(e)});return qe(r,cr,this._client)}getTopGamesPaginated(){return new Ie({url:"games/top"},this._client,e=>new cr(e,this._client))}async _getGames(e,r){return r.length?(await this._client.callApi({type:"helix",url:"games",query:{[e]:r}})).data.map(i=>new cr(i,this._client)):[]}};x([G(!1)],Zs.prototype,"_getGameByIdBatcher",void 0);x([G(!1)],Zs.prototype,"_getGameByNameBatcher",void 0);x([G(!1)],Zs.prototype,"_getGameByIgdbIdBatcher",void 0);Zs=x([D("api","HelixGameApi")],Zs);let Dc=class extends Q{constructor(e,r){super(e),this._client=r}get id(){return this[d].id}get broadcasterId(){return this[d].broadcaster_id}get broadcasterDisplayName(){return this[d].broadcaster_name}get broadcasterName(){return this[d].broadcaster_login}async getBroadcaster(){return Z(await this._client.users.getUserById(this[d].broadcaster_id))}get type(){return this[d].type}get description(){return this[d].description}get currentAmount(){return this[d].current_amount}get targetAmount(){return this[d].target_amount}get creationDate(){return this[d].created_at}};x([G(!1)],Dc.prototype,"_client",void 0);Dc=x([D("api","HelixGoal","id")],Dc);let mg=class extends Ce{async getGoals(e){return(await this._client.callApi({type:"helix",url:"goals",userId:C(e),scopes:["channel:read:goals"],query:de(e)})).data.map(n=>new Dc(n,this._client))}};mg=x([D("api","HelixGoalApi")],mg);let Na=class extends Q{constructor(e,r){super(e),this._client=r}get userId(){return this[d].user}async getUser(){return Z(await this._client.users.getUserById(this[d].user))}get type(){return this[d].type}get total(){return this[d].total}};x([G(!1)],Na.prototype,"_client",void 0);Na=x([D("api","HelixHypeTrainContribution","userId")],Na);let Da=class extends Q{constructor(e,r){super(e),this._client=r}get eventId(){return this[d].id}get eventType(){return this[d].event_type}get eventDate(){return new Date(this[d].event_timestamp)}get eventVersion(){return this[d].version}get id(){return this[d].event_data.id}get broadcasterId(){return this[d].event_data.broadcaster_id}async getBroadcaster(){return Z(await this._client.users.getUserById(this[d].event_data.broadcaster_id))}get level(){return this[d].event_data.level}get startDate(){return new Date(this[d].event_data.started_at)}get expiryDate(){return new Date(this[d].event_data.expires_at)}get cooldownDate(){return new Date(this[d].event_data.cooldown_end_time)}get total(){return this[d].event_data.total}get goal(){return this[d].event_data.goal}get lastContribution(){return new Na(this[d].event_data.last_contribution,this._client)}get topContributions(){return this[d].event_data.top_contributions.map(e=>new Na(e,this._client))}};x([G(!1)],Da.prototype,"_client",void 0);Da=x([D("api","HelixHypeTrainEvent","id")],Da);class RN extends Ce{async getHypeTrainEventsForBroadcaster(e,r){const n=await this._client.callApi({type:"helix",url:"hypetrain/events",userId:C(e),scopes:["channel:read:hype_train"],query:{...de(e),...ue(r)}});return qe(n,Da,this._client)}getHypeTrainEventsForBroadcasterPaginated(e){return new Ie({url:"hypetrain/events",userId:C(e),scopes:["channel:read:hype_train"],query:de(e)},this._client,r=>new Da(r,this._client))}}function Z1(t,e){return{broadcaster_id:C(t),user_id:e==null?void 0:e.userId}}function eb(t,e){return{broadcaster_id:C(t),user_id:C(e)}}function AN(t,e,r){return{user_id:C(t),msg_id:e,action:r?"ALLOW":"DENY"}}function MN(t){return{overall_level:t.overallLevel,aggression:t.aggression,bullying:t.bullying,disability:t.disability,misogyny:t.misogyny,race_ethnicity_or_religion:t.raceEthnicityOrReligion,sex_based_terms:t.sexBasedTerms,sexuality_sex_or_gender:t.sexualitySexOrGender,swearing:t.swearing}}function ON(t){return{data:{duration:t.duration,reason:t.reason,user_id:C(t.user)}}}function NN(t){return{is_active:t}}let Bc=class extends Q{get broadcasterId(){return this[d].broadcaster_id}get moderatorId(){return this[d].moderator_id}get overallLevel(){return this[d].overall_level?this[d].overall_level:null}get disability(){return this[d].disability}get aggression(){return this[d].aggression}get sexualitySexOrGender(){return this[d].sexuality_sex_or_gender}get misogyny(){return this[d].misogyny}get bullying(){return this[d].bullying}get swearing(){return this[d].swearing}get raceEthnicityOrReligion(){return this[d].race_ethnicity_or_religion}get sexBasedTerms(){return this[d].sex_based_terms}};Bc=x([D("api","HelixAutoModSettings","broadcasterId")],Bc);let gg=class extends Q{get messageId(){return this[d].msg_id}get isPermitted(){return this[d].is_permitted}};gg=x([D("api","HelixAutoModStatus","messageId")],gg);let eo=class extends Q{constructor(e,r,n){super(e),this._expiryTimestamp=r,this._client=n}get creationDate(){return new Date(this[d].created_at)}get expiryDate(){return Zt(this._expiryTimestamp,e=>new Date(e))}get moderatorId(){return this[d].moderator_id}async getModerator(){return Z(await this._client.users.getUserById(this[d].moderator_id))}get userId(){return this[d].user_id}async getUser(){return Z(await this._client.users.getUserById(this[d].user_id))}};x([G(!1)],eo.prototype,"_client",void 0);x([G(!1)],eo.prototype,"_expiryTimestamp",void 0);eo=x([D("api","HelixBanUser","userId")],eo);let Lc=class extends eo{constructor(e,r){super(e,e.expires_at||null,r)}get userName(){return this[d].user_login}get userDisplayName(){return this[d].user_name}get moderatorName(){return this[d].moderator_login}get moderatorDisplayName(){return this[d].moderator_name}get reason(){return this[d].reason||null}};Lc=x([D("api","HelixBan","userId")],Lc);let Uc=class extends Q{get broadcasterId(){return this[d].broadcaster_id}get creationDate(){return new Date(this[d].created_at)}get expirationDate(){return this[d].expires_at?new Date(this[d].expires_at):null}get id(){return this[d].id}get moderatorId(){return this[d].moderator_id}get text(){return this[d].text}get updatedDate(){return new Date(this[d].updated_at)}};Uc=x([D("api","HelixBlockedTerm","id")],Uc);let Ba=class extends Q{constructor(e,r){super(e),this._client=r}get userId(){return this[d].user_id}get userName(){return this[d].user_login}get userDisplayName(){return this[d].user_name}async getUser(){return Z(await this._client.users.getUserById(this[d].user_id))}};x([G(!1)],Ba.prototype,"_client",void 0);Ba=x([D("api","HelixModerator","userId")],Ba);let La=class extends Q{constructor(e,r){super(e),this._client=r}get isActive(){return this[d].is_active}get moderatorId(){return this[d].moderator_id}get moderatorName(){return this[d].moderator_login}get moderatorDisplayName(){return this[d].moderator_name}async getModerator(){return Z(await this._client.users.getUserById(this[d].moderator_id))}get lastActivationDate(){return this[d].last_activated_at===""?null:new Date(this[d].last_activated_at)}};x([G(!1)],La.prototype,"_client",void 0);La=x([D("api","HelixShieldModeStatus")],La);let yg=class extends Ce{async getBannedUsers(e,r){const n=await this._client.callApi({type:"helix",url:"moderation/banned",userId:C(e),scopes:["moderation:read"],query:{...Z1(e,r),...ue(r)}});return qe(n,Lc,this._client)}getBannedUsersPaginated(e){return new Ie({url:"moderation/banned",userId:C(e),scopes:["moderation:read"],query:de(e)},this._client,r=>new Lc(r,this._client),50)}async checkUserBan(e,r){const n=C(r);return(await this.getBannedUsers(e,{userId:n})).data.some(s=>s.userId===n)}async getModerators(e,r){const n=await this._client.callApi({type:"helix",url:"moderation/moderators",userId:C(e),scopes:["moderation:read","channel:manage:moderators"],query:{...Z1(e,r),...ue(r)}});return qe(n,Ba,this._client)}getModeratorsPaginated(e){return new Ie({url:"moderation/moderators",userId:C(e),scopes:["moderation:read","channel:manage:moderators"],query:de(e)},this._client,r=>new Ba(r,this._client))}async checkUserMod(e,r){const n=C(r);return(await this.getModerators(e,{userId:n})).data.some(s=>s.userId===n)}async addModerator(e,r){await this._client.callApi({type:"helix",url:"moderation/moderators",method:"POST",userId:C(e),scopes:["channel:manage:moderators"],query:eb(e,r)})}async removeModerator(e,r){await this._client.callApi({type:"helix",url:"moderation/moderators",method:"DELETE",userId:C(e),scopes:["channel:manage:moderators"],query:eb(e,r)})}async checkAutoModStatus(e,r){return(await this._client.callApi({type:"helix",url:"moderation/enforcements/status",method:"POST",userId:C(e),scopes:["moderation:read"],query:de(e),jsonBody:{data:r}})).data.map(i=>new gg(i))}async processHeldAutoModMessage(e,r,n){await this._client.callApi({type:"helix",url:"moderation/automod/message",method:"POST",userId:C(e),scopes:["moderator:manage:automod"],jsonBody:AN(e,r,n)})}async getAutoModSettings(e){const r=C(e);return(await this._client.callApi({type:"helix",url:"moderation/automod/settings",userId:r,scopes:["moderator:read:automod_settings"],canOverrideScopedUserContext:!0,query:this._createModeratorActionQuery(r)})).data.map(i=>new Bc(i))}async updateAutoModSettings(e,r){const n=C(e);return(await this._client.callApi({type:"helix",url:"moderation/automod/settings",method:"PUT",userId:n,scopes:["moderator:manage:automod_settings"],canOverrideScopedUserContext:!0,query:this._createModeratorActionQuery(n),jsonBody:MN(r)})).data.map(s=>new Bc(s))}async banUser(e,r){const n=C(e);return(await this._client.callApi({type:"helix",url:"moderation/bans",method:"POST",userId:n,scopes:["moderator:manage:banned_users"],canOverrideScopedUserContext:!0,query:this._createModeratorActionQuery(n),jsonBody:ON(r)})).data.map(s=>new eo(s,s.end_time,this._client))}async unbanUser(e,r){const n=C(e);await this._client.callApi({type:"helix",url:"moderation/bans",method:"DELETE",userId:n,scopes:["moderator:manage:banned_users"],canOverrideScopedUserContext:!0,query:{...this._createModeratorActionQuery(n),...Ue("user_id",C(r))}})}async getBlockedTerms(e,r){const n=C(e),i=await this._client.callApi({type:"helix",url:"moderation/blocked_terms",userId:n,scopes:["moderator:read:blocked_terms"],canOverrideScopedUserContext:!0,query:{...this._createModeratorActionQuery(n),...ue(r)}});return qe(i,Uc,this._client)}async addBlockedTerm(e,r){const n=C(e);return(await this._client.callApi({type:"helix",url:"moderation/blocked_terms",method:"POST",userId:n,scopes:["moderator:manage:blocked_terms"],canOverrideScopedUserContext:!0,query:this._createModeratorActionQuery(n),jsonBody:{text:r}})).data.map(s=>new Uc(s))}async removeBlockedTerm(e,r,n){const i=C(e);await this._client.callApi({type:"helix",url:"moderation/blocked_terms",method:"DELETE",userId:i,scopes:["moderator:manage:blocked_terms"],canOverrideScopedUserContext:!0,query:{...this._createModeratorActionQuery(i),id:n}})}async deleteChatMessages(e,r){const n=C(e);await this._client.callApi({type:"helix",url:"moderation/chat",method:"DELETE",userId:n,scopes:["moderator:manage:chat_messages"],canOverrideScopedUserContext:!0,query:{...this._createModeratorActionQuery(n),...Ue("message_id",r)}})}async getShieldModeStatus(e){const r=C(e),n=await this._client.callApi({type:"helix",url:"moderation/shield_mode",method:"GET",userId:r,scopes:["moderator:read:shield_mode","moderator:manage:shield_mode"],canOverrideScopedUserContext:!0,query:this._createModeratorActionQuery(r)});return new La(n.data[0],this._client)}async updateShieldModeStatus(e,r){const n=C(e),i=await this._client.callApi({type:"helix",url:"moderation/shield_mode",method:"PUT",userId:n,scopes:["moderator:manage:shield_mode"],canOverrideScopedUserContext:!0,query:this._createModeratorActionQuery(n),jsonBody:NN(r)});return new La(i.data[0],this._client)}_createModeratorActionQuery(e){return k5(e,this._getUserContextIdWithDefault(e))}};yg=x([D("api","HelixModerationApi")],yg);function DN(t,e){var r;return{broadcaster_id:C(t),title:e.title,choices:e.choices.map(n=>({title:n})),duration:e.duration,channel_points_voting_enabled:e.channelPointsPerVote!=null,channel_points_per_vote:(r=e.channelPointsPerVote)!==null&&r!==void 0?r:0}}function BN(t,e,r){return{broadcaster_id:C(t),id:e,status:r?"TERMINATED":"ARCHIVED"}}let vg=class extends Q{get id(){return this[d].id}get title(){return this[d].title}get totalVotes(){return this[d].votes}get channelPointsVotes(){return this[d].channel_points_votes}};vg=x([D("api","HelixPollChoice","id")],vg);let wn=class extends Q{constructor(e,r){super(e),this._client=r}get id(){return this[d].id}get broadcasterId(){return this[d].broadcaster_id}get broadcasterName(){return this[d].broadcaster_login}get broadcasterDisplayName(){return this[d].broadcaster_name}async getBroadcaster(){return Z(await this._client.users.getUserById(this[d].broadcaster_id))}get title(){return this[d].title}get isChannelPointsVotingEnabled(){return this[d].channel_points_voting_enabled}get channelPointsPerVote(){return this[d].channel_points_per_vote}get status(){return this[d].status}get durationInSeconds(){return this[d].duration}get startDate(){return new Date(this[d].started_at)}get endDate(){return new Date(this.startDate.getTime()+this[d].duration*1e3)}get choices(){return this[d].choices.map(e=>new vg(e))}};x([G(!1)],wn.prototype,"_client",void 0);wn=x([D("api","HelixPoll","id")],wn);let _g=class extends Ce{async getPolls(e,r){const n=await this._client.callApi({type:"helix",url:"polls",userId:C(e),scopes:["channel:read:polls"],query:{...de(e),...ue(r)}});return qe(n,wn,this._client)}getPollsPaginated(e){return new Ie({url:"polls",userId:C(e),scopes:["channel:read:polls"],query:de(e)},this._client,r=>new wn(r,this._client),20)}async getPollsByIds(e,r){return r.length?(await this._client.callApi({type:"helix",url:"polls",userId:C(e),scopes:["channel:read:polls"],query:Dd(e,r)})).data.map(i=>new wn(i,this._client)):[]}async getPollById(e,r){const n=await this.getPollsByIds(e,[r]);return n.length?n[0]:null}async createPoll(e,r){const n=await this._client.callApi({type:"helix",url:"polls",method:"POST",userId:C(e),scopes:["channel:manage:polls"],jsonBody:DN(e,r)});return new wn(n.data[0],this._client)}async endPoll(e,r,n=!0){const i=await this._client.callApi({type:"helix",url:"polls",method:"PATCH",userId:C(e),scopes:["channel:manage:polls"],jsonBody:BN(e,r,n)});return new wn(i.data[0],this._client)}};_g=x([D("api","HelixPollApi")],_g);function LN(t,e){return{broadcaster_id:C(t),title:e.title,outcomes:e.outcomes.map(r=>({title:r})),prediction_window:e.autoLockAfter}}function UN(t,e,r,n){return{broadcaster_id:C(t),id:e,status:r,winning_outcome_id:n}}let Fc=class extends Q{constructor(e,r){super(e),this._client=r}get userId(){return this[d].id}get userName(){return this[d].login}get userDisplayName(){return this[d].name}async getUser(){return await this._client.users.getUserById(this[d].id)}get channelPointsUsed(){return this[d].channel_points_used}get channelPointsWon(){return this[d].channel_points_won}};x([G(!1)],Fc.prototype,"_client",void 0);Fc=x([D("api","HelixPredictor","userId")],Fc);let Ua=class extends Q{constructor(e,r){super(e),this._client=r}get id(){return this[d].id}get title(){return this[d].title}get users(){return this[d].users}get totalChannelPoints(){return this[d].channel_points}get color(){return this[d].color}get topPredictors(){var e,r;return(r=(e=this[d].top_predictors)===null||e===void 0?void 0:e.map(n=>new Fc(n,this._client)))!==null&&r!==void 0?r:[]}};x([G(!1)],Ua.prototype,"_client",void 0);Ua=x([D("api","HelixPredictionOutcome","id")],Ua);let bn=class extends Q{constructor(e,r){super(e),this._client=r}get id(){return this[d].id}get broadcasterId(){return this[d].broadcaster_id}get broadcasterName(){return this[d].broadcaster_login}get broadcasterDisplayName(){return this[d].broadcaster_name}async getBroadcaster(){return Z(await this._client.users.getUserById(this[d].broadcaster_id))}get title(){return this[d].title}get status(){return this[d].status}get autoLockAfter(){return this[d].prediction_window}get creationDate(){return new Date(this[d].created_at)}get endDate(){return this[d].ended_at?new Date(this[d].ended_at):null}get lockDate(){return this[d].locked_at?new Date(this[d].locked_at):null}get outcomes(){return this[d].outcomes.map(e=>new Ua(e,this._client))}get winningOutcomeId(){return this[d].winning_outcome_id||null}get winningOutcome(){if(!this[d].winning_outcome_id)return null;const e=this[d].outcomes.find(r=>r.id===this[d].winning_outcome_id);if(!e)throw new Yn("Winning outcome not found in outcomes array");return new Ua(e,this._client)}};x([G(!1)],bn.prototype,"_client",void 0);bn=x([D("api","HelixPrediction","id")],bn);let wg=class extends Ce{async getPredictions(e,r){const n=await this._client.callApi({type:"helix",url:"predictions",userId:C(e),scopes:["channel:read:predictions"],query:{...de(e),...ue(r)}});return qe(n,bn,this._client)}getPredictionsPaginated(e){return new Ie({url:"predictions",userId:C(e),scopes:["channel:read:predictions"],query:de(e)},this._client,r=>new bn(r,this._client),20)}async getPredictionsByIds(e,r){return r.length?(await this._client.callApi({type:"helix",url:"predictions",userId:C(e),scopes:["channel:read:predictions"],query:Dd(e,r)})).data.map(i=>new bn(i,this._client)):[]}async getPredictionById(e,r){const n=await this.getPredictionsByIds(e,[r]);return n.length?n[0]:null}async createPrediction(e,r){const n=await this._client.callApi({type:"helix",url:"predictions",method:"POST",userId:C(e),scopes:["channel:manage:predictions"],jsonBody:LN(e,r)});return new bn(n.data[0],this._client)}async lockPrediction(e,r){return await this._endPrediction(e,r,"LOCKED")}async resolvePrediction(e,r,n){return await this._endPrediction(e,r,"RESOLVED",n)}async cancelPrediction(e,r){return await this._endPrediction(e,r,"CANCELED")}async _endPrediction(e,r,n,i){const s=await this._client.callApi({type:"helix",url:"predictions",method:"PATCH",userId:C(e),scopes:["channel:manage:predictions"],jsonBody:UN(e,r,n,i)});return new bn(s.data[0],this._client)}};wg=x([D("api","HelixPredictionApi")],wg);function FN(t,e){return{from_broadcaster_id:C(t),to_broadcaster_id:C(e)}}let bg=class extends Q{get creationDate(){return new Date(this[d].created_at)}get targetIsMature(){return this[d].is_mature}};bg=x([D("api","HelixRaid")],bg);let Sg=class extends Ce{async startRaid(e,r){const n=await this._client.callApi({type:"helix",url:"raids",method:"POST",userId:C(e),scopes:["channel:manage:raids"],query:FN(e,r)});return new bg(n.data[0])}async cancelRaid(e){await this._client.callApi({type:"helix",url:"raids",method:"DELETE",userId:C(e),scopes:["channel:manage:raids"],query:de(e)})}};Sg=x([D("api","HelixRaidApi")],Sg);function A5(t,e){var r;return{broadcaster_id:C(t),start_time:e==null?void 0:e.startDate,utc_offset:(r=e==null?void 0:e.utcOffset)===null||r===void 0?void 0:r.toString()}}function $N(t,e){return e.vacation?{broadcaster_id:C(t),is_vacation_enabled:"true",vacation_start_time:e.vacation.startDate,vacation_end_time:e.vacation.endDate,timezone:e.vacation.timezone}:{broadcaster_id:C(t),is_vacation_enabled:"false"}}function qN(t){return{start_time:t.startDate,timezone:t.timezone,is_recurring:t.isRecurring,duration:t.duration,category_id:t.categoryId,title:t.title}}function tb(t,e){return{broadcaster_id:C(t),id:e}}function jN(t){return{start_time:t.startDate,timezone:t.timezone,is_canceled:t.isCanceled,duration:t.duration,category_id:t.categoryId,title:t.title}}let jn=class extends Q{constructor(e,r){super(e),this._client=r}get id(){return this[d].id}get startDate(){return new Date(this[d].start_time)}get endDate(){return new Date(this[d].end_time)}get title(){return this[d].title}get cancelEndDate(){return Zt(this[d].canceled_until,e=>new Date(e))}get categoryId(){var e,r;return(r=(e=this[d].category)===null||e===void 0?void 0:e.id)!==null&&r!==void 0?r:null}get categoryName(){var e,r;return(r=(e=this[d].category)===null||e===void 0?void 0:e.name)!==null&&r!==void 0?r:null}async getCategory(){var e;const r=(e=this[d].category)===null||e===void 0?void 0:e.id;return r?await this._client.games.getGameById(r):null}get isRecurring(){return this[d].is_recurring}};x([G(!1)],jn.prototype,"_client",void 0);jn=x([D("api","HelixScheduleSegment","id")],jn);let xg=class extends Ie{constructor(e,r,n){super({url:"schedule",query:A5(e,n)},r,i=>new jn(i,r),25)}async _fetchData(e={}){var r;const n=await super._fetchData(e);return{data:(r=n.data.segments)!==null&&r!==void 0?r:[],pagination:n.pagination}}};xg=x([D("api","HelixPaginatedScheduleSegmentRequest")],xg);let $c=class extends Q{constructor(e,r){super(e),this._client=r}get segments(){var e,r;return(r=(e=this[d].segments)===null||e===void 0?void 0:e.map(n=>new jn(n,this._client)))!==null&&r!==void 0?r:[]}get broadcasterId(){return this[d].broadcaster_id}get broadcasterName(){return this[d].broadcaster_login}get broadcasterDisplayName(){return this[d].broadcaster_name}async getBroadcaster(){return Z(await this._client.users.getUserById(this[d].broadcaster_id))}get vacationStartDate(){var e;const r=(e=this[d].vacation)===null||e===void 0?void 0:e.start_time;return r?new Date(r):null}get vacationEndDate(){var e;const r=(e=this[d].vacation)===null||e===void 0?void 0:e.end_time;return r?new Date(r):null}};x([G(!1)],$c.prototype,"_client",void 0);$c=x([D("api","HelixSchedule","broadcasterId")],$c);class HN extends Ce{async getSchedule(e,r){const n=await this._client.callApi({type:"helix",url:"schedule",userId:C(e),query:{...A5(e,r),...ue(r)}});return{data:new $c(n.data,this._client),cursor:n.pagination.cursor}}getScheduleSegmentsPaginated(e,r){return new xg(e,this._client,r)}async getScheduleSegmentsByIds(e,r){var n,i;return(i=(n=(await this._client.callApi({type:"helix",url:"schedule",userId:C(e),query:Dd(e,r)})).data.segments)===null||n===void 0?void 0:n.map(o=>new jn(o,this._client)))!==null&&i!==void 0?i:[]}async getScheduleSegmentById(e,r){const n=await this.getScheduleSegmentsByIds(e,[r]);return n.length?n[0]:null}async getScheduleAsIcal(e){return await this._client.callApi({type:"helix",url:"schedule/icalendar",query:de(e)})}async updateScheduleSettings(e,r){await this._client.callApi({type:"helix",url:"schedule/settings",method:"PATCH",userId:C(e),scopes:["channel:manage:schedule"],query:$N(e,r)})}async createScheduleSegment(e,r){const n=await this._client.callApi({type:"helix",url:"schedule/segment",method:"POST",userId:C(e),scopes:["channel:manage:schedule"],query:de(e),jsonBody:qN(r)});return new jn(n.data.segments[0],this._client)}async updateScheduleSegment(e,r,n){const i=await this._client.callApi({type:"helix",url:"schedule/segment",method:"PATCH",userId:C(e),scopes:["channel:manage:schedule"],query:tb(e,r),jsonBody:jN(n)});return new jn(i.data.segments[0],this._client)}async deleteScheduleSegment(e,r){await this._client.callApi({type:"helix",url:"schedule/segment",method:"DELETE",userId:C(e),scopes:["channel:manage:schedule"],query:tb(e,r)})}}function rb(t,e){var r;return{query:t,live_only:(r=e.liveOnly)===null||r===void 0?void 0:r.toString()}}let Fa=class extends Q{constructor(e,r){super(e),this._client=r}get language(){return this[d].broadcaster_language}get id(){return this[d].id}get name(){return this[d].broadcaster_login}get displayName(){return this[d].display_name}async getUser(){return Z(await this._client.users.getUserById(this[d].id))}get gameId(){return this[d].game_id}get gameName(){return this[d].game_name}async getGame(){return this[d].game_id?Z(await this._client.games.getGameById(this[d].game_id)):null}get isLive(){return this[d].is_live}get tags(){return this[d].tags}get thumbnailUrl(){return this[d].thumbnail_url}get startDate(){return this[d].is_live?new Date(this[d].started_at):null}};x([G(!1)],Fa.prototype,"_client",void 0);Fa=x([D("api","HelixChannelSearchResult","id")],Fa);let Cg=class extends Ce{async searchCategories(e,r){const n=await this._client.callApi({type:"helix",url:"search/categories",query:{query:e,...ue(r)}});return qe(n,cr,this._client)}searchCategoriesPaginated(e){return new Ie({url:"search/categories",query:{query:e}},this._client,r=>new cr(r,this._client))}async searchChannels(e,r={}){const n=await this._client.callApi({type:"helix",url:"search/channels",query:{...rb(e,r),...ue(r)}});return qe(n,Fa,this._client)}searchChannelsPaginated(e,r={}){return new Ie({url:"search/channels",query:rb(e,r)},this._client,n=>new Fa(n,this._client))}};Cg=x([D("api","HelixSearchApi")],Cg);class zN extends Dr{constructor(e){super("Your stream needs to be live to do this",e)}}function gp(t){return{game_id:t.game,language:t.language,type:t.type,user_id:t.userId,user_login:t.userName}}function GN(t,e){return{user_id:C(t),description:e}}function nb(t){return{video_id:t}}let xr=class extends Q{constructor(e,r){super(e),this._client=r}get id(){return this[d].id}get userId(){return this[d].user_id}get userName(){return this[d].user_login}get userDisplayName(){return this[d].user_name}async getUser(){return Z(await this._client.users.getUserById(this[d].user_id))}get gameId(){return this[d].game_id}get gameName(){return this[d].game_name}async getGame(){return this[d].game_id?Z(await this._client.games.getGameById(this[d].game_id)):null}get type(){return this[d].type}get title(){return this[d].title}get viewers(){return this[d].viewer_count}get startDate(){return new Date(this[d].started_at)}get language(){return this[d].language}get thumbnailUrl(){return this[d].thumbnail_url}getThumbnailUrl(e,r){return this[d].thumbnail_url.replace("{width}",e.toString()).replace("{height}",r.toString())}get tags(){return this[d].tags}get isMature(){return this[d].is_mature}};x([G(!1)],xr.prototype,"_client",void 0);xr=x([D("api","HelixStream","id")],xr);let $a=class extends Q{constructor(e,r){super(e),this._client=r}get id(){return this[d].id}get creationDate(){return new Date(this[d].created_at)}get description(){return this[d].description}get positionInSeconds(){return this[d].position_seconds}};x([G(!1)],$a.prototype,"_client",void 0);$a=x([D("api","HelixStreamMarker","id")],$a);let Eg=class extends $a{constructor(e,r,n){super(e,n),this._videoId=r}get url(){return this[d].URL}get videoId(){return this._videoId}async getVideo(){return Z(await this._client.videos.getVideoById(this._videoId))}};Eg=x([D("api","HelixStreamMarkerWithVideo","id")],Eg);var es;let qa=es=class extends Ce{constructor(){super(...arguments),this._getStreamByUserIdBatcher=new Yt({url:"streams"},"user_id","user_id",this._client,e=>new xr(e,this._client)),this._getStreamByUserNameBatcher=new Yt({url:"streams"},"user_login","user_login",this._client,e=>new xr(e,this._client))}async getStreams(e={}){const r=await this._client.callApi({url:"streams",type:"helix",query:{...gp(e),...ue(e)}});return qe(r,xr,this._client)}getStreamsPaginated(e={}){return new Ie({url:"streams",query:gp(e)},this._client,r=>new xr(r,this._client))}async getStreamsByUserNames(e){return(await this.getStreams({userName:e.map(Wo)})).data}async getStreamByUserName(e){var r;return(r=(await this.getStreamsByUserNames([e]))[0])!==null&&r!==void 0?r:null}async getStreamByUserNameBatched(e){return await this._getStreamByUserNameBatcher.request(Wo(e))}async getStreamsByUserIds(e){return(await this.getStreams({userId:e.map(C)})).data}async getStreamByUserId(e){const r=C(e),n=await this._client.callApi({url:"streams",type:"helix",userId:r,query:gp({userId:r})});return Zt(n.data[0],i=>new xr(i,this._client))}async getStreamByUserIdBatched(e){return await this._getStreamByUserIdBatcher.request(C(e))}async getStreamMarkersForUser(e,r){var n;const i=await this._client.callApi({url:"streams/markers",type:"helix",query:{...G1(e),...ue(r)},userId:C(e),scopes:["user:read:broadcast"],canOverrideScopedUserContext:!0});return{data:O_(i.data.map(s=>es._mapGetStreamMarkersResult(s,this._client))),cursor:(n=i.pagination)===null||n===void 0?void 0:n.cursor}}getStreamMarkersForUserPaginated(e){return new Ie({url:"streams/markers",query:G1(e),userId:C(e),scopes:["user:read:broadcast"],canOverrideScopedUserContext:!0},this._client,r=>es._mapGetStreamMarkersResult(r,this._client))}async getStreamMarkersForVideo(e,r,n){var i;const s=await this._client.callApi({url:"streams/markers",type:"helix",query:{...nb(r),...ue(n)},userId:C(e),scopes:["user:read:broadcast"],canOverrideScopedUserContext:!0});return{data:O_(s.data.map(o=>es._mapGetStreamMarkersResult(o,this._client))),cursor:(i=s.pagination)===null||i===void 0?void 0:i.cursor}}getStreamMarkersForVideoPaginated(e,r){return new Ie({url:"streams/markers",query:nb(r),userId:C(e),scopes:["user:read:broadcast"],canOverrideScopedUserContext:!0},this._client,n=>es._mapGetStreamMarkersResult(n,this._client))}async createStreamMarker(e,r){try{const n=await this._client.callApi({url:"streams/markers",method:"POST",type:"helix",userId:C(e),scopes:["channel:manage:broadcast"],canOverrideScopedUserContext:!0,jsonBody:GN(e,r)});return new $a(n.data[0],this._client)}catch(n){throw n instanceof Bi&&n.statusCode===404?new zN({cause:n}):n}}async getStreamKey(e){const r=C(e);return(await this._client.callApi({type:"helix",url:"streams/key",userId:r,scopes:["channel:read:stream_key"],query:de(e)})).data[0].stream_key}async getFollowedStreams(e,r){const n=C(e),i=await this._client.callApi({type:"helix",url:"streams/followed",userId:n,scopes:["user:read:follows"],query:{...Ue("user_id",n),...ue(r)}});return qe(i,xr,this._client)}getFollowedStreamsPaginated(e){const r=C(e);return new Ie({url:"streams/followed",userId:r,scopes:["user:read:follows"],query:Ue("user_id",r)},this._client,n=>new xr(n,this._client))}static _mapGetStreamMarkersResult(e,r){return e.videos.reduce((n,i)=>[...n,...i.markers.map(s=>new Eg(s,i.video_id,r))],[])}};x([G(!1)],qa.prototype,"_getStreamByUserIdBatcher",void 0);x([G(!1)],qa.prototype,"_getStreamByUserNameBatcher",void 0);qa=es=x([D("api","HelixStreamApi")],qa);function WN(t,e){return{broadcaster_id:C(t),user_id:C(e)}}let ja=class extends Q{constructor(e,r){super(e),this._client=r}get broadcasterId(){return this[d].broadcaster_id}get broadcasterName(){return this[d].broadcaster_login}get broadcasterDisplayName(){return this[d].broadcaster_name}async getBroadcaster(){return await this._client.users.getUserById(this[d].broadcaster_id)}get isGift(){return this[d].is_gift}get tier(){return this[d].tier}};x([G(!1)],ja.prototype,"_client",void 0);ja=x([D("api","HelixUserSubscription","broadcasterId")],ja);let Ha=class extends ja{get broadcasterId(){return this[d].broadcaster_id}get broadcasterName(){return this[d].broadcaster_login}get broadcasterDisplayName(){return this[d].broadcaster_name}async getBroadcaster(){return Z(await this._client.users.getUserById(this[d].broadcaster_id))}get gifterId(){return this[d].is_gift?this[d].gifter_id:null}get gifterName(){return this[d].is_gift?this[d].gifter_login:null}get gifterDisplayName(){return this[d].is_gift?this[d].gifter_name:null}async getGifter(){return this[d].is_gift?Z(await this._client.users.getUserById(this[d].gifter_id)):null}get userId(){return this[d].user_id}get userName(){return this[d].user_login}get userDisplayName(){return this[d].user_name}async getUser(){return Z(await this._client.users.getUserById(this[d].user_id))}};Ha=x([D("api","HelixSubscription","userId")],Ha);let Tg=class extends Ui{constructor(e,r){super({url:"subscriptions",scopes:["channel:read:subscriptions"],userId:C(e),query:de(e)},r,n=>new Ha(n,r))}async getPoints(){var e;return((e=this._currentData)!==null&&e!==void 0?e:await this._fetchData({query:{after:void 0}})).points}};Tg=x([D("api","HelixPaginatedSubscriptionsRequest")],Tg);let Pg=class extends Ce{async getSubscriptions(e,r){const n=await this._client.callApi({url:"subscriptions",scopes:["channel:read:subscriptions"],type:"helix",userId:C(e),query:{...de(e),...ue(r)}});return{...An(n,Ha,this._client),points:n.points}}getSubscriptionsPaginated(e){return new Tg(e,this._client)}async getSubscriptionsForUsers(e,r){return(await this._client.callApi({type:"helix",url:"subscriptions",userId:C(e),scopes:["channel:read:subscriptions"],query:R5(e,r)})).data.map(i=>new Ha(i,this._client))}async getSubscriptionForUser(e,r){const n=await this.getSubscriptionsForUsers(e,[r]);return n.length?n[0]:null}async checkUserSubscription(e,r){try{const n=await this._client.callApi({type:"helix",url:"subscriptions/user",userId:C(e),scopes:["user:read:subscriptions"],query:WN(r,e)});return new ja(n.data[0],this._client)}catch(n){if(n instanceof Bi&&n.statusCode===404)return null;throw n}}};Pg=x([D("api","HelixSubscriptionApi")],Pg);let za=class extends Q{constructor(e,r){super(e),this._client=r}get id(){return this[d].id}get name(){return this[d].team_name}get displayName(){return this[d].team_display_name}get backgroundImageUrl(){return this[d].background_image_url}get bannerUrl(){return this[d].banner}get creationDate(){return new Date(this[d].created_at)}get updateDate(){return new Date(this[d].updated_at)}get info(){return this[d].info}get logoThumbnailUrl(){return this[d].thumbnail_url}async getUserRelations(){return(await this._client.teams.getTeamById(this.id)).userRelations}};x([G(!1)],za.prototype,"_client",void 0);za=x([D("api","HelixTeam","id")],za);let qc=class extends za{get userRelations(){return this[d].users.map(e=>new Ii(e,this._client))}};qc=x([D("api","HelixTeamWithUsers","id")],qc);let Ig=class extends Ce{async getTeamsForBroadcaster(e){var r,n;return(n=(r=(await this._client.callApi({type:"helix",url:"teams/channel",userId:C(e),query:de(e)})).data)===null||r===void 0?void 0:r.map(s=>new za(s,this._client)))!==null&&n!==void 0?n:[]}async getTeamById(e){try{const r=await this._client.callApi({type:"helix",url:"teams",query:{id:e}});return new qc(r.data[0],this._client)}catch(r){if(r instanceof Bi&&r.statusCode===500)return null;throw r}}async getTeamByName(e){try{const r=await this._client.callApi({type:"helix",url:"teams",query:{name:e}});return new qc(r.data[0],this._client)}catch(r){if(r instanceof Bi&&r.statusCode===404)return null;throw r}}};Ig=x([D("api","HelixTeamApi")],Ig);function VN(t,e){return{target_user_id:C(t),source_context:e.sourceContext,reason:e.reason}}function QN(t){return{target_user_id:C(t)}}class M5 extends Q{get id(){return this[d].id}get version(){return this[d].version}get name(){return this[d].name}}let Ko=class extends M5{constructor(e,r,n){super(n),this._slotType=e,this._slotId=r}get slotType(){return this._slotType}get slotId(){return this._slotId}};Ko=x([D("api","HelixInstalledExtension","id")],Ko);let jc=class extends Q{getExtensionAtSlot(e,r){const n=this[d][e][r];return n.active?new Ko(e,r,n):null}getExtensionsForSlotType(e){return[...Object.entries(this[d][e])].filter(r=>r[1].active).map(([r,n])=>new Ko(e,r,n))}getAllExtensions(){return[...Object.entries(this[d])].flatMap(([e,r])=>[...Object.entries(r)].filter(n=>n[1].active).map(([n,i])=>new Ko(e,n,i)))}};jc=x([D("api","HelixInstalledExtensionList")],jc);let kg=class extends M5{get canActivate(){return this[d].can_activate}get types(){return this[d].type}};kg=x([D("api","HelixUserExtension","id")],kg);let Mn=class extends Q{constructor(e,r){super(e),this._client=r}get id(){return this[d].id}get name(){return this[d].login}get displayName(){return this[d].display_name}get description(){return this[d].description}get type(){return this[d].type}get broadcasterType(){return this[d].broadcaster_type}get profilePictureUrl(){return this[d].profile_image_url}get offlinePlaceholderUrl(){return this[d].offline_image_url}get creationDate(){return new Date(this[d].created_at)}async getStream(){return await this._client.streams.getStreamByUserId(this)}async getFollowedChannels(){return await this._client.channels.getFollowedChannels(this)}async getFollowedChannel(e){var r;return(r=(await this._client.channels.getFollowedChannels(this,e)).data[0])!==null&&r!==void 0?r:null}async follows(e){return await this.getFollowedChannel(e)!==null}async getChannelFollowers(){return await this._client.channels.getChannelFollowers(this)}async getChannelFollower(e){var r;return(r=(await this._client.channels.getChannelFollowers(this,e)).data[0])!==null&&r!==void 0?r:null}async isFollowedBy(e){return await this.getChannelFollower(e)!==null}async getSubscriptionTo(e){return await this._client.subscriptions.checkUserSubscription(this,e)}async isSubscribedTo(e){return await this.getSubscriptionTo(e)!==null}async getSubscriber(e){return await this._client.subscriptions.getSubscriptionForUser(this,e)}async hasSubscriber(e){return await this.getSubscriber(e)!==null}};x([G(!1)],Mn.prototype,"_client",void 0);Mn=x([D("api","HelixUser","id")],Mn);let Hc=class extends Mn{get email(){return this[d].email}async setDescription(e){return await this._client.users.updateAuthenticatedUser(this,{description:e})}};Hc=x([D("api","HelixPrivilegedUser","id")],Hc);let Ga=class extends Q{constructor(e,r){super(e),this._client=r}get userId(){return this[d].user_id}get userName(){return this[d].user_login}get userDisplayName(){return this[d].display_name}async getUser(){return Z(await this._client.users.getUserById(this[d].user_id))}};x([G(!1)],Ga.prototype,"_client",void 0);Ga=x([D("api","HelixUserBlock","userId")],Ga);let Wa=class extends Ce{constructor(){super(...arguments),this._getUserByIdBatcher=new Yt({url:"users"},"id","id",this._client,e=>new Mn(e,this._client)),this._getUserByNameBatcher=new Yt({url:"users"},"login","login",this._client,e=>new Mn(e,this._client))}async getUsersByIds(e){return await this._getUsers("id",e.map(C))}async getUsersByNames(e){return await this._getUsers("login",e.map(Wo))}async getUserById(e){const r=C(e),n=await this._client.callApi({type:"helix",url:"users",userId:r,query:{id:r}});return Zt(n.data[0],i=>new Mn(i,this._client))}async getUserByIdBatched(e){return await this._getUserByIdBatcher.request(C(e))}async getUserByName(e){const r=await this._getUsers("login",[Wo(e)]);return r.length?r[0]:null}async getUserByNameBatched(e){return await this._getUserByNameBatcher.request(Wo(e))}async getAuthenticatedUser(e,r=!1){var n;const i=await this._client.callApi({type:"helix",url:"users",forceType:"user",userId:C(e),scopes:r?["user:read:email"]:void 0});if(!(!((n=i.data)===null||n===void 0)&&n.length))throw new Yn("Could not get authenticated user");return new Hc(i.data[0],this._client)}async updateAuthenticatedUser(e,r){const n=await this._client.callApi({type:"helix",url:"users",method:"PUT",userId:C(e),scopes:["user:edit"],query:{description:r.description}});return new Hc(n.data[0],this._client)}async getBlocks(e,r){const n=await this._client.callApi({type:"helix",url:"users/blocks",userId:C(e),scopes:["user:read:blocked_users"],query:{...de(e),...ue(r)}});return qe(n,Ga,this._client)}getBlocksPaginated(e){return new Ie({url:"users/blocks",userId:C(e),scopes:["user:read:blocked_users"],query:de(e)},this._client,r=>new Ga(r,this._client))}async createBlock(e,r,n={}){await this._client.callApi({type:"helix",url:"users/blocks",method:"PUT",userId:C(e),scopes:["user:manage:blocked_users"],query:VN(r,n)})}async deleteBlock(e,r){await this._client.callApi({type:"helix",url:"users/blocks",method:"DELETE",userId:C(e),scopes:["user:manage:blocked_users"],query:QN(r)})}async getExtensionsForAuthenticatedUser(e,r=!1){return(await this._client.callApi({type:"helix",url:"users/extensions/list",userId:C(e),scopes:r?["user:edit:broadcast"]:["user:read:broadcast","user:edit:broadcast"]})).data.map(i=>new kg(i))}async getActiveExtensions(e,r=!1){const n=C(e),i=await this._client.callApi({type:"helix",url:"users/extensions",userId:n,scopes:r?["user:read:broadcast","user:edit:broadcast"]:void 0,query:Ue("user_id",n)});return new jc(i.data)}async updateActiveExtensionsForAuthenticatedUser(e,r){const n=await this._client.callApi({type:"helix",url:"users/extensions",method:"PUT",userId:C(e),scopes:["user:edit:broadcast"],jsonBody:{data:r}});return new jc(n.data)}async _getUsers(e,r){if(r.length===0)return[];const n={[e]:r};return(await this._client.callApi({type:"helix",url:"users",query:n})).data.map(s=>new Mn(s,this._client))}};x([G(!1)],Wa.prototype,"_getUserByIdBatcher",void 0);x([G(!1)],Wa.prototype,"_getUserByNameBatcher",void 0);Wa=x([D("api","HelixUserApi")],Wa);let ki=class extends Q{constructor(e,r){super(e),this._client=r}get id(){return this[d].id}get userId(){return this[d].user_id}get userName(){return this[d].user_login}get userDisplayName(){return this[d].user_name}async getUser(){return Z(await this._client.users.getUserById(this[d].user_id))}get title(){return this[d].title}get description(){return this[d].description}get creationDate(){return new Date(this[d].created_at)}get publishDate(){return new Date(this[d].published_at)}get url(){return this[d].url}get thumbnailUrl(){return this[d].thumbnail_url}getThumbnailUrl(e,r){return this[d].thumbnail_url.replace("%{width}",e.toString()).replace("%{height}",r.toString())}get isPublic(){return this[d].viewable==="public"}get views(){return this[d].view_count}get language(){return this[d].language}get type(){return this[d].type}get duration(){return this[d].duration}get durationInSeconds(){const e=this[d].duration.match(/\d+[hms]/g);if(!e)throw new Yn(`Could not parse duration string: ${this[d].duration}`);return e.map(r=>{const n=/(\d+)([hms])/.exec(r);if(!n)throw new Yn(`Could not parse partial duration string: ${r}`);const[,i,s]=n;return parseInt(i,10)*{h:3600,m:60,s:1}[s]}).reduce((r,n)=>r+n)}get streamId(){return this[d].stream_id}get mutedSegmentData(){var e,r;return(r=(e=this[d].muted_segments)===null||e===void 0?void 0:e.slice())!==null&&r!==void 0?r:[]}isMutedAt(e,r,n=!1){if(this[d].muted_segments===null)return!1;if(r==null)return this[d].muted_segments.some(s=>s.offset<=e&&e<=s.offset+s.duration);const i=e+r;return n?this[d].muted_segments.some(s=>{const o=s.offset+s.duration;return e<o&&s.offset<i}):this[d].muted_segments.some(s=>{const o=s.offset+s.duration;return s.offset<=e&&i<=o})}};x([G(!1)],ki.prototype,"_client",void 0);x([pe()],ki.prototype,"durationInSeconds",null);ki=x([_l,D("api","HelixVideo","id")],ki);var Ru;let zc=Ru=class extends Ce{constructor(){super(...arguments),this._getVideoByIdBatcher=new Yt({url:"videos"},"id","id",this._client,e=>new ki(e,this._client))}async getVideosByIds(e){return(await this._getVideos("id",e)).data}async getVideoById(e){const r=await this.getVideosByIds([e]);return r.length?r[0]:null}async getVideoByIdBatched(e){return await this._getVideoByIdBatcher.request(e)}async getVideosByUser(e,r={}){const n=C(e);return await this._getVideos("user_id",[n],r)}getVideosByUserPaginated(e,r={}){const n=C(e);return this._getVideosPaginated("user_id",[n],r)}async getVideosByGame(e,r={}){return await this._getVideos("game_id",[e],r)}getVideosByGamePaginated(e,r={}){return this._getVideosPaginated("game_id",[e],r)}async deleteVideosByIds(e,r){await this._client.callApi({type:"helix",url:"videos",method:"DELETE",scopes:["channel:manage:videos"],userId:C(e),query:{id:r}})}async _getVideos(e,r,n={}){if(!r.length)return{data:[]};const i=await this._client.callApi({type:"helix",url:"videos",userId:e==="user_id"?r[0]:void 0,query:{...Ru._makeVideosQuery(e,r,n),...ue(n)}});return qe(i,ki,this._client)}_getVideosPaginated(e,r,n={}){return new Ie({url:"videos",userId:e==="user_id"?r[0]:void 0,query:Ru._makeVideosQuery(e,r,n)},this._client,i=>new ki(i,this._client))}static _makeVideosQuery(e,r,n={}){const{language:i,period:s,orderBy:o,type:a}=n;return{[e]:r,language:i,period:s,sort:o,type:a}}};x([G(!1)],zc.prototype,"_getVideoByIdBatcher",void 0);zc=Ru=x([D("api","HelixVideoApi")],zc);function KN(t,e){return{from_user_id:C(t),to_user_id:C(e)}}let Rg=class extends Ce{async sendWhisper(e,r,n){await this._client.callApi({type:"helix",url:"whispers",method:"POST",userId:C(e),scopes:["user:manage:whispers"],query:KN(e,r),jsonBody:{message:n}})}};Rg=x([D("api","HelixWhisperApi")],Rg);class YN{constructor(e,r,n){this._options=e,this._httpStatus=r,this._resolvedUserId=n}get options(){return this._options}get httpStatus(){return this._httpStatus}get resolvedUserId(){return this._resolvedUserId}}let he=class extends lo{constructor(e,r,n){super(),this.onRequest=this.registerEvent(),this._config=e,this._logger=r,this._rateLimiter=n}async requestScopesForUser(e,r){await this._config.authProvider.getAccessTokenForUser(e,...r.map(n=>[n]))}async getTokenInfo(){try{const e=await this.callApi({type:"auth",url:"validate"});return new pc(e)}catch(e){throw e instanceof Bi&&e.statusCode===401?new Pi({cause:e}):e}}async callApi(e){var r;const{authProvider:n}=this._config;if(!((r=e.auth)!==null&&r!==void 0?r:!0))return await yl(e,n.clientId,void 0,void 0,this._config.fetchOptions);let s=!1;if(e.forceType)switch(e.forceType){case"app":{if(!n.getAppAccessToken)throw new Error("Tried to make an API call that requires an app access token but your auth provider does not support that");const l=await n.getAppAccessToken();return await this._callApiUsingInitialToken(e,l)}case"user":{s=!0;break}default:throw new Yn(`Unknown forced token type: ${e.forceType}`)}if(e.scopes&&(s=!0),s){const l=e.canOverrideScopedUserContext?this._getUserIdFromRequestContext(e.userId):e.userId;if(!l)throw new Error("Tried to make an API call with a user context but no context user ID");const u=await n.getAccessTokenForUser(l,e.scopes);if(!u)throw new Error(`Tried to make an API call with a user context for user ID ${l} but no token was found`);if(Ss(u)&&n.refreshAccessTokenForUser){const c=await n.refreshAccessTokenForUser(l);return await this._callApiUsingInitialToken(e,c,!0)}return await this._callApiUsingInitialToken(e,u)}const o=this._getUserIdFromRequestContext(e.userId),a=o===null?await n.getAnyAccessToken():await n.getAnyAccessToken(o??e.userId);if(Ss(a)&&a.userId&&n.refreshAccessTokenForUser){const l=await n.refreshAccessTokenForUser(a.userId);return await this._callApiUsingInitialToken(e,l,!0)}return await this._callApiUsingInitialToken(e,a)}get bits(){return new ag(this)}get channels(){return new Ec(this)}get channelPoints(){return new lg(this)}get charity(){return new ug(this)}get chat(){return new dg(this)}get clips(){return new Mc(this)}get contentClassificationLabels(){return new fg(this)}get entitlements(){return new Oc(this)}get eventSub(){return new hg(this)}get extensions(){return new pg(this)}get games(){return new Zs(this)}get hypeTrain(){return new RN(this)}get goals(){return new mg(this)}get moderation(){return new yg(this)}get polls(){return new _g(this)}get predictions(){return new wg(this)}get raids(){return new Sg(this)}get schedule(){return new HN(this)}get search(){return new Cg(this)}get streams(){return new qa(this)}get subscriptions(){return new Pg(this)}get teams(){return new Ig(this)}get users(){return new Wa(this)}get videos(){return new zc(this)}get whispers(){return new Rg(this)}get rateLimiterStats(){return this._rateLimiter instanceof Qy?this._rateLimiter.stats:null}get _authProvider(){return this._config.authProvider}get _batchDelay(){var e;return(e=this._config.batchDelay)!==null&&e!==void 0?e:0}_getUserIdFromRequestContext(e){return e}async _callApiUsingInitialToken(e,r,n=!1){var i;const{authProvider:s}=this._config,{authorizationType:o}=s;let a=await this._callApiInternal(e,s.clientId,r.accessToken,o);if(a.status===401&&!n){if(r.userId){if(s.refreshAccessTokenForUser){const l=await s.refreshAccessTokenForUser(r.userId);a=await this._callApiInternal(e,s.clientId,l.accessToken,o)}}else if(s.getAppAccessToken){const l=await s.getAppAccessToken(!0);a=await this._callApiInternal(e,s.clientId,l.accessToken,o)}}return this.emit(this.onRequest,new YN(e,a.status,(i=r.userId)!==null&&i!==void 0?i:null)),await Qm(a,e),await PC(a)}async _callApiInternal(e,r,n,i){var s,o,a;const{fetchOptions:l}=this._config,u=(s=e.type)!==null&&s!==void 0?s:"helix";this._logger.debug(`Calling ${u} API: ${(o=e.method)!==null&&o!==void 0?o:"GET"} ${e.url}`),this._logger.trace(`Query: ${JSON.stringify(e.query)}`),e.jsonBody&&this._logger.trace(`Request body: ${JSON.stringify(e.jsonBody)}`);const c=gN.operation({retries:3,minTimeout:500,factor:2}),{promise:h,resolve:f,reject:v}=wa();c.attempt(async()=>{try{const w=u==="helix"?await this._rateLimiter.request({options:e,clientId:r,accessToken:n,authorizationType:i,fetchOptions:l}):await Ed(e,r,n,i,l);!w.ok&&w.status>=500&&w.status<600&&await Qm(w,e),f(w)}catch(w){if(c.retry(w))return;v(c.mainError())}});const y=await h;return this._logger.debug(`Called ${u} API: ${(a=e.method)!==null&&a!==void 0?a:"GET"} ${e.url} - result: ${y.status}`),y}};x([pe()],he.prototype,"bits",null);x([pe()],he.prototype,"channels",null);x([pe()],he.prototype,"channelPoints",null);x([pe()],he.prototype,"charity",null);x([pe()],he.prototype,"chat",null);x([pe()],he.prototype,"clips",null);x([pe()],he.prototype,"contentClassificationLabels",null);x([pe()],he.prototype,"entitlements",null);x([pe()],he.prototype,"eventSub",null);x([pe()],he.prototype,"extensions",null);x([pe()],he.prototype,"games",null);x([pe()],he.prototype,"hypeTrain",null);x([pe()],he.prototype,"goals",null);x([pe()],he.prototype,"moderation",null);x([pe()],he.prototype,"polls",null);x([pe()],he.prototype,"predictions",null);x([pe()],he.prototype,"raids",null);x([pe()],he.prototype,"schedule",null);x([pe()],he.prototype,"search",null);x([pe()],he.prototype,"streams",null);x([pe()],he.prototype,"subscriptions",null);x([pe()],he.prototype,"teams",null);x([pe()],he.prototype,"users",null);x([pe()],he.prototype,"videos",null);x([pe()],he.prototype,"whispers",null);he=x([_l,D("api","ApiClient")],he);let Ag=class extends he{_getUserIdFromRequestContext(){return null}};Ag=x([D("api","ApiClient")],Ag);let Gc=class extends he{constructor(e,r,n,i){super(e,r,n),this._userId=i}_getUserIdFromRequestContext(){return this._userId}};Gc=x([D("api","ApiClient")],Gc);let Mg=class extends he{constructor(e){if(!e.authProvider)throw new hN("No auth provider given. Please supply the `authProvider` option.");const r={name:"twurple:api:rate-limiter",...e.logger};super(e,oo({name:"twurple:api:client",...e.logger}),gd?new A3({getPartitionKey:n=>{var i;return(i=n.userId)!==null&&i!==void 0?i:null},createChild:()=>new pN({logger:r})}):new SC({logger:r,bucketSize:800,timeFrame:64e3,doRequest:async({options:n,clientId:i,accessToken:s,authorizationType:o,fetchOptions:a})=>await Ed(n,i,s,o,a),getPartitionKey:n=>{var i;return(i=n.userId)!==null&&i!==void 0?i:null}}))}async asUser(e,r){const n=new Gc(this._config,this._logger,this._rateLimiter,C(e));return await r(n)}async asIntent(e,r){if(!this._authProvider.getAccessTokenForIntent)throw new Error("Trying to use intents with an auth provider that does not support them");for(const n of e){const i=await this._authProvider.getAccessTokenForIntent(n);if(i){const s=new Gc(this._config,this._logger,this._rateLimiter,i.userId);return await r(s)}}throw new Error(`Intents [${e.join(", ")}] not found in auth provider`)}async withoutUser(e){const r=new Ag(this._config,this._logger,this._rateLimiter);return await e(r)}};Mg=x([D("api","ApiClient")],Mg);class XN{constructor(e="",r=""){_r(this,"_clientId",Jm.twitch.clientId);_r(this,"_scopes",Jm.twitch.scopes);_r(this,"_accessToken");_r(this,"_key");this._accessToken={accessToken:e,refreshToken:null,scope:this._scopes,expiresIn:null,obtainmentTimestamp:Date.now()},this._key=r}get clientId(){return this._clientId}getCurrentScopesForUser(){return this._scopes}async getAccessTokenForUser(e,...r){return this._getAccessToken(r)}async getAnyAccessToken(){return this._getAccessToken()}async refreshAccessTokenForUser(){const e=await P5("twitch",this._key);return this._accessToken.accessToken=e,this._accessToken.obtainmentTimestamp=Date.now(),this._getAccessToken()}async _getAccessToken(e){this._checkScopes(e);const{[d]:{expires_in:r},userId:n}=await Li(this._accessToken.accessToken,this._clientId);return this._accessToken.expiresIn=r||null,{...this._accessToken,userId:n}}_checkScopes(e){if(e!=null&&e.length){const r=new Set(this._scopes);e.forEach(n=>{if(!(!n||!n.length)&&n.every(i=>!r.has(i)))throw new JN(n)})}}}class JN extends Error{constructor(e){const r=`This token does not have one of the requested scopes: [${e.join(", ")}]`;super(r),this.name="MissingScopesError"}}function co(){const{data:t}=Js("twitch"),{keys:e}=io(),r=new XN(t,e.twitch);return new Mg({authProvider:r})}function ni(){const{data:t}=Js("twitch"),e=co();return tr({enabled:!!t,queryKey:["twitch","broadcaster",t||null],queryFn:async()=>{const{clientId:r}=Jm.twitch,{userId:n}=await Li(t,r);if(!n)throw Error("Twitch broadcaster not found");const i=await e.users.getUserById(n);if(!i)throw Error("Twitch broadcaster not found");return{id:i.id,userName:i.name,displayName:i.displayName,image:i.profilePictureUrl,url:`https://www.twitch.tv/${i.name}`}},...Zr})}function O5(){const{data:t}=ni(),e=co();return tr({enabled:!!t,queryKey:["twitch","channelPointRewards",t==null?void 0:t.id],queryFn:async()=>{const r=new Map;return(await e.channelPoints.getCustomRewards(t.id).catch(()=>[])).forEach(i=>{r.set(i.id,i)}),r},...Zr})}function Bd(){const{data:t}=ni(),e=co();return tr({enabled:!!t,queryKey:["twitch","cheermotes",t==null?void 0:t.id],queryFn:async()=>{const r=await e.bits.getCheermotes(t.id);return new ZN(r)},...Zr})}class ZN{constructor(e){_r(this,"cheermoteList");this.cheermoteList=e}getAllNames(){return this.cheermoteList.getPossibleNames()}get(e,r){return{name:e,amount:r,color:this.cheerColor(e,r),images:{default:this.buildCheermoteUrls(e,r),static:this.buildCheermoteUrls(e,r,!0)}}}cheerColor(e,r){return this.cheermoteList.getCheermoteDisplayInfo(e,r,{background:"light",scale:"1",state:"static"}).color}buildCheermoteUrls(e,r,n=!1){const i=this.cheermoteList;function s(o){return i.getCheermoteDisplayInfo(e,r,{background:"light",scale:o,state:n?"static":"animated"}).url}return{x1:s("1"),x2:s("2"),x4:s("4")}}}function eD(){const{data:t}=Bd();function e(r,n){const{name:i,amount:s,position:o,length:a}=r;return{type:"cheer",text:n.slice(o,o+a),cheer:t.get(i,s)}}return e}const tD=Nd.create({baseURL:"https://api.betterttv.net/3/cached"});async function N5(t,e){const r=new Map,n=await tD.get(`/users/${t}/${e}`).then(a=>a.data).catch(()=>null);if(!n)return r;const{channelEmotes:i,sharedEmotes:s}=n;if(!i||!s)return r;function o(a){a.forEach(l=>{r.set(l.code,{id:l.id,name:l.code,images:{default:ib(l.id),static:ib(l.id,!0)},source:"betterttv"})})}return o(i),o(s),r}function ib(t,e=!1){function r(n){return`https://cdn.betterttv.net/emote/${t}${e?"/static":""}/${n}x`}return{x1:r(1),x2:r(2),x4:r(3)}}const rD=Nd.create({baseURL:"https://api.frankerfacez.com/v1"});async function nD(t,e){const r=new Map,n=await rD.get(`/room/${iD(t)}/${e}`).then(s=>s.data).catch(()=>null);if(!n)return r;const{sets:i}=n;return i&&Object.keys(i).forEach(s=>{i[s].emoticons.forEach(o=>{r.set(o.name,{id:o.id.toString(),name:o.name,images:{default:sb(o),static:sb(o,!0)},source:"frankerfacez"})})}),r}function sb(t,e=!1){let r=t.urls[1],n=t.urls[2]||r,i=t.urls[4]||n;return!e&&t.animated&&(r=t.animated[1],n=t.animated[2]||r,i=t.animated[4]||n),{x1:r,x2:n,x4:i}}function iD(t){switch(t){case"twitch":return"id";case"youtube":return"yt";default:throw Error(`Unhandled platform "${t}" in FFZ Platform URL Transformer`)}}function Ld(){const{data:t}=ni();return tr({enabled:!!t,queryKey:["twitch","thirdPartyEmotes",t==null?void 0:t.id],queryFn:async()=>{const e=new Map;return(await Promise.all([N5("twitch",t.id),nD("twitch",t.id)])).forEach(n=>{n.forEach((i,s)=>{e.set(s,i)})}),e},retry:1,retryOnMount:!1,gcTime:1/0,staleTime:1/0,refetchOnMount:!1,refetchOnWindowFocus:!1,refetchOnReconnect:!1})}function sD(){const{data:t}=Ld();function e(r,n){const{position:i,length:s,id:o,name:a}=r,l=n.slice(i,i+s),u=t.get(l);return u?{type:"emote",text:l,emote:u}:{type:"emote",text:l,emote:{id:o,name:a,images:{default:ob(o),static:ob(o,!0)},source:"twitch"}}}return e}function ob(t,e=!1){function r(n){return o5(t,{animationSettings:e?"static":"default",backgroundType:"light",size:n})}return{x1:r("1.0"),x2:r("2.0"),x4:r("3.0")}}function oD(){const{data:t}=Ld();function e(r){const n=[],{text:i}=r,s=aD(Array.from(t.keys()));return i.split(s).forEach(o=>{if(o==="")return;const a=t.get(o);a?n.push({type:"emote",text:o,emote:a}):n.push({type:"text",text:o})}),n}return e}function aD(t){const e=t.map(lD).join("|"),r=String.raw`(?<=\s|[.,!]|^)(${e})(?=\s|[.,!]|$)`;return new RegExp(r,"g")}function lD(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function uD(){const{data:t}=Bd(),e=oD(),r=eD(),n=sD();function i(s,o,a=!1){if(!s)return[];const l=YO(s,o,a?t.getAllNames():void 0),u=[];return l.forEach(c=>{switch(c.type){default:case"text":u.push(...e(c));break;case"cheer":u.push(r(c,s));break;case"emote":u.push(n(c,s));break}}),u}return i}function y0(){const{data:t}=ni(),e=co();return tr({enabled:!!t,queryKey:["twitch","badges",t==null?void 0:t.id],queryFn:async()=>{const[r,n]=await Promise.all([e.chat.getGlobalBadges(),e.chat.getChannelBadges(t.id)]);return new cD(r,n)},...Zr})}class cD{constructor(e,r){_r(this,"badgeMap",new Map);this.set(e),this.set(r)}transform(e){const r=[];return e.forEach((n,i)=>{const s=this.get(i,n);s&&r.push(s)}),r}get(e,r=e==="subscriber"||e==="founder"?"0":"1"){var i,s;const n=(s=(i=this.badgeMap.get(e))==null?void 0:i.get(r))==null?void 0:s.getImageUrl(4);if(n)return{id:e,image:n}}set(e){e.forEach(r=>{const n=new Map;r.versions.forEach(i=>{n.set(i.id,i)}),this.badgeMap.set(r.id,n)})}}function dD(){const{data:t}=ni(),e=co(),r=Yc();async function n(i){return t?await r.fetchQuery({queryKey:["twitch","followDate",i],queryFn:async()=>{if(i===t.id)return new Date(0);const s=await e.channels.getChannelFollowers(t.id,i),[o]=s.data;return o?o.followDate:null},staleTime:1*60*60*1e3,gcTime:2*60*60*1e3,retry:1}):null}return{getFollowDate:n}}function fD(){const{data:t}=v0(),e=Yc();async function r(n){return t?await e.fetchQuery({queryKey:["twitch","pronouns","user",n],queryFn:async()=>{const i=await hD(n);return i?t.get(i):null},staleTime:5*60*1e3,gcTime:1*60*60*1e3,retry:0}):null}return{getPronouns:r}}function v0(){return tr({queryKey:["twitch","pronouns","all"],queryFn:async()=>pD(),...Zr})}const D5=Nd.create({baseURL:"https://pronouns.alejo.io/api"});async function hD(t){const e=await D5.get(`/users/${t}`).then(n=>n.data).catch(()=>null);if(!e)return null;const[r]=e;return r?r.pronoun_id:null}async function pD(){const t=new Map;return(await D5.get("/pronouns").then(r=>r.data)).forEach(({name:r,display:n})=>{t.set(r,n)}),t}class Le{static number(e,r){return Math.random()*(r-e)+e}static integer(e,r){return Math.floor(Math.random()*(r-e+1))+e}static chance(e){return Math.random()<e/100}static boolean(){return this.chance(50)}static index(e){return Math.floor(Math.random()*e.length)}static item(e){return e[this.index(e)]}}function B5(){const t=Yc();async function e(r,n){return await t.fetchQuery({queryKey:["twitch","user",r,"color"],queryFn:()=>n||Le.item(mD),staleTime:1/0,gcTime:1/0})}return e}const mD=["red","blue","green","firebrick","coral","yellowgreen","orangered","seagreen","goldenrod","chocolate","cadetblue","dodgerblue","hotpink","blueviolet","springgreen"];function gD(){const{getPronouns:t}=fD(),{getFollowDate:e}=dD(),{data:r}=y0(),n=B5();async function i(s){const{userId:o,userName:a,displayName:l,badges:u,color:c,isBroadcaster:h,isMod:f,isArtist:v,isVip:y,isFounder:w,isSubscriber:_}=s;return{id:o,userName:a,displayName:l,pronouns:await t(a),badges:r.transform(u),color:await n(o,c),roles:{broadcaster:h,moderator:f,artist:v,vip:y,founder:w,subscriber:_},followDate:await e(o)}}return i}function yD(){const{data:t}=O5(),e=uD(),r=gD();async function n(i,s,o){if(s instanceof Id&&(o=s.text),!o)return;const{type:a}=i,l={id:s.id,first:s.tags.get("first-msg")==="1",date:s.date,text:o,parts:e(o,s.emoteOffsets,a==="cheer"),user:await r(s.userInfo),tags:s.tags,...i};if(a!=="basic")return l;if(s.tags.get("msg-id")==="highlighted-message")return{...l,type:"highlight"};const u=s.tags.get("custom-reward-id");if(u){const f=t.get(u);if(f){const v={id:f.id,name:f.title,cost:f.cost,image:f.getImageUrl(4),color:f.backgroundColor};return{...l,type:"redeem",redeem:v}}}function c(f){return s.tags.get(`reply-parent-${f}`)||""}const h=c("msg-id");if(h){const f={id:h,text:c("msg-body"),user:{id:c("user-id"),userName:c("user-login"),displayName:c("display-name")}};return{...l,type:"reply",reply:f}}return l}return n}const nu="twitch";function vD(){const{data:t}=ni(),{isPlatformReady:e}=pl(),r=io(),{addEvent:n,removeEvent:i,removeUser:s,removeMessages:o}=md(),a=yD(),l=j.useRef(new bc),u=e("twitch");j.useEffect(()=>{if(!u)return;const c=l.current;!c.isConnected&&!c.isConnecting&&(c.connect(),c.join(t.userName));function h(_){_&&n({type:"message",id:_.id,userId:_.user.id,message:_,source:nu})}function f(_){i("message",_),r.sendEvent({type:"remove-message",messageId:_,source:nu})}function v(){o(),r.sendEvent({type:"remove-messages",source:nu})}function y(_){_&&(s(_),r.sendEvent({type:"remove-user",userId:_,source:nu}))}const w=[];return w.push(c.onMessage(async(_,g,p,m)=>{const{bits:b}=m,R=await a(b?{type:"cheer",cheer:{amount:b}}:{type:"basic"},m,p);h(R)}),c.onAction(async(_,g,p,m)=>{const b=await a({type:"action"},m,p);h(b)}),c.onResub(async(_,g,p,m)=>{const b={type:"resub",resub:{months:p.months,tier:p.plan}},S=await a(b,m);h(S)}),c.onAnnouncement(async(_,g,p,m)=>{const b={type:"announcement",announcement:{color:p.color}},S=await a(b,m);h(S)}),c.onChatClear(()=>{v()}),c.onTimeout((_,g,p,m)=>{y(m.targetUserId)}),c.onBan((_,g,p)=>{y(p.targetUserId)}),c.onMessageRemove((_,g)=>{f(g)})),()=>{w.forEach(_=>{_&&c.removeListener(_)})}},[u,r,n,i,s,o,a,t])}function L5(){const{data:t}=ni(),e=co();return tr({enabled:!!t,queryKey:["twitch","channelEmotes",t==null?void 0:t.id],queryFn:async()=>(await e.chat.getChannelEmotes(t.id)).map(n=>{const{id:i,name:s}=n;return{id:i,name:s,images:{default:ab(i),static:ab(i,!0)},source:"twitch"}}),...Zr})}function ab(t,e=!1){function r(n){return o5(t,{animationSettings:e?"static":"default",backgroundType:"light",size:n})}return{x1:r("1.0"),x2:r("2.0"),x4:r("3.0")}}function _D(){const{data:t,status:e}=ni(),{status:r}=y0(),{status:n}=L5(),{status:i}=O5(),{status:s}=Bd(),{status:o}=v0(),{status:a}=Ld(),{isPlatformReady:l}=pl(),{setPlatformReady:u}=I2();vD();const c=[e,r,n,i,s,o,a].some(h=>h==="pending");return j.useEffect(()=>{c||u("twitch")},[c]),l("twitch")?F.jsx(P2,{broadcaster:t,platform:"twitch",staticPosition:!0}):F.jsx(ga,{staticPosition:!0,message:"Key verified! Loading Twitch data...",items:[{message:"Loading broadcaster...",status:e},{message:"Loading badges...",status:r},{message:"Loading channel emotes...",status:n},{message:"Loading channel point rewards...",status:i},{message:"Loading cheermotes...",status:s},{message:"Loading pronouns...",status:o},{message:"Loading third party emotes...",status:a}]})}function _0(){const{data:t}=Js("google");return tr({enabled:!!t,queryKey:["youtube","api",t],queryFn:async()=>(await wD(),gapi.client.setToken({access_token:t}),gapi.client.youtube),...Zr})}let iu;async function wD(){return iu||(iu=new Promise(t=>{var n;const e=document.getElementsByTagName("script")[0],r=document.createElement("script");r.src="https://apis.google.com/js/api.js",(n=e.parentNode)==null||n.insertBefore(r,e),r.onload=async()=>{gapi.load("client",()=>{gapi.client.init({discoveryDocs:["https://youtube.googleapis.com/$discovery/rest?version=v3"]}).then(()=>t())})}}),iu)}function Ud(){const{data:t}=Js("google"),{data:e}=_0();return tr({enabled:!!t&&!!e,queryKey:["youtube","broadcaster",t||null],queryFn:async()=>{var c,h,f;const r=await e.channels.list({mine:!0,part:["id","snippet"]}),{items:n}=r.result;if(!n||!n.length)throw new yp;const[i]=n,{id:s,snippet:o}=i;if(!s||!o)throw new yp;const{title:a,thumbnails:l,customUrl:u}=o;if(!a)throw new yp;return{id:s,userName:u||"",displayName:a,image:((c=l==null?void 0:l.medium)==null?void 0:c.url)||((h=l==null?void 0:l.standard)==null?void 0:h.url)||((f=l==null?void 0:l.default)==null?void 0:f.url)||"",url:u?`https://www.youtube.com/${u}`:""}},...Zr})}class yp extends Error{constructor(){const e="YouTube channel not found";super(e),this.name="YouTubeChannelNotFoundError"}}function bD(){function t(e){return{id:e.id,type:"basic",user:{id:e.authorDetails.channelId,displayName:e.authorDetails.displayName,url:e.authorDetails.channelUrl,image:e.authorDetails.profileImageUrl,roles:{broadcaster:e.authorDetails.isChatOwner,moderator:e.authorDetails.isChatModerator,member:e.authorDetails.isChatSponsor},subscriptionDate:null},text:e.snippet.displayMessage,parts:[{type:"text",text:e.snippet.displayMessage}],date:new Date(e.snippet.publishedAt)}}return t}function U5(){const{data:t}=Ud(),{data:e}=_0(),[r,n]=j.useState(),i=tr({enabled:!!e,queryKey:["youtube","liveChatId",t==null?void 0:t.id],queryFn:async()=>{const s=await e.liveBroadcasts.list({mine:!0,part:["snippet","status"],maxResults:1}),{items:o}=s.result;if(!o||!o.length)throw new vp;const[a]=o,{snippet:l,status:u}=a;if(!l||!u)throw new vp;const{lifeCycleStatus:c}=u;if(c!=="live")throw new vp;const{liveChatId:h}=l;if(!h)throw new SD;return h},gcTime:1/0,staleTime:1/0,retry:!0,retryDelay:()=>(n(new Date(Date.now()+6e4)),6e4),retryOnMount:!1,refetchOnMount:!1,refetchOnWindowFocus:!1,refetchOnReconnect:!1});return{retryDate:r,...i}}class vp extends Error{constructor(){const e="YouTube live broadcast not found, retrying in 1 minute";super(e),this.name="YouTubeLiveBroadcastNotFoundError"}}class SD extends Error{constructor(){const e="YouTube live chat not found, retrying in 1 minute";super(e),this.name="YouTubeLiveChatNotFoundError"}}const xD=5*1e3;function CD(){const{data:t}=U5(),{data:e}=_0(),[r,n]=j.useState(0);return bP({enabled:!!e&&!!t,queryKey:["youtube","liveChat",t||null],queryFn:async({pageParam:i})=>{const s=await e.liveChatMessages.list({liveChatId:t,part:["id","snippet","authorDetails"],pageToken:i}),{items:o=[],pollingIntervalMillis:a=0,nextPageToken:l}=s.result,u=o.length?0:r+1;n(u);const c=u*1e3,h=Math.max(a,Math.min(a+c,xD));return{nextPageToken:l,pollingInterval:h,messages:o}},initialPageParam:"",getNextPageParam:i=>i.nextPageToken,maxPages:2,gcTime:1/0,staleTime:1/0,retry:0,retryOnMount:!1,refetchOnMount:!1,refetchOnWindowFocus:!1,refetchOnReconnect:!1})}function ED(){const{data:t,fetchNextPage:e}=CD(),{addEvent:r}=md(),n=bD();function i(s){s&&r({type:"message",id:s.id,userId:s.user.id,message:s,source:"youtube"})}j.useEffect(()=>{if(!t||!t.pages.length)return;const s=t.pages[t.pages.length-1],{pollingInterval:o,messages:a}=s;a.forEach(l=>{const{id:u,snippet:c,authorDetails:h}=l;if(!(!u||!c||!h))switch(c.type){case"textMessageEvent":i(n(l));break;case"superChatEvent":break;case"superStickerEvent":break;case"newSponsorEvent":break;case"memberMilestoneChatEvent":break;case"membershipGiftingEvent":break;case"giftMembershipReceivedEvent":break;case"messageDeletedEvent":break;case"userBannedEvent":break;default:return}}),setTimeout(()=>{e()},o)},[t,e])}function TD(t=new Date){const[e,r]=j.useState(lb(t));return j.useEffect(()=>{const n=setInterval(()=>{r(lb(t))},1e3);return()=>clearInterval(n)},[t]),Math.floor(e/1e3)}function lb(t){return Math.max(t.getTime()-Date.now(),0)}function PD(){const{data:t}=Ud(),{status:e,retryDate:r}=U5(),n=TD(r);return ED(),e!=="success"?r&&n>0?F.jsx(ga,{message:`YouTube live broadcast not found. Searching again in ${n} seconds...`}):F.jsx(ga,{message:"Searching for your YouTube live broadcast..."}):F.jsx(P2,{broadcaster:t,platform:"youtube",staticPosition:!0})}function ID(){const{data:t}=Ud();return tr({enabled:!!t,queryKey:["youtube","thirdPartyEmotes",t==null?void 0:t.id],queryFn:async()=>{const e=new Map;return(await Promise.all([N5("youtube",t.id)])).forEach(n=>{n.forEach((i,s)=>{e.set(s,i)})}),e},retry:1,retryOnMount:!1,gcTime:1/0,staleTime:1/0,refetchOnMount:!1,refetchOnWindowFocus:!1,refetchOnReconnect:!1})}function kD(){const{status:t}=Ud(),{status:e}=ID(),{isPlatformReady:r}=pl(),{setPlatformReady:n}=I2(),i=[t,e].some(s=>s==="pending");return j.useEffect(()=>{i||setTimeout(()=>{n("youtube")},1.5*1e3)},[i,n]),r("youtube")?F.jsx(PD,{}):F.jsx(ga,{staticPosition:!0,message:"Key verified! Loading YouTube data...",items:[{message:"Loading broadcaster...",status:t},{message:"Loading third party emotes...",status:e}]})}function bt(t){return new Promise((e,r)=>{t.oncomplete=t.onsuccess=()=>e(t.result),t.onabort=t.onerror=()=>r(t.error)})}function F5(t,e){const r=indexedDB.open(t);r.onupgradeneeded=()=>r.result.createObjectStore(e);const n=bt(r);return(i,s)=>n.then(o=>s(o.transaction(e,i).objectStore(e)))}let _p;function gr(){return _p||(_p=F5("keyval-store","keyval")),_p}function RD(t,e=gr()){return e("readonly",r=>bt(r.get(t)))}function AD(t,e,r=gr()){return r("readwrite",n=>(n.put(e,t),bt(n.transaction)))}function MD(t,e=gr()){return e("readwrite",r=>(t.forEach(n=>r.put(n[1],n[0])),bt(r.transaction)))}function OD(t,e=gr()){return e("readonly",r=>Promise.all(t.map(n=>bt(r.get(n)))))}function ND(t,e,r=gr()){return r("readwrite",n=>new Promise((i,s)=>{n.get(t).onsuccess=function(){try{n.put(e(this.result),t),i(bt(n.transaction))}catch(o){s(o)}}}))}function DD(t,e=gr()){return e("readwrite",r=>(r.delete(t),bt(r.transaction)))}function BD(t,e=gr()){return e("readwrite",r=>(t.forEach(n=>r.delete(n)),bt(r.transaction)))}function LD(t=gr()){return t("readwrite",e=>(e.clear(),bt(e.transaction)))}function w0(t,e){return t.openCursor().onsuccess=function(){this.result&&(e(this.result),this.result.continue())},bt(t.transaction)}function UD(t=gr()){return t("readonly",e=>{if(e.getAllKeys)return bt(e.getAllKeys());const r=[];return w0(e,n=>r.push(n.key)).then(()=>r)})}function FD(t=gr()){return t("readonly",e=>{if(e.getAll)return bt(e.getAll());const r=[];return w0(e,n=>r.push(n.value)).then(()=>r)})}function $D(t=gr()){return t("readonly",e=>{if(e.getAll&&e.getAllKeys)return Promise.all([bt(e.getAllKeys()),bt(e.getAll())]).then(([n,i])=>n.map((s,o)=>[s,i[o]]));const r=[];return t("readonly",n=>w0(n,i=>r.push([i.key,i.value])).then(()=>r))})}class qD{constructor(e){_r(this,"_store");e&&this._createStore(e)}use(e){if(!e)throw new HD;this._createStore(`widget-${e}`)}get(e){return this._throwIfStoreMissing(),RD(e,this._store)}getMany(e){return this._throwIfStoreMissing(),OD(e,this._store)}set(e,r){return this._throwIfStoreMissing(),AD(e,r,this._store)}setMany(e){return this._throwIfStoreMissing(),MD(e,this._store)}update(e,r){return this._throwIfStoreMissing(),ND(e,r,this._store)}del(e){return this._throwIfStoreMissing(),DD(e,this._store)}delMany(e){return this._throwIfStoreMissing(),BD(e,this._store)}clear(){return this._throwIfStoreMissing(),LD(this._store)}keys(){return this._throwIfStoreMissing(),UD(this._store)}values(){return this._throwIfStoreMissing(),FD(this._store)}entries(){return this._throwIfStoreMissing(),$D(this._store)}_createStore(e){this._store=F5(`slime2-${e}-db`,`slime2-${e}-store`)}_throwIfStoreMissing(){if(!this._store)throw new zD}}const jD=new qD;class HD extends Error{constructor(){const e="Parameters missing from slime2.storage.create()";super(e),this.name="CreateStorageError"}}class zD extends Error{constructor(){const e="Storage must be created using slime2.storage.create('storage-name') before use.";super(e),this.name="MissingStorageError"}}function GD(){const{status:t,error:e}=Js("twitch"),{status:r,error:n}=Js("google"),i=j.useRef(!1),{onEvent:s,setKey:o,setPlatform:a,setMaxEvents:l,setEventDelay:u,setEventExpiration:c,setWidgetSettingsPage:h}=Dk(),{platforms:f}=io();if(j.useEffect(()=>{i.current||(globalThis.slime2={onEvent:s,setKey:o,setPlatform:a,setMaxEvents:l,setEventDelay:u,setEventExpiration:c,setWidgetSettingsPage:h,storage:jD,color:fA,random:Le,cloneTemplate:pA},dispatchEvent(new CustomEvent("slime2:ready")),i.current=!0)},[]),f.includes("twitch")){if(e instanceof ig)return F.jsx(Hl,{message:"Twitch key not found."});if(e instanceof sg)return F.jsx(Hl,{message:"Twitch key expired."})}if(f.includes("youtube")){if(n instanceof ig)return F.jsx(Hl,{message:"YouTube key not found."});if(n instanceof sg)return F.jsx(Hl,{message:"YouTube key expired."})}return!!f.length&&[t,r].some(y=>y==="pending")?F.jsx(ga,{message:"Verifying Key..."}):F.jsxs("div",{className:"absolute inset-x-0",children:[t==="success"&&F.jsx(_D,{}),r==="success"&&F.jsx(kD,{})]})}var $5={exports:{}},wp={exports:{}},ub;function WD(){return ub||(ub=1,function(t){(function(e,r){t.exports?t.exports=r():e.EvEmitter=r()})(typeof window<"u"?window:Vc,function(){function e(){}let r=e.prototype;return r.on=function(n,i){if(!n||!i)return this;let s=this._events=this._events||{},o=s[n]=s[n]||[];return o.includes(i)||o.push(i),this},r.once=function(n,i){if(!n||!i)return this;this.on(n,i);let s=this._onceEvents=this._onceEvents||{},o=s[n]=s[n]||{};return o[i]=!0,this},r.off=function(n,i){let s=this._events&&this._events[n];if(!s||!s.length)return this;let o=s.indexOf(i);return o!=-1&&s.splice(o,1),this},r.emitEvent=function(n,i){let s=this._events&&this._events[n];if(!s||!s.length)return this;s=s.slice(0),i=i||[];let o=this._onceEvents&&this._onceEvents[n];for(let a of s)o&&o[a]&&(this.off(n,a),delete o[a]),a.apply(this,i);return this},r.allOff=function(){return delete this._events,delete this._onceEvents,this},e})}(wp)),wp.exports}/*!
 * imagesLoaded v5.0.0
 * JavaScript is all like "You images are done yet or what?"
 * MIT License
 */(function(t){(function(e,r){t.exports?t.exports=r(e,WD()):e.imagesLoaded=r(e,e.EvEmitter)})(typeof window<"u"?window:Vc,function(r,n){let i=r.jQuery,s=r.console;function o(f){return Array.isArray(f)?f:typeof f=="object"&&typeof f.length=="number"?[...f]:[f]}function a(f,v,y){if(!(this instanceof a))return new a(f,v,y);let w=f;if(typeof f=="string"&&(w=document.querySelectorAll(f)),!w){s.error(`Bad element for imagesLoaded ${w||f}`);return}this.elements=o(w),this.options={},typeof v=="function"?y=v:Object.assign(this.options,v),y&&this.on("always",y),this.getImages(),i&&(this.jqDeferred=new i.Deferred),setTimeout(this.check.bind(this))}a.prototype=Object.create(n.prototype),a.prototype.getImages=function(){this.images=[],this.elements.forEach(this.addElementImages,this)};const l=[1,9,11];a.prototype.addElementImages=function(f){f.nodeName==="IMG"&&this.addImage(f),this.options.background===!0&&this.addElementBackgroundImages(f);let{nodeType:v}=f;if(!v||!l.includes(v))return;let y=f.querySelectorAll("img");for(let w of y)this.addImage(w);if(typeof this.options.background=="string"){let w=f.querySelectorAll(this.options.background);for(let _ of w)this.addElementBackgroundImages(_)}};const u=/url\((['"])?(.*?)\1\)/gi;a.prototype.addElementBackgroundImages=function(f){let v=getComputedStyle(f);if(!v)return;let y=u.exec(v.backgroundImage);for(;y!==null;){let w=y&&y[2];w&&this.addBackground(w,f),y=u.exec(v.backgroundImage)}},a.prototype.addImage=function(f){let v=new c(f);this.images.push(v)},a.prototype.addBackground=function(f,v){let y=new h(f,v);this.images.push(y)},a.prototype.check=function(){if(this.progressedCount=0,this.hasAnyBroken=!1,!this.images.length){this.complete();return}let f=(v,y,w)=>{setTimeout(()=>{this.progress(v,y,w)})};this.images.forEach(function(v){v.once("progress",f),v.check()})},a.prototype.progress=function(f,v,y){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!f.isLoaded,this.emitEvent("progress",[this,f,v]),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,f),this.progressedCount===this.images.length&&this.complete(),this.options.debug&&s&&s.log(`progress: ${y}`,f,v)},a.prototype.complete=function(){let f=this.hasAnyBroken?"fail":"done";if(this.isComplete=!0,this.emitEvent(f,[this]),this.emitEvent("always",[this]),this.jqDeferred){let v=this.hasAnyBroken?"reject":"resolve";this.jqDeferred[v](this)}};function c(f){this.img=f}c.prototype=Object.create(n.prototype),c.prototype.check=function(){if(this.getIsImageComplete()){this.confirm(this.img.naturalWidth!==0,"naturalWidth");return}this.proxyImage=new Image,this.img.crossOrigin&&(this.proxyImage.crossOrigin=this.img.crossOrigin),this.proxyImage.addEventListener("load",this),this.proxyImage.addEventListener("error",this),this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.proxyImage.src=this.img.currentSrc||this.img.src},c.prototype.getIsImageComplete=function(){return this.img.complete&&this.img.naturalWidth},c.prototype.confirm=function(f,v){this.isLoaded=f;let{parentNode:y}=this.img,w=y.nodeName==="PICTURE"?y:this.img;this.emitEvent("progress",[this,w,v])},c.prototype.handleEvent=function(f){let v="on"+f.type;this[v]&&this[v](f)},c.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},c.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},c.prototype.unbindEvents=function(){this.proxyImage.removeEventListener("load",this),this.proxyImage.removeEventListener("error",this),this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)};function h(f,v){this.url=f,this.element=v,this.img=new Image}return h.prototype=Object.create(c.prototype),h.prototype.check=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.img.src=this.url,this.getIsImageComplete()&&(this.confirm(this.img.naturalWidth!==0,"naturalWidth"),this.unbindEvents())},h.prototype.unbindEvents=function(){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},h.prototype.confirm=function(f,v){this.isLoaded=f,this.emitEvent("progress",[this,this.element,v])},a.makeJQueryPlugin=function(f){f=f||r.jQuery,f&&(i=f,i.fn.imagesLoaded=function(v,y){return new a(this,v,y).jqDeferred.promise(i(this))})},a.makeJQueryPlugin(),a})})($5);var VD=$5.exports;const QD=Xr(VD);function KD(t){const e=io(),{removeEvent:r}=md(),n=j.useRef(null),i=j.useRef(),s=j.useRef(!1),[o,a]=j.useState();function l(){r(t.type,t.id)}return j.useEffect(()=>{if(s.current)return;async function u(){s.current=!0;const c=await e.sendEvent({...t});i.current=c||{};const{fragment:h}=i.current;a(h?hA(h):"")}u()},[]),j.useEffect(()=>{if(!n.current||!i.current||!o)return;const{callback:u}=i.current;function c(f,v){setTimeout(()=>{if(!v||!v.animationTime)l();else{const{animationTime:y,animationClass:w,animationFunction:_}=v;w&&h.classList.add(w),_&&_(h),setTimeout(l,y)}},f)}const h=n.current.firstElementChild;QD(h,()=>{u&&u(h);const{eventExpiration:f,eventExpirationOptions:v}=e;f&&c(f,v)})},[o]),o===""&&l(),o?F.jsx("div",{className:"slime2-event","data-event-id":t.id,"data-event-type":t.type,"data-event-user-id":t.userId,"data-event-source":t.source,dangerouslySetInnerHTML:{__html:o},ref:n}):null}const YD=j.memo(KD);function XD(){const t=M2();function e(){return t.map(r=>{const n=`${r.type}-${r.id}`;return F.jsx(YD,{...r},n)})}return F.jsx("div",{id:"slime2-event-list",children:e()})}function JD(){const[t,e]=j.useState({x:0,y:0});return j.useEffect(()=>{function r(n){e({x:n.clientX,y:n.clientY})}return addEventListener("mousemove",r),()=>{removeEventListener("mousemove",r)}},[]),t}function ZD(){return j.useContext(j5)}function q5(){const t=j.useContext(H5),e=JD();function r(s){t({type:"add",window:{...s,initialMousePosition:e}})}function n(s){t({type:"remove",id:s})}function i(s){t({type:"top",id:s})}return{openWindow:r,closeWindow:n,sendWindowToTop:i}}const e6=[],j5=j.createContext(e6),H5=j.createContext(cl);function t6(t,e){switch(e.type){case"add":return!!t.find(n=>n.id===e.window.id)?t:[...t,e.window];case"remove":return t.filter(r=>r.id!==e.id);case"top":{const r=t.findIndex(n=>n.id===e.id);return r===-1||r===t.length-1?t:[...t.filter(n=>n.id!==e.id),t[r]]}}}function r6(){const{addEvent:t}=md(),{data:e}=Ld(),{data:r}=L5(),{data:n}=Bd(),{data:i}=y0(),{data:s}=v0(),{isPlatformReady:o}=pl(),a=B5();async function l(){if(!o("twitch"))return;const u=Array.from(s.values()),c=[...r,...Array.from(e.values())],h=new Date,f=Le.chance(5),v="test message",y=`long test message${" long test message".repeat(5)}`,w="LongTestMessage".repeat(7);let _=v;Le.chance(5)&&(_=y),Le.chance(5)&&(_=w),_=`${_}${Le.item(l6)}`;let g=_;f&&(_=`${_} (first time chat)`);const p=[],m={id:`test-user-${h.getTime()}`,userName:"testuser",displayName:"testUser",pronouns:Le.boolean()?null:Le.item(u),badges:[],color:await a("testuser"),roles:{broadcaster:!1,moderator:!1,artist:!1,vip:!1,founder:!1,subscriber:!1},followDate:new Date(0)},b=Le.boolean()?"user":Le.item(n6),S=i.get(b==="artist"?"artist-badge":b);b!=="user"&&S&&(m.badges=[S],m.roles[b]=!0,(b==="founder"||b==="broadcaster")&&(m.roles.subscriber=!0),m.userName=`test${b}`,m.displayName=`test${b.charAt(0).toUpperCase()}${b.slice(1)}`,m.color=await a(m.userName));let R={type:"basic"};if(Le.boolean()){const I=Le.item(i6);switch(I){case"action":_=`${_} (/me action message)`,g=_,R={type:I};break;case"highlight":_=`${_} (highlighted message)`,g=_,R={type:I};break;case"cheer":{const L=Le.item(a6),H="Cheer";R={type:I,cheer:{amount:L}};const X=`${H}${L}`;g=`${_} (cheer message)`,_=`${X} ${g}`,p.unshift({type:"text",text:" "}),p.unshift({type:"cheer",text:X,cheer:n.get(H,L)})}break;case"reply":R={type:I,reply:{id:`test-reply-${h.getTime()}`,text:"test message being replied to",user:{id:`test-user-reply-${h.getTime()}`,userName:"testreplyuser",displayName:"testReplyUser"}}},_=`${_} (reply message)`,g=_;break;case"redeem":R={type:I,redeem:{id:`test-redeem-${h.getTime()}`,name:"Test Redeem",image:"https://static-cdn.jtvnw.net/custom-reward-images/default-4.png",color:"#FFC6FF",cost:Le.integer(1,1e4)}},_=`${_} (channel point redemption requiring text)`,g=_;break;case"resub":R={type:I,resub:{months:Le.integer(1,24),tier:Le.item(s6)}},_=`${_} (resub message)`,g=_;break;case"announcement":(b==="broadcaster"||b==="moderator")&&(R={type:I,announcement:{color:Le.item(o6)}},_=`${_} (announcement message)`,g=_);break}}if(Le.boolean()&&c.length){const I=Le.item(c);p.unshift({type:"text",text:" "}),p.unshift({type:"emote",emote:I,text:I.name}),_=`${I.name} ${_}`}R.type==="basic"&&Le.chance(20)&&(_="hi",g=_),p.push({type:"text",text:g});const A={...R,id:`test-message-${h.getTime()}`,first:f,date:h,user:m,text:_,parts:p,tags:new Map([["test","1"]])};t({type:"message",id:A.id,userId:A.user.id,message:A,source:"twitch",emulated:!0})}return l}const n6=["broadcaster","moderator","artist","vip","founder","subscriber"],i6=["action","highlight","cheer","reply","redeem","resub","announcement"],s6=["1000","2000","3000","Prime"],o6=["PRIMARY","BLUE","GREEN","ORANGE","PURPLE"],a6=[1,5,10,50,100,500,1e3,5e3,1e4],l6=["",".","...","!","?","!!","!?","?!"];function u6(t){switch(t.type){case"text-input":return F.jsx(c6,{...t});case"text-area-input":return F.jsx(d6,{...t});default:return null}}function c6({defaultValue:t,keyName:e,label:r=""}){return F.jsxs("label",{className:"block ",children:[r,F.jsx("input",{className:"block w-full rounded border-2 border-emerald-800 px-2 outline-offset-4 focus:outline-2 focus:outline-emerald-500",defaultValue:t,name:e})]})}function d6({defaultValue:t,keyName:e,label:r=""}){return F.jsxs("label",{className:"block ",children:[r,F.jsx("textarea",{className:" scrollbar-track-emerald-800/25 scrollbar active:scrollbar-thumb-emerald-600 scrollbar-track-rounded-none scrollbar-thumb-rounded-none hover:scrollbar-thumb-emerald-700 scrollbar-thumb-emerald-800 block min-h-[150px] w-full resize-none overflow-auto rounded border-2 border-emerald-800 px-2 outline-offset-4 hover:resize-y focus:outline-2 focus:outline-emerald-500",defaultValue:t,name:e})]})}function f6(){const t=[{type:"text-input",key:"test",label:"Test",defaultValue:"test"},{type:"text-input",key:"test2",label:"Test2",defaultValue:"test2"},{type:"text-area-input",key:"test3",label:"Test3",defaultValue:"test3"}];for(let e=0;e<100;e++)t.push({type:"text-area-input",key:`more-${e}`,label:`More-${e}`,defaultValue:"aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"});return F.jsx("div",{className:"flex flex-col gap-4  px-2 pb-2 pt-1",children:t.map(e=>{const{key:r,...n}=e;return F.jsx(u6,{keyName:r,...n},r)})})}function h6(){const t=r6(),{isPlatformReady:e}=pl(),r=e("twitch"),{openWindow:n}=q5();return F.jsxs("div",{className:"flex flex-col justify-center gap-2 p-3",children:[F.jsx("button",{onClick:t,className:ma("flex justify-center overflow-hidden rounded-2xl border-2 border-emerald-800 bg-gradient-to-b from-lime-600 to-emerald-700 px-3 py-1 text-center",r&&"btn-shadow-i hover:from-lime-500 hover:to-emerald-600 focus:outline-offset-8",!r&&"grayscale"),disabled:!r,children:F.jsx("span",{className:"font-grandstander font-semibold text-lime-100 text-shadow text-shadow-c-black/75 text-shadow-y-px",children:r?"Send Test Message":"Loading..."})}),F.jsx("button",{onClick:()=>n({id:"widget-settings",title:"Widget Settings",className:"w-96",children:F.jsx(f6,{})}),className:ma("flex justify-center overflow-hidden rounded-2xl border-2 border-emerald-800 bg-gradient-to-b from-lime-600 to-emerald-700 px-3 py-1 text-center",r&&"btn-shadow-i hover:from-lime-500 hover:to-emerald-600 focus:outline-offset-8",!r&&"grayscale"),disabled:!r,children:F.jsx("span",{className:"font-grandstander font-semibold text-lime-100 text-shadow text-shadow-c-black/75 text-shadow-y-px",children:r?"Widget Settings":"Loading..."})})]})}function p6({children:t}){const[e,r]=j.useReducer(t6,[{id:"main",title:"Settings",children:F.jsx(h6,{})}]);return F.jsx(j5.Provider,{value:e,children:F.jsx(H5.Provider,{value:r,children:t})})}var Fd={exports:{}},z5={},G5={exports:{}},m6="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",g6=m6,y6=g6;function W5(){}function V5(){}V5.resetWarningCache=W5;var v6=function(){function t(n,i,s,o,a,l){if(l!==y6){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:V5,resetWarningCache:W5};return r.PropTypes=r,r};G5.exports=v6();var b0=G5.exports;const su=Xr(b0);function Q5(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(r=Q5(t[e]))&&(n&&(n+=" "),n+=r);else for(e in t)t[e]&&(n&&(n+=" "),n+=e);return n}function cb(){for(var t,e,r=0,n="";r<arguments.length;)(t=arguments[r++])&&(e=Q5(t))&&(n&&(n+=" "),n+=e);return n}const _6=Object.freeze(Object.defineProperty({__proto__:null,clsx:cb,default:cb},Symbol.toStringTag,{value:"Module"})),w6=bb(_6);var Ne={},Lr={};Object.defineProperty(Lr,"__esModule",{value:!0});Lr.dontSetMe=E6;Lr.findInArray=b6;Lr.int=C6;Lr.isFunction=S6;Lr.isNum=x6;function b6(t,e){for(let r=0,n=t.length;r<n;r++)if(e.apply(e,[t[r],r,t]))return t[r]}function S6(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Function]"}function x6(t){return typeof t=="number"&&!isNaN(t)}function C6(t){return parseInt(t,10)}function E6(t,e,r){if(t[e])return new Error("Invalid prop ".concat(e," passed to ").concat(r," - do not set this, set it on the child."))}var ji={};Object.defineProperty(ji,"__esModule",{value:!0});ji.browserPrefixToKey=Y5;ji.browserPrefixToStyle=T6;ji.default=void 0;ji.getPrefix=K5;const bp=["Moz","Webkit","O","ms"];function K5(){var t;let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";const r=(t=window.document)===null||t===void 0||(t=t.documentElement)===null||t===void 0?void 0:t.style;if(!r||e in r)return"";for(let n=0;n<bp.length;n++)if(Y5(e,bp[n])in r)return bp[n];return""}function Y5(t,e){return e?"".concat(e).concat(P6(t)):t}function T6(t,e){return e?"-".concat(e.toLowerCase(),"-").concat(t):t}function P6(t){let e="",r=!0;for(let n=0;n<t.length;n++)r?(e+=t[n].toUpperCase(),r=!1):t[n]==="-"?r=!0:e+=t[n];return e}ji.default=K5();Object.defineProperty(Ne,"__esModule",{value:!0});Ne.addClassName=Z5;Ne.addEvent=R6;Ne.addUserSelectStyles=q6;Ne.createCSSTransform=L6;Ne.createSVGTransform=U6;Ne.getTouch=F6;Ne.getTouchIdentifier=$6;Ne.getTranslation=S0;Ne.innerHeight=N6;Ne.innerWidth=D6;Ne.matchesSelector=J5;Ne.matchesSelectorAndParentsTo=k6;Ne.offsetXYFromParent=B6;Ne.outerHeight=M6;Ne.outerWidth=O6;Ne.removeClassName=eT;Ne.removeEvent=A6;Ne.removeUserSelectStyles=j6;var Mt=Lr,db=I6(ji);function X5(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,r=new WeakMap;return(X5=function(n){return n?r:e})(t)}function I6(t,e){if(!e&&t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var r=X5(e);if(r&&r.has(t))return r.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(s!=="default"&&Object.prototype.hasOwnProperty.call(t,s)){var o=i?Object.getOwnPropertyDescriptor(t,s):null;o&&(o.get||o.set)?Object.defineProperty(n,s,o):n[s]=t[s]}return n.default=t,r&&r.set(t,n),n}let ou="";function J5(t,e){return ou||(ou=(0,Mt.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(r){return(0,Mt.isFunction)(t[r])})),(0,Mt.isFunction)(t[ou])?t[ou](e):!1}function k6(t,e,r){let n=t;do{if(J5(n,e))return!0;if(n===r)return!1;n=n.parentNode}while(n);return!1}function R6(t,e,r,n){if(!t)return;const i={capture:!0,...n};t.addEventListener?t.addEventListener(e,r,i):t.attachEvent?t.attachEvent("on"+e,r):t["on"+e]=r}function A6(t,e,r,n){if(!t)return;const i={capture:!0,...n};t.removeEventListener?t.removeEventListener(e,r,i):t.detachEvent?t.detachEvent("on"+e,r):t["on"+e]=null}function M6(t){let e=t.clientHeight;const r=t.ownerDocument.defaultView.getComputedStyle(t);return e+=(0,Mt.int)(r.borderTopWidth),e+=(0,Mt.int)(r.borderBottomWidth),e}function O6(t){let e=t.clientWidth;const r=t.ownerDocument.defaultView.getComputedStyle(t);return e+=(0,Mt.int)(r.borderLeftWidth),e+=(0,Mt.int)(r.borderRightWidth),e}function N6(t){let e=t.clientHeight;const r=t.ownerDocument.defaultView.getComputedStyle(t);return e-=(0,Mt.int)(r.paddingTop),e-=(0,Mt.int)(r.paddingBottom),e}function D6(t){let e=t.clientWidth;const r=t.ownerDocument.defaultView.getComputedStyle(t);return e-=(0,Mt.int)(r.paddingLeft),e-=(0,Mt.int)(r.paddingRight),e}function B6(t,e,r){const i=e===e.ownerDocument.body?{left:0,top:0}:e.getBoundingClientRect(),s=(t.clientX+e.scrollLeft-i.left)/r,o=(t.clientY+e.scrollTop-i.top)/r;return{x:s,y:o}}function L6(t,e){const r=S0(t,e,"px");return{[(0,db.browserPrefixToKey)("transform",db.default)]:r}}function U6(t,e){return S0(t,e,"")}function S0(t,e,r){let{x:n,y:i}=t,s="translate(".concat(n).concat(r,",").concat(i).concat(r,")");if(e){const o="".concat(typeof e.x=="string"?e.x:e.x+r),a="".concat(typeof e.y=="string"?e.y:e.y+r);s="translate(".concat(o,", ").concat(a,")")+s}return s}function F6(t,e){return t.targetTouches&&(0,Mt.findInArray)(t.targetTouches,r=>e===r.identifier)||t.changedTouches&&(0,Mt.findInArray)(t.changedTouches,r=>e===r.identifier)}function $6(t){if(t.targetTouches&&t.targetTouches[0])return t.targetTouches[0].identifier;if(t.changedTouches&&t.changedTouches[0])return t.changedTouches[0].identifier}function q6(t){if(!t)return;let e=t.getElementById("react-draggable-style-el");e||(e=t.createElement("style"),e.type="text/css",e.id="react-draggable-style-el",e.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,e.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,t.getElementsByTagName("head")[0].appendChild(e)),t.body&&Z5(t.body,"react-draggable-transparent-selection")}function j6(t){if(t)try{if(t.body&&eT(t.body,"react-draggable-transparent-selection"),t.selection)t.selection.empty();else{const e=(t.defaultView||window).getSelection();e&&e.type!=="Caret"&&e.removeAllRanges()}}catch{}}function Z5(t,e){t.classList?t.classList.add(e):t.className.match(new RegExp("(?:^|\\s)".concat(e,"(?!\\S)")))||(t.className+=" ".concat(e))}function eT(t,e){t.classList?t.classList.remove(e):t.className=t.className.replace(new RegExp("(?:^|\\s)".concat(e,"(?!\\S)"),"g"),"")}var Ur={};Object.defineProperty(Ur,"__esModule",{value:!0});Ur.canDragX=G6;Ur.canDragY=W6;Ur.createCoreData=Q6;Ur.createDraggableData=K6;Ur.getBoundPosition=H6;Ur.getControlPosition=V6;Ur.snapToGrid=z6;var Et=Lr,ps=Ne;function H6(t,e,r){if(!t.props.bounds)return[e,r];let{bounds:n}=t.props;n=typeof n=="string"?n:Y6(n);const i=x0(t);if(typeof n=="string"){const{ownerDocument:s}=i,o=s.defaultView;let a;if(n==="parent"?a=i.parentNode:a=s.querySelector(n),!(a instanceof o.HTMLElement))throw new Error('Bounds selector "'+n+'" could not find an element.');const l=a,u=o.getComputedStyle(i),c=o.getComputedStyle(l);n={left:-i.offsetLeft+(0,Et.int)(c.paddingLeft)+(0,Et.int)(u.marginLeft),top:-i.offsetTop+(0,Et.int)(c.paddingTop)+(0,Et.int)(u.marginTop),right:(0,ps.innerWidth)(l)-(0,ps.outerWidth)(i)-i.offsetLeft+(0,Et.int)(c.paddingRight)-(0,Et.int)(u.marginRight),bottom:(0,ps.innerHeight)(l)-(0,ps.outerHeight)(i)-i.offsetTop+(0,Et.int)(c.paddingBottom)-(0,Et.int)(u.marginBottom)}}return(0,Et.isNum)(n.right)&&(e=Math.min(e,n.right)),(0,Et.isNum)(n.bottom)&&(r=Math.min(r,n.bottom)),(0,Et.isNum)(n.left)&&(e=Math.max(e,n.left)),(0,Et.isNum)(n.top)&&(r=Math.max(r,n.top)),[e,r]}function z6(t,e,r){const n=Math.round(e/t[0])*t[0],i=Math.round(r/t[1])*t[1];return[n,i]}function G6(t){return t.props.axis==="both"||t.props.axis==="x"}function W6(t){return t.props.axis==="both"||t.props.axis==="y"}function V6(t,e,r){const n=typeof e=="number"?(0,ps.getTouch)(t,e):null;if(typeof e=="number"&&!n)return null;const i=x0(r),s=r.props.offsetParent||i.offsetParent||i.ownerDocument.body;return(0,ps.offsetXYFromParent)(n||t,s,r.props.scale)}function Q6(t,e,r){const n=!(0,Et.isNum)(t.lastX),i=x0(t);return n?{node:i,deltaX:0,deltaY:0,lastX:e,lastY:r,x:e,y:r}:{node:i,deltaX:e-t.lastX,deltaY:r-t.lastY,lastX:t.lastX,lastY:t.lastY,x:e,y:r}}function K6(t,e){const r=t.props.scale;return{node:e.node,x:t.state.x+e.deltaX/r,y:t.state.y+e.deltaY/r,deltaX:e.deltaX/r,deltaY:e.deltaY/r,lastX:t.state.x,lastY:t.state.y}}function Y6(t){return{left:t.left,top:t.top,right:t.right,bottom:t.bottom}}function x0(t){const e=t.findDOMNode();if(!e)throw new Error("<DraggableCore>: Unmounted during event!");return e}var $d={},qd={};Object.defineProperty(qd,"__esModule",{value:!0});qd.default=X6;function X6(){}Object.defineProperty($d,"__esModule",{value:!0});$d.default=void 0;var Sp=Z6(j),pt=C0(b0),J6=C0(Ry),nt=Ne,hn=Ur,xp=Lr,To=C0(qd);function C0(t){return t&&t.__esModule?t:{default:t}}function tT(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,r=new WeakMap;return(tT=function(n){return n?r:e})(t)}function Z6(t,e){if(!e&&t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var r=tT(e);if(r&&r.has(t))return r.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(s!=="default"&&Object.prototype.hasOwnProperty.call(t,s)){var o=i?Object.getOwnPropertyDescriptor(t,s):null;o&&(o.get||o.set)?Object.defineProperty(n,s,o):n[s]=t[s]}return n.default=t,r&&r.set(t,n),n}function lt(t,e,r){return e=e8(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function e8(t){var e=t8(t,"string");return typeof e=="symbol"?e:String(e)}function t8(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}const sr={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}};let pn=sr.mouse,jd=class extends Sp.Component{constructor(){super(...arguments),lt(this,"dragging",!1),lt(this,"lastX",NaN),lt(this,"lastY",NaN),lt(this,"touchIdentifier",null),lt(this,"mounted",!1),lt(this,"handleDragStart",e=>{if(this.props.onMouseDown(e),!this.props.allowAnyClick&&typeof e.button=="number"&&e.button!==0)return!1;const r=this.findDOMNode();if(!r||!r.ownerDocument||!r.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");const{ownerDocument:n}=r;if(this.props.disabled||!(e.target instanceof n.defaultView.Node)||this.props.handle&&!(0,nt.matchesSelectorAndParentsTo)(e.target,this.props.handle,r)||this.props.cancel&&(0,nt.matchesSelectorAndParentsTo)(e.target,this.props.cancel,r))return;e.type==="touchstart"&&e.preventDefault();const i=(0,nt.getTouchIdentifier)(e);this.touchIdentifier=i;const s=(0,hn.getControlPosition)(e,i,this);if(s==null)return;const{x:o,y:a}=s,l=(0,hn.createCoreData)(this,o,a);(0,To.default)("DraggableCore: handleDragStart: %j",l),(0,To.default)("calling",this.props.onStart),!(this.props.onStart(e,l)===!1||this.mounted===!1)&&(this.props.enableUserSelectHack&&(0,nt.addUserSelectStyles)(n),this.dragging=!0,this.lastX=o,this.lastY=a,(0,nt.addEvent)(n,pn.move,this.handleDrag),(0,nt.addEvent)(n,pn.stop,this.handleDragStop))}),lt(this,"handleDrag",e=>{const r=(0,hn.getControlPosition)(e,this.touchIdentifier,this);if(r==null)return;let{x:n,y:i}=r;if(Array.isArray(this.props.grid)){let a=n-this.lastX,l=i-this.lastY;if([a,l]=(0,hn.snapToGrid)(this.props.grid,a,l),!a&&!l)return;n=this.lastX+a,i=this.lastY+l}const s=(0,hn.createCoreData)(this,n,i);if((0,To.default)("DraggableCore: handleDrag: %j",s),this.props.onDrag(e,s)===!1||this.mounted===!1){try{this.handleDragStop(new MouseEvent("mouseup"))}catch{const l=document.createEvent("MouseEvents");l.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(l)}return}this.lastX=n,this.lastY=i}),lt(this,"handleDragStop",e=>{if(!this.dragging)return;const r=(0,hn.getControlPosition)(e,this.touchIdentifier,this);if(r==null)return;let{x:n,y:i}=r;if(Array.isArray(this.props.grid)){let l=n-this.lastX||0,u=i-this.lastY||0;[l,u]=(0,hn.snapToGrid)(this.props.grid,l,u),n=this.lastX+l,i=this.lastY+u}const s=(0,hn.createCoreData)(this,n,i);if(this.props.onStop(e,s)===!1||this.mounted===!1)return!1;const a=this.findDOMNode();a&&this.props.enableUserSelectHack&&(0,nt.removeUserSelectStyles)(a.ownerDocument),(0,To.default)("DraggableCore: handleDragStop: %j",s),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,a&&((0,To.default)("DraggableCore: Removing handlers"),(0,nt.removeEvent)(a.ownerDocument,pn.move,this.handleDrag),(0,nt.removeEvent)(a.ownerDocument,pn.stop,this.handleDragStop))}),lt(this,"onMouseDown",e=>(pn=sr.mouse,this.handleDragStart(e))),lt(this,"onMouseUp",e=>(pn=sr.mouse,this.handleDragStop(e))),lt(this,"onTouchStart",e=>(pn=sr.touch,this.handleDragStart(e))),lt(this,"onTouchEnd",e=>(pn=sr.touch,this.handleDragStop(e)))}componentDidMount(){this.mounted=!0;const e=this.findDOMNode();e&&(0,nt.addEvent)(e,sr.touch.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;const e=this.findDOMNode();if(e){const{ownerDocument:r}=e;(0,nt.removeEvent)(r,sr.mouse.move,this.handleDrag),(0,nt.removeEvent)(r,sr.touch.move,this.handleDrag),(0,nt.removeEvent)(r,sr.mouse.stop,this.handleDragStop),(0,nt.removeEvent)(r,sr.touch.stop,this.handleDragStop),(0,nt.removeEvent)(e,sr.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,nt.removeUserSelectStyles)(r)}}findDOMNode(){var e,r;return(e=this.props)!==null&&e!==void 0&&e.nodeRef?(r=this.props)===null||r===void 0||(r=r.nodeRef)===null||r===void 0?void 0:r.current:J6.default.findDOMNode(this)}render(){return Sp.cloneElement(Sp.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}};$d.default=jd;lt(jd,"displayName","DraggableCore");lt(jd,"propTypes",{allowAnyClick:pt.default.bool,children:pt.default.node.isRequired,disabled:pt.default.bool,enableUserSelectHack:pt.default.bool,offsetParent:function(t,e){if(t[e]&&t[e].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:pt.default.arrayOf(pt.default.number),handle:pt.default.string,cancel:pt.default.string,nodeRef:pt.default.object,onStart:pt.default.func,onDrag:pt.default.func,onStop:pt.default.func,onMouseDown:pt.default.func,scale:pt.default.number,className:xp.dontSetMe,style:xp.dontSetMe,transform:xp.dontSetMe});lt(jd,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1});(function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"DraggableCore",{enumerable:!0,get:function(){return l.default}}),t.default=void 0;var e=f(j),r=c(b0),n=c(Ry),i=c(w6),s=Ne,o=Ur,a=Lr,l=c($d),u=c(qd);function c(p){return p&&p.__esModule?p:{default:p}}function h(p){if(typeof WeakMap!="function")return null;var m=new WeakMap,b=new WeakMap;return(h=function(S){return S?b:m})(p)}function f(p,m){if(!m&&p&&p.__esModule)return p;if(p===null||typeof p!="object"&&typeof p!="function")return{default:p};var b=h(m);if(b&&b.has(p))return b.get(p);var S={},R=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var A in p)if(A!=="default"&&Object.prototype.hasOwnProperty.call(p,A)){var I=R?Object.getOwnPropertyDescriptor(p,A):null;I&&(I.get||I.set)?Object.defineProperty(S,A,I):S[A]=p[A]}return S.default=p,b&&b.set(p,S),S}function v(){return v=Object.assign?Object.assign.bind():function(p){for(var m=1;m<arguments.length;m++){var b=arguments[m];for(var S in b)Object.prototype.hasOwnProperty.call(b,S)&&(p[S]=b[S])}return p},v.apply(this,arguments)}function y(p,m,b){return m=w(m),m in p?Object.defineProperty(p,m,{value:b,enumerable:!0,configurable:!0,writable:!0}):p[m]=b,p}function w(p){var m=_(p,"string");return typeof m=="symbol"?m:String(m)}function _(p,m){if(typeof p!="object"||p===null)return p;var b=p[Symbol.toPrimitive];if(b!==void 0){var S=b.call(p,m||"default");if(typeof S!="object")return S;throw new TypeError("@@toPrimitive must return a primitive value.")}return(m==="string"?String:Number)(p)}class g extends e.Component{static getDerivedStateFromProps(m,b){let{position:S}=m,{prevPropsPosition:R}=b;return S&&(!R||S.x!==R.x||S.y!==R.y)?((0,u.default)("Draggable: getDerivedStateFromProps %j",{position:S,prevPropsPosition:R}),{x:S.x,y:S.y,prevPropsPosition:{...S}}):null}constructor(m){super(m),y(this,"onDragStart",(b,S)=>{if((0,u.default)("Draggable: onDragStart: %j",S),this.props.onStart(b,(0,o.createDraggableData)(this,S))===!1)return!1;this.setState({dragging:!0,dragged:!0})}),y(this,"onDrag",(b,S)=>{if(!this.state.dragging)return!1;(0,u.default)("Draggable: onDrag: %j",S);const R=(0,o.createDraggableData)(this,S),A={x:R.x,y:R.y,slackX:0,slackY:0};if(this.props.bounds){const{x:L,y:H}=A;A.x+=this.state.slackX,A.y+=this.state.slackY;const[X,_e]=(0,o.getBoundPosition)(this,A.x,A.y);A.x=X,A.y=_e,A.slackX=this.state.slackX+(L-A.x),A.slackY=this.state.slackY+(H-A.y),R.x=A.x,R.y=A.y,R.deltaX=A.x-this.state.x,R.deltaY=A.y-this.state.y}if(this.props.onDrag(b,R)===!1)return!1;this.setState(A)}),y(this,"onDragStop",(b,S)=>{if(!this.state.dragging||this.props.onStop(b,(0,o.createDraggableData)(this,S))===!1)return!1;(0,u.default)("Draggable: onDragStop: %j",S);const A={dragging:!1,slackX:0,slackY:0};if(!!this.props.position){const{x:L,y:H}=this.props.position;A.x=L,A.y=H}this.setState(A)}),this.state={dragging:!1,dragged:!1,x:m.position?m.position.x:m.defaultPosition.x,y:m.position?m.position.y:m.defaultPosition.y,prevPropsPosition:{...m.position},slackX:0,slackY:0,isElementSVG:!1},m.position&&!(m.onDrag||m.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.setState({dragging:!1})}findDOMNode(){var m,b;return(m=(b=this.props)===null||b===void 0||(b=b.nodeRef)===null||b===void 0?void 0:b.current)!==null&&m!==void 0?m:n.default.findDOMNode(this)}render(){const{axis:m,bounds:b,children:S,defaultPosition:R,defaultClassName:A,defaultClassNameDragging:I,defaultClassNameDragged:L,position:H,positionOffset:X,scale:_e,...me}=this.props;let P={},N=null;const ge=!!!H||this.state.dragging,U=H||R,$={x:(0,o.canDragX)(this)&&ge?this.state.x:U.x,y:(0,o.canDragY)(this)&&ge?this.state.y:U.y};this.state.isElementSVG?N=(0,s.createSVGTransform)($,X):P=(0,s.createCSSTransform)($,X);const K=(0,i.default)(S.props.className||"",A,{[I]:this.state.dragging,[L]:this.state.dragged});return e.createElement(l.default,v({},me,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),e.cloneElement(e.Children.only(S),{className:K,style:{...S.props.style,...P},transform:N}))}}t.default=g,y(g,"displayName","Draggable"),y(g,"propTypes",{...l.default.propTypes,axis:r.default.oneOf(["both","x","y","none"]),bounds:r.default.oneOfType([r.default.shape({left:r.default.number,right:r.default.number,top:r.default.number,bottom:r.default.number}),r.default.string,r.default.oneOf([!1])]),defaultClassName:r.default.string,defaultClassNameDragging:r.default.string,defaultClassNameDragged:r.default.string,defaultPosition:r.default.shape({x:r.default.number,y:r.default.number}),positionOffset:r.default.shape({x:r.default.oneOfType([r.default.number,r.default.string]),y:r.default.oneOfType([r.default.number,r.default.string])}),position:r.default.shape({x:r.default.number,y:r.default.number}),className:a.dontSetMe,style:a.dontSetMe,transform:a.dontSetMe}),y(g,"defaultProps",{...l.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})})(z5);const{default:rT,DraggableCore:r8}=z5;Fd.exports=rT;Fd.exports.default=rT;Fd.exports.DraggableCore=r8;var n8=Fd.exports;const i8=Xr(n8);function Og(){return Og=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Og.apply(this,arguments)}function s8(t,e){if(t==null)return{};var r=o8(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function o8(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,s;for(s=0;s<n.length;s++)i=n[s],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}var E0=j.forwardRef(function(t,e){var r=t.color,n=r===void 0?"currentColor":r,i=t.size,s=i===void 0?24:i,o=s8(t,["color","size"]);return uu.createElement("svg",Og({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),uu.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),uu.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))});E0.propTypes={color:su.string,size:su.oneOfType([su.string,su.number])};E0.displayName="X";const a8=E0;function l8({id:t,title:e,children:r,className:n,initialMousePosition:i}){const{closeWindow:s,sendWindowToTop:o}=q5(),a=j.useRef(null),l=i?{x:Math.min(i.x+20,window.innerWidth/2),y:20}:{x:40,y:40};function u(){s(t)}function c(){o(t)}return F.jsx(i8,{handle:".draggable-handle",cancel:".draggable-cancel",defaultPosition:l,nodeRef:a,onMouseDown:c,bounds:"parent",children:F.jsxs("div",{ref:a,className:ma("window-shadow pointer-events-auto !fixed z-[999] flex max-h-[80%] max-w-[90%] flex-col overflow-hidden rounded-md border-2 border-emerald-800 bg-lime-100 font-fredoka opacity-50 last:opacity-100 only:opacity-100 hover:opacity-100",n),children:[F.jsx(u8,{close:i?u:void 0,children:e}),F.jsx(c8,{children:r})]})})}function u8({children:t,close:e}){return F.jsxs("div",{className:" title-shadow-i pointer-events-none flex rounded-t-lg  ",children:[F.jsx("div",{className:" draggable-handle pointer-events-auto flex-1 cursor-move items-center gap-2 rounded-tl-sm bg-gradient-to-b from-lime-600 to-emerald-700 py-0.5 pl-2 pr-1 text-lime-100",children:F.jsx("p",{className:" font-medium text-shadow text-shadow-c-black/75 text-shadow-y-px",children:t})}),e&&F.jsx("button",{className:"draggable-cancel pointer-events-auto flex items-center justify-center bg-gradient-to-b from-rose-600 to-red-700 px-2 py-px text-rose-100 hover:from-red-400 hover:to-rose-600",onClick:e,children:F.jsx(a8,{size:30,strokeWidth:3,className:"drop-shadow drop-shadow-c-black/75 drop-shadow-y-px"})})]})}function c8({children:t}){return F.jsx("div",{className:"scrollbar active:scrollbar-thumb-emerald-600 hover:scrollbar-thumb-emerald-700 scrollbar-track-rounded-full scrollbar-thumb-rounded-full scrollbar-track-emerald-800/25 scrollbar-thumb-emerald-800 m-1 flex-1 overflow-auto",children:t})}function d8(){const[t,e]=j.useState(),r=ZD();return j.useEffect(()=>{function n(){e(!1)}function i(){e(!0)}return document.addEventListener("mousemove",n),document.addEventListener("mouseleave",i),()=>{document.removeEventListener("mousemove",n),document.removeEventListener("mouseleave",i)}},[]),t===void 0?null:F.jsx("div",{id:"slime2-windows",className:ma(t?"slime2-window-exit":"slime2-window-enter","pointer-events-none absolute left-0 top-0 h-screen w-screen p-2"),children:r.map(n=>j.createElement(l8,{...n,key:n.id}))})}function f8(){return F.jsx(p6,{children:F.jsx(d8,{})})}function h8({children:t}){const[e,r]=j.useReducer(Bk,Xx);return F.jsx(Jx.Provider,{value:e,children:F.jsx(Zx.Provider,{value:r,children:t})})}function p8({children:t}){const[e,r]=j.useReducer(gA,O2);return F.jsx(N2.Provider,{value:e,children:F.jsx(D2.Provider,{value:r,children:t})})}function m8({children:t}){const[e,r]=j.useReducer(mA,k2);return F.jsx(R2.Provider,{value:e,children:F.jsx(A2.Provider,{value:r,children:t})})}const g8=Up.createRoot(document.getElementById("slime2-root")),y8=new iP;g8.render(F.jsx(uu.StrictMode,{children:F.jsx(h8,{children:F.jsx(lP,{client:y8,children:F.jsx(m8,{children:F.jsxs(p8,{children:[F.jsx(XD,{}),F.jsx(GD,{}),F.jsx(f8,{})]})})})})}));
