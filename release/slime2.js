var CA=Object.defineProperty;var EA=(t,e,r)=>e in t?CA(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var Rr=(t,e,r)=>(EA(t,typeof e!="symbol"?e+"":e,r),r),rh=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)};var T=(t,e,r)=>(rh(t,e,"read from private field"),r?r.call(t):e.get(t)),X=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},V=(t,e,r,n)=>(rh(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r);var su=(t,e,r,n)=>({set _(i){V(t,e,i,r)},get _(){return T(t,e,n)}}),ce=(t,e,r)=>(rh(t,e,"access private method"),r);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var zd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function gn(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function sS(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var oS={exports:{}},Wd={},aS={exports:{}},fe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ul=Symbol.for("react.element"),TA=Symbol.for("react.portal"),kA=Symbol.for("react.fragment"),PA=Symbol.for("react.strict_mode"),AA=Symbol.for("react.profiler"),IA=Symbol.for("react.provider"),OA=Symbol.for("react.context"),RA=Symbol.for("react.forward_ref"),MA=Symbol.for("react.suspense"),NA=Symbol.for("react.memo"),DA=Symbol.for("react.lazy"),t_=Symbol.iterator;function jA(t){return t===null||typeof t!="object"?null:(t=t_&&t[t_]||t["@@iterator"],typeof t=="function"?t:null)}var lS={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},uS=Object.assign,cS={};function Mo(t,e,r){this.props=t,this.context=e,this.refs=cS,this.updater=r||lS}Mo.prototype.isReactComponent={};Mo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Mo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function dS(){}dS.prototype=Mo.prototype;function y0(t,e,r){this.props=t,this.context=e,this.refs=cS,this.updater=r||lS}var v0=y0.prototype=new dS;v0.constructor=y0;uS(v0,Mo.prototype);v0.isPureReactComponent=!0;var r_=Array.isArray,fS=Object.prototype.hasOwnProperty,w0={current:null},hS={key:!0,ref:!0,__self:!0,__source:!0};function pS(t,e,r){var n,i={},s=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)fS.call(e,n)&&!hS.hasOwnProperty(n)&&(i[n]=e[n]);var a=arguments.length-2;if(a===1)i.children=r;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(n in a=t.defaultProps,a)i[n]===void 0&&(i[n]=a[n]);return{$$typeof:Ul,type:t,key:s,ref:o,props:i,_owner:w0.current}}function LA(t,e){return{$$typeof:Ul,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function _0(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ul}function BA(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var n_=/\/+/g;function nh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?BA(""+t.key):e.toString(36)}function Hu(t,e,r,n,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Ul:case TA:o=!0}}if(o)return o=t,i=i(o),t=n===""?"."+nh(o,0):n,r_(i)?(r="",t!=null&&(r=t.replace(n_,"$&/")+"/"),Hu(i,e,r,"",function(u){return u})):i!=null&&(_0(i)&&(i=LA(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(n_,"$&/")+"/")+t)),e.push(i)),1;if(o=0,n=n===""?".":n+":",r_(t))for(var a=0;a<t.length;a++){s=t[a];var l=n+nh(s,a);o+=Hu(s,e,r,l,i)}else if(l=jA(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=n+nh(s,a++),o+=Hu(s,e,r,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function ou(t,e,r){if(t==null)return t;var n=[],i=0;return Hu(t,n,"","",function(s){return e.call(r,s,i++)}),n}function $A(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var St={current:null},zu={transition:null},UA={ReactCurrentDispatcher:St,ReactCurrentBatchConfig:zu,ReactCurrentOwner:w0};fe.Children={map:ou,forEach:function(t,e,r){ou(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return ou(t,function(){e++}),e},toArray:function(t){return ou(t,function(e){return e})||[]},only:function(t){if(!_0(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};fe.Component=Mo;fe.Fragment=kA;fe.Profiler=AA;fe.PureComponent=y0;fe.StrictMode=PA;fe.Suspense=MA;fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=UA;fe.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=uS({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=w0.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)fS.call(e,l)&&!hS.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];n.children=a}return{$$typeof:Ul,type:t.type,key:i,ref:s,props:n,_owner:o}};fe.createContext=function(t){return t={$$typeof:OA,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:IA,_context:t},t.Consumer=t};fe.createElement=pS;fe.createFactory=function(t){var e=pS.bind(null,t);return e.type=t,e};fe.createRef=function(){return{current:null}};fe.forwardRef=function(t){return{$$typeof:RA,render:t}};fe.isValidElement=_0;fe.lazy=function(t){return{$$typeof:DA,_payload:{_status:-1,_result:t},_init:$A}};fe.memo=function(t,e){return{$$typeof:NA,type:t,compare:e===void 0?null:e}};fe.startTransition=function(t){var e=zu.transition;zu.transition={};try{t()}finally{zu.transition=e}};fe.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};fe.useCallback=function(t,e){return St.current.useCallback(t,e)};fe.useContext=function(t){return St.current.useContext(t)};fe.useDebugValue=function(){};fe.useDeferredValue=function(t){return St.current.useDeferredValue(t)};fe.useEffect=function(t,e){return St.current.useEffect(t,e)};fe.useId=function(){return St.current.useId()};fe.useImperativeHandle=function(t,e,r){return St.current.useImperativeHandle(t,e,r)};fe.useInsertionEffect=function(t,e){return St.current.useInsertionEffect(t,e)};fe.useLayoutEffect=function(t,e){return St.current.useLayoutEffect(t,e)};fe.useMemo=function(t,e){return St.current.useMemo(t,e)};fe.useReducer=function(t,e,r){return St.current.useReducer(t,e,r)};fe.useRef=function(t){return St.current.useRef(t)};fe.useState=function(t){return St.current.useState(t)};fe.useSyncExternalStore=function(t,e,r){return St.current.useSyncExternalStore(t,e,r)};fe.useTransition=function(){return St.current.useTransition()};fe.version="18.2.0";aS.exports=fe;var I=aS.exports;const H=gn(I);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FA=I,qA=Symbol.for("react.element"),HA=Symbol.for("react.fragment"),zA=Object.prototype.hasOwnProperty,WA=FA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,GA={key:!0,ref:!0,__self:!0,__source:!0};function mS(t,e,r){var n,i={},s=null,o=null;r!==void 0&&(s=""+r),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)zA.call(e,n)&&!GA.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:qA,type:t,key:s,ref:o,props:i,_owner:WA.current}}Wd.Fragment=HA;Wd.jsx=mS;Wd.jsxs=mS;oS.exports=Wd;var _=oS.exports,Fl=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},_o=typeof window>"u"||"Deno"in window;function Jt(){}function VA(t,e){return typeof t=="function"?t(e):t}function Nm(t){return typeof t=="number"&&t>=0&&t!==1/0}function gS(t,e){return Math.max(t+(e||0)-Date.now(),0)}function i_(t,e){const{type:r="all",exact:n,fetchStatus:i,predicate:s,queryKey:o,stale:a}=t;if(o){if(n){if(e.queryHash!==b0(o,e.options))return!1}else if(!Ma(e.queryKey,o))return!1}if(r!=="all"){const l=e.isActive();if(r==="active"&&!l||r==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||typeof i<"u"&&i!==e.state.fetchStatus||s&&!s(e))}function s_(t,e){const{exact:r,status:n,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(r){if(Ra(e.options.mutationKey)!==Ra(s))return!1}else if(!Ma(e.options.mutationKey,s))return!1}return!(n&&e.state.status!==n||i&&!i(e))}function b0(t,e){return((e==null?void 0:e.queryKeyHashFn)||Ra)(t)}function Ra(t){return JSON.stringify(t,(e,r)=>jm(r)?Object.keys(r).sort().reduce((n,i)=>(n[i]=r[i],n),{}):r)}function Ma(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(r=>!Ma(t[r],e[r])):!1}function yS(t,e){if(t===e)return t;const r=o_(t)&&o_(e);if(r||jm(t)&&jm(e)){const n=r?t.length:Object.keys(t).length,i=r?e:Object.keys(e),s=i.length,o=r?[]:{};let a=0;for(let l=0;l<s;l++){const u=r?l:i[l];o[u]=yS(t[u],e[u]),o[u]===t[u]&&a++}return n===s&&a===n?t:o}return e}function Dm(t,e){if(t&&!e||e&&!t)return!1;for(const r in t)if(t[r]!==e[r])return!1;return!0}function o_(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function jm(t){if(!a_(t))return!1;const e=t.constructor;if(typeof e>"u")return!0;const r=e.prototype;return!(!a_(r)||!r.hasOwnProperty("isPrototypeOf"))}function a_(t){return Object.prototype.toString.call(t)==="[object Object]"}function vS(t){return new Promise(e=>{setTimeout(e,t)})}function l_(t){vS(0).then(t)}function Lm(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?yS(t,e):e}function QA(t,e,r=0){const n=[...t,e];return r&&n.length>r?n.slice(1):n}function KA(t,e,r=0){const n=[e,...t];return r&&n.length>r?n.slice(0,-1):n}var Fi,zn,io,Yx,YA=(Yx=class extends Fl{constructor(){super();X(this,Fi,void 0);X(this,zn,void 0);X(this,io,void 0);V(this,io,e=>{if(!_o&&window.addEventListener){const r=()=>e();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){T(this,zn)||this.setEventListener(T(this,io))}onUnsubscribe(){var e;this.hasListeners()||((e=T(this,zn))==null||e.call(this),V(this,zn,void 0))}setEventListener(e){var r;V(this,io,e),(r=T(this,zn))==null||r.call(this),V(this,zn,e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(e){T(this,Fi)!==e&&(V(this,Fi,e),this.onFocus())}onFocus(){this.listeners.forEach(e=>{e()})}isFocused(){var e;return typeof T(this,Fi)=="boolean"?T(this,Fi):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Fi=new WeakMap,zn=new WeakMap,io=new WeakMap,Yx),pc=new YA,so,Wn,oo,Xx,XA=(Xx=class extends Fl{constructor(){super();X(this,so,!0);X(this,Wn,void 0);X(this,oo,void 0);V(this,oo,e=>{if(!_o&&window.addEventListener){const r=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){T(this,Wn)||this.setEventListener(T(this,oo))}onUnsubscribe(){var e;this.hasListeners()||((e=T(this,Wn))==null||e.call(this),V(this,Wn,void 0))}setEventListener(e){var r;V(this,oo,e),(r=T(this,Wn))==null||r.call(this),V(this,Wn,e(this.setOnline.bind(this)))}setOnline(e){T(this,so)!==e&&(V(this,so,e),this.listeners.forEach(n=>{n(e)}))}isOnline(){return T(this,so)}},so=new WeakMap,Wn=new WeakMap,oo=new WeakMap,Xx),mc=new XA;function JA(t){return Math.min(1e3*2**t,3e4)}function Gd(t){return(t??"online")==="online"?mc.isOnline():!0}var wS=class{constructor(t){this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function ih(t){return t instanceof wS}function _S(t){let e=!1,r=0,n=!1,i,s,o;const a=new Promise((w,m)=>{s=w,o=m}),l=w=>{var m;n||(g(new wS(w)),(m=t.abort)==null||m.call(t))},u=()=>{e=!0},c=()=>{e=!1},f=()=>!pc.isFocused()||t.networkMode!=="always"&&!mc.isOnline(),d=w=>{var m;n||(n=!0,(m=t.onSuccess)==null||m.call(t,w),i==null||i(),s(w))},g=w=>{var m;n||(n=!0,(m=t.onError)==null||m.call(t,w),i==null||i(),o(w))},v=()=>new Promise(w=>{var m;i=p=>{const y=n||!f();return y&&w(p),y},(m=t.onPause)==null||m.call(t)}).then(()=>{var w;i=void 0,n||(w=t.onContinue)==null||w.call(t)}),b=()=>{if(n)return;let w;try{w=t.fn()}catch(m){w=Promise.reject(m)}Promise.resolve(w).then(d).catch(m=>{var k;if(n)return;const p=t.retry??(_o?0:3),y=t.retryDelay??JA,x=typeof y=="function"?y(r,m):y,S=p===!0||typeof p=="number"&&r<p||typeof p=="function"&&p(r,m);if(e||!S){g(m);return}r++,(k=t.onFail)==null||k.call(t,r,m),vS(x).then(()=>{if(f())return v()}).then(()=>{e?g(m):b()})})};return Gd(t.networkMode)?b():v().then(b),{promise:a,cancel:l,continue:()=>(i==null?void 0:i())?a:Promise.resolve(),cancelRetry:u,continueRetry:c}}function ZA(){let t=[],e=0,r=c=>{c()},n=c=>{c()};const i=c=>{let f;e++;try{f=c()}finally{e--,e||a()}return f},s=c=>{e?t.push(c):l_(()=>{r(c)})},o=c=>(...f)=>{s(()=>{c(...f)})},a=()=>{const c=t;t=[],c.length&&l_(()=>{n(()=>{c.forEach(f=>{r(f)})})})};return{batch:i,batchCalls:o,schedule:s,setNotifyFunction:c=>{r=c},setBatchNotifyFunction:c=>{n=c}}}var ot=ZA(),qi,Jx,bS=(Jx=class{constructor(){X(this,qi,void 0)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Nm(this.gcTime)&&V(this,qi,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(_o?1/0:5*60*1e3))}clearGcTimeout(){T(this,qi)&&(clearTimeout(T(this,qi)),V(this,qi,void 0))}},qi=new WeakMap,Jx),ao,lo,Kt,Gn,Yt,et,Al,Hi,uo,Wu,br,rn,Zx,eI=(Zx=class extends bS{constructor(e){super();X(this,uo);X(this,br);X(this,ao,void 0);X(this,lo,void 0);X(this,Kt,void 0);X(this,Gn,void 0);X(this,Yt,void 0);X(this,et,void 0);X(this,Al,void 0);X(this,Hi,void 0);V(this,Hi,!1),V(this,Al,e.defaultOptions),ce(this,uo,Wu).call(this,e.options),V(this,et,[]),V(this,Kt,e.cache),this.queryKey=e.queryKey,this.queryHash=e.queryHash,V(this,ao,e.state||tI(this.options)),this.state=T(this,ao),this.scheduleGc()}get meta(){return this.options.meta}optionalRemove(){!T(this,et).length&&this.state.fetchStatus==="idle"&&T(this,Kt).remove(this)}setData(e,r){const n=Lm(this.state.data,e,this.options);return ce(this,br,rn).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(e,r){ce(this,br,rn).call(this,{type:"setState",state:e,setStateOptions:r})}cancel(e){var n;const r=T(this,Gn);return(n=T(this,Yt))==null||n.cancel(e),r?r.then(Jt).catch(Jt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(T(this,ao))}isActive(){return T(this,et).some(e=>e.options.enabled!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated||!this.state.dataUpdatedAt||T(this,et).some(e=>e.getCurrentResult().isStale)}isStaleByTime(e=0){return this.state.isInvalidated||!this.state.dataUpdatedAt||!gS(this.state.dataUpdatedAt,e)}onFocus(){var r;const e=T(this,et).find(n=>n.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(r=T(this,Yt))==null||r.continue()}onOnline(){var r;const e=T(this,et).find(n=>n.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(r=T(this,Yt))==null||r.continue()}addObserver(e){T(this,et).includes(e)||(T(this,et).push(e),this.clearGcTimeout(),T(this,Kt).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){T(this,et).includes(e)&&(V(this,et,T(this,et).filter(r=>r!==e)),T(this,et).length||(T(this,Yt)&&(T(this,Hi)?T(this,Yt).cancel({revert:!0}):T(this,Yt).cancelRetry()),this.scheduleGc()),T(this,Kt).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return T(this,et).length}invalidate(){this.state.isInvalidated||ce(this,br,rn).call(this,{type:"invalidate"})}fetch(e,r){var u,c,f,d;if(this.state.fetchStatus!=="idle"){if(this.state.dataUpdatedAt&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(T(this,Gn))return(u=T(this,Yt))==null||u.continueRetry(),T(this,Gn)}if(e&&ce(this,uo,Wu).call(this,e),!this.options.queryFn){const g=T(this,et).find(v=>v.options.queryFn);g&&ce(this,uo,Wu).call(this,g.options)}const n=new AbortController,i={queryKey:this.queryKey,meta:this.meta},s=g=>{Object.defineProperty(g,"signal",{enumerable:!0,get:()=>(V(this,Hi,!0),n.signal)})};s(i);const o=()=>this.options.queryFn?(V(this,Hi,!1),this.options.persister?this.options.persister(this.options.queryFn,i,this):this.options.queryFn(i)):Promise.reject(new Error(`Missing queryFn: '${this.options.queryHash}'`)),a={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};s(a),(c=this.options.behavior)==null||c.onFetch(a,this),V(this,lo,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((f=a.fetchOptions)==null?void 0:f.meta))&&ce(this,br,rn).call(this,{type:"fetch",meta:(d=a.fetchOptions)==null?void 0:d.meta});const l=g=>{var v,b,w,m;ih(g)&&g.silent||ce(this,br,rn).call(this,{type:"error",error:g}),ih(g)||((b=(v=T(this,Kt).config).onError)==null||b.call(v,g,this),(m=(w=T(this,Kt).config).onSettled)==null||m.call(w,this.state.data,g,this)),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return V(this,Yt,_S({fn:a.fetchFn,abort:n.abort.bind(n),onSuccess:g=>{var v,b,w,m;if(typeof g>"u"){l(new Error(`${this.queryHash} data is undefined`));return}this.setData(g),(b=(v=T(this,Kt).config).onSuccess)==null||b.call(v,g,this),(m=(w=T(this,Kt).config).onSettled)==null||m.call(w,g,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:l,onFail:(g,v)=>{ce(this,br,rn).call(this,{type:"failed",failureCount:g,error:v})},onPause:()=>{ce(this,br,rn).call(this,{type:"pause"})},onContinue:()=>{ce(this,br,rn).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode})),V(this,Gn,T(this,Yt).promise),T(this,Gn)}},ao=new WeakMap,lo=new WeakMap,Kt=new WeakMap,Gn=new WeakMap,Yt=new WeakMap,et=new WeakMap,Al=new WeakMap,Hi=new WeakMap,uo=new WeakSet,Wu=function(e){this.options={...T(this,Al),...e},this.updateGcTime(this.options.gcTime)},br=new WeakSet,rn=function(e){const r=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:e.meta??null,fetchStatus:Gd(this.options.networkMode)?"fetching":"paused",...!n.dataUpdatedAt&&{error:null,status:"pending"}};case"success":return{...n,data:e.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=e.error;return ih(i)&&i.revert&&T(this,lo)?{...T(this,lo),fetchStatus:"idle"}:{...n,error:i,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=r(this.state),ot.batch(()=>{T(this,et).forEach(n=>{n.onQueryUpdate()}),T(this,Kt).notify({query:this,type:"updated",action:e})})},Zx);function tI(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=typeof e<"u",n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Ur,eS,rI=(eS=class extends Fl{constructor(e={}){super();X(this,Ur,void 0);this.config=e,V(this,Ur,new Map)}build(e,r,n){const i=r.queryKey,s=r.queryHash??b0(i,r);let o=this.get(s);return o||(o=new eI({cache:this,queryKey:i,queryHash:s,options:e.defaultQueryOptions(r),state:n,defaultOptions:e.getQueryDefaults(i)}),this.add(o)),o}add(e){T(this,Ur).has(e.queryHash)||(T(this,Ur).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const r=T(this,Ur).get(e.queryHash);r&&(e.destroy(),r===e&&T(this,Ur).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){ot.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return T(this,Ur).get(e)}getAll(){return[...T(this,Ur).values()]}find(e){const r={exact:!0,...e};return this.getAll().find(n=>i_(r,n))}findAll(e={}){const r=this.getAll();return Object.keys(e).length>0?r.filter(n=>i_(e,n)):r}notify(e){ot.batch(()=>{this.listeners.forEach(r=>{r(e)})})}onFocus(){ot.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){ot.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Ur=new WeakMap,eS),Fr,Il,Bt,co,qr,Dn,tS,nI=(tS=class extends bS{constructor(e){super();X(this,qr);X(this,Fr,void 0);X(this,Il,void 0);X(this,Bt,void 0);X(this,co,void 0);this.mutationId=e.mutationId,V(this,Il,e.defaultOptions),V(this,Bt,e.mutationCache),V(this,Fr,[]),this.state=e.state||iI(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options={...T(this,Il),...e},this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){T(this,Fr).includes(e)||(T(this,Fr).push(e),this.clearGcTimeout(),T(this,Bt).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){V(this,Fr,T(this,Fr).filter(r=>r!==e)),this.scheduleGc(),T(this,Bt).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){T(this,Fr).length||(this.state.status==="pending"?this.scheduleGc():T(this,Bt).remove(this))}continue(){var e;return((e=T(this,co))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var i,s,o,a,l,u,c,f,d,g,v,b,w,m,p,y,x,S,k,R;const r=()=>(V(this,co,_S({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(O,U)=>{ce(this,qr,Dn).call(this,{type:"failed",failureCount:O,error:U})},onPause:()=>{ce(this,qr,Dn).call(this,{type:"pause"})},onContinue:()=>{ce(this,qr,Dn).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode})),T(this,co).promise),n=this.state.status==="pending";try{if(!n){ce(this,qr,Dn).call(this,{type:"pending",variables:e}),await((s=(i=T(this,Bt).config).onMutate)==null?void 0:s.call(i,e,this));const U=await((a=(o=this.options).onMutate)==null?void 0:a.call(o,e));U!==this.state.context&&ce(this,qr,Dn).call(this,{type:"pending",context:U,variables:e})}const O=await r();return await((u=(l=T(this,Bt).config).onSuccess)==null?void 0:u.call(l,O,e,this.state.context,this)),await((f=(c=this.options).onSuccess)==null?void 0:f.call(c,O,e,this.state.context)),await((g=(d=T(this,Bt).config).onSettled)==null?void 0:g.call(d,O,null,this.state.variables,this.state.context,this)),await((b=(v=this.options).onSettled)==null?void 0:b.call(v,O,null,e,this.state.context)),ce(this,qr,Dn).call(this,{type:"success",data:O}),O}catch(O){try{throw await((m=(w=T(this,Bt).config).onError)==null?void 0:m.call(w,O,e,this.state.context,this)),await((y=(p=this.options).onError)==null?void 0:y.call(p,O,e,this.state.context)),await((S=(x=T(this,Bt).config).onSettled)==null?void 0:S.call(x,void 0,O,this.state.variables,this.state.context,this)),await((R=(k=this.options).onSettled)==null?void 0:R.call(k,void 0,O,e,this.state.context)),O}finally{ce(this,qr,Dn).call(this,{type:"error",error:O})}}}},Fr=new WeakMap,Il=new WeakMap,Bt=new WeakMap,co=new WeakMap,qr=new WeakSet,Dn=function(e){const r=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:!Gd(this.options.networkMode),status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=r(this.state),ot.batch(()=>{T(this,Fr).forEach(n=>{n.onMutationUpdate(e)}),T(this,Bt).notify({mutation:this,type:"updated",action:e})})},tS);function iI(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Xt,Ol,zi,rS,sI=(rS=class extends Fl{constructor(e={}){super();X(this,Xt,void 0);X(this,Ol,void 0);X(this,zi,void 0);this.config=e,V(this,Xt,[]),V(this,Ol,0)}build(e,r,n){const i=new nI({mutationCache:this,mutationId:++su(this,Ol)._,options:e.defaultMutationOptions(r),state:n});return this.add(i),i}add(e){T(this,Xt).push(e),this.notify({type:"added",mutation:e})}remove(e){V(this,Xt,T(this,Xt).filter(r=>r!==e)),this.notify({type:"removed",mutation:e})}clear(){ot.batch(()=>{T(this,Xt).forEach(e=>{this.remove(e)})})}getAll(){return T(this,Xt)}find(e){const r={exact:!0,...e};return T(this,Xt).find(n=>s_(r,n))}findAll(e={}){return T(this,Xt).filter(r=>s_(e,r))}notify(e){ot.batch(()=>{this.listeners.forEach(r=>{r(e)})})}resumePausedMutations(){return V(this,zi,(T(this,zi)??Promise.resolve()).then(()=>{const e=T(this,Xt).filter(r=>r.state.isPaused);return ot.batch(()=>e.reduce((r,n)=>r.then(()=>n.continue().catch(Jt)),Promise.resolve()))}).then(()=>{V(this,zi,void 0)})),T(this,zi)}},Xt=new WeakMap,Ol=new WeakMap,zi=new WeakMap,rS);function oI(t){return{onFetch:(e,r)=>{const n=async()=>{var v,b,w,m,p;const i=e.options,s=(w=(b=(v=e.fetchOptions)==null?void 0:v.meta)==null?void 0:b.fetchMore)==null?void 0:w.direction,o=((m=e.state.data)==null?void 0:m.pages)||[],a=((p=e.state.data)==null?void 0:p.pageParams)||[],l={pages:[],pageParams:[]};let u=!1;const c=y=>{Object.defineProperty(y,"signal",{enumerable:!0,get:()=>(e.signal.aborted?u=!0:e.signal.addEventListener("abort",()=>{u=!0}),e.signal)})},f=e.options.queryFn||(()=>Promise.reject(new Error(`Missing queryFn: '${e.options.queryHash}'`))),d=async(y,x,S)=>{if(u)return Promise.reject();if(x==null&&y.pages.length)return Promise.resolve(y);const k={queryKey:e.queryKey,pageParam:x,direction:S?"backward":"forward",meta:e.options.meta};c(k);const R=await f(k),{maxPages:O}=e.options,U=S?KA:QA;return{pages:U(y.pages,R,O),pageParams:U(y.pageParams,x,O)}};let g;if(s&&o.length){const y=s==="backward",x=y?aI:u_,S={pages:o,pageParams:a},k=x(i,S);g=await d(S,k,y)}else{g=await d(l,a[0]??i.initialPageParam);const y=t??o.length;for(let x=1;x<y;x++){const S=u_(i,g);g=await d(g,S)}}return g};e.options.persister?e.fetchFn=()=>{var i,s;return(s=(i=e.options).persister)==null?void 0:s.call(i,n,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r)}:e.fetchFn=n}}}function u_(t,{pages:e,pageParams:r}){const n=e.length-1;return t.getNextPageParam(e[n],e,r[n],r)}function aI(t,{pages:e,pageParams:r}){var n;return(n=t.getPreviousPageParam)==null?void 0:n.call(t,e[0],e,r[0],r)}var Ye,Vn,Qn,fo,ho,Kn,po,mo,nS,lI=(nS=class{constructor(t={}){X(this,Ye,void 0);X(this,Vn,void 0);X(this,Qn,void 0);X(this,fo,void 0);X(this,ho,void 0);X(this,Kn,void 0);X(this,po,void 0);X(this,mo,void 0);V(this,Ye,t.queryCache||new rI),V(this,Vn,t.mutationCache||new sI),V(this,Qn,t.defaultOptions||{}),V(this,fo,new Map),V(this,ho,new Map),V(this,Kn,0)}mount(){su(this,Kn)._++,T(this,Kn)===1&&(V(this,po,pc.subscribe(()=>{pc.isFocused()&&(this.resumePausedMutations(),T(this,Ye).onFocus())})),V(this,mo,mc.subscribe(()=>{mc.isOnline()&&(this.resumePausedMutations(),T(this,Ye).onOnline())})))}unmount(){var t,e;su(this,Kn)._--,T(this,Kn)===0&&((t=T(this,po))==null||t.call(this),V(this,po,void 0),(e=T(this,mo))==null||e.call(this),V(this,mo,void 0))}isFetching(t){return T(this,Ye).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return T(this,Vn).findAll({...t,status:"pending"}).length}getQueryData(t){var e;return(e=T(this,Ye).find({queryKey:t}))==null?void 0:e.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);return e?Promise.resolve(e):this.fetchQuery(t)}getQueriesData(t){return this.getQueryCache().findAll(t).map(({queryKey:e,state:r})=>{const n=r.data;return[e,n]})}setQueryData(t,e,r){const n=T(this,Ye).find({queryKey:t}),i=n==null?void 0:n.state.data,s=VA(e,i);if(typeof s>"u")return;const o=this.defaultQueryOptions({queryKey:t});return T(this,Ye).build(this,o).setData(s,{...r,manual:!0})}setQueriesData(t,e,r){return ot.batch(()=>this.getQueryCache().findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,r)]))}getQueryState(t){var e;return(e=T(this,Ye).find({queryKey:t}))==null?void 0:e.state}removeQueries(t){const e=T(this,Ye);ot.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=T(this,Ye),n={type:"active",...t};return ot.batch(()=>(r.findAll(t).forEach(i=>{i.reset()}),this.refetchQueries(n,e)))}cancelQueries(t={},e={}){const r={revert:!0,...e},n=ot.batch(()=>T(this,Ye).findAll(t).map(i=>i.cancel(r)));return Promise.all(n).then(Jt).catch(Jt)}invalidateQueries(t={},e={}){return ot.batch(()=>{if(T(this,Ye).findAll(t).forEach(n=>{n.invalidate()}),t.refetchType==="none")return Promise.resolve();const r={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(r,e)})}refetchQueries(t={},e){const r={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},n=ot.batch(()=>T(this,Ye).findAll(t).filter(i=>!i.isDisabled()).map(i=>{let s=i.fetch(void 0,r);return r.throwOnError||(s=s.catch(Jt)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(n).then(Jt)}fetchQuery(t){const e=this.defaultQueryOptions(t);typeof e.retry>"u"&&(e.retry=!1);const r=T(this,Ye).build(this,e);return r.isStaleByTime(e.staleTime)?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Jt).catch(Jt)}fetchInfiniteQuery(t){return t.behavior=oI(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Jt).catch(Jt)}resumePausedMutations(){return T(this,Vn).resumePausedMutations()}getQueryCache(){return T(this,Ye)}getMutationCache(){return T(this,Vn)}getDefaultOptions(){return T(this,Qn)}setDefaultOptions(t){V(this,Qn,t)}setQueryDefaults(t,e){T(this,fo).set(Ra(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...T(this,fo).values()];let r={};return e.forEach(n=>{Ma(t,n.queryKey)&&(r={...r,...n.defaultOptions})}),r}setMutationDefaults(t,e){T(this,ho).set(Ra(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...T(this,ho).values()];let r={};return e.forEach(n=>{Ma(t,n.mutationKey)&&(r={...r,...n.defaultOptions})}),r}defaultQueryOptions(t){if(t!=null&&t._defaulted)return t;const e={...T(this,Qn).queries,...(t==null?void 0:t.queryKey)&&this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=b0(e.queryKey,e)),typeof e.refetchOnReconnect>"u"&&(e.refetchOnReconnect=e.networkMode!=="always"),typeof e.throwOnError>"u"&&(e.throwOnError=!!e.suspense),typeof e.networkMode>"u"&&e.persister&&(e.networkMode="offlineFirst"),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...T(this,Qn).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){T(this,Ye).clear(),T(this,Vn).clear()}},Ye=new WeakMap,Vn=new WeakMap,Qn=new WeakMap,fo=new WeakMap,ho=new WeakMap,Kn=new WeakMap,po=new WeakMap,mo=new WeakMap,nS),kt,Te,go,ht,Wi,yo,Hr,Rl,vo,wo,Gi,Vi,Yn,Qi,Ki,ia,Ml,Bm,Nl,$m,Dl,Um,jl,Fm,Ll,qm,Bl,Hm,$l,zm,Hd,xS,iS,uI=(iS=class extends Fl{constructor(e,r){super();X(this,Ki);X(this,Ml);X(this,Nl);X(this,Dl);X(this,jl);X(this,Ll);X(this,Bl);X(this,$l);X(this,Hd);X(this,kt,void 0);X(this,Te,void 0);X(this,go,void 0);X(this,ht,void 0);X(this,Wi,void 0);X(this,yo,void 0);X(this,Hr,void 0);X(this,Rl,void 0);X(this,vo,void 0);X(this,wo,void 0);X(this,Gi,void 0);X(this,Vi,void 0);X(this,Yn,void 0);X(this,Qi,void 0);V(this,Te,void 0),V(this,go,void 0),V(this,ht,void 0),V(this,Qi,new Set),V(this,kt,e),this.options=r,V(this,Hr,null),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(T(this,Te).addObserver(this),c_(T(this,Te),this.options)&&ce(this,Ki,ia).call(this),ce(this,jl,Fm).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Wm(T(this,Te),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Wm(T(this,Te),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,ce(this,Ll,qm).call(this),ce(this,Bl,Hm).call(this),T(this,Te).removeObserver(this)}setOptions(e,r){const n=this.options,i=T(this,Te);if(this.options=T(this,kt).defaultQueryOptions(e),Dm(n,this.options)||T(this,kt).getQueryCache().notify({type:"observerOptionsUpdated",query:T(this,Te),observer:this}),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=n.queryKey),ce(this,$l,zm).call(this);const s=this.hasListeners();s&&d_(T(this,Te),i,this.options,n)&&ce(this,Ki,ia).call(this),this.updateResult(r),s&&(T(this,Te)!==i||this.options.enabled!==n.enabled||this.options.staleTime!==n.staleTime)&&ce(this,Ml,Bm).call(this);const o=ce(this,Nl,$m).call(this);s&&(T(this,Te)!==i||this.options.enabled!==n.enabled||o!==T(this,Yn))&&ce(this,Dl,Um).call(this,o)}getOptimisticResult(e){const r=T(this,kt).getQueryCache().build(T(this,kt),e),n=this.createResult(r,e);return dI(this,n)&&(V(this,ht,n),V(this,yo,this.options),V(this,Wi,T(this,Te).state)),n}getCurrentResult(){return T(this,ht)}trackResult(e){const r={};return Object.keys(e).forEach(n=>{Object.defineProperty(r,n,{configurable:!1,enumerable:!0,get:()=>(T(this,Qi).add(n),e[n])})}),r}getCurrentQuery(){return T(this,Te)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const r=T(this,kt).defaultQueryOptions(e),n=T(this,kt).getQueryCache().build(T(this,kt),r);return n.isFetchingOptimistic=!0,n.fetch().then(()=>this.createResult(n,r))}fetch(e){return ce(this,Ki,ia).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),T(this,ht)))}createResult(e,r){var k;const n=T(this,Te),i=this.options,s=T(this,ht),o=T(this,Wi),a=T(this,yo),u=e!==n?e.state:T(this,go),{state:c}=e;let{error:f,errorUpdatedAt:d,fetchStatus:g,status:v}=c,b=!1,w;if(r._optimisticResults){const R=this.hasListeners(),O=!R&&c_(e,r),U=R&&d_(e,n,r,i);(O||U)&&(g=Gd(e.options.networkMode)?"fetching":"paused",c.dataUpdatedAt||(v="pending")),r._optimisticResults==="isRestoring"&&(g="idle")}if(r.select&&typeof c.data<"u")if(s&&c.data===(o==null?void 0:o.data)&&r.select===T(this,Rl))w=T(this,vo);else try{V(this,Rl,r.select),w=r.select(c.data),w=Lm(s==null?void 0:s.data,w,r),V(this,vo,w),V(this,Hr,null)}catch(R){V(this,Hr,R)}else w=c.data;if(typeof r.placeholderData<"u"&&typeof w>"u"&&v==="pending"){let R;if(s!=null&&s.isPlaceholderData&&r.placeholderData===(a==null?void 0:a.placeholderData))R=s.data;else if(R=typeof r.placeholderData=="function"?r.placeholderData((k=T(this,wo))==null?void 0:k.state.data,T(this,wo)):r.placeholderData,r.select&&typeof R<"u")try{R=r.select(R),V(this,Hr,null)}catch(O){V(this,Hr,O)}typeof R<"u"&&(v="success",w=Lm(s==null?void 0:s.data,R,r),b=!0)}T(this,Hr)&&(f=T(this,Hr),w=T(this,vo),d=Date.now(),v="error");const m=g==="fetching",p=v==="pending",y=v==="error",x=p&&m;return{status:v,fetchStatus:g,isPending:p,isSuccess:v==="success",isError:y,isInitialLoading:x,isLoading:x,data:w,dataUpdatedAt:c.dataUpdatedAt,error:f,errorUpdatedAt:d,failureCount:c.fetchFailureCount,failureReason:c.fetchFailureReason,errorUpdateCount:c.errorUpdateCount,isFetched:c.dataUpdateCount>0||c.errorUpdateCount>0,isFetchedAfterMount:c.dataUpdateCount>u.dataUpdateCount||c.errorUpdateCount>u.errorUpdateCount,isFetching:m,isRefetching:m&&!p,isLoadingError:y&&c.dataUpdatedAt===0,isPaused:g==="paused",isPlaceholderData:b,isRefetchError:y&&c.dataUpdatedAt!==0,isStale:x0(e,r),refetch:this.refetch}}updateResult(e){const r=T(this,ht),n=this.createResult(T(this,Te),this.options);if(V(this,Wi,T(this,Te).state),V(this,yo,this.options),Dm(n,r))return;T(this,Wi).data!==void 0&&V(this,wo,T(this,Te)),V(this,ht,n);const i={},s=()=>{if(!r)return!0;const{notifyOnChangeProps:o}=this.options,a=typeof o=="function"?o():o;if(a==="all"||!a&&!T(this,Qi).size)return!0;const l=new Set(a??T(this,Qi));return this.options.throwOnError&&l.add("error"),Object.keys(T(this,ht)).some(u=>{const c=u;return T(this,ht)[c]!==r[c]&&l.has(c)})};(e==null?void 0:e.listeners)!==!1&&s()&&(i.listeners=!0),ce(this,Hd,xS).call(this,{...i,...e})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&ce(this,jl,Fm).call(this)}},kt=new WeakMap,Te=new WeakMap,go=new WeakMap,ht=new WeakMap,Wi=new WeakMap,yo=new WeakMap,Hr=new WeakMap,Rl=new WeakMap,vo=new WeakMap,wo=new WeakMap,Gi=new WeakMap,Vi=new WeakMap,Yn=new WeakMap,Qi=new WeakMap,Ki=new WeakSet,ia=function(e){ce(this,$l,zm).call(this);let r=T(this,Te).fetch(this.options,e);return e!=null&&e.throwOnError||(r=r.catch(Jt)),r},Ml=new WeakSet,Bm=function(){if(ce(this,Ll,qm).call(this),_o||T(this,ht).isStale||!Nm(this.options.staleTime))return;const r=gS(T(this,ht).dataUpdatedAt,this.options.staleTime)+1;V(this,Gi,setTimeout(()=>{T(this,ht).isStale||this.updateResult()},r))},Nl=new WeakSet,$m=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(T(this,Te)):this.options.refetchInterval)??!1},Dl=new WeakSet,Um=function(e){ce(this,Bl,Hm).call(this),V(this,Yn,e),!(_o||this.options.enabled===!1||!Nm(T(this,Yn))||T(this,Yn)===0)&&V(this,Vi,setInterval(()=>{(this.options.refetchIntervalInBackground||pc.isFocused())&&ce(this,Ki,ia).call(this)},T(this,Yn)))},jl=new WeakSet,Fm=function(){ce(this,Ml,Bm).call(this),ce(this,Dl,Um).call(this,ce(this,Nl,$m).call(this))},Ll=new WeakSet,qm=function(){T(this,Gi)&&(clearTimeout(T(this,Gi)),V(this,Gi,void 0))},Bl=new WeakSet,Hm=function(){T(this,Vi)&&(clearInterval(T(this,Vi)),V(this,Vi,void 0))},$l=new WeakSet,zm=function(){const e=T(this,kt).getQueryCache().build(T(this,kt),this.options);if(e===T(this,Te))return;const r=T(this,Te);V(this,Te,e),V(this,go,e.state),this.hasListeners()&&(r==null||r.removeObserver(this),e.addObserver(this))},Hd=new WeakSet,xS=function(e){ot.batch(()=>{e.listeners&&this.listeners.forEach(r=>{r(T(this,ht))}),T(this,kt).getQueryCache().notify({query:T(this,Te),type:"observerResultsUpdated"})})},iS);function cI(t,e){return e.enabled!==!1&&!t.state.dataUpdatedAt&&!(t.state.status==="error"&&e.retryOnMount===!1)}function c_(t,e){return cI(t,e)||t.state.dataUpdatedAt>0&&Wm(t,e,e.refetchOnMount)}function Wm(t,e,r){if(e.enabled!==!1){const n=typeof r=="function"?r(t):r;return n==="always"||n!==!1&&x0(t,e)}return!1}function d_(t,e,r,n){return r.enabled!==!1&&(t!==e||n.enabled===!1)&&(!r.suspense||t.state.status!=="error")&&x0(t,r)}function x0(t,e){return t.isStaleByTime(e.staleTime)}function dI(t,e){return!Dm(t.getCurrentResult(),e)}var SS=I.createContext(void 0),Vd=t=>{const e=I.useContext(SS);if(t)return t;if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},fI=({client:t,children:e})=>(I.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),I.createElement(SS.Provider,{value:t},e)),CS=I.createContext(!1),hI=()=>I.useContext(CS);CS.Provider;function pI(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var mI=I.createContext(pI()),gI=()=>I.useContext(mI);function yI(t,e){return typeof t=="function"?t(...e):!!t}var vI=(t,e)=>{(t.suspense||t.throwOnError)&&(e.isReset()||(t.retryOnMount=!1))},wI=t=>{I.useEffect(()=>{t.clearReset()},[t])},_I=({result:t,errorResetBoundary:e,throwOnError:r,query:n})=>t.isError&&!e.isReset()&&!t.isFetching&&yI(r,[t.error,n]),bI=t=>{t.suspense&&typeof t.staleTime!="number"&&(t.staleTime=1e3)},xI=(t,e)=>t.isLoading&&t.isFetching&&!e,SI=(t,e,r)=>(t==null?void 0:t.suspense)&&xI(e,r),CI=(t,e,r)=>e.fetchOptimistic(t).catch(()=>{r.clearReset()});function EI(t,e,r){const n=Vd(r),i=hI(),s=gI(),o=n.defaultQueryOptions(t);o._optimisticResults=i?"isRestoring":"optimistic",bI(o),vI(o,s),wI(s);const[a]=I.useState(()=>new e(n,o)),l=a.getOptimisticResult(o);if(I.useSyncExternalStore(I.useCallback(u=>{const c=i?()=>{}:a.subscribe(ot.batchCalls(u));return a.updateResult(),c},[a,i]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),I.useEffect(()=>{a.setOptions(o,{listeners:!1})},[o,a]),SI(o,l,i))throw CI(o,a,s);if(_I({result:l,errorResetBoundary:s,throwOnError:o.throwOnError,query:a.getCurrentQuery()}))throw l.error;return o.notifyOnChangeProps?l:a.trackResult(l)}function bi(t,e){return EI(t,uI,e)}var Gm={},ES={exports:{}},Gt={},TS={exports:{}},kS={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(L,B){var K=L.length;L.push(B);e:for(;0<K;){var ae=K-1>>>1,de=L[ae];if(0<i(de,B))L[ae]=B,L[K]=de,K=ae;else break e}}function r(L){return L.length===0?null:L[0]}function n(L){if(L.length===0)return null;var B=L[0],K=L.pop();if(K!==B){L[0]=K;e:for(var ae=0,de=L.length,Qe=de>>>1;ae<Qe;){var Ne=2*(ae+1)-1,gt=L[Ne],yt=Ne+1,gr=L[yt];if(0>i(gt,K))yt<de&&0>i(gr,gt)?(L[ae]=gr,L[yt]=K,ae=yt):(L[ae]=gt,L[Ne]=K,ae=Ne);else if(yt<de&&0>i(gr,K))L[ae]=gr,L[yt]=K,ae=yt;else break e}}return B}function i(L,B){var K=L.sortIndex-B.sortIndex;return K!==0?K:L.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,f=null,d=3,g=!1,v=!1,b=!1,w=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(L){for(var B=r(u);B!==null;){if(B.callback===null)n(u);else if(B.startTime<=L)n(u),B.sortIndex=B.expirationTime,e(l,B);else break;B=r(u)}}function x(L){if(b=!1,y(L),!v)if(r(l)!==null)v=!0,W(S);else{var B=r(u);B!==null&&ie(x,B.startTime-L)}}function S(L,B){v=!1,b&&(b=!1,m(O),O=-1),g=!0;var K=d;try{for(y(B),f=r(l);f!==null&&(!(f.expirationTime>B)||L&&!ee());){var ae=f.callback;if(typeof ae=="function"){f.callback=null,d=f.priorityLevel;var de=ae(f.expirationTime<=B);B=t.unstable_now(),typeof de=="function"?f.callback=de:f===r(l)&&n(l),y(B)}else n(l);f=r(l)}if(f!==null)var Qe=!0;else{var Ne=r(u);Ne!==null&&ie(x,Ne.startTime-B),Qe=!1}return Qe}finally{f=null,d=K,g=!1}}var k=!1,R=null,O=-1,U=5,G=-1;function ee(){return!(t.unstable_now()-G<U)}function ne(){if(R!==null){var L=t.unstable_now();G=L;var B=!0;try{B=R(!0,L)}finally{B?Z():(k=!1,R=null)}}else k=!1}var Z;if(typeof p=="function")Z=function(){p(ne)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,N=P.port2;P.port1.onmessage=ne,Z=function(){N.postMessage(null)}}else Z=function(){w(ne,0)};function W(L){R=L,k||(k=!0,Z())}function ie(L,B){O=w(function(){L(t.unstable_now())},B)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_continueExecution=function(){v||g||(v=!0,W(S))},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(L){switch(d){case 1:case 2:case 3:var B=3;break;default:B=d}var K=d;d=B;try{return L()}finally{d=K}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(L,B){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var K=d;d=L;try{return B()}finally{d=K}},t.unstable_scheduleCallback=function(L,B,K){var ae=t.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?ae+K:ae):K=ae,L){case 1:var de=-1;break;case 2:de=250;break;case 5:de=1073741823;break;case 4:de=1e4;break;default:de=5e3}return de=K+de,L={id:c++,callback:B,priorityLevel:L,startTime:K,expirationTime:de,sortIndex:-1},K>ae?(L.sortIndex=K,e(u,L),r(l)===null&&L===r(u)&&(b?(m(O),O=-1):b=!0,ie(x,K-ae))):(L.sortIndex=de,e(l,L),v||g||(v=!0,W(S))),L},t.unstable_shouldYield=ee,t.unstable_wrapCallback=function(L){var B=d;return function(){var K=d;d=B;try{return L.apply(this,arguments)}finally{d=K}}}})(kS);TS.exports=kS;var TI=TS.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PS=I,Wt=TI;function F(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var AS=new Set,Na={};function fs(t,e){bo(t,e),bo(t+"Capture",e)}function bo(t,e){for(Na[t]=e,t=0;t<e.length;t++)AS.add(e[t])}var fn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vm=Object.prototype.hasOwnProperty,kI=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f_={},h_={};function PI(t){return Vm.call(h_,t)?!0:Vm.call(f_,t)?!1:kI.test(t)?h_[t]=!0:(f_[t]=!0,!1)}function AI(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function II(t,e,r,n){if(e===null||typeof e>"u"||AI(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ct(t,e,r,n,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var lt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){lt[t]=new Ct(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];lt[e]=new Ct(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){lt[t]=new Ct(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){lt[t]=new Ct(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){lt[t]=new Ct(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){lt[t]=new Ct(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){lt[t]=new Ct(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){lt[t]=new Ct(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){lt[t]=new Ct(t,5,!1,t.toLowerCase(),null,!1,!1)});var S0=/[\-:]([a-z])/g;function C0(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(S0,C0);lt[e]=new Ct(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(S0,C0);lt[e]=new Ct(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(S0,C0);lt[e]=new Ct(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){lt[t]=new Ct(t,1,!1,t.toLowerCase(),null,!1,!1)});lt.xlinkHref=new Ct("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){lt[t]=new Ct(t,1,!1,t.toLowerCase(),null,!0,!0)});function E0(t,e,r,n){var i=lt.hasOwnProperty(e)?lt[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(II(e,r,i,n)&&(r=null),n||i===null?PI(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var yn=PS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,au=Symbol.for("react.element"),As=Symbol.for("react.portal"),Is=Symbol.for("react.fragment"),T0=Symbol.for("react.strict_mode"),Qm=Symbol.for("react.profiler"),IS=Symbol.for("react.provider"),OS=Symbol.for("react.context"),k0=Symbol.for("react.forward_ref"),Km=Symbol.for("react.suspense"),Ym=Symbol.for("react.suspense_list"),P0=Symbol.for("react.memo"),jn=Symbol.for("react.lazy"),RS=Symbol.for("react.offscreen"),p_=Symbol.iterator;function Wo(t){return t===null||typeof t!="object"?null:(t=p_&&t[p_]||t["@@iterator"],typeof t=="function"?t:null)}var Le=Object.assign,sh;function sa(t){if(sh===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);sh=e&&e[1]||""}return`
`+sh+t}var oh=!1;function ah(t,e){if(!t||oh)return"";oh=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=n.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{oh=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?sa(t):""}function OI(t){switch(t.tag){case 5:return sa(t.type);case 16:return sa("Lazy");case 13:return sa("Suspense");case 19:return sa("SuspenseList");case 0:case 2:case 15:return t=ah(t.type,!1),t;case 11:return t=ah(t.type.render,!1),t;case 1:return t=ah(t.type,!0),t;default:return""}}function Xm(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Is:return"Fragment";case As:return"Portal";case Qm:return"Profiler";case T0:return"StrictMode";case Km:return"Suspense";case Ym:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case OS:return(t.displayName||"Context")+".Consumer";case IS:return(t._context.displayName||"Context")+".Provider";case k0:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case P0:return e=t.displayName||null,e!==null?e:Xm(t.type)||"Memo";case jn:e=t._payload,t=t._init;try{return Xm(t(e))}catch{}}return null}function RI(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Xm(e);case 8:return e===T0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function di(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function MS(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function MI(t){var e=MS(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function lu(t){t._valueTracker||(t._valueTracker=MI(t))}function NS(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=MS(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function gc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Jm(t,e){var r=e.checked;return Le({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function m_(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=di(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function DS(t,e){e=e.checked,e!=null&&E0(t,"checked",e,!1)}function Zm(t,e){DS(t,e);var r=di(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?eg(t,e.type,r):e.hasOwnProperty("defaultValue")&&eg(t,e.type,di(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function g_(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function eg(t,e,r){(e!=="number"||gc(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var oa=Array.isArray;function Vs(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+di(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function tg(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(F(91));return Le({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function y_(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(F(92));if(oa(r)){if(1<r.length)throw Error(F(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:di(r)}}function jS(t,e){var r=di(e.value),n=di(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function v_(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function LS(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function rg(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?LS(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var uu,BS=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(uu=uu||document.createElement("div"),uu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=uu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Da(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var da={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},NI=["Webkit","ms","Moz","O"];Object.keys(da).forEach(function(t){NI.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),da[e]=da[t]})});function $S(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||da.hasOwnProperty(t)&&da[t]?(""+e).trim():e+"px"}function US(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=$S(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var DI=Le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ng(t,e){if(e){if(DI[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(F(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(F(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(F(61))}if(e.style!=null&&typeof e.style!="object")throw Error(F(62))}}function ig(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sg=null;function A0(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var og=null,Qs=null,Ks=null;function w_(t){if(t=zl(t)){if(typeof og!="function")throw Error(F(280));var e=t.stateNode;e&&(e=Jd(e),og(t.stateNode,t.type,e))}}function FS(t){Qs?Ks?Ks.push(t):Ks=[t]:Qs=t}function qS(){if(Qs){var t=Qs,e=Ks;if(Ks=Qs=null,w_(t),e)for(t=0;t<e.length;t++)w_(e[t])}}function HS(t,e){return t(e)}function zS(){}var lh=!1;function WS(t,e,r){if(lh)return t(e,r);lh=!0;try{return HS(t,e,r)}finally{lh=!1,(Qs!==null||Ks!==null)&&(zS(),qS())}}function ja(t,e){var r=t.stateNode;if(r===null)return null;var n=Jd(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(F(231,e,typeof r));return r}var ag=!1;if(fn)try{var Go={};Object.defineProperty(Go,"passive",{get:function(){ag=!0}}),window.addEventListener("test",Go,Go),window.removeEventListener("test",Go,Go)}catch{ag=!1}function jI(t,e,r,n,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(c){this.onError(c)}}var fa=!1,yc=null,vc=!1,lg=null,LI={onError:function(t){fa=!0,yc=t}};function BI(t,e,r,n,i,s,o,a,l){fa=!1,yc=null,jI.apply(LI,arguments)}function $I(t,e,r,n,i,s,o,a,l){if(BI.apply(this,arguments),fa){if(fa){var u=yc;fa=!1,yc=null}else throw Error(F(198));vc||(vc=!0,lg=u)}}function hs(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function GS(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function __(t){if(hs(t)!==t)throw Error(F(188))}function UI(t){var e=t.alternate;if(!e){if(e=hs(t),e===null)throw Error(F(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return __(i),t;if(s===n)return __(i),e;s=s.sibling}throw Error(F(188))}if(r.return!==n.return)r=i,n=s;else{for(var o=!1,a=i.child;a;){if(a===r){o=!0,r=i,n=s;break}if(a===n){o=!0,n=i,r=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===r){o=!0,r=s,n=i;break}if(a===n){o=!0,n=s,r=i;break}a=a.sibling}if(!o)throw Error(F(189))}}if(r.alternate!==n)throw Error(F(190))}if(r.tag!==3)throw Error(F(188));return r.stateNode.current===r?t:e}function VS(t){return t=UI(t),t!==null?QS(t):null}function QS(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=QS(t);if(e!==null)return e;t=t.sibling}return null}var KS=Wt.unstable_scheduleCallback,b_=Wt.unstable_cancelCallback,FI=Wt.unstable_shouldYield,qI=Wt.unstable_requestPaint,Fe=Wt.unstable_now,HI=Wt.unstable_getCurrentPriorityLevel,I0=Wt.unstable_ImmediatePriority,YS=Wt.unstable_UserBlockingPriority,wc=Wt.unstable_NormalPriority,zI=Wt.unstable_LowPriority,XS=Wt.unstable_IdlePriority,Qd=null,Vr=null;function WI(t){if(Vr&&typeof Vr.onCommitFiberRoot=="function")try{Vr.onCommitFiberRoot(Qd,t,void 0,(t.current.flags&128)===128)}catch{}}var Tr=Math.clz32?Math.clz32:QI,GI=Math.log,VI=Math.LN2;function QI(t){return t>>>=0,t===0?32:31-(GI(t)/VI|0)|0}var cu=64,du=4194304;function aa(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function _c(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,s=t.pingedLanes,o=r&268435455;if(o!==0){var a=o&~i;a!==0?n=aa(a):(s&=o,s!==0&&(n=aa(s)))}else o=r&~i,o!==0?n=aa(o):s!==0&&(n=aa(s));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Tr(e),i=1<<r,n|=t[r],e&=~i;return n}function KI(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function YI(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Tr(s),a=1<<o,l=i[o];l===-1?(!(a&r)||a&n)&&(i[o]=KI(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function ug(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function JS(){var t=cu;return cu<<=1,!(cu&4194240)&&(cu=64),t}function uh(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function ql(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Tr(e),t[e]=r}function XI(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-Tr(r),s=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~s}}function O0(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Tr(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var Ce=0;function ZS(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var eC,R0,tC,rC,nC,cg=!1,fu=[],ti=null,ri=null,ni=null,La=new Map,Ba=new Map,$n=[],JI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function x_(t,e){switch(t){case"focusin":case"focusout":ti=null;break;case"dragenter":case"dragleave":ri=null;break;case"mouseover":case"mouseout":ni=null;break;case"pointerover":case"pointerout":La.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ba.delete(e.pointerId)}}function Vo(t,e,r,n,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},e!==null&&(e=zl(e),e!==null&&R0(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function ZI(t,e,r,n,i){switch(e){case"focusin":return ti=Vo(ti,t,e,r,n,i),!0;case"dragenter":return ri=Vo(ri,t,e,r,n,i),!0;case"mouseover":return ni=Vo(ni,t,e,r,n,i),!0;case"pointerover":var s=i.pointerId;return La.set(s,Vo(La.get(s)||null,t,e,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,Ba.set(s,Vo(Ba.get(s)||null,t,e,r,n,i)),!0}return!1}function iC(t){var e=Ni(t.target);if(e!==null){var r=hs(e);if(r!==null){if(e=r.tag,e===13){if(e=GS(r),e!==null){t.blockedOn=e,nC(t.priority,function(){tC(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Gu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=dg(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);sg=n,r.target.dispatchEvent(n),sg=null}else return e=zl(r),e!==null&&R0(e),t.blockedOn=r,!1;e.shift()}return!0}function S_(t,e,r){Gu(t)&&r.delete(e)}function e3(){cg=!1,ti!==null&&Gu(ti)&&(ti=null),ri!==null&&Gu(ri)&&(ri=null),ni!==null&&Gu(ni)&&(ni=null),La.forEach(S_),Ba.forEach(S_)}function Qo(t,e){t.blockedOn===e&&(t.blockedOn=null,cg||(cg=!0,Wt.unstable_scheduleCallback(Wt.unstable_NormalPriority,e3)))}function $a(t){function e(i){return Qo(i,t)}if(0<fu.length){Qo(fu[0],t);for(var r=1;r<fu.length;r++){var n=fu[r];n.blockedOn===t&&(n.blockedOn=null)}}for(ti!==null&&Qo(ti,t),ri!==null&&Qo(ri,t),ni!==null&&Qo(ni,t),La.forEach(e),Ba.forEach(e),r=0;r<$n.length;r++)n=$n[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<$n.length&&(r=$n[0],r.blockedOn===null);)iC(r),r.blockedOn===null&&$n.shift()}var Ys=yn.ReactCurrentBatchConfig,bc=!0;function t3(t,e,r,n){var i=Ce,s=Ys.transition;Ys.transition=null;try{Ce=1,M0(t,e,r,n)}finally{Ce=i,Ys.transition=s}}function r3(t,e,r,n){var i=Ce,s=Ys.transition;Ys.transition=null;try{Ce=4,M0(t,e,r,n)}finally{Ce=i,Ys.transition=s}}function M0(t,e,r,n){if(bc){var i=dg(t,e,r,n);if(i===null)wh(t,e,n,xc,r),x_(t,n);else if(ZI(i,t,e,r,n))n.stopPropagation();else if(x_(t,n),e&4&&-1<JI.indexOf(t)){for(;i!==null;){var s=zl(i);if(s!==null&&eC(s),s=dg(t,e,r,n),s===null&&wh(t,e,n,xc,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else wh(t,e,n,null,r)}}var xc=null;function dg(t,e,r,n){if(xc=null,t=A0(n),t=Ni(t),t!==null)if(e=hs(t),e===null)t=null;else if(r=e.tag,r===13){if(t=GS(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return xc=t,null}function sC(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(HI()){case I0:return 1;case YS:return 4;case wc:case zI:return 16;case XS:return 536870912;default:return 16}default:return 16}}var Xn=null,N0=null,Vu=null;function oC(){if(Vu)return Vu;var t,e=N0,r=e.length,n,i="value"in Xn?Xn.value:Xn.textContent,s=i.length;for(t=0;t<r&&e[t]===i[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===i[s-n];n++);return Vu=i.slice(t,1<n?1-n:void 0)}function Qu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function hu(){return!0}function C_(){return!1}function Vt(t){function e(r,n,i,s,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(r=t[a],this[a]=r?r(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?hu:C_,this.isPropagationStopped=C_,this}return Le(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=hu)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=hu)},persist:function(){},isPersistent:hu}),e}var No={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},D0=Vt(No),Hl=Le({},No,{view:0,detail:0}),n3=Vt(Hl),ch,dh,Ko,Kd=Le({},Hl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:j0,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ko&&(Ko&&t.type==="mousemove"?(ch=t.screenX-Ko.screenX,dh=t.screenY-Ko.screenY):dh=ch=0,Ko=t),ch)},movementY:function(t){return"movementY"in t?t.movementY:dh}}),E_=Vt(Kd),i3=Le({},Kd,{dataTransfer:0}),s3=Vt(i3),o3=Le({},Hl,{relatedTarget:0}),fh=Vt(o3),a3=Le({},No,{animationName:0,elapsedTime:0,pseudoElement:0}),l3=Vt(a3),u3=Le({},No,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),c3=Vt(u3),d3=Le({},No,{data:0}),T_=Vt(d3),f3={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},h3={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},p3={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function m3(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=p3[t])?!!e[t]:!1}function j0(){return m3}var g3=Le({},Hl,{key:function(t){if(t.key){var e=f3[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Qu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?h3[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:j0,charCode:function(t){return t.type==="keypress"?Qu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Qu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),y3=Vt(g3),v3=Le({},Kd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),k_=Vt(v3),w3=Le({},Hl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:j0}),_3=Vt(w3),b3=Le({},No,{propertyName:0,elapsedTime:0,pseudoElement:0}),x3=Vt(b3),S3=Le({},Kd,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),C3=Vt(S3),E3=[9,13,27,32],L0=fn&&"CompositionEvent"in window,ha=null;fn&&"documentMode"in document&&(ha=document.documentMode);var T3=fn&&"TextEvent"in window&&!ha,aC=fn&&(!L0||ha&&8<ha&&11>=ha),P_=String.fromCharCode(32),A_=!1;function lC(t,e){switch(t){case"keyup":return E3.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function uC(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Os=!1;function k3(t,e){switch(t){case"compositionend":return uC(e);case"keypress":return e.which!==32?null:(A_=!0,P_);case"textInput":return t=e.data,t===P_&&A_?null:t;default:return null}}function P3(t,e){if(Os)return t==="compositionend"||!L0&&lC(t,e)?(t=oC(),Vu=N0=Xn=null,Os=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return aC&&e.locale!=="ko"?null:e.data;default:return null}}var A3={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function I_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!A3[t.type]:e==="textarea"}function cC(t,e,r,n){FS(n),e=Sc(e,"onChange"),0<e.length&&(r=new D0("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var pa=null,Ua=null;function I3(t){bC(t,0)}function Yd(t){var e=Ns(t);if(NS(e))return t}function O3(t,e){if(t==="change")return e}var dC=!1;if(fn){var hh;if(fn){var ph="oninput"in document;if(!ph){var O_=document.createElement("div");O_.setAttribute("oninput","return;"),ph=typeof O_.oninput=="function"}hh=ph}else hh=!1;dC=hh&&(!document.documentMode||9<document.documentMode)}function R_(){pa&&(pa.detachEvent("onpropertychange",fC),Ua=pa=null)}function fC(t){if(t.propertyName==="value"&&Yd(Ua)){var e=[];cC(e,Ua,t,A0(t)),WS(I3,e)}}function R3(t,e,r){t==="focusin"?(R_(),pa=e,Ua=r,pa.attachEvent("onpropertychange",fC)):t==="focusout"&&R_()}function M3(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Yd(Ua)}function N3(t,e){if(t==="click")return Yd(e)}function D3(t,e){if(t==="input"||t==="change")return Yd(e)}function j3(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ar=typeof Object.is=="function"?Object.is:j3;function Fa(t,e){if(Ar(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!Vm.call(e,i)||!Ar(t[i],e[i]))return!1}return!0}function M_(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function N_(t,e){var r=M_(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=M_(r)}}function hC(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?hC(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function pC(){for(var t=window,e=gc();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=gc(t.document)}return e}function B0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function L3(t){var e=pC(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&hC(r.ownerDocument.documentElement,r)){if(n!==null&&B0(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!t.extend&&s>n&&(i=n,n=s,s=i),i=N_(r,s);var o=N_(r,n);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var B3=fn&&"documentMode"in document&&11>=document.documentMode,Rs=null,fg=null,ma=null,hg=!1;function D_(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;hg||Rs==null||Rs!==gc(n)||(n=Rs,"selectionStart"in n&&B0(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),ma&&Fa(ma,n)||(ma=n,n=Sc(fg,"onSelect"),0<n.length&&(e=new D0("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Rs)))}function pu(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Ms={animationend:pu("Animation","AnimationEnd"),animationiteration:pu("Animation","AnimationIteration"),animationstart:pu("Animation","AnimationStart"),transitionend:pu("Transition","TransitionEnd")},mh={},mC={};fn&&(mC=document.createElement("div").style,"AnimationEvent"in window||(delete Ms.animationend.animation,delete Ms.animationiteration.animation,delete Ms.animationstart.animation),"TransitionEvent"in window||delete Ms.transitionend.transition);function Xd(t){if(mh[t])return mh[t];if(!Ms[t])return t;var e=Ms[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in mC)return mh[t]=e[r];return t}var gC=Xd("animationend"),yC=Xd("animationiteration"),vC=Xd("animationstart"),wC=Xd("transitionend"),_C=new Map,j_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function xi(t,e){_C.set(t,e),fs(e,[t])}for(var gh=0;gh<j_.length;gh++){var yh=j_[gh],$3=yh.toLowerCase(),U3=yh[0].toUpperCase()+yh.slice(1);xi($3,"on"+U3)}xi(gC,"onAnimationEnd");xi(yC,"onAnimationIteration");xi(vC,"onAnimationStart");xi("dblclick","onDoubleClick");xi("focusin","onFocus");xi("focusout","onBlur");xi(wC,"onTransitionEnd");bo("onMouseEnter",["mouseout","mouseover"]);bo("onMouseLeave",["mouseout","mouseover"]);bo("onPointerEnter",["pointerout","pointerover"]);bo("onPointerLeave",["pointerout","pointerover"]);fs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fs("onBeforeInput",["compositionend","keypress","textInput","paste"]);fs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var la="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),F3=new Set("cancel close invalid load scroll toggle".split(" ").concat(la));function L_(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,$I(n,e,void 0,t),t.currentTarget=null}function bC(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var s=void 0;if(e)for(var o=n.length-1;0<=o;o--){var a=n[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;L_(i,a,u),s=l}else for(o=0;o<n.length;o++){if(a=n[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;L_(i,a,u),s=l}}}if(vc)throw t=lg,vc=!1,lg=null,t}function Ie(t,e){var r=e[vg];r===void 0&&(r=e[vg]=new Set);var n=t+"__bubble";r.has(n)||(xC(e,t,2,!1),r.add(n))}function vh(t,e,r){var n=0;e&&(n|=4),xC(r,t,n,e)}var mu="_reactListening"+Math.random().toString(36).slice(2);function qa(t){if(!t[mu]){t[mu]=!0,AS.forEach(function(r){r!=="selectionchange"&&(F3.has(r)||vh(r,!1,t),vh(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[mu]||(e[mu]=!0,vh("selectionchange",!1,e))}}function xC(t,e,r,n){switch(sC(e)){case 1:var i=t3;break;case 4:i=r3;break;default:i=M0}r=i.bind(null,e,r,t),i=void 0,!ag||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function wh(t,e,r,n,i){var s=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var a=n.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Ni(a),o===null)return;if(l=o.tag,l===5||l===6){n=s=o;continue e}a=a.parentNode}}n=n.return}WS(function(){var u=s,c=A0(r),f=[];e:{var d=_C.get(t);if(d!==void 0){var g=D0,v=t;switch(t){case"keypress":if(Qu(r)===0)break e;case"keydown":case"keyup":g=y3;break;case"focusin":v="focus",g=fh;break;case"focusout":v="blur",g=fh;break;case"beforeblur":case"afterblur":g=fh;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=E_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=s3;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=_3;break;case gC:case yC:case vC:g=l3;break;case wC:g=x3;break;case"scroll":g=n3;break;case"wheel":g=C3;break;case"copy":case"cut":case"paste":g=c3;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=k_}var b=(e&4)!==0,w=!b&&t==="scroll",m=b?d!==null?d+"Capture":null:d;b=[];for(var p=u,y;p!==null;){y=p;var x=y.stateNode;if(y.tag===5&&x!==null&&(y=x,m!==null&&(x=ja(p,m),x!=null&&b.push(Ha(p,x,y)))),w)break;p=p.return}0<b.length&&(d=new g(d,v,null,r,c),f.push({event:d,listeners:b}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",d&&r!==sg&&(v=r.relatedTarget||r.fromElement)&&(Ni(v)||v[hn]))break e;if((g||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,g?(v=r.relatedTarget||r.toElement,g=u,v=v?Ni(v):null,v!==null&&(w=hs(v),v!==w||v.tag!==5&&v.tag!==6)&&(v=null)):(g=null,v=u),g!==v)){if(b=E_,x="onMouseLeave",m="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(b=k_,x="onPointerLeave",m="onPointerEnter",p="pointer"),w=g==null?d:Ns(g),y=v==null?d:Ns(v),d=new b(x,p+"leave",g,r,c),d.target=w,d.relatedTarget=y,x=null,Ni(c)===u&&(b=new b(m,p+"enter",v,r,c),b.target=y,b.relatedTarget=w,x=b),w=x,g&&v)t:{for(b=g,m=v,p=0,y=b;y;y=_s(y))p++;for(y=0,x=m;x;x=_s(x))y++;for(;0<p-y;)b=_s(b),p--;for(;0<y-p;)m=_s(m),y--;for(;p--;){if(b===m||m!==null&&b===m.alternate)break t;b=_s(b),m=_s(m)}b=null}else b=null;g!==null&&B_(f,d,g,b,!1),v!==null&&w!==null&&B_(f,w,v,b,!0)}}e:{if(d=u?Ns(u):window,g=d.nodeName&&d.nodeName.toLowerCase(),g==="select"||g==="input"&&d.type==="file")var S=O3;else if(I_(d))if(dC)S=D3;else{S=M3;var k=R3}else(g=d.nodeName)&&g.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(S=N3);if(S&&(S=S(t,u))){cC(f,S,r,c);break e}k&&k(t,d,u),t==="focusout"&&(k=d._wrapperState)&&k.controlled&&d.type==="number"&&eg(d,"number",d.value)}switch(k=u?Ns(u):window,t){case"focusin":(I_(k)||k.contentEditable==="true")&&(Rs=k,fg=u,ma=null);break;case"focusout":ma=fg=Rs=null;break;case"mousedown":hg=!0;break;case"contextmenu":case"mouseup":case"dragend":hg=!1,D_(f,r,c);break;case"selectionchange":if(B3)break;case"keydown":case"keyup":D_(f,r,c)}var R;if(L0)e:{switch(t){case"compositionstart":var O="onCompositionStart";break e;case"compositionend":O="onCompositionEnd";break e;case"compositionupdate":O="onCompositionUpdate";break e}O=void 0}else Os?lC(t,r)&&(O="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(O="onCompositionStart");O&&(aC&&r.locale!=="ko"&&(Os||O!=="onCompositionStart"?O==="onCompositionEnd"&&Os&&(R=oC()):(Xn=c,N0="value"in Xn?Xn.value:Xn.textContent,Os=!0)),k=Sc(u,O),0<k.length&&(O=new T_(O,t,null,r,c),f.push({event:O,listeners:k}),R?O.data=R:(R=uC(r),R!==null&&(O.data=R)))),(R=T3?k3(t,r):P3(t,r))&&(u=Sc(u,"onBeforeInput"),0<u.length&&(c=new T_("onBeforeInput","beforeinput",null,r,c),f.push({event:c,listeners:u}),c.data=R))}bC(f,e)})}function Ha(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Sc(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=ja(t,r),s!=null&&n.unshift(Ha(t,s,i)),s=ja(t,e),s!=null&&n.push(Ha(t,s,i))),t=t.return}return n}function _s(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function B_(t,e,r,n,i){for(var s=e._reactName,o=[];r!==null&&r!==n;){var a=r,l=a.alternate,u=a.stateNode;if(l!==null&&l===n)break;a.tag===5&&u!==null&&(a=u,i?(l=ja(r,s),l!=null&&o.unshift(Ha(r,l,a))):i||(l=ja(r,s),l!=null&&o.push(Ha(r,l,a)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var q3=/\r\n?/g,H3=/\u0000|\uFFFD/g;function $_(t){return(typeof t=="string"?t:""+t).replace(q3,`
`).replace(H3,"")}function gu(t,e,r){if(e=$_(e),$_(t)!==e&&r)throw Error(F(425))}function Cc(){}var pg=null,mg=null;function gg(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var yg=typeof setTimeout=="function"?setTimeout:void 0,z3=typeof clearTimeout=="function"?clearTimeout:void 0,U_=typeof Promise=="function"?Promise:void 0,W3=typeof queueMicrotask=="function"?queueMicrotask:typeof U_<"u"?function(t){return U_.resolve(null).then(t).catch(G3)}:yg;function G3(t){setTimeout(function(){throw t})}function _h(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),$a(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);$a(e)}function ii(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function F_(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Do=Math.random().toString(36).slice(2),zr="__reactFiber$"+Do,za="__reactProps$"+Do,hn="__reactContainer$"+Do,vg="__reactEvents$"+Do,V3="__reactListeners$"+Do,Q3="__reactHandles$"+Do;function Ni(t){var e=t[zr];if(e)return e;for(var r=t.parentNode;r;){if(e=r[hn]||r[zr]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=F_(t);t!==null;){if(r=t[zr])return r;t=F_(t)}return e}t=r,r=t.parentNode}return null}function zl(t){return t=t[zr]||t[hn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ns(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(F(33))}function Jd(t){return t[za]||null}var wg=[],Ds=-1;function Si(t){return{current:t}}function Oe(t){0>Ds||(t.current=wg[Ds],wg[Ds]=null,Ds--)}function ke(t,e){Ds++,wg[Ds]=t.current,t.current=e}var fi={},mt=Si(fi),It=Si(!1),rs=fi;function xo(t,e){var r=t.type.contextTypes;if(!r)return fi;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=e[s];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Ot(t){return t=t.childContextTypes,t!=null}function Ec(){Oe(It),Oe(mt)}function q_(t,e,r){if(mt.current!==fi)throw Error(F(168));ke(mt,e),ke(It,r)}function SC(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(F(108,RI(t)||"Unknown",i));return Le({},r,n)}function Tc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||fi,rs=mt.current,ke(mt,t),ke(It,It.current),!0}function H_(t,e,r){var n=t.stateNode;if(!n)throw Error(F(169));r?(t=SC(t,e,rs),n.__reactInternalMemoizedMergedChildContext=t,Oe(It),Oe(mt),ke(mt,t)):Oe(It),ke(It,r)}var on=null,Zd=!1,bh=!1;function CC(t){on===null?on=[t]:on.push(t)}function K3(t){Zd=!0,CC(t)}function Ci(){if(!bh&&on!==null){bh=!0;var t=0,e=Ce;try{var r=on;for(Ce=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}on=null,Zd=!1}catch(i){throw on!==null&&(on=on.slice(t+1)),KS(I0,Ci),i}finally{Ce=e,bh=!1}}return null}var js=[],Ls=0,kc=null,Pc=0,Zt=[],er=0,ns=null,ln=1,un="";function Ai(t,e){js[Ls++]=Pc,js[Ls++]=kc,kc=t,Pc=e}function EC(t,e,r){Zt[er++]=ln,Zt[er++]=un,Zt[er++]=ns,ns=t;var n=ln;t=un;var i=32-Tr(n)-1;n&=~(1<<i),r+=1;var s=32-Tr(e)+i;if(30<s){var o=i-i%5;s=(n&(1<<o)-1).toString(32),n>>=o,i-=o,ln=1<<32-Tr(e)+i|r<<i|n,un=s+t}else ln=1<<s|r<<i|n,un=t}function $0(t){t.return!==null&&(Ai(t,1),EC(t,1,0))}function U0(t){for(;t===kc;)kc=js[--Ls],js[Ls]=null,Pc=js[--Ls],js[Ls]=null;for(;t===ns;)ns=Zt[--er],Zt[er]=null,un=Zt[--er],Zt[er]=null,ln=Zt[--er],Zt[er]=null}var Ht=null,Ft=null,Me=!1,Sr=null;function TC(t,e){var r=rr(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function z_(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ht=t,Ft=ii(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ht=t,Ft=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=ns!==null?{id:ln,overflow:un}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=rr(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Ht=t,Ft=null,!0):!1;default:return!1}}function _g(t){return(t.mode&1)!==0&&(t.flags&128)===0}function bg(t){if(Me){var e=Ft;if(e){var r=e;if(!z_(t,e)){if(_g(t))throw Error(F(418));e=ii(r.nextSibling);var n=Ht;e&&z_(t,e)?TC(n,r):(t.flags=t.flags&-4097|2,Me=!1,Ht=t)}}else{if(_g(t))throw Error(F(418));t.flags=t.flags&-4097|2,Me=!1,Ht=t}}}function W_(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ht=t}function yu(t){if(t!==Ht)return!1;if(!Me)return W_(t),Me=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!gg(t.type,t.memoizedProps)),e&&(e=Ft)){if(_g(t))throw kC(),Error(F(418));for(;e;)TC(t,e),e=ii(e.nextSibling)}if(W_(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(F(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Ft=ii(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Ft=null}}else Ft=Ht?ii(t.stateNode.nextSibling):null;return!0}function kC(){for(var t=Ft;t;)t=ii(t.nextSibling)}function So(){Ft=Ht=null,Me=!1}function F0(t){Sr===null?Sr=[t]:Sr.push(t)}var Y3=yn.ReactCurrentBatchConfig;function _r(t,e){if(t&&t.defaultProps){e=Le({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}var Ac=Si(null),Ic=null,Bs=null,q0=null;function H0(){q0=Bs=Ic=null}function z0(t){var e=Ac.current;Oe(Ac),t._currentValue=e}function xg(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Xs(t,e){Ic=t,q0=Bs=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(At=!0),t.firstContext=null)}function dr(t){var e=t._currentValue;if(q0!==t)if(t={context:t,memoizedValue:e,next:null},Bs===null){if(Ic===null)throw Error(F(308));Bs=t,Ic.dependencies={lanes:0,firstContext:t}}else Bs=Bs.next=t;return e}var Di=null;function W0(t){Di===null?Di=[t]:Di.push(t)}function PC(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,W0(e)):(r.next=i.next,i.next=r),e.interleaved=r,pn(t,n)}function pn(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Ln=!1;function G0(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function AC(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function cn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function si(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,ge&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,pn(t,r)}return i=n.interleaved,i===null?(e.next=e,W0(n)):(e.next=i.next,i.next=e),n.interleaved=e,pn(t,r)}function Ku(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,O0(t,r)}}function G_(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=o:s=s.next=o,r=r.next}while(r!==null);s===null?i=s=e:s=s.next=e}else i=s=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Oc(t,e,r,n){var i=t.updateQueue;Ln=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var f=i.baseState;o=0,c=u=l=null,a=s;do{var d=a.lane,g=a.eventTime;if((n&d)===d){c!==null&&(c=c.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=t,b=a;switch(d=e,g=r,b.tag){case 1:if(v=b.payload,typeof v=="function"){f=v.call(g,f,d);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=b.payload,d=typeof v=="function"?v.call(g,f,d):v,d==null)break e;f=Le({},f,d);break e;case 2:Ln=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,d=i.effects,d===null?i.effects=[a]:d.push(a))}else g={eventTime:g,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=g,l=f):c=c.next=g,o|=d;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;d=a,a=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(1);if(c===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);ss|=o,t.lanes=o,t.memoizedState=f}}function V_(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(F(191,i));i.call(n)}}}var IC=new PS.Component().refs;function Sg(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:Le({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var ef={isMounted:function(t){return(t=t._reactInternals)?hs(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=xt(),i=ai(t),s=cn(n,i);s.payload=e,r!=null&&(s.callback=r),e=si(t,s,i),e!==null&&(kr(e,t,i,n),Ku(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=xt(),i=ai(t),s=cn(n,i);s.tag=1,s.payload=e,r!=null&&(s.callback=r),e=si(t,s,i),e!==null&&(kr(e,t,i,n),Ku(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=xt(),n=ai(t),i=cn(r,n);i.tag=2,e!=null&&(i.callback=e),e=si(t,i,n),e!==null&&(kr(e,t,n,r),Ku(e,t,n))}};function Q_(t,e,r,n,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,s,o):e.prototype&&e.prototype.isPureReactComponent?!Fa(r,n)||!Fa(i,s):!0}function OC(t,e,r){var n=!1,i=fi,s=e.contextType;return typeof s=="object"&&s!==null?s=dr(s):(i=Ot(e)?rs:mt.current,n=e.contextTypes,s=(n=n!=null)?xo(t,i):fi),e=new e(r,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ef,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function K_(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&ef.enqueueReplaceState(e,e.state,null)}function Cg(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs=IC,G0(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=dr(s):(s=Ot(e)?rs:mt.current,i.context=xo(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Sg(t,e,s,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&ef.enqueueReplaceState(i,i.state,null),Oc(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Yo(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(F(309));var n=r.stateNode}if(!n)throw Error(F(147,t));var i=n,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===IC&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(F(284));if(!r._owner)throw Error(F(290,t))}return t}function vu(t,e){throw t=Object.prototype.toString.call(e),Error(F(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Y_(t){var e=t._init;return e(t._payload)}function RC(t){function e(m,p){if(t){var y=m.deletions;y===null?(m.deletions=[p],m.flags|=16):y.push(p)}}function r(m,p){if(!t)return null;for(;p!==null;)e(m,p),p=p.sibling;return null}function n(m,p){for(m=new Map;p!==null;)p.key!==null?m.set(p.key,p):m.set(p.index,p),p=p.sibling;return m}function i(m,p){return m=li(m,p),m.index=0,m.sibling=null,m}function s(m,p,y){return m.index=y,t?(y=m.alternate,y!==null?(y=y.index,y<p?(m.flags|=2,p):y):(m.flags|=2,p)):(m.flags|=1048576,p)}function o(m){return t&&m.alternate===null&&(m.flags|=2),m}function a(m,p,y,x){return p===null||p.tag!==6?(p=Ph(y,m.mode,x),p.return=m,p):(p=i(p,y),p.return=m,p)}function l(m,p,y,x){var S=y.type;return S===Is?c(m,p,y.props.children,x,y.key):p!==null&&(p.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===jn&&Y_(S)===p.type)?(x=i(p,y.props),x.ref=Yo(m,p,y),x.return=m,x):(x=tc(y.type,y.key,y.props,null,m.mode,x),x.ref=Yo(m,p,y),x.return=m,x)}function u(m,p,y,x){return p===null||p.tag!==4||p.stateNode.containerInfo!==y.containerInfo||p.stateNode.implementation!==y.implementation?(p=Ah(y,m.mode,x),p.return=m,p):(p=i(p,y.children||[]),p.return=m,p)}function c(m,p,y,x,S){return p===null||p.tag!==7?(p=Xi(y,m.mode,x,S),p.return=m,p):(p=i(p,y),p.return=m,p)}function f(m,p,y){if(typeof p=="string"&&p!==""||typeof p=="number")return p=Ph(""+p,m.mode,y),p.return=m,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case au:return y=tc(p.type,p.key,p.props,null,m.mode,y),y.ref=Yo(m,null,p),y.return=m,y;case As:return p=Ah(p,m.mode,y),p.return=m,p;case jn:var x=p._init;return f(m,x(p._payload),y)}if(oa(p)||Wo(p))return p=Xi(p,m.mode,y,null),p.return=m,p;vu(m,p)}return null}function d(m,p,y,x){var S=p!==null?p.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return S!==null?null:a(m,p,""+y,x);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case au:return y.key===S?l(m,p,y,x):null;case As:return y.key===S?u(m,p,y,x):null;case jn:return S=y._init,d(m,p,S(y._payload),x)}if(oa(y)||Wo(y))return S!==null?null:c(m,p,y,x,null);vu(m,y)}return null}function g(m,p,y,x,S){if(typeof x=="string"&&x!==""||typeof x=="number")return m=m.get(y)||null,a(p,m,""+x,S);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case au:return m=m.get(x.key===null?y:x.key)||null,l(p,m,x,S);case As:return m=m.get(x.key===null?y:x.key)||null,u(p,m,x,S);case jn:var k=x._init;return g(m,p,y,k(x._payload),S)}if(oa(x)||Wo(x))return m=m.get(y)||null,c(p,m,x,S,null);vu(p,x)}return null}function v(m,p,y,x){for(var S=null,k=null,R=p,O=p=0,U=null;R!==null&&O<y.length;O++){R.index>O?(U=R,R=null):U=R.sibling;var G=d(m,R,y[O],x);if(G===null){R===null&&(R=U);break}t&&R&&G.alternate===null&&e(m,R),p=s(G,p,O),k===null?S=G:k.sibling=G,k=G,R=U}if(O===y.length)return r(m,R),Me&&Ai(m,O),S;if(R===null){for(;O<y.length;O++)R=f(m,y[O],x),R!==null&&(p=s(R,p,O),k===null?S=R:k.sibling=R,k=R);return Me&&Ai(m,O),S}for(R=n(m,R);O<y.length;O++)U=g(R,m,O,y[O],x),U!==null&&(t&&U.alternate!==null&&R.delete(U.key===null?O:U.key),p=s(U,p,O),k===null?S=U:k.sibling=U,k=U);return t&&R.forEach(function(ee){return e(m,ee)}),Me&&Ai(m,O),S}function b(m,p,y,x){var S=Wo(y);if(typeof S!="function")throw Error(F(150));if(y=S.call(y),y==null)throw Error(F(151));for(var k=S=null,R=p,O=p=0,U=null,G=y.next();R!==null&&!G.done;O++,G=y.next()){R.index>O?(U=R,R=null):U=R.sibling;var ee=d(m,R,G.value,x);if(ee===null){R===null&&(R=U);break}t&&R&&ee.alternate===null&&e(m,R),p=s(ee,p,O),k===null?S=ee:k.sibling=ee,k=ee,R=U}if(G.done)return r(m,R),Me&&Ai(m,O),S;if(R===null){for(;!G.done;O++,G=y.next())G=f(m,G.value,x),G!==null&&(p=s(G,p,O),k===null?S=G:k.sibling=G,k=G);return Me&&Ai(m,O),S}for(R=n(m,R);!G.done;O++,G=y.next())G=g(R,m,O,G.value,x),G!==null&&(t&&G.alternate!==null&&R.delete(G.key===null?O:G.key),p=s(G,p,O),k===null?S=G:k.sibling=G,k=G);return t&&R.forEach(function(ne){return e(m,ne)}),Me&&Ai(m,O),S}function w(m,p,y,x){if(typeof y=="object"&&y!==null&&y.type===Is&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case au:e:{for(var S=y.key,k=p;k!==null;){if(k.key===S){if(S=y.type,S===Is){if(k.tag===7){r(m,k.sibling),p=i(k,y.props.children),p.return=m,m=p;break e}}else if(k.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===jn&&Y_(S)===k.type){r(m,k.sibling),p=i(k,y.props),p.ref=Yo(m,k,y),p.return=m,m=p;break e}r(m,k);break}else e(m,k);k=k.sibling}y.type===Is?(p=Xi(y.props.children,m.mode,x,y.key),p.return=m,m=p):(x=tc(y.type,y.key,y.props,null,m.mode,x),x.ref=Yo(m,p,y),x.return=m,m=x)}return o(m);case As:e:{for(k=y.key;p!==null;){if(p.key===k)if(p.tag===4&&p.stateNode.containerInfo===y.containerInfo&&p.stateNode.implementation===y.implementation){r(m,p.sibling),p=i(p,y.children||[]),p.return=m,m=p;break e}else{r(m,p);break}else e(m,p);p=p.sibling}p=Ah(y,m.mode,x),p.return=m,m=p}return o(m);case jn:return k=y._init,w(m,p,k(y._payload),x)}if(oa(y))return v(m,p,y,x);if(Wo(y))return b(m,p,y,x);vu(m,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,p!==null&&p.tag===6?(r(m,p.sibling),p=i(p,y),p.return=m,m=p):(r(m,p),p=Ph(y,m.mode,x),p.return=m,m=p),o(m)):r(m,p)}return w}var Co=RC(!0),MC=RC(!1),Wl={},Qr=Si(Wl),Wa=Si(Wl),Ga=Si(Wl);function ji(t){if(t===Wl)throw Error(F(174));return t}function V0(t,e){switch(ke(Ga,e),ke(Wa,t),ke(Qr,Wl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:rg(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=rg(e,t)}Oe(Qr),ke(Qr,e)}function Eo(){Oe(Qr),Oe(Wa),Oe(Ga)}function NC(t){ji(Ga.current);var e=ji(Qr.current),r=rg(e,t.type);e!==r&&(ke(Wa,t),ke(Qr,r))}function Q0(t){Wa.current===t&&(Oe(Qr),Oe(Wa))}var De=Si(0);function Rc(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var xh=[];function K0(){for(var t=0;t<xh.length;t++)xh[t]._workInProgressVersionPrimary=null;xh.length=0}var Yu=yn.ReactCurrentDispatcher,Sh=yn.ReactCurrentBatchConfig,is=0,je=null,Xe=null,tt=null,Mc=!1,ga=!1,Va=0,X3=0;function ut(){throw Error(F(321))}function Y0(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Ar(t[r],e[r]))return!1;return!0}function X0(t,e,r,n,i,s){if(is=s,je=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Yu.current=t===null||t.memoizedState===null?tO:rO,t=r(n,i),ga){s=0;do{if(ga=!1,Va=0,25<=s)throw Error(F(301));s+=1,tt=Xe=null,e.updateQueue=null,Yu.current=nO,t=r(n,i)}while(ga)}if(Yu.current=Nc,e=Xe!==null&&Xe.next!==null,is=0,tt=Xe=je=null,Mc=!1,e)throw Error(F(300));return t}function J0(){var t=Va!==0;return Va=0,t}function Dr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return tt===null?je.memoizedState=tt=t:tt=tt.next=t,tt}function fr(){if(Xe===null){var t=je.alternate;t=t!==null?t.memoizedState:null}else t=Xe.next;var e=tt===null?je.memoizedState:tt.next;if(e!==null)tt=e,Xe=t;else{if(t===null)throw Error(F(310));Xe=t,t={memoizedState:Xe.memoizedState,baseState:Xe.baseState,baseQueue:Xe.baseQueue,queue:Xe.queue,next:null},tt===null?je.memoizedState=tt=t:tt=tt.next=t}return tt}function Qa(t,e){return typeof e=="function"?e(t):e}function Ch(t){var e=fr(),r=e.queue;if(r===null)throw Error(F(311));r.lastRenderedReducer=t;var n=Xe,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((is&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=f,o=n):l=l.next=f,je.lanes|=c,ss|=c}u=u.next}while(u!==null&&u!==s);l===null?o=n:l.next=a,Ar(n,e.memoizedState)||(At=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do s=i.lane,je.lanes|=s,ss|=s,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function Eh(t){var e=fr(),r=e.queue;if(r===null)throw Error(F(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,s=e.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Ar(s,e.memoizedState)||(At=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),r.lastRenderedState=s}return[s,n]}function DC(){}function jC(t,e){var r=je,n=fr(),i=e(),s=!Ar(n.memoizedState,i);if(s&&(n.memoizedState=i,At=!0),n=n.queue,Z0($C.bind(null,r,n,t),[t]),n.getSnapshot!==e||s||tt!==null&&tt.memoizedState.tag&1){if(r.flags|=2048,Ka(9,BC.bind(null,r,n,i,e),void 0,null),nt===null)throw Error(F(349));is&30||LC(r,e,i)}return i}function LC(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=je.updateQueue,e===null?(e={lastEffect:null,stores:null},je.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function BC(t,e,r,n){e.value=r,e.getSnapshot=n,UC(e)&&FC(t)}function $C(t,e,r){return r(function(){UC(e)&&FC(t)})}function UC(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Ar(t,r)}catch{return!0}}function FC(t){var e=pn(t,1);e!==null&&kr(e,t,1,-1)}function X_(t){var e=Dr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Qa,lastRenderedState:t},e.queue=t,t=t.dispatch=eO.bind(null,je,t),[e.memoizedState,t]}function Ka(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=je.updateQueue,e===null?(e={lastEffect:null,stores:null},je.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function qC(){return fr().memoizedState}function Xu(t,e,r,n){var i=Dr();je.flags|=t,i.memoizedState=Ka(1|e,r,void 0,n===void 0?null:n)}function tf(t,e,r,n){var i=fr();n=n===void 0?null:n;var s=void 0;if(Xe!==null){var o=Xe.memoizedState;if(s=o.destroy,n!==null&&Y0(n,o.deps)){i.memoizedState=Ka(e,r,s,n);return}}je.flags|=t,i.memoizedState=Ka(1|e,r,s,n)}function J_(t,e){return Xu(8390656,8,t,e)}function Z0(t,e){return tf(2048,8,t,e)}function HC(t,e){return tf(4,2,t,e)}function zC(t,e){return tf(4,4,t,e)}function WC(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function GC(t,e,r){return r=r!=null?r.concat([t]):null,tf(4,4,WC.bind(null,e,t),r)}function ev(){}function VC(t,e){var r=fr();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Y0(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function QC(t,e){var r=fr();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Y0(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function KC(t,e,r){return is&21?(Ar(r,e)||(r=JS(),je.lanes|=r,ss|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,At=!0),t.memoizedState=r)}function J3(t,e){var r=Ce;Ce=r!==0&&4>r?r:4,t(!0);var n=Sh.transition;Sh.transition={};try{t(!1),e()}finally{Ce=r,Sh.transition=n}}function YC(){return fr().memoizedState}function Z3(t,e,r){var n=ai(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},XC(t))JC(e,r);else if(r=PC(t,e,r,n),r!==null){var i=xt();kr(r,t,n,i),ZC(r,e,n)}}function eO(t,e,r){var n=ai(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(XC(t))JC(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,r);if(i.hasEagerState=!0,i.eagerState=a,Ar(a,o)){var l=e.interleaved;l===null?(i.next=i,W0(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}r=PC(t,e,i,n),r!==null&&(i=xt(),kr(r,t,n,i),ZC(r,e,n))}}function XC(t){var e=t.alternate;return t===je||e!==null&&e===je}function JC(t,e){ga=Mc=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function ZC(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,O0(t,r)}}var Nc={readContext:dr,useCallback:ut,useContext:ut,useEffect:ut,useImperativeHandle:ut,useInsertionEffect:ut,useLayoutEffect:ut,useMemo:ut,useReducer:ut,useRef:ut,useState:ut,useDebugValue:ut,useDeferredValue:ut,useTransition:ut,useMutableSource:ut,useSyncExternalStore:ut,useId:ut,unstable_isNewReconciler:!1},tO={readContext:dr,useCallback:function(t,e){return Dr().memoizedState=[t,e===void 0?null:e],t},useContext:dr,useEffect:J_,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Xu(4194308,4,WC.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Xu(4194308,4,t,e)},useInsertionEffect:function(t,e){return Xu(4,2,t,e)},useMemo:function(t,e){var r=Dr();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Dr();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=Z3.bind(null,je,t),[n.memoizedState,t]},useRef:function(t){var e=Dr();return t={current:t},e.memoizedState=t},useState:X_,useDebugValue:ev,useDeferredValue:function(t){return Dr().memoizedState=t},useTransition:function(){var t=X_(!1),e=t[0];return t=J3.bind(null,t[1]),Dr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=je,i=Dr();if(Me){if(r===void 0)throw Error(F(407));r=r()}else{if(r=e(),nt===null)throw Error(F(349));is&30||LC(n,e,r)}i.memoizedState=r;var s={value:r,getSnapshot:e};return i.queue=s,J_($C.bind(null,n,s,t),[t]),n.flags|=2048,Ka(9,BC.bind(null,n,s,r,e),void 0,null),r},useId:function(){var t=Dr(),e=nt.identifierPrefix;if(Me){var r=un,n=ln;r=(n&~(1<<32-Tr(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Va++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=X3++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},rO={readContext:dr,useCallback:VC,useContext:dr,useEffect:Z0,useImperativeHandle:GC,useInsertionEffect:HC,useLayoutEffect:zC,useMemo:QC,useReducer:Ch,useRef:qC,useState:function(){return Ch(Qa)},useDebugValue:ev,useDeferredValue:function(t){var e=fr();return KC(e,Xe.memoizedState,t)},useTransition:function(){var t=Ch(Qa)[0],e=fr().memoizedState;return[t,e]},useMutableSource:DC,useSyncExternalStore:jC,useId:YC,unstable_isNewReconciler:!1},nO={readContext:dr,useCallback:VC,useContext:dr,useEffect:Z0,useImperativeHandle:GC,useInsertionEffect:HC,useLayoutEffect:zC,useMemo:QC,useReducer:Eh,useRef:qC,useState:function(){return Eh(Qa)},useDebugValue:ev,useDeferredValue:function(t){var e=fr();return Xe===null?e.memoizedState=t:KC(e,Xe.memoizedState,t)},useTransition:function(){var t=Eh(Qa)[0],e=fr().memoizedState;return[t,e]},useMutableSource:DC,useSyncExternalStore:jC,useId:YC,unstable_isNewReconciler:!1};function To(t,e){try{var r="",n=e;do r+=OI(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Th(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function Eg(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var iO=typeof WeakMap=="function"?WeakMap:Map;function e5(t,e,r){r=cn(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){jc||(jc=!0,Dg=n),Eg(t,e)},r}function t5(t,e,r){r=cn(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){Eg(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){Eg(t,e),typeof n!="function"&&(oi===null?oi=new Set([this]):oi.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function Z_(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new iO;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=vO.bind(null,t,e,r),e.then(t,t))}function e1(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function t1(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=cn(-1,1),e.tag=2,si(r,e,1))),r.lanes|=1),t)}var sO=yn.ReactCurrentOwner,At=!1;function bt(t,e,r,n){e.child=t===null?MC(e,null,r,n):Co(e,t.child,r,n)}function r1(t,e,r,n,i){r=r.render;var s=e.ref;return Xs(e,i),n=X0(t,e,r,n,s,i),r=J0(),t!==null&&!At?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,mn(t,e,i)):(Me&&r&&$0(e),e.flags|=1,bt(t,e,n,i),e.child)}function n1(t,e,r,n,i){if(t===null){var s=r.type;return typeof s=="function"&&!lv(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=s,r5(t,e,s,n,i)):(t=tc(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(r=r.compare,r=r!==null?r:Fa,r(o,n)&&t.ref===e.ref)return mn(t,e,i)}return e.flags|=1,t=li(s,n),t.ref=e.ref,t.return=e,e.child=t}function r5(t,e,r,n,i){if(t!==null){var s=t.memoizedProps;if(Fa(s,n)&&t.ref===e.ref)if(At=!1,e.pendingProps=n=s,(t.lanes&i)!==0)t.flags&131072&&(At=!0);else return e.lanes=t.lanes,mn(t,e,i)}return Tg(t,e,r,n,i)}function n5(t,e,r){var n=e.pendingProps,i=n.children,s=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ke(Us,$t),$t|=r;else{if(!(r&1073741824))return t=s!==null?s.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ke(Us,$t),$t|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,ke(Us,$t),$t|=n}else s!==null?(n=s.baseLanes|r,e.memoizedState=null):n=r,ke(Us,$t),$t|=n;return bt(t,e,i,r),e.child}function i5(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function Tg(t,e,r,n,i){var s=Ot(r)?rs:mt.current;return s=xo(e,s),Xs(e,i),r=X0(t,e,r,n,s,i),n=J0(),t!==null&&!At?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,mn(t,e,i)):(Me&&n&&$0(e),e.flags|=1,bt(t,e,r,i),e.child)}function i1(t,e,r,n,i){if(Ot(r)){var s=!0;Tc(e)}else s=!1;if(Xs(e,i),e.stateNode===null)Ju(t,e),OC(e,r,n),Cg(e,r,n,i),n=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=dr(u):(u=Ot(r)?rs:mt.current,u=xo(e,u));var c=r.getDerivedStateFromProps,f=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==n||l!==u)&&K_(e,o,n,u),Ln=!1;var d=e.memoizedState;o.state=d,Oc(e,n,o,i),l=e.memoizedState,a!==n||d!==l||It.current||Ln?(typeof c=="function"&&(Sg(e,r,c,n),l=e.memoizedState),(a=Ln||Q_(e,r,a,n,d,l,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),o.props=n,o.state=l,o.context=u,n=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,AC(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:_r(e.type,a),o.props=u,f=e.pendingProps,d=o.context,l=r.contextType,typeof l=="object"&&l!==null?l=dr(l):(l=Ot(r)?rs:mt.current,l=xo(e,l));var g=r.getDerivedStateFromProps;(c=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||d!==l)&&K_(e,o,n,l),Ln=!1,d=e.memoizedState,o.state=d,Oc(e,n,o,i);var v=e.memoizedState;a!==f||d!==v||It.current||Ln?(typeof g=="function"&&(Sg(e,r,g,n),v=e.memoizedState),(u=Ln||Q_(e,r,u,n,d,v,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,v,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=v),o.props=n,o.state=v,o.context=l,n=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),n=!1)}return kg(t,e,r,n,s,i)}function kg(t,e,r,n,i,s){i5(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return i&&H_(e,r,!1),mn(t,e,s);n=e.stateNode,sO.current=e;var a=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=Co(e,t.child,null,s),e.child=Co(e,null,a,s)):bt(t,e,a,s),e.memoizedState=n.state,i&&H_(e,r,!0),e.child}function s5(t){var e=t.stateNode;e.pendingContext?q_(t,e.pendingContext,e.pendingContext!==e.context):e.context&&q_(t,e.context,!1),V0(t,e.containerInfo)}function s1(t,e,r,n,i){return So(),F0(i),e.flags|=256,bt(t,e,r,n),e.child}var Pg={dehydrated:null,treeContext:null,retryLane:0};function Ag(t){return{baseLanes:t,cachePool:null,transitions:null}}function o5(t,e,r){var n=e.pendingProps,i=De.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),ke(De,i&1),t===null)return bg(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,s?(n=e.mode,s=e.child,o={mode:"hidden",children:o},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=sf(o,n,0,null),t=Xi(t,n,r,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Ag(r),e.memoizedState=Pg,t):tv(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return oO(t,e,o,n,a,i,r);if(s){s=n.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:n.children};return!(o&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=li(i,l),n.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=li(a,s):(s=Xi(s,o,r,null),s.flags|=2),s.return=e,n.return=e,n.sibling=s,e.child=n,n=s,s=e.child,o=t.child.memoizedState,o=o===null?Ag(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~r,e.memoizedState=Pg,n}return s=t.child,t=s.sibling,n=li(s,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function tv(t,e){return e=sf({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function wu(t,e,r,n){return n!==null&&F0(n),Co(e,t.child,null,r),t=tv(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function oO(t,e,r,n,i,s,o){if(r)return e.flags&256?(e.flags&=-257,n=Th(Error(F(422))),wu(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=n.fallback,i=e.mode,n=sf({mode:"visible",children:n.children},i,0,null),s=Xi(s,i,o,null),s.flags|=2,n.return=e,s.return=e,n.sibling=s,e.child=n,e.mode&1&&Co(e,t.child,null,o),e.child.memoizedState=Ag(o),e.memoizedState=Pg,s);if(!(e.mode&1))return wu(t,e,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var a=n.dgst;return n=a,s=Error(F(419)),n=Th(s,n,void 0),wu(t,e,o,n)}if(a=(o&t.childLanes)!==0,At||a){if(n=nt,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,pn(t,i),kr(n,t,i,-1))}return av(),n=Th(Error(F(421))),wu(t,e,o,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=wO.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Ft=ii(i.nextSibling),Ht=e,Me=!0,Sr=null,t!==null&&(Zt[er++]=ln,Zt[er++]=un,Zt[er++]=ns,ln=t.id,un=t.overflow,ns=e),e=tv(e,n.children),e.flags|=4096,e)}function o1(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),xg(t.return,e,r)}function kh(t,e,r,n,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function a5(t,e,r){var n=e.pendingProps,i=n.revealOrder,s=n.tail;if(bt(t,e,n.children,r),n=De.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&o1(t,r,e);else if(t.tag===19)o1(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(ke(De,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&Rc(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),kh(e,!1,i,r,s);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Rc(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}kh(e,!0,r,null,s);break;case"together":kh(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ju(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function mn(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),ss|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(F(153));if(e.child!==null){for(t=e.child,r=li(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=li(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function aO(t,e,r){switch(e.tag){case 3:s5(e),So();break;case 5:NC(e);break;case 1:Ot(e.type)&&Tc(e);break;case 4:V0(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;ke(Ac,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(ke(De,De.current&1),e.flags|=128,null):r&e.child.childLanes?o5(t,e,r):(ke(De,De.current&1),t=mn(t,e,r),t!==null?t.sibling:null);ke(De,De.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return a5(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ke(De,De.current),n)break;return null;case 22:case 23:return e.lanes=0,n5(t,e,r)}return mn(t,e,r)}var l5,Ig,u5,c5;l5=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Ig=function(){};u5=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,ji(Qr.current);var s=null;switch(r){case"input":i=Jm(t,i),n=Jm(t,n),s=[];break;case"select":i=Le({},i,{value:void 0}),n=Le({},n,{value:void 0}),s=[];break;case"textarea":i=tg(t,i),n=tg(t,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Cc)}ng(r,n);var o;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Na.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in n){var l=n[u];if(a=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(s||(s=[]),s.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Na.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Ie("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}r&&(s=s||[]).push("style",r);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};c5=function(t,e,r,n){r!==n&&(e.flags|=4)};function Xo(t,e){if(!Me)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function ct(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function lO(t,e,r){var n=e.pendingProps;switch(U0(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ct(e),null;case 1:return Ot(e.type)&&Ec(),ct(e),null;case 3:return n=e.stateNode,Eo(),Oe(It),Oe(mt),K0(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(yu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Sr!==null&&(Bg(Sr),Sr=null))),Ig(t,e),ct(e),null;case 5:Q0(e);var i=ji(Ga.current);if(r=e.type,t!==null&&e.stateNode!=null)u5(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(F(166));return ct(e),null}if(t=ji(Qr.current),yu(e)){n=e.stateNode,r=e.type;var s=e.memoizedProps;switch(n[zr]=e,n[za]=s,t=(e.mode&1)!==0,r){case"dialog":Ie("cancel",n),Ie("close",n);break;case"iframe":case"object":case"embed":Ie("load",n);break;case"video":case"audio":for(i=0;i<la.length;i++)Ie(la[i],n);break;case"source":Ie("error",n);break;case"img":case"image":case"link":Ie("error",n),Ie("load",n);break;case"details":Ie("toggle",n);break;case"input":m_(n,s),Ie("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},Ie("invalid",n);break;case"textarea":y_(n,s),Ie("invalid",n)}ng(r,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?n.textContent!==a&&(s.suppressHydrationWarning!==!0&&gu(n.textContent,a,t),i=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&gu(n.textContent,a,t),i=["children",""+a]):Na.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ie("scroll",n)}switch(r){case"input":lu(n),g_(n,s,!0);break;case"textarea":lu(n),v_(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=Cc)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=LS(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[zr]=e,t[za]=n,l5(t,e,!1,!1),e.stateNode=t;e:{switch(o=ig(r,n),r){case"dialog":Ie("cancel",t),Ie("close",t),i=n;break;case"iframe":case"object":case"embed":Ie("load",t),i=n;break;case"video":case"audio":for(i=0;i<la.length;i++)Ie(la[i],t);i=n;break;case"source":Ie("error",t),i=n;break;case"img":case"image":case"link":Ie("error",t),Ie("load",t),i=n;break;case"details":Ie("toggle",t),i=n;break;case"input":m_(t,n),i=Jm(t,n),Ie("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=Le({},n,{value:void 0}),Ie("invalid",t);break;case"textarea":y_(t,n),i=tg(t,n),Ie("invalid",t);break;default:i=n}ng(r,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?US(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&BS(t,l)):s==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Da(t,l):typeof l=="number"&&Da(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Na.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Ie("scroll",t):l!=null&&E0(t,s,l,o))}switch(r){case"input":lu(t),g_(t,n,!1);break;case"textarea":lu(t),v_(t);break;case"option":n.value!=null&&t.setAttribute("value",""+di(n.value));break;case"select":t.multiple=!!n.multiple,s=n.value,s!=null?Vs(t,!!n.multiple,s,!1):n.defaultValue!=null&&Vs(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Cc)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ct(e),null;case 6:if(t&&e.stateNode!=null)c5(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(F(166));if(r=ji(Ga.current),ji(Qr.current),yu(e)){if(n=e.stateNode,r=e.memoizedProps,n[zr]=e,(s=n.nodeValue!==r)&&(t=Ht,t!==null))switch(t.tag){case 3:gu(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&gu(n.nodeValue,r,(t.mode&1)!==0)}s&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[zr]=e,e.stateNode=n}return ct(e),null;case 13:if(Oe(De),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Me&&Ft!==null&&e.mode&1&&!(e.flags&128))kC(),So(),e.flags|=98560,s=!1;else if(s=yu(e),n!==null&&n.dehydrated!==null){if(t===null){if(!s)throw Error(F(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(F(317));s[zr]=e}else So(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ct(e),s=!1}else Sr!==null&&(Bg(Sr),Sr=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||De.current&1?Je===0&&(Je=3):av())),e.updateQueue!==null&&(e.flags|=4),ct(e),null);case 4:return Eo(),Ig(t,e),t===null&&qa(e.stateNode.containerInfo),ct(e),null;case 10:return z0(e.type._context),ct(e),null;case 17:return Ot(e.type)&&Ec(),ct(e),null;case 19:if(Oe(De),s=e.memoizedState,s===null)return ct(e),null;if(n=(e.flags&128)!==0,o=s.rendering,o===null)if(n)Xo(s,!1);else{if(Je!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Rc(t),o!==null){for(e.flags|=128,Xo(s,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)s=r,t=n,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return ke(De,De.current&1|2),e.child}t=t.sibling}s.tail!==null&&Fe()>ko&&(e.flags|=128,n=!0,Xo(s,!1),e.lanes=4194304)}else{if(!n)if(t=Rc(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Xo(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Me)return ct(e),null}else 2*Fe()-s.renderingStartTime>ko&&r!==1073741824&&(e.flags|=128,n=!0,Xo(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(r=s.last,r!==null?r.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Fe(),e.sibling=null,r=De.current,ke(De,n?r&1|2:r&1),e):(ct(e),null);case 22:case 23:return ov(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?$t&1073741824&&(ct(e),e.subtreeFlags&6&&(e.flags|=8192)):ct(e),null;case 24:return null;case 25:return null}throw Error(F(156,e.tag))}function uO(t,e){switch(U0(e),e.tag){case 1:return Ot(e.type)&&Ec(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Eo(),Oe(It),Oe(mt),K0(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Q0(e),null;case 13:if(Oe(De),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(F(340));So()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Oe(De),null;case 4:return Eo(),null;case 10:return z0(e.type._context),null;case 22:case 23:return ov(),null;case 24:return null;default:return null}}var _u=!1,pt=!1,cO=typeof WeakSet=="function"?WeakSet:Set,Q=null;function $s(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Be(t,e,n)}else r.current=null}function Og(t,e,r){try{r()}catch(n){Be(t,e,n)}}var a1=!1;function dO(t,e){if(pg=bc,t=pC(),B0(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var o=0,a=-1,l=-1,u=0,c=0,f=t,d=null;t:for(;;){for(var g;f!==r||i!==0&&f.nodeType!==3||(a=o+i),f!==s||n!==0&&f.nodeType!==3||(l=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(g=f.firstChild)!==null;)d=f,f=g;for(;;){if(f===t)break t;if(d===r&&++u===i&&(a=o),d===s&&++c===n&&(l=o),(g=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=g}r=a===-1||l===-1?null:{start:a,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(mg={focusedElem:t,selectionRange:r},bc=!1,Q=e;Q!==null;)if(e=Q,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Q=t;else for(;Q!==null;){e=Q;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var b=v.memoizedProps,w=v.memoizedState,m=e.stateNode,p=m.getSnapshotBeforeUpdate(e.elementType===e.type?b:_r(e.type,b),w);m.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var y=e.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(F(163))}}catch(x){Be(e,e.return,x)}if(t=e.sibling,t!==null){t.return=e.return,Q=t;break}Q=e.return}return v=a1,a1=!1,v}function ya(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Og(e,r,s)}i=i.next}while(i!==n)}}function rf(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function Rg(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function d5(t){var e=t.alternate;e!==null&&(t.alternate=null,d5(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[zr],delete e[za],delete e[vg],delete e[V3],delete e[Q3])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function f5(t){return t.tag===5||t.tag===3||t.tag===4}function l1(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||f5(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Mg(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Cc));else if(n!==4&&(t=t.child,t!==null))for(Mg(t,e,r),t=t.sibling;t!==null;)Mg(t,e,r),t=t.sibling}function Ng(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Ng(t,e,r),t=t.sibling;t!==null;)Ng(t,e,r),t=t.sibling}var st=null,xr=!1;function Tn(t,e,r){for(r=r.child;r!==null;)h5(t,e,r),r=r.sibling}function h5(t,e,r){if(Vr&&typeof Vr.onCommitFiberUnmount=="function")try{Vr.onCommitFiberUnmount(Qd,r)}catch{}switch(r.tag){case 5:pt||$s(r,e);case 6:var n=st,i=xr;st=null,Tn(t,e,r),st=n,xr=i,st!==null&&(xr?(t=st,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):st.removeChild(r.stateNode));break;case 18:st!==null&&(xr?(t=st,r=r.stateNode,t.nodeType===8?_h(t.parentNode,r):t.nodeType===1&&_h(t,r),$a(t)):_h(st,r.stateNode));break;case 4:n=st,i=xr,st=r.stateNode.containerInfo,xr=!0,Tn(t,e,r),st=n,xr=i;break;case 0:case 11:case 14:case 15:if(!pt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Og(r,e,o),i=i.next}while(i!==n)}Tn(t,e,r);break;case 1:if(!pt&&($s(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){Be(r,e,a)}Tn(t,e,r);break;case 21:Tn(t,e,r);break;case 22:r.mode&1?(pt=(n=pt)||r.memoizedState!==null,Tn(t,e,r),pt=n):Tn(t,e,r);break;default:Tn(t,e,r)}}function u1(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new cO),e.forEach(function(n){var i=_O.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function vr(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:st=a.stateNode,xr=!1;break e;case 3:st=a.stateNode.containerInfo,xr=!0;break e;case 4:st=a.stateNode.containerInfo,xr=!0;break e}a=a.return}if(st===null)throw Error(F(160));h5(s,o,i),st=null,xr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Be(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)p5(e,t),e=e.sibling}function p5(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(vr(e,t),Mr(t),n&4){try{ya(3,t,t.return),rf(3,t)}catch(b){Be(t,t.return,b)}try{ya(5,t,t.return)}catch(b){Be(t,t.return,b)}}break;case 1:vr(e,t),Mr(t),n&512&&r!==null&&$s(r,r.return);break;case 5:if(vr(e,t),Mr(t),n&512&&r!==null&&$s(r,r.return),t.flags&32){var i=t.stateNode;try{Da(i,"")}catch(b){Be(t,t.return,b)}}if(n&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=r!==null?r.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&DS(i,s),ig(a,o);var u=ig(a,s);for(o=0;o<l.length;o+=2){var c=l[o],f=l[o+1];c==="style"?US(i,f):c==="dangerouslySetInnerHTML"?BS(i,f):c==="children"?Da(i,f):E0(i,c,f,u)}switch(a){case"input":Zm(i,s);break;case"textarea":jS(i,s);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?Vs(i,!!s.multiple,g,!1):d!==!!s.multiple&&(s.defaultValue!=null?Vs(i,!!s.multiple,s.defaultValue,!0):Vs(i,!!s.multiple,s.multiple?[]:"",!1))}i[za]=s}catch(b){Be(t,t.return,b)}}break;case 6:if(vr(e,t),Mr(t),n&4){if(t.stateNode===null)throw Error(F(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(b){Be(t,t.return,b)}}break;case 3:if(vr(e,t),Mr(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{$a(e.containerInfo)}catch(b){Be(t,t.return,b)}break;case 4:vr(e,t),Mr(t);break;case 13:vr(e,t),Mr(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(iv=Fe())),n&4&&u1(t);break;case 22:if(c=r!==null&&r.memoizedState!==null,t.mode&1?(pt=(u=pt)||c,vr(e,t),pt=u):vr(e,t),Mr(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(Q=t,c=t.child;c!==null;){for(f=Q=c;Q!==null;){switch(d=Q,g=d.child,d.tag){case 0:case 11:case 14:case 15:ya(4,d,d.return);break;case 1:$s(d,d.return);var v=d.stateNode;if(typeof v.componentWillUnmount=="function"){n=d,r=d.return;try{e=n,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(b){Be(n,r,b)}}break;case 5:$s(d,d.return);break;case 22:if(d.memoizedState!==null){d1(f);continue}}g!==null?(g.return=d,Q=g):d1(f)}c=c.sibling}e:for(c=null,f=t;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=$S("display",o))}catch(b){Be(t,t.return,b)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(b){Be(t,t.return,b)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:vr(e,t),Mr(t),n&4&&u1(t);break;case 21:break;default:vr(e,t),Mr(t)}}function Mr(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(f5(r)){var n=r;break e}r=r.return}throw Error(F(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Da(i,""),n.flags&=-33);var s=l1(t);Ng(t,s,i);break;case 3:case 4:var o=n.stateNode.containerInfo,a=l1(t);Mg(t,a,o);break;default:throw Error(F(161))}}catch(l){Be(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function fO(t,e,r){Q=t,m5(t)}function m5(t,e,r){for(var n=(t.mode&1)!==0;Q!==null;){var i=Q,s=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||_u;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||pt;a=_u;var u=pt;if(_u=o,(pt=l)&&!u)for(Q=i;Q!==null;)o=Q,l=o.child,o.tag===22&&o.memoizedState!==null?f1(i):l!==null?(l.return=o,Q=l):f1(i);for(;s!==null;)Q=s,m5(s),s=s.sibling;Q=i,_u=a,pt=u}c1(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Q=s):c1(t)}}function c1(t){for(;Q!==null;){var e=Q;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:pt||rf(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!pt)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:_r(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&V_(e,s,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}V_(e,o,r)}break;case 5:var a=e.stateNode;if(r===null&&e.flags&4){r=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&$a(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(F(163))}pt||e.flags&512&&Rg(e)}catch(d){Be(e,e.return,d)}}if(e===t){Q=null;break}if(r=e.sibling,r!==null){r.return=e.return,Q=r;break}Q=e.return}}function d1(t){for(;Q!==null;){var e=Q;if(e===t){Q=null;break}var r=e.sibling;if(r!==null){r.return=e.return,Q=r;break}Q=e.return}}function f1(t){for(;Q!==null;){var e=Q;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{rf(4,e)}catch(l){Be(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(l){Be(e,i,l)}}var s=e.return;try{Rg(e)}catch(l){Be(e,s,l)}break;case 5:var o=e.return;try{Rg(e)}catch(l){Be(e,o,l)}}}catch(l){Be(e,e.return,l)}if(e===t){Q=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Q=a;break}Q=e.return}}var hO=Math.ceil,Dc=yn.ReactCurrentDispatcher,rv=yn.ReactCurrentOwner,ir=yn.ReactCurrentBatchConfig,ge=0,nt=null,ze=null,at=0,$t=0,Us=Si(0),Je=0,Ya=null,ss=0,nf=0,nv=0,va=null,Pt=null,iv=0,ko=1/0,sn=null,jc=!1,Dg=null,oi=null,bu=!1,Jn=null,Lc=0,wa=0,jg=null,Zu=-1,ec=0;function xt(){return ge&6?Fe():Zu!==-1?Zu:Zu=Fe()}function ai(t){return t.mode&1?ge&2&&at!==0?at&-at:Y3.transition!==null?(ec===0&&(ec=JS()),ec):(t=Ce,t!==0||(t=window.event,t=t===void 0?16:sC(t.type)),t):1}function kr(t,e,r,n){if(50<wa)throw wa=0,jg=null,Error(F(185));ql(t,r,n),(!(ge&2)||t!==nt)&&(t===nt&&(!(ge&2)&&(nf|=r),Je===4&&Un(t,at)),Rt(t,n),r===1&&ge===0&&!(e.mode&1)&&(ko=Fe()+500,Zd&&Ci()))}function Rt(t,e){var r=t.callbackNode;YI(t,e);var n=_c(t,t===nt?at:0);if(n===0)r!==null&&b_(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&b_(r),e===1)t.tag===0?K3(h1.bind(null,t)):CC(h1.bind(null,t)),W3(function(){!(ge&6)&&Ci()}),r=null;else{switch(ZS(n)){case 1:r=I0;break;case 4:r=YS;break;case 16:r=wc;break;case 536870912:r=XS;break;default:r=wc}r=S5(r,g5.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function g5(t,e){if(Zu=-1,ec=0,ge&6)throw Error(F(327));var r=t.callbackNode;if(Js()&&t.callbackNode!==r)return null;var n=_c(t,t===nt?at:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Bc(t,n);else{e=n;var i=ge;ge|=2;var s=v5();(nt!==t||at!==e)&&(sn=null,ko=Fe()+500,Yi(t,e));do try{gO();break}catch(a){y5(t,a)}while(1);H0(),Dc.current=s,ge=i,ze!==null?e=0:(nt=null,at=0,e=Je)}if(e!==0){if(e===2&&(i=ug(t),i!==0&&(n=i,e=Lg(t,i))),e===1)throw r=Ya,Yi(t,0),Un(t,n),Rt(t,Fe()),r;if(e===6)Un(t,n);else{if(i=t.current.alternate,!(n&30)&&!pO(i)&&(e=Bc(t,n),e===2&&(s=ug(t),s!==0&&(n=s,e=Lg(t,s))),e===1))throw r=Ya,Yi(t,0),Un(t,n),Rt(t,Fe()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(F(345));case 2:Ii(t,Pt,sn);break;case 3:if(Un(t,n),(n&130023424)===n&&(e=iv+500-Fe(),10<e)){if(_c(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){xt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=yg(Ii.bind(null,t,Pt,sn),e);break}Ii(t,Pt,sn);break;case 4:if(Un(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var o=31-Tr(n);s=1<<o,o=e[o],o>i&&(i=o),n&=~s}if(n=i,n=Fe()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*hO(n/1960))-n,10<n){t.timeoutHandle=yg(Ii.bind(null,t,Pt,sn),n);break}Ii(t,Pt,sn);break;case 5:Ii(t,Pt,sn);break;default:throw Error(F(329))}}}return Rt(t,Fe()),t.callbackNode===r?g5.bind(null,t):null}function Lg(t,e){var r=va;return t.current.memoizedState.isDehydrated&&(Yi(t,e).flags|=256),t=Bc(t,e),t!==2&&(e=Pt,Pt=r,e!==null&&Bg(e)),t}function Bg(t){Pt===null?Pt=t:Pt.push.apply(Pt,t)}function pO(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!Ar(s(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Un(t,e){for(e&=~nv,e&=~nf,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Tr(e),n=1<<r;t[r]=-1,e&=~n}}function h1(t){if(ge&6)throw Error(F(327));Js();var e=_c(t,0);if(!(e&1))return Rt(t,Fe()),null;var r=Bc(t,e);if(t.tag!==0&&r===2){var n=ug(t);n!==0&&(e=n,r=Lg(t,n))}if(r===1)throw r=Ya,Yi(t,0),Un(t,e),Rt(t,Fe()),r;if(r===6)throw Error(F(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ii(t,Pt,sn),Rt(t,Fe()),null}function sv(t,e){var r=ge;ge|=1;try{return t(e)}finally{ge=r,ge===0&&(ko=Fe()+500,Zd&&Ci())}}function os(t){Jn!==null&&Jn.tag===0&&!(ge&6)&&Js();var e=ge;ge|=1;var r=ir.transition,n=Ce;try{if(ir.transition=null,Ce=1,t)return t()}finally{Ce=n,ir.transition=r,ge=e,!(ge&6)&&Ci()}}function ov(){$t=Us.current,Oe(Us)}function Yi(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,z3(r)),ze!==null)for(r=ze.return;r!==null;){var n=r;switch(U0(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Ec();break;case 3:Eo(),Oe(It),Oe(mt),K0();break;case 5:Q0(n);break;case 4:Eo();break;case 13:Oe(De);break;case 19:Oe(De);break;case 10:z0(n.type._context);break;case 22:case 23:ov()}r=r.return}if(nt=t,ze=t=li(t.current,null),at=$t=e,Je=0,Ya=null,nv=nf=ss=0,Pt=va=null,Di!==null){for(e=0;e<Di.length;e++)if(r=Di[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var o=s.next;s.next=i,n.next=o}r.pending=n}Di=null}return t}function y5(t,e){do{var r=ze;try{if(H0(),Yu.current=Nc,Mc){for(var n=je.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Mc=!1}if(is=0,tt=Xe=je=null,ga=!1,Va=0,rv.current=null,r===null||r.return===null){Je=1,Ya=e,ze=null;break}e:{var s=t,o=r.return,a=r,l=e;if(e=at,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var g=e1(o);if(g!==null){g.flags&=-257,t1(g,o,a,s,e),g.mode&1&&Z_(s,u,e),e=g,l=u;var v=e.updateQueue;if(v===null){var b=new Set;b.add(l),e.updateQueue=b}else v.add(l);break e}else{if(!(e&1)){Z_(s,u,e),av();break e}l=Error(F(426))}}else if(Me&&a.mode&1){var w=e1(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),t1(w,o,a,s,e),F0(To(l,a));break e}}s=l=To(l,a),Je!==4&&(Je=2),va===null?va=[s]:va.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var m=e5(s,l,e);G_(s,m);break e;case 1:a=l;var p=s.type,y=s.stateNode;if(!(s.flags&128)&&(typeof p.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(oi===null||!oi.has(y)))){s.flags|=65536,e&=-e,s.lanes|=e;var x=t5(s,a,e);G_(s,x);break e}}s=s.return}while(s!==null)}_5(r)}catch(S){e=S,ze===r&&r!==null&&(ze=r=r.return);continue}break}while(1)}function v5(){var t=Dc.current;return Dc.current=Nc,t===null?Nc:t}function av(){(Je===0||Je===3||Je===2)&&(Je=4),nt===null||!(ss&268435455)&&!(nf&268435455)||Un(nt,at)}function Bc(t,e){var r=ge;ge|=2;var n=v5();(nt!==t||at!==e)&&(sn=null,Yi(t,e));do try{mO();break}catch(i){y5(t,i)}while(1);if(H0(),ge=r,Dc.current=n,ze!==null)throw Error(F(261));return nt=null,at=0,Je}function mO(){for(;ze!==null;)w5(ze)}function gO(){for(;ze!==null&&!FI();)w5(ze)}function w5(t){var e=x5(t.alternate,t,$t);t.memoizedProps=t.pendingProps,e===null?_5(t):ze=e,rv.current=null}function _5(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=uO(r,e),r!==null){r.flags&=32767,ze=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Je=6,ze=null;return}}else if(r=lO(r,e,$t),r!==null){ze=r;return}if(e=e.sibling,e!==null){ze=e;return}ze=e=t}while(e!==null);Je===0&&(Je=5)}function Ii(t,e,r){var n=Ce,i=ir.transition;try{ir.transition=null,Ce=1,yO(t,e,r,n)}finally{ir.transition=i,Ce=n}return null}function yO(t,e,r,n){do Js();while(Jn!==null);if(ge&6)throw Error(F(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(F(177));t.callbackNode=null,t.callbackPriority=0;var s=r.lanes|r.childLanes;if(XI(t,s),t===nt&&(ze=nt=null,at=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||bu||(bu=!0,S5(wc,function(){return Js(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=ir.transition,ir.transition=null;var o=Ce;Ce=1;var a=ge;ge|=4,rv.current=null,dO(t,r),p5(r,t),L3(mg),bc=!!pg,mg=pg=null,t.current=r,fO(r),qI(),ge=a,Ce=o,ir.transition=s}else t.current=r;if(bu&&(bu=!1,Jn=t,Lc=i),s=t.pendingLanes,s===0&&(oi=null),WI(r.stateNode),Rt(t,Fe()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(jc)throw jc=!1,t=Dg,Dg=null,t;return Lc&1&&t.tag!==0&&Js(),s=t.pendingLanes,s&1?t===jg?wa++:(wa=0,jg=t):wa=0,Ci(),null}function Js(){if(Jn!==null){var t=ZS(Lc),e=ir.transition,r=Ce;try{if(ir.transition=null,Ce=16>t?16:t,Jn===null)var n=!1;else{if(t=Jn,Jn=null,Lc=0,ge&6)throw Error(F(331));var i=ge;for(ge|=4,Q=t.current;Q!==null;){var s=Q,o=s.child;if(Q.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(Q=u;Q!==null;){var c=Q;switch(c.tag){case 0:case 11:case 15:ya(8,c,s)}var f=c.child;if(f!==null)f.return=c,Q=f;else for(;Q!==null;){c=Q;var d=c.sibling,g=c.return;if(d5(c),c===u){Q=null;break}if(d!==null){d.return=g,Q=d;break}Q=g}}}var v=s.alternate;if(v!==null){var b=v.child;if(b!==null){v.child=null;do{var w=b.sibling;b.sibling=null,b=w}while(b!==null)}}Q=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Q=o;else e:for(;Q!==null;){if(s=Q,s.flags&2048)switch(s.tag){case 0:case 11:case 15:ya(9,s,s.return)}var m=s.sibling;if(m!==null){m.return=s.return,Q=m;break e}Q=s.return}}var p=t.current;for(Q=p;Q!==null;){o=Q;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,Q=y;else e:for(o=p;Q!==null;){if(a=Q,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:rf(9,a)}}catch(S){Be(a,a.return,S)}if(a===o){Q=null;break e}var x=a.sibling;if(x!==null){x.return=a.return,Q=x;break e}Q=a.return}}if(ge=i,Ci(),Vr&&typeof Vr.onPostCommitFiberRoot=="function")try{Vr.onPostCommitFiberRoot(Qd,t)}catch{}n=!0}return n}finally{Ce=r,ir.transition=e}}return!1}function p1(t,e,r){e=To(r,e),e=e5(t,e,1),t=si(t,e,1),e=xt(),t!==null&&(ql(t,1,e),Rt(t,e))}function Be(t,e,r){if(t.tag===3)p1(t,t,r);else for(;e!==null;){if(e.tag===3){p1(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(oi===null||!oi.has(n))){t=To(r,t),t=t5(e,t,1),e=si(e,t,1),t=xt(),e!==null&&(ql(e,1,t),Rt(e,t));break}}e=e.return}}function vO(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=xt(),t.pingedLanes|=t.suspendedLanes&r,nt===t&&(at&r)===r&&(Je===4||Je===3&&(at&130023424)===at&&500>Fe()-iv?Yi(t,0):nv|=r),Rt(t,e)}function b5(t,e){e===0&&(t.mode&1?(e=du,du<<=1,!(du&130023424)&&(du=4194304)):e=1);var r=xt();t=pn(t,e),t!==null&&(ql(t,e,r),Rt(t,r))}function wO(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),b5(t,r)}function _O(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(F(314))}n!==null&&n.delete(e),b5(t,r)}var x5;x5=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||It.current)At=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return At=!1,aO(t,e,r);At=!!(t.flags&131072)}else At=!1,Me&&e.flags&1048576&&EC(e,Pc,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Ju(t,e),t=e.pendingProps;var i=xo(e,mt.current);Xs(e,r),i=X0(null,e,n,t,i,r);var s=J0();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ot(n)?(s=!0,Tc(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,G0(e),i.updater=ef,e.stateNode=i,i._reactInternals=e,Cg(e,n,t,r),e=kg(null,e,n,!0,s,r)):(e.tag=0,Me&&s&&$0(e),bt(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Ju(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=xO(n),t=_r(n,t),i){case 0:e=Tg(null,e,n,t,r);break e;case 1:e=i1(null,e,n,t,r);break e;case 11:e=r1(null,e,n,t,r);break e;case 14:e=n1(null,e,n,_r(n.type,t),r);break e}throw Error(F(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:_r(n,i),Tg(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:_r(n,i),i1(t,e,n,i,r);case 3:e:{if(s5(e),t===null)throw Error(F(387));n=e.pendingProps,s=e.memoizedState,i=s.element,AC(t,e),Oc(e,n,null,r);var o=e.memoizedState;if(n=o.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=To(Error(F(423)),e),e=s1(t,e,n,r,i);break e}else if(n!==i){i=To(Error(F(424)),e),e=s1(t,e,n,r,i);break e}else for(Ft=ii(e.stateNode.containerInfo.firstChild),Ht=e,Me=!0,Sr=null,r=MC(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(So(),n===i){e=mn(t,e,r);break e}bt(t,e,n,r)}e=e.child}return e;case 5:return NC(e),t===null&&bg(e),n=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,gg(n,i)?o=null:s!==null&&gg(n,s)&&(e.flags|=32),i5(t,e),bt(t,e,o,r),e.child;case 6:return t===null&&bg(e),null;case 13:return o5(t,e,r);case 4:return V0(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Co(e,null,n,r):bt(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:_r(n,i),r1(t,e,n,i,r);case 7:return bt(t,e,e.pendingProps,r),e.child;case 8:return bt(t,e,e.pendingProps.children,r),e.child;case 12:return bt(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,ke(Ac,n._currentValue),n._currentValue=o,s!==null)if(Ar(s.value,o)){if(s.children===i.children&&!It.current){e=mn(t,e,r);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===n){if(s.tag===1){l=cn(-1,r&-r),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=r,l=s.alternate,l!==null&&(l.lanes|=r),xg(s.return,r,e),a.lanes|=r;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(F(341));o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),xg(o,r,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}bt(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,Xs(e,r),i=dr(i),n=n(i),e.flags|=1,bt(t,e,n,r),e.child;case 14:return n=e.type,i=_r(n,e.pendingProps),i=_r(n.type,i),n1(t,e,n,i,r);case 15:return r5(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:_r(n,i),Ju(t,e),e.tag=1,Ot(n)?(t=!0,Tc(e)):t=!1,Xs(e,r),OC(e,n,i),Cg(e,n,i,r),kg(null,e,n,!0,t,r);case 19:return a5(t,e,r);case 22:return n5(t,e,r)}throw Error(F(156,e.tag))};function S5(t,e){return KS(t,e)}function bO(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function rr(t,e,r,n){return new bO(t,e,r,n)}function lv(t){return t=t.prototype,!(!t||!t.isReactComponent)}function xO(t){if(typeof t=="function")return lv(t)?1:0;if(t!=null){if(t=t.$$typeof,t===k0)return 11;if(t===P0)return 14}return 2}function li(t,e){var r=t.alternate;return r===null?(r=rr(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function tc(t,e,r,n,i,s){var o=2;if(n=t,typeof t=="function")lv(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Is:return Xi(r.children,i,s,e);case T0:o=8,i|=8;break;case Qm:return t=rr(12,r,e,i|2),t.elementType=Qm,t.lanes=s,t;case Km:return t=rr(13,r,e,i),t.elementType=Km,t.lanes=s,t;case Ym:return t=rr(19,r,e,i),t.elementType=Ym,t.lanes=s,t;case RS:return sf(r,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case IS:o=10;break e;case OS:o=9;break e;case k0:o=11;break e;case P0:o=14;break e;case jn:o=16,n=null;break e}throw Error(F(130,t==null?t:typeof t,""))}return e=rr(o,r,e,i),e.elementType=t,e.type=n,e.lanes=s,e}function Xi(t,e,r,n){return t=rr(7,t,n,e),t.lanes=r,t}function sf(t,e,r,n){return t=rr(22,t,n,e),t.elementType=RS,t.lanes=r,t.stateNode={isHidden:!1},t}function Ph(t,e,r){return t=rr(6,t,null,e),t.lanes=r,t}function Ah(t,e,r){return e=rr(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function SO(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=uh(0),this.expirationTimes=uh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=uh(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function uv(t,e,r,n,i,s,o,a,l){return t=new SO(t,e,r,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=rr(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},G0(s),t}function CO(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:As,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function C5(t){if(!t)return fi;t=t._reactInternals;e:{if(hs(t)!==t||t.tag!==1)throw Error(F(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ot(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(F(171))}if(t.tag===1){var r=t.type;if(Ot(r))return SC(t,r,e)}return e}function E5(t,e,r,n,i,s,o,a,l){return t=uv(r,n,!0,t,i,s,o,a,l),t.context=C5(null),r=t.current,n=xt(),i=ai(r),s=cn(n,i),s.callback=e??null,si(r,s,i),t.current.lanes=i,ql(t,i,n),Rt(t,n),t}function of(t,e,r,n){var i=e.current,s=xt(),o=ai(i);return r=C5(r),e.context===null?e.context=r:e.pendingContext=r,e=cn(s,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=si(i,e,o),t!==null&&(kr(t,i,o,s),Ku(t,i,o)),o}function $c(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function m1(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function cv(t,e){m1(t,e),(t=t.alternate)&&m1(t,e)}function EO(){return null}var T5=typeof reportError=="function"?reportError:function(t){console.error(t)};function dv(t){this._internalRoot=t}af.prototype.render=dv.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(F(409));of(t,e,null,null)};af.prototype.unmount=dv.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;os(function(){of(null,t,null,null)}),e[hn]=null}};function af(t){this._internalRoot=t}af.prototype.unstable_scheduleHydration=function(t){if(t){var e=rC();t={blockedOn:null,target:t,priority:e};for(var r=0;r<$n.length&&e!==0&&e<$n[r].priority;r++);$n.splice(r,0,t),r===0&&iC(t)}};function fv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function lf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function g1(){}function TO(t,e,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var u=$c(o);s.call(u)}}var o=E5(e,n,t,0,null,!1,!1,"",g1);return t._reactRootContainer=o,t[hn]=o.current,qa(t.nodeType===8?t.parentNode:t),os(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var a=n;n=function(){var u=$c(l);a.call(u)}}var l=uv(t,0,!1,null,null,!1,!1,"",g1);return t._reactRootContainer=l,t[hn]=l.current,qa(t.nodeType===8?t.parentNode:t),os(function(){of(e,l,r,n)}),l}function uf(t,e,r,n,i){var s=r._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=$c(o);a.call(l)}}of(e,o,t,i)}else o=TO(r,e,t,i,n);return $c(o)}eC=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=aa(e.pendingLanes);r!==0&&(O0(e,r|1),Rt(e,Fe()),!(ge&6)&&(ko=Fe()+500,Ci()))}break;case 13:os(function(){var n=pn(t,1);if(n!==null){var i=xt();kr(n,t,1,i)}}),cv(t,1)}};R0=function(t){if(t.tag===13){var e=pn(t,134217728);if(e!==null){var r=xt();kr(e,t,134217728,r)}cv(t,134217728)}};tC=function(t){if(t.tag===13){var e=ai(t),r=pn(t,e);if(r!==null){var n=xt();kr(r,t,e,n)}cv(t,e)}};rC=function(){return Ce};nC=function(t,e){var r=Ce;try{return Ce=t,e()}finally{Ce=r}};og=function(t,e,r){switch(e){case"input":if(Zm(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=Jd(n);if(!i)throw Error(F(90));NS(n),Zm(n,i)}}}break;case"textarea":jS(t,r);break;case"select":e=r.value,e!=null&&Vs(t,!!r.multiple,e,!1)}};HS=sv;zS=os;var kO={usingClientEntryPoint:!1,Events:[zl,Ns,Jd,FS,qS,sv]},Jo={findFiberByHostInstance:Ni,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},PO={bundleType:Jo.bundleType,version:Jo.version,rendererPackageName:Jo.rendererPackageName,rendererConfig:Jo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:yn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=VS(t),t===null?null:t.stateNode},findFiberByHostInstance:Jo.findFiberByHostInstance||EO,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xu.isDisabled&&xu.supportsFiber)try{Qd=xu.inject(PO),Vr=xu}catch{}}Gt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=kO;Gt.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!fv(e))throw Error(F(200));return CO(t,e,null,r)};Gt.createRoot=function(t,e){if(!fv(t))throw Error(F(299));var r=!1,n="",i=T5;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=uv(t,1,!1,null,null,r,!1,n,i),t[hn]=e.current,qa(t.nodeType===8?t.parentNode:t),new dv(e)};Gt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(F(188)):(t=Object.keys(t).join(","),Error(F(268,t)));return t=VS(e),t=t===null?null:t.stateNode,t};Gt.flushSync=function(t){return os(t)};Gt.hydrate=function(t,e,r){if(!lf(e))throw Error(F(200));return uf(null,t,e,!0,r)};Gt.hydrateRoot=function(t,e,r){if(!fv(t))throw Error(F(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",o=T5;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=E5(e,null,t,1,r??null,i,!1,s,o),t[hn]=e.current,qa(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new af(e)};Gt.render=function(t,e,r){if(!lf(e))throw Error(F(200));return uf(null,t,e,!1,r)};Gt.unmountComponentAtNode=function(t){if(!lf(t))throw Error(F(40));return t._reactRootContainer?(os(function(){uf(null,null,t,!1,function(){t._reactRootContainer=null,t[hn]=null})}),!0):!1};Gt.unstable_batchedUpdates=sv;Gt.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!lf(r))throw Error(F(200));if(t==null||t._reactInternals===void 0)throw Error(F(38));return uf(t,e,r,!1,n)};Gt.version="18.2.0-next-9e3b772b8-20220608";function k5(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(k5)}catch(t){console.error(t)}}k5(),ES.exports=Gt;var hv=ES.exports,y1=hv;Gm.createRoot=y1.createRoot,Gm.hydrateRoot=y1.hydrateRoot;function P5(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(r=P5(t[e]))&&(n&&(n+=" "),n+=r);else for(e in t)t[e]&&(n&&(n+=" "),n+=e);return n}function le(){for(var t,e,r=0,n="";r<arguments.length;)(t=arguments[r++])&&(e=P5(t))&&(n&&(n+=" "),n+=e);return n}function pv({children:t,status:e,staticPosition:r=!1,className:n}){return _.jsx(_.Fragment,{children:_.jsx("div",{className:le("m-3 flex items-center justify-center rounded-xl px-6 py-3",e==="error"?"bg-rose-900 font-radiocanada text-white":"bg-emerald-800 font-grandstander text-lime-100",!r&&"absolute inset-x-0",n),children:t})})}function v1({message:t,staticPosition:e}){return _.jsxs(pv,{status:"error",staticPosition:e,children:[_.jsx("strong",{className:"font-semibold",children:"Key Invalid"}),": ",t," Download a new key from [",_.jsx("a",{href:"https://slime2.stream/account",target:"_blank",rel:"noreferrer",className:"text-rose-200 underline",children:"slime2.stream/account"}),"]."]})}var AO={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function IO(t){if(typeof t=="number")return{value:t,unit:"px"};var e,r=(t.match(/^[0-9.]*/)||"").toString();r.includes(".")?e=parseFloat(r):e=parseInt(r,10);var n=(t.match(/[^0-9]*$/)||"").toString();return AO[n]?{value:e,unit:n}:(console.warn("React Spinners: ".concat(t," is not a valid css value. Defaulting to ").concat(e,"px.")),{value:e,unit:"px"})}function Su(t){var e=IO(t);return"".concat(e.value).concat(e.unit)}var OO=function(t,e,r){var n="react-spinners-".concat(t,"-").concat(r);if(typeof window>"u"||!window.document)return n;var i=document.createElement("style");document.head.appendChild(i);var s=i.sheet,o=`
    @keyframes `.concat(n,` {
      `).concat(e,`
    }
  `);return s&&s.insertRule(o,0),n},Uc=globalThis&&globalThis.__assign||function(){return Uc=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Uc.apply(this,arguments)},RO=globalThis&&globalThis.__rest||function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r},MO=OO("ScaleLoader","0% {transform: scaley(1.0)} 50% {transform: scaley(0.4)} 100% {transform: scaley(1.0)}","scale");function NO(t){var e=t.loading,r=e===void 0?!0:e,n=t.color,i=n===void 0?"#000000":n,s=t.speedMultiplier,o=s===void 0?1:s,a=t.cssOverride,l=a===void 0?{}:a,u=t.height,c=u===void 0?35:u,f=t.width,d=f===void 0?4:f,g=t.radius,v=g===void 0?2:g,b=t.margin,w=b===void 0?2:b,m=RO(t,["loading","color","speedMultiplier","cssOverride","height","width","radius","margin"]),p=Uc({display:"inherit"},l),y=function(x){return{backgroundColor:i,width:Su(d),height:Su(c),margin:Su(w),borderRadius:Su(v),display:"inline-block",animation:"".concat(MO," ").concat(1/o,"s ").concat(x*.1,"s infinite cubic-bezier(0.2, 0.68, 0.18, 1.08)"),animationFillMode:"both"}};return r?I.createElement("span",Uc({style:p},m),I.createElement("span",{style:y(1)}),I.createElement("span",{style:y(2)}),I.createElement("span",{style:y(3)}),I.createElement("span",{style:y(4)}),I.createElement("span",{style:y(5)})):null}var A5={},I5={},mv={exports:{}},Ae=String,O5=function(){return{isColorSupported:!1,reset:Ae,bold:Ae,dim:Ae,italic:Ae,underline:Ae,inverse:Ae,hidden:Ae,strikethrough:Ae,black:Ae,red:Ae,green:Ae,yellow:Ae,blue:Ae,magenta:Ae,cyan:Ae,white:Ae,gray:Ae,bgBlack:Ae,bgRed:Ae,bgGreen:Ae,bgYellow:Ae,bgBlue:Ae,bgMagenta:Ae,bgCyan:Ae,bgWhite:Ae}};mv.exports=O5();mv.exports.createColors=O5;var DO=mv.exports;(function(t){Object.defineProperty(t,"__esModule",{value:!0});function e(l,u){for(var c in u)Object.defineProperty(l,c,{enumerable:!0,get:u[c]})}e(t,{dim:function(){return o},default:function(){return a}});const r=n(DO);function n(l){return l&&l.__esModule?l:{default:l}}let i=new Set;function s(l,u,c){typeof process<"u"&&{}.JEST_WORKER_ID||c&&i.has(c)||(c&&i.add(c),console.warn(""),u.forEach(f=>console.warn(l,"-",f)))}function o(l){return r.default.dim(l)}const a={info(l,u){s(r.default.bold(r.default.cyan("info")),...Array.isArray(l)?[l]:[u,l])},warn(l,u){s(r.default.bold(r.default.yellow("warn")),...Array.isArray(l)?[l]:[u,l])},risk(l,u){s(r.default.bold(r.default.magenta("risk")),...Array.isArray(l)?[l]:[u,l])}}})(I5);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i}});const e=r(I5);function r(s){return s&&s.__esModule?s:{default:s}}function n({version:s,from:o,to:a}){e.default.warn(`${o}-color-renamed`,[`As of Tailwind CSS ${s}, \`${o}\` has been renamed to \`${a}\`.`,"Update your configuration file to silence this warning."])}const i={inherit:"inherit",current:"currentColor",transparent:"transparent",black:"#000",white:"#fff",slate:{50:"#f8fafc",100:"#f1f5f9",200:"#e2e8f0",300:"#cbd5e1",400:"#94a3b8",500:"#64748b",600:"#475569",700:"#334155",800:"#1e293b",900:"#0f172a",950:"#020617"},gray:{50:"#f9fafb",100:"#f3f4f6",200:"#e5e7eb",300:"#d1d5db",400:"#9ca3af",500:"#6b7280",600:"#4b5563",700:"#374151",800:"#1f2937",900:"#111827",950:"#030712"},zinc:{50:"#fafafa",100:"#f4f4f5",200:"#e4e4e7",300:"#d4d4d8",400:"#a1a1aa",500:"#71717a",600:"#52525b",700:"#3f3f46",800:"#27272a",900:"#18181b",950:"#09090b"},neutral:{50:"#fafafa",100:"#f5f5f5",200:"#e5e5e5",300:"#d4d4d4",400:"#a3a3a3",500:"#737373",600:"#525252",700:"#404040",800:"#262626",900:"#171717",950:"#0a0a0a"},stone:{50:"#fafaf9",100:"#f5f5f4",200:"#e7e5e4",300:"#d6d3d1",400:"#a8a29e",500:"#78716c",600:"#57534e",700:"#44403c",800:"#292524",900:"#1c1917",950:"#0c0a09"},red:{50:"#fef2f2",100:"#fee2e2",200:"#fecaca",300:"#fca5a5",400:"#f87171",500:"#ef4444",600:"#dc2626",700:"#b91c1c",800:"#991b1b",900:"#7f1d1d",950:"#450a0a"},orange:{50:"#fff7ed",100:"#ffedd5",200:"#fed7aa",300:"#fdba74",400:"#fb923c",500:"#f97316",600:"#ea580c",700:"#c2410c",800:"#9a3412",900:"#7c2d12",950:"#431407"},amber:{50:"#fffbeb",100:"#fef3c7",200:"#fde68a",300:"#fcd34d",400:"#fbbf24",500:"#f59e0b",600:"#d97706",700:"#b45309",800:"#92400e",900:"#78350f",950:"#451a03"},yellow:{50:"#fefce8",100:"#fef9c3",200:"#fef08a",300:"#fde047",400:"#facc15",500:"#eab308",600:"#ca8a04",700:"#a16207",800:"#854d0e",900:"#713f12",950:"#422006"},lime:{50:"#f7fee7",100:"#ecfccb",200:"#d9f99d",300:"#bef264",400:"#a3e635",500:"#84cc16",600:"#65a30d",700:"#4d7c0f",800:"#3f6212",900:"#365314",950:"#1a2e05"},green:{50:"#f0fdf4",100:"#dcfce7",200:"#bbf7d0",300:"#86efac",400:"#4ade80",500:"#22c55e",600:"#16a34a",700:"#15803d",800:"#166534",900:"#14532d",950:"#052e16"},emerald:{50:"#ecfdf5",100:"#d1fae5",200:"#a7f3d0",300:"#6ee7b7",400:"#34d399",500:"#10b981",600:"#059669",700:"#047857",800:"#065f46",900:"#064e3b",950:"#022c22"},teal:{50:"#f0fdfa",100:"#ccfbf1",200:"#99f6e4",300:"#5eead4",400:"#2dd4bf",500:"#14b8a6",600:"#0d9488",700:"#0f766e",800:"#115e59",900:"#134e4a",950:"#042f2e"},cyan:{50:"#ecfeff",100:"#cffafe",200:"#a5f3fc",300:"#67e8f9",400:"#22d3ee",500:"#06b6d4",600:"#0891b2",700:"#0e7490",800:"#155e75",900:"#164e63",950:"#083344"},sky:{50:"#f0f9ff",100:"#e0f2fe",200:"#bae6fd",300:"#7dd3fc",400:"#38bdf8",500:"#0ea5e9",600:"#0284c7",700:"#0369a1",800:"#075985",900:"#0c4a6e",950:"#082f49"},blue:{50:"#eff6ff",100:"#dbeafe",200:"#bfdbfe",300:"#93c5fd",400:"#60a5fa",500:"#3b82f6",600:"#2563eb",700:"#1d4ed8",800:"#1e40af",900:"#1e3a8a",950:"#172554"},indigo:{50:"#eef2ff",100:"#e0e7ff",200:"#c7d2fe",300:"#a5b4fc",400:"#818cf8",500:"#6366f1",600:"#4f46e5",700:"#4338ca",800:"#3730a3",900:"#312e81",950:"#1e1b4b"},violet:{50:"#f5f3ff",100:"#ede9fe",200:"#ddd6fe",300:"#c4b5fd",400:"#a78bfa",500:"#8b5cf6",600:"#7c3aed",700:"#6d28d9",800:"#5b21b6",900:"#4c1d95",950:"#2e1065"},purple:{50:"#faf5ff",100:"#f3e8ff",200:"#e9d5ff",300:"#d8b4fe",400:"#c084fc",500:"#a855f7",600:"#9333ea",700:"#7e22ce",800:"#6b21a8",900:"#581c87",950:"#3b0764"},fuchsia:{50:"#fdf4ff",100:"#fae8ff",200:"#f5d0fe",300:"#f0abfc",400:"#e879f9",500:"#d946ef",600:"#c026d3",700:"#a21caf",800:"#86198f",900:"#701a75",950:"#4a044e"},pink:{50:"#fdf2f8",100:"#fce7f3",200:"#fbcfe8",300:"#f9a8d4",400:"#f472b6",500:"#ec4899",600:"#db2777",700:"#be185d",800:"#9d174d",900:"#831843",950:"#500724"},rose:{50:"#fff1f2",100:"#ffe4e6",200:"#fecdd3",300:"#fda4af",400:"#fb7185",500:"#f43f5e",600:"#e11d48",700:"#be123c",800:"#9f1239",900:"#881337",950:"#4c0519"},get lightBlue(){return n({version:"v2.2",from:"lightBlue",to:"sky"}),this.sky},get warmGray(){return n({version:"v3.0",from:"warmGray",to:"stone"}),this.stone},get trueGray(){return n({version:"v3.0",from:"trueGray",to:"neutral"}),this.neutral},get coolGray(){return n({version:"v3.0",from:"coolGray",to:"gray"}),this.gray},get blueGray(){return n({version:"v3.0",from:"blueGray",to:"slate"}),this.slate}}})(A5);let Ih=A5;var jO=(Ih.__esModule?Ih:{default:Ih}).default;const LO=gn(jO);function R5({message:t,items:e,staticPosition:r}){return _.jsxs(pv,{status:"loading",staticPosition:r,className:"flex-col",children:[_.jsxs("div",{className:"flex items-center justify-center gap-3",children:[$g,t,$g]}),e&&_.jsx("div",{className:"flex flex-col",children:e.map(n=>_.jsx(BO,{...n},n.message))})]})}function BO({message:t,status:e}){let r=$g;switch(e){case"error":r=_.jsx("p",{children:""});break;case"success":r=_.jsx("p",{children:""});break}return _.jsxs("div",{className:"flex items-center justify-between gap-2",children:[_.jsx("p",{children:t}),r]})}const $g=_.jsx(NO,{color:LO.lime[100],loading:!0,speedMultiplier:.5,height:16,width:3,radius:10}),ps={gcTime:1/0,staleTime:1/0,retry:1,retryOnMount:!1,refetchOnMount:!1,refetchOnWindowFocus:!1,refetchOnReconnect:!1};function $O(t){const r=(t instanceof DocumentFragment?t:t[0]).cloneNode(!0),n=document.createElement("div");n.appendChild(r);const i=n.innerHTML;return n.remove(),i}function UO(t){const e=document.getElementById(t);if(!e)throw Error(`Template with id "${t}" not found.`);if(e.tagName!=="TEMPLATE")throw Error(`Element with id "${t}" is not a template.`);return e.content.cloneNode(!0)}async function w1(t,e){return new Promise(r=>{var s;(s=document.getElementById(t))==null||s.remove();const[n]=document.getElementsByTagName("head"),i=document.createElement("script");i.id=`slime2script.${t}`,i.src=`${e}?loadedAt=${Date.now()}`,i.async=!0,n.appendChild(i),i.onload=async()=>{r(!0)},i.onerror=async()=>{r(!1)}})}function ms(){}let FO=(t=21)=>crypto.getRandomValues(new Uint8Array(t)).reduce((e,r)=>(r&=63,r<36?e+=r.toString(36):r<62?e+=(r-26).toString(36).toUpperCase():r>62?e+="-":e+="_",e),"");function cf(){return I.useContext(M5)}const M5=I.createContext({unsavedChanges:!1,setUnsavedChanges:ms}),N5={};function gv(){return I.useContext(D5)}function df(){const t=I.useContext(j5),{setUnsavedChanges:e}=cf();function r(u){t({type:"load-defaults",settings:u})}function n(u){t({type:"load-values",values:u})}function i(u,c,f){e(!0),t({type:"update-value",id:c,groupId:u,value:f})}function s(u,c,f){e(!0),t({type:"add-group-multiple",groupId:u,id:c,settingItems:f})}function o(u,c,f){e(!0),t({type:"copy-group-multiple",groupId:u,id:c,index:f})}function a(u,c,f){e(!0),t({type:"remove-group-multiple",groupId:u,id:c,index:f})}function l(u,c,f,d){e(!0),t({type:"move-group-multiple",groupId:u,id:c,currentIndex:f,newIndex:d})}return{loadDefaults:r,loadValues:n,update:i,addGroupMultiple:s,copyGroupMultiple:o,removeGroupMultiple:a,moveGroupMultiple:l}}const D5=I.createContext(N5),j5=I.createContext(ms);function qO(t,e){var r;switch(e.type){case"load-defaults":return Fs(e.settings,t);case"load-values":return e.values;case"update-value":{const{groupId:n,id:i}=e;let{value:s}=e;if(s!==null&&typeof s!="boolean"&&typeof s!="string"&&typeof s!="number"&&!Array.isArray(s))return t;Array.isArray(s)&&(s=s.filter(l=>typeof l=="string"||typeof l=="boolean"||typeof l=="number"));const o=(r=Oi(t,n))==null?void 0:r[i];if(!Array.isArray(s)&&s===o||Array.isArray(s)&&Array.isArray(o)&&JSON.stringify(s.toSorted())===JSON.stringify(o.toSorted()))return t;const a=JSON.parse(JSON.stringify(t));return zO(a,n,i,s),a}case"add-group-multiple":{const{groupId:n,id:i,settingItems:s}=e,o=JSON.parse(JSON.stringify(t)),a=Oi(o,n);if(a){const l=a[i];Array.isArray(l)&&(a[i]=[...l,{...Fs(s),__id:Fc(i)}])}return o}case"copy-group-multiple":{const{groupId:n,id:i,index:s}=e,o=JSON.parse(JSON.stringify(t)),a=Oi(o,n);if(a){const l=a[i];if(Array.isArray(l)){const u=JSON.parse(JSON.stringify(l[s]));a[i]=l.toSpliced(s,0,{...u,__id:Fc(i)})}}return o}case"move-group-multiple":{const{groupId:n,id:i,currentIndex:s,newIndex:o}=e;if(o<0||s===o)return t;const a=JSON.parse(JSON.stringify(t)),l=Oi(a,n);if(l){const u=l[i];if(Array.isArray(u)){if(o>=u.length)return t;const[c]=u.splice(s,1);u.splice(o,0,c)}}return a}case"remove-group-multiple":{const{groupId:n,id:i,index:s}=e,o=JSON.parse(JSON.stringify(t)),a=Oi(o,n);if(a){const l=a[i];Array.isArray(l)&&(a[i]=l.filter((u,c)=>s!==c))}return o}}}function Fs(t,e={}){const r=!e||typeof e!="object"||Array.isArray(e)?{}:JSON.parse(JSON.stringify(e)),n=new Map;for(const i of t){if(i.id==="__id")throw Error("__id cannot be used as a setting ID!");if(!i.id)throw Error("A widget setting is missing an ID! All widget settings must have a unique ID.");if(n.get(i.id))throw Error(`Two widget settings have the same ID of '${i.id}'! All widget settings must have a unique ID.`);n.set(i.id,!0);const s=HO(i,r,r[i.id]);s!==void 0&&(r[i.id]=s)}return r}function HO(t,e,r){function n(a){return typeof a=="string"}function i(a){return typeof a=="string"||typeof a=="boolean"||typeof a=="number"}function s(a){return!!a&&typeof a=="object"}function o(a){return{...Fs(t.settings,a),__id:Fc(t.id)}}switch(t.type){case"boolean-input":return typeof r=="boolean"?r:typeof t.defaultValue=="boolean"?t.defaultValue:!1;case"number-input":return typeof r=="number"||r===null?r:typeof t.defaultValue=="number"?t.defaultValue:null;case"font-input":case"color-input":return typeof r=="string"?r:typeof t.defaultValue=="string"?t.defaultValue:"";case"text-input":return"multiple"in t&&t.multiple?Array.isArray(r)?r.filter(n):Array.isArray(t.defaultValue)?t.defaultValue.filter(n):[]:typeof r=="string"?r:typeof t.defaultValue=="string"?t.defaultValue:"";case"image-input":case"video-input":case"audio-input":return"multiple"in t&&t.multiple?Array.isArray(r)?r.filter(n):Array.isArray(t.defaultValue)?t.defaultValue.filter(n):[]:typeof r=="string"||r===null?r:typeof t.defaultValue=="string"?t.defaultValue:null;case"dropdown-input":return typeof r=="string"||typeof r=="boolean"||typeof r=="number"?r:typeof t.defaultValue=="string"||typeof t.defaultValue=="boolean"||typeof t.defaultValue=="number"?t.defaultValue:t.options.length?t.options[0].value:null;case"select-input":return"multiple"in t&&t.multiple?Array.isArray(r)?r.filter(i):Array.isArray(t.defaultValue)?t.defaultValue.filter(i):[]:typeof r=="string"||typeof r=="boolean"||typeof r=="number"?r:typeof t.defaultValue=="string"||typeof t.defaultValue=="boolean"||typeof t.defaultValue=="number"?t.defaultValue:t.options.length?t.options[0].value:null;case"group":return"multiple"in t&&t.multiple?Array.isArray(r)?r.filter(s).map(o):Array.isArray(t.defaultValues)?t.defaultValues.filter(s).map(o):[{...Fs(t.settings),__id:Fc(t.id)}]:r&&typeof r=="object"&&!Array.isArray(r)?Fs(t.settings,r):Fs(t.settings,e[t.id]);default:return}}function Fc(t){return`${t}_${FO()}`}function Oi(t,e){let r=t;for(let n=0;n<e.length;n++){const{id:i,index:s}=e[n];let o=r[i];if(s!==void 0){if(!Array.isArray(o))return null;o=o[s]}if(!o||typeof o!="object"||Array.isArray(o))return null;r=o}return r}function zO(t,e,r,n){let i=t;for(let s=0;s<e.length;s++){const{id:o,index:a}=e[s];a!==void 0?(Array.isArray(i[o])||(i[o]=[]),(!i[o][a]||typeof i[o][a]!="object"||Array.isArray(i[o][a]))&&(i[o][a]={}),i=i[o][a]):((!i[o]||typeof i[o]!="object"||Array.isArray(i[o]))&&(i[o]={}),i=i[o])}i[r]=n}function vn(){return I.useContext(B5)}function WO(){const t=I.useContext($5),{loadDefaults:e}=df();function r(u){t({type:"set-on-event",onEvent:u})}async function n(u){t({type:"set-platform",platform:u});const c=Array.isArray(u)?u:[u];return(await Promise.all(c.map(d=>{const g=d==="youtube"?"google":d;return w1(`${d}.key`,`SLIME2_${g.toUpperCase()}_KEY.js`)}))).reduce((d,g)=>g&&d,!0)}function i(u,c){t({type:"set-key",provider:u,key:c})}function s(u){t({type:"set-max-events",maxEvents:u})}function o(u){t({type:"set-event-delay",delay:u})}function a(u,c){t({type:"set-event-expiration",expiration:u,options:c})}function l(u,c){if(typeof u!="string"||!u.endsWith(".js"))throw Error('The first parameter of createWidgetSettings must be a string that ends in ".js"');if(!Array.isArray(c))throw Error("The second parameter of createWidgetSettings must be an array of objects");w1("widget.data",u).finally(()=>e(c)),t({type:"create-widget-settings",settings:c,dataFileName:u})}return{onEvent:r,setKey:i,setPlatform:n,setMaxEvents:s,setEventDelay:o,setEventExpiration:a,createWidgetSettings:l}}const L5={sendEvent:ms,maxEvents:100,platforms:[],widgetSettings:[],widgetDataFileName:"",keys:{twitch:"",google:""}},B5=I.createContext(L5),$5=I.createContext(ms);function GO(t,e){switch(e.type){case"set-platform":return{...t,platforms:Array.isArray(e.platform)?e.platform:[e.platform]};case"set-key":return{...t,keys:{...t.keys,[e.provider]:e.key}};case"set-on-event":return{...t,sendEvent:e.onEvent};case"set-max-events":return{...t,maxEvents:e.maxEvents};case"set-event-expiration":return{...t,eventExpiration:e.expiration,eventExpirationOptions:e.options};case"set-event-delay":return{...t,eventDelay:e.delay};case"create-widget-settings":return{...t,widgetSettings:e.settings,widgetDataFileName:e.dataFileName}}}function We(t,e){let r=t.length;Array.isArray(t[0])||(t=[t]),Array.isArray(e[0])||(e=e.map(o=>[o]));let n=e[0].length,i=e[0].map((o,a)=>e.map(l=>l[a])),s=t.map(o=>i.map(a=>{let l=0;if(!Array.isArray(o)){for(let u of a)l+=o*u;return l}for(let u=0;u<o.length;u++)l+=o[u]*(a[u]||0);return l}));return r===1&&(s=s[0]),n===1?s.map(o=>o[0]):s}function Gl(t){return ui(t)==="string"}function ui(t){return(Object.prototype.toString.call(t).match(/^\[object\s+(.*?)\]$/)[1]||"").toLowerCase()}function qc(t,e){t=+t,e=+e;let r=(Math.floor(t)+"").length;if(e>r)return+t.toFixed(e-r);{let n=10**(r-e);return Math.round(t/n)*n}}function U5(t){if(!t)return;t=t.trim();const e=/^([a-z]+)\((.+?)\)$/i,r=/^-?[\d.]+$/;let n=t.match(e);if(n){let i=[];return n[2].replace(/\/?\s*([-\w.]+(?:%|deg)?)/g,(s,o)=>{/%$/.test(o)?(o=new Number(o.slice(0,-1)/100),o.type="<percentage>"):/deg$/.test(o)?(o=new Number(+o.slice(0,-3)),o.type="<angle>",o.unit="deg"):r.test(o)&&(o=new Number(o),o.type="<number>"),s.startsWith("/")&&(o=o instanceof Number?o:new Number(o),o.alpha=!0),i.push(o)}),{name:n[1].toLowerCase(),rawName:n[1],rawArgs:n[2],args:i}}}function F5(t){return t[t.length-1]}function Hc(t,e,r){return isNaN(t)?e:isNaN(e)?t:t+(e-t)*r}function q5(t,e,r){return(r-t)/(e-t)}function yv(t,e,r){return Hc(e[0],e[1],q5(t[0],t[1],r))}function H5(t){return t.map(e=>e.split("|").map(r=>{r=r.trim();let n=r.match(/^(<[a-z]+>)\[(-?[.\d]+),\s*(-?[.\d]+)\]?$/);if(n){let i=new String(n[1]);return i.range=[+n[2],+n[3]],i}return r}))}var VO=Object.freeze({__proto__:null,interpolate:Hc,interpolateInv:q5,isString:Gl,last:F5,mapRange:yv,multiplyMatrices:We,parseCoordGrammar:H5,parseFunction:U5,toPrecision:qc,type:ui});class QO{add(e,r,n){if(typeof arguments[0]!="string"){for(var e in arguments[0])this.add(e,arguments[0][e],arguments[1]);return}(Array.isArray(e)?e:[e]).forEach(function(i){this[i]=this[i]||[],r&&this[i][n?"unshift":"push"](r)},this)}run(e,r){this[e]=this[e]||[],this[e].forEach(function(n){n.call(r&&r.context?r.context:r,r)})}}const hi=new QO;var Kr={gamut_mapping:"lch.c",precision:5,deltaE:"76"};const Er={D50:[.3457/.3585,1,(1-.3457-.3585)/.3585],D65:[.3127/.329,1,(1-.3127-.329)/.329]};function Ug(t){return Array.isArray(t)?t:Er[t]}function zc(t,e,r,n={}){if(t=Ug(t),e=Ug(e),!t||!e)throw new TypeError(`Missing white point to convert ${t?"":"from"}${!t&&!e?"/":""}${e?"":"to"}`);if(t===e)return r;let i={W1:t,W2:e,XYZ:r,options:n};if(hi.run("chromatic-adaptation-start",i),i.M||(i.W1===Er.D65&&i.W2===Er.D50?i.M=[[1.0479298208405488,.022946793341019088,-.05019222954313557],[.029627815688159344,.990434484573249,-.01707382502938514],[-.009243058152591178,.015055144896577895,.7518742899580008]]:i.W1===Er.D50&&i.W2===Er.D65&&(i.M=[[.9554734527042182,-.023098536874261423,.0632593086610217],[-.028369706963208136,1.0099954580058226,.021041398966943008],[.012314001688319899,-.020507696433477912,1.3303659366080753]])),hi.run("chromatic-adaptation-end",i),i.M)return We(i.M,i.XYZ);throw new TypeError("Only Bradford CAT with white points D50 and D65 supported for now.")}const KO=75e-6,Lt=class Lt{constructor(e){var i,s,o;this.id=e.id,this.name=e.name,this.base=e.base?Lt.get(e.base):null,this.aliases=e.aliases,this.base&&(this.fromBase=e.fromBase,this.toBase=e.toBase);let r=e.coords??this.base.coords;for(let a in r)"name"in r[a]||(r[a].name=a);this.coords=r;let n=e.white??this.base.white??"D65";this.white=Ug(n),this.formats=e.formats??{};for(let a in this.formats){let l=this.formats[a];l.type||(l.type="function"),l.name||(l.name=a)}e.cssId&&!((i=this.formats.functions)!=null&&i.color)?(this.formats.color={id:e.cssId},Object.defineProperty(this,"cssId",{value:e.cssId})):(s=this.formats)!=null&&s.color&&!((o=this.formats)!=null&&o.color.id)&&(this.formats.color.id=this.id),this.referred=e.referred,Object.defineProperty(this,"path",{value:YO(this).reverse(),writable:!1,enumerable:!0,configurable:!0}),hi.run("colorspace-init-end",this)}inGamut(e,{epsilon:r=KO}={}){if(this.isPolar)return e=this.toBase(e),this.base.inGamut(e,{epsilon:r});let n=Object.values(this.coords);return e.every((i,s)=>{let o=n[s];if(o.type!=="angle"&&o.range){if(Number.isNaN(i))return!0;let[a,l]=o.range;return(a===void 0||i>=a-r)&&(l===void 0||i<=l+r)}return!0})}get cssId(){var e,r;return((r=(e=this.formats.functions)==null?void 0:e.color)==null?void 0:r.id)||this.id}get isPolar(){for(let e in this.coords)if(this.coords[e].type==="angle")return!0;return!1}getFormat(e){if(typeof e=="object")return e=_1(e,this),e;let r;return e==="default"?r=Object.values(this.formats)[0]:r=this.formats[e],r?(r=_1(r,this),r):null}equals(e){return e?this===e||this.id===e.id:!1}to(e,r){if(arguments.length===1&&([e,r]=[e.space,e.coords]),e=Lt.get(e),this.equals(e))return r;r=r.map(a=>Number.isNaN(a)?0:a);let n=this.path,i=e.path,s,o;for(let a=0;a<n.length&&n[a].equals(i[a]);a++)s=n[a],o=a;if(!s)throw new Error(`Cannot convert between color spaces ${this} and ${e}: no connection space was found`);for(let a=n.length-1;a>o;a--)r=n[a].toBase(r);for(let a=o+1;a<i.length;a++)r=i[a].fromBase(r);return r}from(e,r){return arguments.length===1&&([e,r]=[e.space,e.coords]),e=Lt.get(e),e.to(this,r)}toString(){return`${this.name} (${this.id})`}getMinCoords(){let e=[];for(let r in this.coords){let n=this.coords[r],i=n.range||n.refRange;e.push((i==null?void 0:i.min)??0)}return e}static get all(){return[...new Set(Object.values(Lt.registry))]}static register(e,r){if(arguments.length===1&&(r=arguments[0],e=r.id),r=this.get(r),this.registry[e]&&this.registry[e]!==r)throw new Error(`Duplicate color space registration: '${e}'`);if(this.registry[e]=r,arguments.length===1&&r.aliases)for(let n of r.aliases)this.register(n,r);return r}static get(e,...r){if(!e||e instanceof Lt)return e;if(ui(e)==="string"){let i=Lt.registry[e.toLowerCase()];if(!i)throw new TypeError(`No color space found with id = "${e}"`);return i}if(r.length)return Lt.get(...r);throw new TypeError(`${e} is not a valid color space`)}static resolveCoord(e,r){var l;let n=ui(e),i,s;if(n==="string"?e.includes(".")?[i,s]=e.split("."):[i,s]=[,e]:Array.isArray(e)?[i,s]=e:(i=e.space,s=e.coordId),i=Lt.get(i),i||(i=r),!i)throw new TypeError(`Cannot resolve coordinate reference ${e}: No color space specified and relative references are not allowed here`);if(n=ui(s),n==="number"||n==="string"&&s>=0){let u=Object.entries(i.coords)[s];if(u)return{space:i,id:u[0],index:s,...u[1]}}i=Lt.get(i);let o=s.toLowerCase(),a=0;for(let u in i.coords){let c=i.coords[u];if(u.toLowerCase()===o||((l=c.name)==null?void 0:l.toLowerCase())===o)return{space:i,id:u,index:a,...c};a++}throw new TypeError(`No "${s}" coordinate found in ${i.name}. Its coordinates are: ${Object.keys(i.coords).join(", ")}`)}};Rr(Lt,"registry",{}),Rr(Lt,"DEFAULT_FORMAT",{type:"functions",name:"color"});let se=Lt;function YO(t){let e=[t];for(let r=t;r=r.base;)e.push(r);return e}function _1(t,{coords:e}={}){if(t.coords&&!t.coordGrammar){t.type||(t.type="function"),t.name||(t.name="color"),t.coordGrammar=H5(t.coords);let r=Object.entries(e).map(([n,i],s)=>{let o=t.coordGrammar[s][0],a=i.range||i.refRange,l=o.range,u="";return o=="<percentage>"?(l=[0,100],u="%"):o=="<angle>"&&(u="deg"),{fromRange:a,toRange:l,suffix:u}});t.serializeCoords=(n,i)=>n.map((s,o)=>{let{fromRange:a,toRange:l,suffix:u}=r[o];return a&&l&&(s=yv(a,l,s)),s=qc(s,i),u&&(s+=u),s})}return t}var sr=new se({id:"xyz-d65",name:"XYZ D65",coords:{x:{name:"X"},y:{name:"Y"},z:{name:"Z"}},white:"D65",formats:{color:{ids:["xyz-d65","xyz"]}},aliases:["xyz"]});class Nt extends se{constructor(e){e.coords||(e.coords={r:{range:[0,1],name:"Red"},g:{range:[0,1],name:"Green"},b:{range:[0,1],name:"Blue"}}),e.base||(e.base=sr),e.toXYZ_M&&e.fromXYZ_M&&(e.toBase??(e.toBase=r=>{let n=We(e.toXYZ_M,r);return this.white!==this.base.white&&(n=zc(this.white,this.base.white,n)),n}),e.fromBase??(e.fromBase=r=>(r=zc(this.base.white,this.white,r),We(e.fromXYZ_M,r)))),e.referred??(e.referred="display"),super(e)}}function z5(t,{meta:e}={}){var n,i,s,o,a;let r={str:(n=String(t))==null?void 0:n.trim()};if(hi.run("parse-start",r),r.color)return r.color;if(r.parsed=U5(r.str),r.parsed){let l=r.parsed.name;if(l==="color"){let u=r.parsed.args.shift(),c=r.parsed.rawArgs.indexOf("/")>0?r.parsed.args.pop():1;for(let d of se.all){let g=d.getFormat("color");if(g&&(u===g.id||(i=g.ids)!=null&&i.includes(u))){const v=Object.keys(d.coords).map((b,w)=>r.parsed.args[w]||0);return e&&(e.formatId="color"),{spaceId:d.id,coords:v,alpha:c}}}let f="";if(u in se.registry){let d=(a=(o=(s=se.registry[u].formats)==null?void 0:s.functions)==null?void 0:o.color)==null?void 0:a.id;d&&(f=`Did you mean color(${d})?`)}throw new TypeError(`Cannot parse color(${u}). `+(f||"Missing a plugin?"))}else for(let u of se.all){let c=u.getFormat(l);if(c&&c.type==="function"){let f=1;(c.lastAlpha||F5(r.parsed.args).alpha)&&(f=r.parsed.args.pop());let d=r.parsed.args,g;return c.coordGrammar&&(g=Object.entries(u.coords).map(([v,b],w)=>{var k;let m=c.coordGrammar[w],p=(k=d[w])==null?void 0:k.type,y=m.find(R=>R==p);if(!y){let R=b.name||v;throw new TypeError(`${p} not allowed for ${R} in ${l}()`)}let x=y.range;p==="<percentage>"&&(x||(x=[0,1]));let S=b.range||b.refRange;return x&&S&&(d[w]=yv(x,S,d[w])),y})),e&&Object.assign(e,{formatId:c.name,types:g}),{spaceId:u.id,coords:d,alpha:f}}}}else for(let l of se.all)for(let u in l.formats){let c=l.formats[u];if(c.type!=="custom"||c.test&&!c.test(r.str))continue;let f=c.parse(r.str);if(f)return f.alpha??(f.alpha=1),e&&(e.formatId=u),f}throw new TypeError(`Could not parse ${t} as a color. Missing a plugin?`)}function _e(t){if(!t)throw new TypeError("Empty color reference");Gl(t)&&(t=z5(t));let e=t.space||t.spaceId;return e instanceof se||(t.space=se.get(e)),t.alpha===void 0&&(t.alpha=1),t}function Vl(t,e){return e=se.get(e),e.from(t)}function or(t,e){let{space:r,index:n}=se.resolveCoord(e,t.space);return Vl(t,r)[n]}function W5(t,e,r){return e=se.get(e),t.coords=e.to(t.space,r),t}function pi(t,e,r){if(t=_e(t),arguments.length===2&&ui(arguments[1])==="object"){let n=arguments[1];for(let i in n)pi(t,i,n[i])}else{typeof r=="function"&&(r=r(or(t,e)));let{space:n,index:i}=se.resolveCoord(e,t.space),s=Vl(t,n);s[i]=r,W5(t,n,s)}return t}var vv=new se({id:"xyz-d50",name:"XYZ D50",white:"D50",base:sr,fromBase:t=>zc(sr.white,"D50",t),toBase:t=>zc("D50",sr.white,t),formats:{color:{}}});const XO=216/24389,b1=24/116,Cu=24389/27;let Oh=Er.D50;var qt=new se({id:"lab",name:"Lab",coords:{l:{refRange:[0,100],name:"L"},a:{refRange:[-125,125]},b:{refRange:[-125,125]}},white:Oh,base:vv,fromBase(t){let r=t.map((n,i)=>n/Oh[i]).map(n=>n>XO?Math.cbrt(n):(Cu*n+16)/116);return[116*r[1]-16,500*(r[0]-r[1]),200*(r[1]-r[2])]},toBase(t){let e=[];return e[1]=(t[0]+16)/116,e[0]=t[1]/500+e[1],e[2]=e[1]-t[2]/200,[e[0]>b1?Math.pow(e[0],3):(116*e[0]-16)/Cu,t[0]>8?Math.pow((t[0]+16)/116,3):t[0]/Cu,e[2]>b1?Math.pow(e[2],3):(116*e[2]-16)/Cu].map((n,i)=>n*Oh[i])},formats:{lab:{coords:["<number> | <percentage>","<number> | <percentage>[-1,1]","<number> | <percentage>[-1,1]"]}}});function ff(t){return(t%360+360)%360}function JO(t,e){if(t==="raw")return e;let[r,n]=e.map(ff),i=n-r;return t==="increasing"?i<0&&(n+=360):t==="decreasing"?i>0&&(r+=360):t==="longer"?-180<i&&i<180&&(i>0?r+=360:n+=360):t==="shorter"&&(i>180?r+=360:i<-180&&(n+=360)),[r,n]}var Xa=new se({id:"lch",name:"LCH",coords:{l:{refRange:[0,100],name:"Lightness"},c:{refRange:[0,150],name:"Chroma"},h:{refRange:[0,360],type:"angle",name:"Hue"}},base:qt,fromBase(t){let[e,r,n]=t,i;const s=.02;return Math.abs(r)<s&&Math.abs(n)<s?i=NaN:i=Math.atan2(n,r)*180/Math.PI,[e,Math.sqrt(r**2+n**2),ff(i)]},toBase(t){let[e,r,n]=t;return r<0&&(r=0),isNaN(n)&&(n=0),[e,r*Math.cos(n*Math.PI/180),r*Math.sin(n*Math.PI/180)]},formats:{lch:{coords:["<number> | <percentage>","<number> | <percentage>","<number> | <angle>"]}}});const x1=25**7,Wc=Math.PI,S1=180/Wc,bs=Wc/180;function Fg(t,e,{kL:r=1,kC:n=1,kH:i=1}={}){let[s,o,a]=qt.from(t),l=Xa.from(qt,[s,o,a])[1],[u,c,f]=qt.from(e),d=Xa.from(qt,[u,c,f])[1];l<0&&(l=0),d<0&&(d=0);let v=((l+d)/2)**7,b=.5*(1-Math.sqrt(v/(v+x1))),w=(1+b)*o,m=(1+b)*c,p=Math.sqrt(w**2+a**2),y=Math.sqrt(m**2+f**2),x=w===0&&a===0?0:Math.atan2(a,w),S=m===0&&f===0?0:Math.atan2(f,m);x<0&&(x+=2*Wc),S<0&&(S+=2*Wc),x*=S1,S*=S1;let k=u-s,R=y-p,O=S-x,U=x+S,G=Math.abs(O),ee;p*y===0?ee=0:G<=180?ee=O:O>180?ee=O-360:O<-180?ee=O+360:console.log("the unthinkable has happened");let ne=2*Math.sqrt(y*p)*Math.sin(ee*bs/2),Z=(s+u)/2,P=(p+y)/2,N=Math.pow(P,7),W;p*y===0?W=U:G<=180?W=U/2:U<360?W=(U+360)/2:W=(U-360)/2;let ie=(Z-50)**2,L=1+.015*ie/Math.sqrt(20+ie),B=1+.045*P,K=1;K-=.17*Math.cos((W-30)*bs),K+=.24*Math.cos(2*W*bs),K+=.32*Math.cos((3*W+6)*bs),K-=.2*Math.cos((4*W-63)*bs);let ae=1+.015*P*K,de=30*Math.exp(-1*((W-275)/25)**2),Qe=2*Math.sqrt(N/(N+x1)),Ne=-1*Math.sin(2*de*bs)*Qe,gt=(k/(r*L))**2;return gt+=(R/(n*B))**2,gt+=(ne/(i*ae))**2,gt+=Ne*(R/(n*B))*(ne/(i*ae)),Math.sqrt(gt)}const ZO=75e-6;function _a(t,e=t.space,{epsilon:r=ZO}={}){t=_e(t),e=se.get(e);let n=t.coords;return e!==t.space&&(n=e.from(t)),e.inGamut(n,{epsilon:r})}function Ja(t){return{space:t.space,coords:t.coords.slice(),alpha:t.alpha}}function mi(t,{method:e=Kr.gamut_mapping,space:r=t.space}={}){if(Gl(arguments[1])&&(r=arguments[1]),r=se.get(r),_a(t,r,{epsilon:0}))return _e(t);let n=nr(t,r);if(e!=="clip"&&!_a(t,r)){let i=mi(Ja(n),{method:"clip",space:r});if(Fg(t,i)>2){let s=se.resolveCoord(e),o=s.space,a=s.id,l=nr(n,o),c=(s.range||s.refRange)[0],f=.01,d=c,g=or(l,a);for(;g-d>f;){let v=Ja(l);v=mi(v,{space:r,method:"clip"}),Fg(l,v)-2<f?d=or(l,a):g=or(l,a),pi(l,a,(d+g)/2)}n=nr(l,r)}else n=i}if(e==="clip"||!_a(n,r,{epsilon:0})){let i=Object.values(r.coords).map(s=>s.range||[]);n.coords=n.coords.map((s,o)=>{let[a,l]=i[o];return a!==void 0&&(s=Math.max(a,s)),l!==void 0&&(s=Math.min(s,l)),s})}return r!==t.space&&(n=nr(n,t.space)),t.coords=n.coords,t}mi.returns="color";function nr(t,e,{inGamut:r}={}){t=_e(t),e=se.get(e);let n=e.from(t),i={space:e,coords:n,alpha:t.alpha};return r&&(i=mi(i)),i}nr.returns="color";function Gc(t,{precision:e=Kr.precision,format:r="default",inGamut:n=!0,...i}={}){var l;let s;t=_e(t);let o=r;r=t.space.getFormat(r)??t.space.getFormat("default")??se.DEFAULT_FORMAT,n||(n=r.toGamut);let a=t.coords;if(a=a.map(u=>u||0),n&&!_a(t)&&(a=mi(Ja(t),n===!0?void 0:n).coords),r.type==="custom")if(i.precision=e,r.serialize)s=r.serialize(a,t.alpha,i);else throw new TypeError(`format ${o} can only be used to parse colors, not for serialization`);else{let u=r.name||"color";r.serializeCoords?a=r.serializeCoords(a,e):e!==null&&(a=a.map(g=>qc(g,e)));let c=[...a];if(u==="color"){let g=r.id||((l=r.ids)==null?void 0:l[0])||t.space.id;c.unshift(g)}let f=t.alpha;e!==null&&(f=qc(f,e));let d=t.alpha<1&&!r.noAlpha?`${r.commas?",":" /"} ${f}`:"";s=`${u}(${c.join(r.commas?", ":" ")}${d})`}return s}const eR=[[.6369580483012914,.14461690358620832,.1688809751641721],[.2627002120112671,.6779980715188708,.05930171646986196],[0,.028072693049087428,1.060985057710791]],tR=[[1.716651187971268,-.355670783776392,-.25336628137366],[-.666684351832489,1.616481236634939,.0157685458139111],[.017639857445311,-.042770613257809,.942103121235474]];var hf=new Nt({id:"rec2020-linear",name:"Linear REC.2020",white:"D65",toXYZ_M:eR,fromXYZ_M:tR,formats:{color:{}}});const Eu=1.09929682680944,C1=.018053968510807;var G5=new Nt({id:"rec2020",name:"REC.2020",base:hf,toBase(t){return t.map(function(e){return e<C1*4.5?e/4.5:Math.pow((e+Eu-1)/Eu,1/.45)})},fromBase(t){return t.map(function(e){return e>=C1?Eu*Math.pow(e,.45)-(Eu-1):4.5*e})},formats:{color:{}}});const rR=[[.4865709486482162,.26566769316909306,.1982172852343625],[.2289745640697488,.6917385218365064,.079286914093745],[0,.04511338185890264,1.043944368900976]],nR=[[2.493496911941425,-.9313836179191239,-.40271078445071684],[-.8294889695615747,1.7626640603183463,.023624685841943577],[.03584583024378447,-.07617238926804182,.9568845240076872]];var V5=new Nt({id:"p3-linear",name:"Linear P3",white:"D65",toXYZ_M:rR,fromXYZ_M:nR});const iR=[[.41239079926595934,.357584339383878,.1804807884018343],[.21263900587151027,.715168678767756,.07219231536073371],[.01933081871559182,.11919477979462598,.9505321522496607]],sR=[[3.2409699419045226,-1.537383177570094,-.4986107602930034],[-.9692436362808796,1.8759675015077202,.04155505740717559],[.05563007969699366,-.20397695888897652,1.0569715142428786]];var Q5=new Nt({id:"srgb-linear",name:"Linear sRGB",white:"D65",toXYZ_M:iR,fromXYZ_M:sR,formats:{color:{}}}),E1={aliceblue:[240/255,248/255,1],antiquewhite:[250/255,235/255,215/255],aqua:[0,1,1],aquamarine:[127/255,1,212/255],azure:[240/255,1,1],beige:[245/255,245/255,220/255],bisque:[1,228/255,196/255],black:[0,0,0],blanchedalmond:[1,235/255,205/255],blue:[0,0,1],blueviolet:[138/255,43/255,226/255],brown:[165/255,42/255,42/255],burlywood:[222/255,184/255,135/255],cadetblue:[95/255,158/255,160/255],chartreuse:[127/255,1,0],chocolate:[210/255,105/255,30/255],coral:[1,127/255,80/255],cornflowerblue:[100/255,149/255,237/255],cornsilk:[1,248/255,220/255],crimson:[220/255,20/255,60/255],cyan:[0,1,1],darkblue:[0,0,139/255],darkcyan:[0,139/255,139/255],darkgoldenrod:[184/255,134/255,11/255],darkgray:[169/255,169/255,169/255],darkgreen:[0,100/255,0],darkgrey:[169/255,169/255,169/255],darkkhaki:[189/255,183/255,107/255],darkmagenta:[139/255,0,139/255],darkolivegreen:[85/255,107/255,47/255],darkorange:[1,140/255,0],darkorchid:[153/255,50/255,204/255],darkred:[139/255,0,0],darksalmon:[233/255,150/255,122/255],darkseagreen:[143/255,188/255,143/255],darkslateblue:[72/255,61/255,139/255],darkslategray:[47/255,79/255,79/255],darkslategrey:[47/255,79/255,79/255],darkturquoise:[0,206/255,209/255],darkviolet:[148/255,0,211/255],deeppink:[1,20/255,147/255],deepskyblue:[0,191/255,1],dimgray:[105/255,105/255,105/255],dimgrey:[105/255,105/255,105/255],dodgerblue:[30/255,144/255,1],firebrick:[178/255,34/255,34/255],floralwhite:[1,250/255,240/255],forestgreen:[34/255,139/255,34/255],fuchsia:[1,0,1],gainsboro:[220/255,220/255,220/255],ghostwhite:[248/255,248/255,1],gold:[1,215/255,0],goldenrod:[218/255,165/255,32/255],gray:[128/255,128/255,128/255],green:[0,128/255,0],greenyellow:[173/255,1,47/255],grey:[128/255,128/255,128/255],honeydew:[240/255,1,240/255],hotpink:[1,105/255,180/255],indianred:[205/255,92/255,92/255],indigo:[75/255,0,130/255],ivory:[1,1,240/255],khaki:[240/255,230/255,140/255],lavender:[230/255,230/255,250/255],lavenderblush:[1,240/255,245/255],lawngreen:[124/255,252/255,0],lemonchiffon:[1,250/255,205/255],lightblue:[173/255,216/255,230/255],lightcoral:[240/255,128/255,128/255],lightcyan:[224/255,1,1],lightgoldenrodyellow:[250/255,250/255,210/255],lightgray:[211/255,211/255,211/255],lightgreen:[144/255,238/255,144/255],lightgrey:[211/255,211/255,211/255],lightpink:[1,182/255,193/255],lightsalmon:[1,160/255,122/255],lightseagreen:[32/255,178/255,170/255],lightskyblue:[135/255,206/255,250/255],lightslategray:[119/255,136/255,153/255],lightslategrey:[119/255,136/255,153/255],lightsteelblue:[176/255,196/255,222/255],lightyellow:[1,1,224/255],lime:[0,1,0],limegreen:[50/255,205/255,50/255],linen:[250/255,240/255,230/255],magenta:[1,0,1],maroon:[128/255,0,0],mediumaquamarine:[102/255,205/255,170/255],mediumblue:[0,0,205/255],mediumorchid:[186/255,85/255,211/255],mediumpurple:[147/255,112/255,219/255],mediumseagreen:[60/255,179/255,113/255],mediumslateblue:[123/255,104/255,238/255],mediumspringgreen:[0,250/255,154/255],mediumturquoise:[72/255,209/255,204/255],mediumvioletred:[199/255,21/255,133/255],midnightblue:[25/255,25/255,112/255],mintcream:[245/255,1,250/255],mistyrose:[1,228/255,225/255],moccasin:[1,228/255,181/255],navajowhite:[1,222/255,173/255],navy:[0,0,128/255],oldlace:[253/255,245/255,230/255],olive:[128/255,128/255,0],olivedrab:[107/255,142/255,35/255],orange:[1,165/255,0],orangered:[1,69/255,0],orchid:[218/255,112/255,214/255],palegoldenrod:[238/255,232/255,170/255],palegreen:[152/255,251/255,152/255],paleturquoise:[175/255,238/255,238/255],palevioletred:[219/255,112/255,147/255],papayawhip:[1,239/255,213/255],peachpuff:[1,218/255,185/255],peru:[205/255,133/255,63/255],pink:[1,192/255,203/255],plum:[221/255,160/255,221/255],powderblue:[176/255,224/255,230/255],purple:[128/255,0,128/255],rebeccapurple:[102/255,51/255,153/255],red:[1,0,0],rosybrown:[188/255,143/255,143/255],royalblue:[65/255,105/255,225/255],saddlebrown:[139/255,69/255,19/255],salmon:[250/255,128/255,114/255],sandybrown:[244/255,164/255,96/255],seagreen:[46/255,139/255,87/255],seashell:[1,245/255,238/255],sienna:[160/255,82/255,45/255],silver:[192/255,192/255,192/255],skyblue:[135/255,206/255,235/255],slateblue:[106/255,90/255,205/255],slategray:[112/255,128/255,144/255],slategrey:[112/255,128/255,144/255],snow:[1,250/255,250/255],springgreen:[0,1,127/255],steelblue:[70/255,130/255,180/255],tan:[210/255,180/255,140/255],teal:[0,128/255,128/255],thistle:[216/255,191/255,216/255],tomato:[1,99/255,71/255],turquoise:[64/255,224/255,208/255],violet:[238/255,130/255,238/255],wheat:[245/255,222/255,179/255],white:[1,1,1],whitesmoke:[245/255,245/255,245/255],yellow:[1,1,0],yellowgreen:[154/255,205/255,50/255]};let T1=Array(3).fill("<percentage> | <number>[0, 255]"),k1=Array(3).fill("<number>[0, 255]");var Za=new Nt({id:"srgb",name:"sRGB",base:Q5,fromBase:t=>t.map(e=>{let r=e<0?-1:1,n=e*r;return n>.0031308?r*(1.055*n**(1/2.4)-.055):12.92*e}),toBase:t=>t.map(e=>{let r=e<0?-1:1,n=e*r;return n<.04045?e/12.92:r*((n+.055)/1.055)**2.4}),formats:{rgb:{coords:T1},rgb_number:{name:"rgb",commas:!0,coords:k1,noAlpha:!0},color:{},rgba:{coords:T1,commas:!0,lastAlpha:!0},rgba_number:{name:"rgba",commas:!0,coords:k1},hex:{type:"custom",toGamut:!0,test:t=>/^#([a-f0-9]{3,4}){1,2}$/i.test(t),parse(t){t.length<=5&&(t=t.replace(/[a-f0-9]/gi,"$&$&"));let e=[];return t.replace(/[a-f0-9]{2}/gi,r=>{e.push(parseInt(r,16)/255)}),{spaceId:"srgb",coords:e.slice(0,3),alpha:e.slice(3)[0]}},serialize:(t,e,{collapse:r=!0}={})=>{e<1&&t.push(e),t=t.map(s=>Math.round(s*255));let n=r&&t.every(s=>s%17===0);return"#"+t.map(s=>n?(s/17).toString(16):s.toString(16).padStart(2,"0")).join("")}},keyword:{type:"custom",test:t=>/^[a-z]+$/i.test(t),parse(t){t=t.toLowerCase();let e={spaceId:"srgb",coords:null,alpha:1};if(t==="transparent"?(e.coords=E1.black,e.alpha=0):e.coords=E1[t],e.coords)return e}}}}),K5=new Nt({id:"p3",name:"P3",base:V5,fromBase:Za.fromBase,toBase:Za.toBase,formats:{color:{id:"display-p3"}}});Kr.display_space=Za;if(typeof CSS<"u"&&CSS.supports)for(let t of[qt,G5,K5]){let e=t.getMinCoords(),n=Gc({space:t,coords:e,alpha:1});if(CSS.supports("color",n)){Kr.display_space=t;break}}function oR(t,{space:e=Kr.display_space,...r}={}){let n=Gc(t,r);if(typeof CSS>"u"||CSS.supports("color",n)||!Kr.display_space)n=new String(n),n.color=t;else{let i=nr(t,e);n=new String(Gc(i,r)),n.color=i}return n}function Y5(t,e,r="lab"){r=se.get(r);let n=r.from(t),i=r.from(e);return Math.sqrt(n.reduce((s,o,a)=>{let l=i[a];return isNaN(o)||isNaN(l)?s:s+(l-o)**2},0))}function aR(t,e){return t=_e(t),e=_e(e),t.space===e.space&&t.alpha===e.alpha&&t.coords.every((r,n)=>r===e.coords[n])}function gi(t){return or(t,[sr,"y"])}function X5(t,e){pi(t,[sr,"y"],e)}function lR(t){Object.defineProperty(t.prototype,"luminance",{get(){return gi(this)},set(e){X5(this,e)}})}var uR=Object.freeze({__proto__:null,getLuminance:gi,register:lR,setLuminance:X5});function cR(t,e){t=_e(t),e=_e(e);let r=Math.max(gi(t),0),n=Math.max(gi(e),0);return n>r&&([r,n]=[n,r]),(r+.05)/(n+.05)}const dR=.56,fR=.57,hR=.62,pR=.65,P1=.022,mR=1.414,gR=.1,yR=5e-4,vR=1.14,A1=.027,wR=1.14;function I1(t){return t>=P1?t:t+(P1-t)**mR}function xs(t){let e=t<0?-1:1,r=Math.abs(t);return e*Math.pow(r,2.4)}function _R(t,e){e=_e(e),t=_e(t);let r,n,i,s,o,a;e=nr(e,"srgb"),[s,o,a]=e.coords;let l=xs(s)*.2126729+xs(o)*.7151522+xs(a)*.072175;t=nr(t,"srgb"),[s,o,a]=t.coords;let u=xs(s)*.2126729+xs(o)*.7151522+xs(a)*.072175,c=I1(l),f=I1(u),d=f>c;return Math.abs(f-c)<yR?n=0:d?(r=f**dR-c**fR,n=r*vR):(r=f**pR-c**hR,n=r*wR),Math.abs(n)<gR?i=0:n>0?i=n-A1:i=n+A1,i*100}function bR(t,e){t=_e(t),e=_e(e);let r=Math.max(gi(t),0),n=Math.max(gi(e),0);n>r&&([r,n]=[n,r]);let i=r+n;return i===0?0:(r-n)/i}const xR=5e4;function SR(t,e){t=_e(t),e=_e(e);let r=Math.max(gi(t),0),n=Math.max(gi(e),0);return n>r&&([r,n]=[n,r]),n===0?xR:(r-n)/n}function CR(t,e){t=_e(t),e=_e(e);let r=or(t,[qt,"l"]),n=or(e,[qt,"l"]);return Math.abs(r-n)}const ER=216/24389,O1=24/116,Tu=24389/27;let Rh=Er.D65;var qg=new se({id:"lab-d65",name:"Lab D65",coords:{l:{refRange:[0,100],name:"L"},a:{refRange:[-125,125]},b:{refRange:[-125,125]}},white:Rh,base:sr,fromBase(t){let r=t.map((n,i)=>n/Rh[i]).map(n=>n>ER?Math.cbrt(n):(Tu*n+16)/116);return[116*r[1]-16,500*(r[0]-r[1]),200*(r[1]-r[2])]},toBase(t){let e=[];return e[1]=(t[0]+16)/116,e[0]=t[1]/500+e[1],e[2]=e[1]-t[2]/200,[e[0]>O1?Math.pow(e[0],3):(116*e[0]-16)/Tu,t[0]>8?Math.pow((t[0]+16)/116,3):t[0]/Tu,e[2]>O1?Math.pow(e[2],3):(116*e[2]-16)/Tu].map((n,i)=>n*Rh[i])},formats:{"lab-d65":{coords:["<number> | <percentage>","<number> | <percentage>[-1,1]","<number> | <percentage>[-1,1]"]}}});const Mh=Math.pow(5,.5)*.5+.5;function TR(t,e){t=_e(t),e=_e(e);let r=or(t,[qg,"l"]),n=or(e,[qg,"l"]),i=Math.abs(Math.pow(r,Mh)-Math.pow(n,Mh)),s=Math.pow(i,1/Mh)*Math.SQRT2-40;return s<7.5?0:s}var rc=Object.freeze({__proto__:null,contrastAPCA:_R,contrastDeltaPhi:TR,contrastLstar:CR,contrastMichelson:bR,contrastWCAG21:cR,contrastWeber:SR});function kR(t,e,r={}){Gl(r)&&(r={algorithm:r});let{algorithm:n,...i}=r;if(!n){let s=Object.keys(rc).map(o=>o.replace(/^contrast/,"")).join(", ");throw new TypeError(`contrast() function needs a contrast algorithm. Please specify one of: ${s}`)}t=_e(t),e=_e(e);for(let s in rc)if("contrast"+n.toLowerCase()===s.toLowerCase())return rc[s](t,e,i);throw new TypeError(`Unknown contrast algorithm: ${n}`)}function J5(t){let[e,r,n]=Vl(t,sr),i=e+15*r+3*n;return[4*e/i,9*r/i]}function Z5(t){let[e,r,n]=Vl(t,sr),i=e+r+n;return[e/i,r/i]}function PR(t){Object.defineProperty(t.prototype,"uv",{get(){return J5(this)}}),Object.defineProperty(t.prototype,"xy",{get(){return Z5(this)}})}var AR=Object.freeze({__proto__:null,register:PR,uv:J5,xy:Z5});function IR(t,e){return Y5(t,e,"lab")}const OR=Math.PI,R1=OR/180;function RR(t,e,{l:r=2,c:n=1}={}){let[i,s,o]=qt.from(t),[,a,l]=Xa.from(qt,[i,s,o]),[u,c,f]=qt.from(e),d=Xa.from(qt,[u,c,f])[1];a<0&&(a=0),d<0&&(d=0);let g=i-u,v=a-d,b=s-c,w=o-f,m=b**2+w**2-v**2,p=.511;i>=16&&(p=.040975*i/(1+.01765*i));let y=.0638*a/(1+.0131*a)+.638,x;Number.isNaN(l)&&(l=0),l>=164&&l<=345?x=.56+Math.abs(.2*Math.cos((l+168)*R1)):x=.36+Math.abs(.4*Math.cos((l+35)*R1));let S=Math.pow(a,4),k=Math.sqrt(S/(S+1900)),R=y*(k*x+1-k),O=(g/(r*p))**2;return O+=(v/(n*y))**2,O+=m/R**2,Math.sqrt(O)}const M1=203;var wv=new se({id:"xyz-abs-d65",name:"Absolute XYZ D65",coords:{x:{refRange:[0,9504.7],name:"Xa"},y:{refRange:[0,1e4],name:"Ya"},z:{refRange:[0,10888.3],name:"Za"}},base:sr,fromBase(t){return t.map(e=>Math.max(e*M1,0))},toBase(t){return t.map(e=>Math.max(e/M1,0))}});const ku=1.15,Pu=.66,N1=2610/2**14,MR=2**14/2610,D1=3424/2**12,j1=2413/2**7,L1=2392/2**7,NR=1.7*2523/2**5,B1=2**5/(1.7*2523),Au=-.56,Nh=16295499532821565e-27,DR=[[.41478972,.579999,.014648],[-.20151,1.120649,.0531008],[-.0166008,.2648,.6684799]],jR=[[1.9242264357876067,-1.0047923125953657,.037651404030618],[.35031676209499907,.7264811939316552,-.06538442294808501],[-.09098281098284752,-.3127282905230739,1.5227665613052603]],LR=[[.5,.5,0],[3.524,-4.066708,.542708],[.199076,1.096799,-1.295875]],BR=[[1,.1386050432715393,.05804731615611886],[.9999999999999999,-.1386050432715393,-.05804731615611886],[.9999999999999998,-.09601924202631895,-.8118918960560388]];var eE=new se({id:"jzazbz",name:"Jzazbz",coords:{jz:{refRange:[0,1],name:"Jz"},az:{refRange:[-.5,.5]},bz:{refRange:[-.5,.5]}},base:wv,fromBase(t){let[e,r,n]=t,i=ku*e-(ku-1)*n,s=Pu*r-(Pu-1)*e,a=We(DR,[i,s,n]).map(function(d){let g=D1+j1*(d/1e4)**N1,v=1+L1*(d/1e4)**N1;return(g/v)**NR}),[l,u,c]=We(LR,a);return[(1+Au)*l/(1+Au*l)-Nh,u,c]},toBase(t){let[e,r,n]=t,i=(e+Nh)/(1+Au-Au*(e+Nh)),o=We(BR,[i,r,n]).map(function(d){let g=D1-d**B1,v=L1*d**B1-j1;return 1e4*(g/v)**MR}),[a,l,u]=We(jR,o),c=(a+(ku-1)*u)/ku,f=(l+(Pu-1)*c)/Pu;return[c,f,u]},formats:{color:{}}}),Hg=new se({id:"jzczhz",name:"JzCzHz",coords:{jz:{refRange:[0,1],name:"Jz"},cz:{refRange:[0,1],name:"Chroma"},hz:{refRange:[0,360],type:"angle",name:"Hue"}},base:eE,fromBase(t){let[e,r,n]=t,i;const s=2e-4;return Math.abs(r)<s&&Math.abs(n)<s?i=NaN:i=Math.atan2(n,r)*180/Math.PI,[e,Math.sqrt(r**2+n**2),ff(i)]},toBase(t){return[t[0],t[1]*Math.cos(t[2]*Math.PI/180),t[1]*Math.sin(t[2]*Math.PI/180)]},formats:{color:{}}});function $R(t,e){let[r,n,i]=Hg.from(t),[s,o,a]=Hg.from(e),l=r-s,u=n-o;Number.isNaN(i)&&Number.isNaN(a)?(i=0,a=0):Number.isNaN(i)?i=a:Number.isNaN(a)&&(a=i);let c=i-a,f=2*Math.sqrt(n*o)*Math.sin(c/2*(Math.PI/180));return Math.sqrt(l**2+u**2+f**2)}const tE=3424/4096,rE=2413/128,nE=2392/128,$1=2610/16384,UR=2523/32,FR=16384/2610,U1=32/2523,qR=[[.3592,.6976,-.0358],[-.1922,1.1004,.0755],[.007,.0749,.8434]],HR=[[2048/4096,2048/4096,0],[6610/4096,-13613/4096,7003/4096],[17933/4096,-17390/4096,-543/4096]],zR=[[.9999888965628402,.008605050147287059,.11103437159861648],[1.00001110343716,-.008605050147287059,-.11103437159861648],[1.0000320633910054,.56004913547279,-.3206339100541203]],WR=[[2.0701800566956137,-1.326456876103021,.20661600684785517],[.3649882500326575,.6804673628522352,-.04542175307585323],[-.04959554223893211,-.04942116118675749,1.1879959417328034]];var zg=new se({id:"ictcp",name:"ICTCP",coords:{i:{refRange:[0,1],name:"I"},ct:{refRange:[-.5,.5],name:"CT"},cp:{refRange:[-.5,.5],name:"CP"}},base:wv,fromBase(t){let e=We(qR,t);return GR(e)},toBase(t){let e=VR(t);return We(WR,e)},formats:{color:{}}});function GR(t){let e=t.map(function(r){let n=tE+rE*(r/1e4)**$1,i=1+nE*(r/1e4)**$1;return(n/i)**UR});return We(HR,e)}function VR(t){return We(zR,t).map(function(n){let i=Math.max(n**U1-tE,0),s=rE-nE*n**U1;return 1e4*(i/s)**FR})}function QR(t,e){let[r,n,i]=zg.from(t),[s,o,a]=zg.from(e);return 720*Math.sqrt((r-s)**2+.25*(n-o)**2+(i-a)**2)}const KR=[[.8190224432164319,.3619062562801221,-.12887378261216414],[.0329836671980271,.9292868468965546,.03614466816999844],[.048177199566046255,.26423952494422764,.6335478258136937]],YR=[[1.2268798733741557,-.5578149965554813,.28139105017721583],[-.04057576262431372,1.1122868293970594,-.07171106666151701],[-.07637294974672142,-.4214933239627914,1.5869240244272418]],XR=[[.2104542553,.793617785,-.0040720468],[1.9779984951,-2.428592205,.4505937099],[.0259040371,.7827717662,-.808675766]],JR=[[.9999999984505198,.39633779217376786,.2158037580607588],[1.0000000088817609,-.10556134232365635,-.06385417477170591],[1.0000000546724108,-.08948418209496575,-1.2914855378640917]];var Vc=new se({id:"oklab",name:"Oklab",coords:{l:{refRange:[0,1],name:"L"},a:{refRange:[-.4,.4]},b:{refRange:[-.4,.4]}},white:"D65",base:sr,fromBase(t){let r=We(KR,t).map(n=>Math.cbrt(n));return We(XR,r)},toBase(t){let r=We(JR,t).map(n=>n**3);return We(YR,r)},formats:{oklab:{coords:["<percentage> | <number>","<number> | <percentage>[-1,1]","<number> | <percentage>[-1,1]"]}}});function ZR(t,e){let[r,n,i]=Vc.from(t),[s,o,a]=Vc.from(e),l=r-s,u=n-o,c=i-a;return Math.sqrt(l**2+u**2+c**2)}var Qc={deltaE76:IR,deltaECMC:RR,deltaE2000:Fg,deltaEJz:$R,deltaEITP:QR,deltaEOK:ZR};function ua(t,e,r={}){Gl(r)&&(r={method:r});let{method:n=Kr.deltaE,...i}=r;t=_e(t),e=_e(e);for(let s in Qc)if("deltae"+n.toLowerCase()===s.toLowerCase())return Qc[s](t,e,i);throw new TypeError(`Unknown deltaE method: ${n}`)}function e4(t,e=.25){let n=[se.get("oklch","lch"),"l"];return pi(t,n,i=>i*(1+e))}function t4(t,e=.25){let n=[se.get("oklch","lch"),"l"];return pi(t,n,i=>i*(1-e))}var r4=Object.freeze({__proto__:null,darken:t4,lighten:e4});function iE(t,e,r=.5,n={}){[t,e]=[_e(t),_e(e)],ui(r)==="object"&&([r,n]=[.5,r]);let{space:i,outputSpace:s,premultiplied:o}=n;return Ql(t,e,{space:i,outputSpace:s,premultiplied:o})(r)}function sE(t,e,r={}){let n;_v(t)&&([n,r]=[t,e],[t,e]=n.rangeArgs.colors);let{maxDeltaE:i,deltaEMethod:s,steps:o=2,maxSteps:a=1e3,...l}=r;n||([t,e]=[_e(t),_e(e)],n=Ql(t,e,l));let u=ua(t,e),c=i>0?Math.max(o,Math.ceil(u/i)+1):o,f=[];if(a!==void 0&&(c=Math.min(c,a)),c===1)f=[{p:.5,color:n(.5)}];else{let d=1/(c-1);f=Array.from({length:c},(g,v)=>{let b=v*d;return{p:b,color:n(b)}})}if(i>0){let d=f.reduce((g,v,b)=>{if(b===0)return 0;let w=ua(v.color,f[b-1].color,s);return Math.max(g,w)},0);for(;d>i;){d=0;for(let g=1;g<f.length&&f.length<a;g++){let v=f[g-1],b=f[g],w=(b.p+v.p)/2,m=n(w);d=Math.max(d,ua(m,v.color),ua(m,b.color)),f.splice(g,0,{p:w,color:n(w)}),g++}}}return f=f.map(d=>d.color),f}function Ql(t,e,r={}){if(_v(t)){let[l,u]=[t,e];return Ql(...l.rangeArgs.colors,{...l.rangeArgs.options,...u})}let{space:n,outputSpace:i,progression:s,premultiplied:o}=r;t=_e(t),e=_e(e),t=Ja(t),e=Ja(e);let a={colors:[t,e],options:r};if(n?n=se.get(n):n=se.registry[Kr.interpolationSpace]||t.space,i=i?se.get(i):n,t=nr(t,n),e=nr(e,n),t=mi(t),e=mi(e),n.coords.h&&n.coords.h.type==="angle"){let l=r.hue=r.hue||"shorter",u=[n,"h"],[c,f]=[or(t,u),or(e,u)];[c,f]=JO(l,[c,f]),pi(t,u,c),pi(e,u,f)}return o&&(t.coords=t.coords.map(l=>l*t.alpha),e.coords=e.coords.map(l=>l*e.alpha)),Object.assign(l=>{l=s?s(l):l;let u=t.coords.map((d,g)=>{let v=e.coords[g];return Hc(d,v,l)}),c=Hc(t.alpha,e.alpha,l),f={space:n,coords:u,alpha:c};return o&&(f.coords=f.coords.map(d=>d/c)),i!==n&&(f=nr(f,i)),f},{rangeArgs:a})}function _v(t){return ui(t)==="function"&&!!t.rangeArgs}Kr.interpolationSpace="lab";function n4(t){t.defineFunction("mix",iE,{returns:"color"}),t.defineFunction("range",Ql,{returns:"function<color>"}),t.defineFunction("steps",sE,{returns:"array<color>"})}var i4=Object.freeze({__proto__:null,isRange:_v,mix:iE,range:Ql,register:n4,steps:sE}),oE=new se({id:"hsl",name:"HSL",coords:{h:{refRange:[0,360],type:"angle",name:"Hue"},s:{range:[0,100],name:"Saturation"},l:{range:[0,100],name:"Lightness"}},base:Za,fromBase:t=>{let e=Math.max(...t),r=Math.min(...t),[n,i,s]=t,[o,a,l]=[NaN,0,(r+e)/2],u=e-r;if(u!==0){switch(a=l===0||l===1?0:(e-l)/Math.min(l,1-l),e){case n:o=(i-s)/u+(i<s?6:0);break;case i:o=(s-n)/u+2;break;case s:o=(n-i)/u+4}o=o*60}return[o,a*100,l*100]},toBase:t=>{let[e,r,n]=t;e=e%360,e<0&&(e+=360),r/=100,n/=100;function i(s){let o=(s+e/30)%12,a=r*Math.min(n,1-n);return n-a*Math.max(-1,Math.min(o-3,9-o,1))}return[i(0),i(8),i(4)]},formats:{hsl:{toGamut:!0,coords:["<number> | <angle>","<percentage>","<percentage>"]},hsla:{coords:["<number> | <angle>","<percentage>","<percentage>"],commas:!0,lastAlpha:!0}}}),aE=new se({id:"hsv",name:"HSV",coords:{h:{refRange:[0,360],type:"angle",name:"Hue"},s:{range:[0,100],name:"Saturation"},v:{range:[0,100],name:"Value"}},base:oE,fromBase(t){let[e,r,n]=t;r/=100,n/=100;let i=n+r*Math.min(n,1-n);return[e,i===0?0:200*(1-n/i),100*i]},toBase(t){let[e,r,n]=t;r/=100,n/=100;let i=n*(1-r/2);return[e,i===0||i===1?0:(n-i)/Math.min(i,1-i)*100,i*100]},formats:{color:{toGamut:!0}}}),s4=new se({id:"hwb",name:"HWB",coords:{h:{refRange:[0,360],type:"angle",name:"Hue"},w:{range:[0,100],name:"Whiteness"},b:{range:[0,100],name:"Blackness"}},base:aE,fromBase(t){let[e,r,n]=t;return[e,n*(100-r)/100,100-n]},toBase(t){let[e,r,n]=t;r/=100,n/=100;let i=r+n;if(i>=1){let a=r/i;return[e,0,a*100]}let s=1-n,o=s===0?0:1-r/s;return[e,o*100,s*100]},formats:{hwb:{toGamut:!0,coords:["<number> | <angle>","<percentage>","<percentage>"]}}});const o4=[[.5766690429101305,.1855582379065463,.1882286462349947],[.29734497525053605,.6273635662554661,.07529145849399788],[.02703136138641234,.07068885253582723,.9913375368376388]],a4=[[2.0415879038107465,-.5650069742788596,-.34473135077832956],[-.9692436362808795,1.8759675015077202,.04155505740717557],[.013444280632031142,-.11836239223101838,1.0151749943912054]];var lE=new Nt({id:"a98rgb-linear",name:"Linear Adobe 98 RGB compatible",white:"D65",toXYZ_M:o4,fromXYZ_M:a4}),l4=new Nt({id:"a98rgb",name:"Adobe 98 RGB compatible",base:lE,toBase:t=>t.map(e=>Math.pow(Math.abs(e),563/256)*Math.sign(e)),fromBase:t=>t.map(e=>Math.pow(Math.abs(e),256/563)*Math.sign(e)),formats:{color:{id:"a98-rgb"}}});const u4=[[.7977604896723027,.13518583717574031,.0313493495815248],[.2880711282292934,.7118432178101014,8565396060525902e-20],[0,0,.8251046025104601]],c4=[[1.3457989731028281,-.25558010007997534,-.05110628506753401],[-.5446224939028347,1.5082327413132781,.02053603239147973],[0,0,1.2119675456389454]];var uE=new Nt({id:"prophoto-linear",name:"Linear ProPhoto",white:"D50",base:vv,toXYZ_M:u4,fromXYZ_M:c4});const d4=1/512,f4=16/512;var h4=new Nt({id:"prophoto",name:"ProPhoto",base:uE,toBase(t){return t.map(e=>e<f4?e/16:e**1.8)},fromBase(t){return t.map(e=>e>=d4?e**(1/1.8):16*e)},formats:{color:{id:"prophoto-rgb"}}}),p4=new se({id:"oklch",name:"Oklch",coords:{l:{refRange:[0,1],name:"Lightness"},c:{refRange:[0,.4],name:"Chroma"},h:{refRange:[0,360],type:"angle",name:"Hue"}},white:"D65",base:Vc,fromBase(t){let[e,r,n]=t,i;const s=2e-4;return Math.abs(r)<s&&Math.abs(n)<s?i=NaN:i=Math.atan2(n,r)*180/Math.PI,[e,Math.sqrt(r**2+n**2),ff(i)]},toBase(t){let[e,r,n]=t,i,s;return isNaN(n)?(i=0,s=0):(i=r*Math.cos(n*Math.PI/180),s=r*Math.sin(n*Math.PI/180)),[e,i,s]},formats:{oklch:{coords:["<number> | <percentage>","<number> | <percentage>[0,1]","<number> | <angle>"]}}});const F1=203,q1=2610/2**14,m4=2**14/2610,g4=2523/2**5,H1=2**5/2523,z1=3424/2**12,W1=2413/2**7,G1=2392/2**7;var y4=new Nt({id:"rec2100pq",name:"REC.2100-PQ",base:hf,toBase(t){return t.map(function(e){return(Math.max(e**H1-z1,0)/(W1-G1*e**H1))**m4*1e4/F1})},fromBase(t){return t.map(function(e){let r=Math.max(e*F1/1e4,0),n=z1+W1*r**q1,i=1+G1*r**q1;return(n/i)**g4})},formats:{color:{id:"rec2100-pq"}}});const V1=.17883277,Q1=.28466892,K1=.55991073,Dh=3.7743;var v4=new Nt({id:"rec2100hlg",cssid:"rec2100-hlg",name:"REC.2100-HLG",referred:"scene",base:hf,toBase(t){return t.map(function(e){return e<=.5?e**2/3*Dh:(Math.exp((e-K1)/V1)+Q1)/12*Dh})},fromBase(t){return t.map(function(e){return e/=Dh,e<=1/12?Math.sqrt(3*e):V1*Math.log(12*e-Q1)+K1})},formats:{color:{id:"rec2100-hlg"}}});const cE={};hi.add("chromatic-adaptation-start",t=>{t.options.method&&(t.M=dE(t.W1,t.W2,t.options.method))});hi.add("chromatic-adaptation-end",t=>{t.M||(t.M=dE(t.W1,t.W2,t.options.method))});function pf({id:t,toCone_M:e,fromCone_M:r}){cE[t]=arguments[0]}function dE(t,e,r="Bradford"){let n=cE[r],[i,s,o]=We(n.toCone_M,t),[a,l,u]=We(n.toCone_M,e),c=[[a/i,0,0],[0,l/s,0],[0,0,u/o]],f=We(c,n.toCone_M);return We(n.fromCone_M,f)}pf({id:"von Kries",toCone_M:[[.40024,.7076,-.08081],[-.2263,1.16532,.0457],[0,0,.91822]],fromCone_M:[[1.8599364,-1.1293816,.2198974],[.3611914,.6388125,-64e-7],[0,0,1.0890636]]});pf({id:"Bradford",toCone_M:[[.8951,.2664,-.1614],[-.7502,1.7135,.0367],[.0389,-.0685,1.0296]],fromCone_M:[[.9869929,-.1470543,.1599627],[.4323053,.5183603,.0492912],[-.0085287,.0400428,.9684867]]});pf({id:"CAT02",toCone_M:[[.7328,.4296,-.1624],[-.7036,1.6975,.0061],[.003,.0136,.9834]],fromCone_M:[[1.0961238,-.278869,.1827452],[.454369,.4735332,.0720978],[-.0096276,-.005698,1.0153256]]});pf({id:"CAT16",toCone_M:[[.401288,.650173,-.051461],[-.250268,1.204414,.045854],[-.002079,.048952,.953127]],fromCone_M:[[1.862067855087233,-1.011254630531685,.1491867754444518],[.3875265432361372,.6214474419314753,-.008973985167612518],[-.01584149884933386,-.03412293802851557,1.04996443687785]]});Object.assign(Er,{A:[1.0985,1,.35585],C:[.98074,1,1.18232],D55:[.95682,1,.92149],D75:[.94972,1,1.22638],E:[1,1,1],F2:[.99186,1,.67393],F7:[.95041,1,1.08747],F11:[1.00962,1,.6435]});Er.ACES=[.32168/.33767,1,(1-.32168-.33767)/.33767];const w4=[[.6624541811085053,.13400420645643313,.1561876870049078],[.27222871678091454,.6740817658111484,.05368951740793705],[-.005574649490394108,.004060733528982826,1.0103391003129971]],_4=[[1.6410233796943257,-.32480329418479,-.23642469523761225],[-.6636628587229829,1.6153315916573379,.016756347685530137],[.011721894328375376,-.008284441996237409,.9883948585390215]];var fE=new Nt({id:"acescg",name:"ACEScg",coords:{r:{range:[0,65504],name:"Red"},g:{range:[0,65504],name:"Green"},b:{range:[0,65504],name:"Blue"}},referred:"scene",white:Er.ACES,toXYZ_M:w4,fromXYZ_M:_4,formats:{color:{}}});const Iu=2**-16,jh=-.35828683,Ou=(Math.log2(65504)+9.72)/17.52;var b4=new Nt({id:"acescc",name:"ACEScc",coords:{r:{range:[jh,Ou],name:"Red"},g:{range:[jh,Ou],name:"Green"},b:{range:[jh,Ou],name:"Blue"}},referred:"scene",base:fE,toBase(t){const e=-.3013698630136986;return t.map(function(r){return r<=e?(2**(r*17.52-9.72)-Iu)*2:r<Ou?2**(r*17.52-9.72):65504})},fromBase(t){return t.map(function(e){return e<=0?(Math.log2(Iu)+9.72)/17.52:e<Iu?(Math.log2(Iu+e*.5)+9.72)/17.52:(Math.log2(e)+9.72)/17.52})},formats:{color:{}}}),Y1=Object.freeze({__proto__:null,A98RGB:l4,A98RGB_Linear:lE,ACEScc:b4,ACEScg:fE,HSL:oE,HSV:aE,HWB:s4,ICTCP:zg,JzCzHz:Hg,Jzazbz:eE,LCH:Xa,Lab:qt,Lab_D65:qg,OKLCH:p4,OKLab:Vc,P3:K5,P3_Linear:V5,ProPhoto:h4,ProPhoto_Linear:uE,REC_2020:G5,REC_2020_Linear:hf,REC_2100_HLG:v4,REC_2100_PQ:y4,XYZ_ABS_D65:wv,XYZ_D50:vv,XYZ_D65:sr,sRGB:Za,sRGB_Linear:Q5});class Se{constructor(...e){let r;e.length===1&&(r=_e(e[0]));let n,i,s;r?(n=r.space||r.spaceId,i=r.coords,s=r.alpha):[n,i,s]=e,Object.defineProperty(this,"space",{value:se.get(n),writable:!1,enumerable:!0,configurable:!0}),this.coords=i?i.slice():[0,0,0],this.alpha=s<1?s:1;for(let o=0;o<this.coords.length;o++)this.coords[o]==="NaN"&&(this.coords[o]=NaN);for(let o in this.space.coords)Object.defineProperty(this,o,{get:()=>this.get(o),set:a=>this.set(o,a)})}get spaceId(){return this.space.id}clone(){return new Se(this.space,this.coords,this.alpha)}toJSON(){return{spaceId:this.spaceId,coords:this.coords,alpha:this.alpha}}display(...e){let r=oR(this,...e);return r.color=new Se(r.color),r}static get(e,...r){return e instanceof Se?e:new Se(e,...r)}static defineFunction(e,r,n=r){let{instance:i=!0,returns:s}=n,o=function(...a){let l=r(...a);if(s==="color")l=Se.get(l);else if(s==="function<color>"){let u=l;l=function(...c){let f=u(...c);return Se.get(f)},Object.assign(l,u)}else s==="array<color>"&&(l=l.map(u=>Se.get(u)));return l};e in Se||(Se[e]=o),i&&(Se.prototype[e]=function(...a){return o(this,...a)})}static defineFunctions(e){for(let r in e)Se.defineFunction(r,e[r],e[r])}static extend(e){if(e.register)e.register(Se);else for(let r in e)Se.defineFunction(r,e[r])}}Se.defineFunctions({get:or,getAll:Vl,set:pi,setAll:W5,to:nr,equals:aR,inGamut:_a,toGamut:mi,distance:Y5,toString:Gc});Object.assign(Se,{util:VO,hooks:hi,WHITES:Er,Space:se,spaces:se.registry,parse:z5,defaults:Kr});for(let t of Object.keys(Y1))se.register(Y1[t]);for(let t in se.registry)Wg(t,se.registry[t]);hi.add("colorspace-init-end",t=>{var e;Wg(t.id,t),(e=t.aliases)==null||e.forEach(r=>{Wg(r,t)})});function Wg(t,e){Object.keys(e.coords),Object.values(e.coords).map(n=>n.name);let r=t.replace(/-/g,"_");Object.defineProperty(Se.prototype,r,{get(){let n=this.getAll(t);return typeof Proxy>"u"?n:new Proxy(n,{has:(i,s)=>{try{return se.resolveCoord([e,s]),!0}catch{}return Reflect.has(i,s)},get:(i,s,o)=>{if(s&&typeof s!="symbol"&&!(s in i)){let{index:a}=se.resolveCoord([e,s]);if(a>=0)return i[a]}return Reflect.get(i,s,o)},set:(i,s,o,a)=>{if(s&&typeof s!="symbol"&&!(s in i)||s>=0){let{index:l}=se.resolveCoord([e,s]);if(l>=0)return i[l]=o,this.setAll(t,i),!0}return Reflect.set(i,s,o,a)}})},set(n){this.setAll(t,n)},configurable:!0,enumerable:!0})}Se.extend(Qc);Se.extend({deltaE:ua});Object.assign(Se,{deltaEMethods:Qc});Se.extend(r4);Se.extend({contrast:kR});Se.extend(AR);Se.extend(uR);Se.extend(i4);Se.extend(rc);class el extends Se{static light(e){return new Se(this._generateAccessibleColor(e,"black")).toString({format:"hex"})}static dark(e){return new Se(this._generateAccessibleColor(e,"white")).toString({format:"hex"})}static accessibleBackground(e){const r=this._contrast("black",e),n=this._contrast("white",e);return r>n?"black":"white"}static accessibleForeground(e){const r=this._contrast(e,"black"),n=this._contrast(e,"white");return r>n?"black":"white"}static _generateAccessibleColor(e,r){let n=e;const i=this.steps(e,r==="black"?"white":"black",{space:"hsv",outputSpace:"srgb",steps:9});for(const s of i)if(this._contrast(r,s)>75){n=s;break}return n}static _contrast(e,r){return Math.abs(this.contrastAPCA(e,r))}}const X1=60,Ru=20;function x4({broadcaster:t,staticPosition:e,platform:r}){const[n,i]=I.useState(!1);return I.useEffect(()=>{setTimeout(()=>{i(!0)},3.5*1e3)},[]),n?null:_.jsx(pv,{status:"success",staticPosition:e,className:"slime2-banner-fade",children:_.jsxs("div",{className:"flex items-center justify-center",children:["Connected to",_.jsx("a",{href:t.url,target:"_blank",children:_.jsx(S4,{image:t.image,platform:r})}),t.displayName]})})}function S4({image:t,platform:e}){const[r,n]=I.useState(!1);function i(){n(!0)}return r?_.jsx("img",{src:`https://slime2.stream/assets/${e}-logo.svg`,height:Ru,width:Ru,alt:"Stream Platform Logo",className:"mx-3 inline-block"}):_.jsxs("div",{className:"relative mx-3 inline-block",children:[_.jsx("img",{src:t,alt:"Your Profile Picture",width:X1,height:X1,className:"inline rounded-full",onError:i}),_.jsx("img",{src:`https://slime2.stream/assets/${e}-logo.svg`,height:Ru,width:Ru,alt:"Stream Platform Logo",className:"absolute -bottom-px -right-1"})]})}function mf(){const t=I.useContext(pE);function e(r){return!!t[r]}return{isPlatformReady:e}}function C4(){const t=I.useContext(mE);function e(r){t({type:r})}return{setPlatformReady:e}}const hE={},pE=I.createContext(hE),mE=I.createContext(ms);function E4(t,e){switch(e.type){case"twitch":return{...t,twitch:!0};case"youtube":return{...t,youtube:!0}}}function gE(){return I.useContext(vE)}function bv(){const t=I.useContext(wE),e=gE(),r=vn(),{maxEvents:n,eventDelay:i}=r;function s(u,c){t({type:"remove",eventType:u,eventId:c})}function o(u){const c=[...e],f=e.length+1-(n||100);for(let g=0;g<f;g++){const v=c.shift();v&&s(v.type,v.id)}function d(){t({type:"add",event:{...u,renderable:!0,remove:()=>s(u.type,u.id)}})}i?setTimeout(d,i):d()}function a(u){t({type:"remove-user",userId:u})}function l(){t({type:"clear-messages"})}return{removeEvent:s,addEvent:o,removeUser:a,removeMessages:l}}const yE=[],vE=I.createContext(yE),wE=I.createContext(ms);function T4(t,e){switch(e.type){case"add":return[...t,e.event];case"remove":return t.filter(r=>r.type!==e.eventType||r.id!==e.eventId);case"remove-user":return t.filter(r=>r.userId!==e.userId);case"clear-messages":return t.filter(r=>r.type!=="message")}}var Gg=function(t,e){return Gg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},Gg(t,e)};function jo(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Gg(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var as=function(){return as=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},as.apply(this,arguments)};function C(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s}function Pr(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(c){try{u(n.next(c))}catch(f){o(f)}}function l(c){try{u(n.throw(c))}catch(f){o(f)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((n=n.apply(t,e||[])).next())})}function ar(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(c){return l([u,c])}}function l(u){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(r=0)),r;)try{if(n=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){r.label=u[1];break}if(u[0]===6&&r.label<s[1]){r.label=s[1],s=u;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(u);break}s[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(c){u=[6,c],i=0}finally{n=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function nc(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function wn(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return s}function yi(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,s;n<i;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return t.concat(s||Array.prototype.slice.call(e))}const gf=Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]";var kn,re;(function(t){t[t.CRITICAL=0]="CRITICAL",t[t.ERROR=1]="ERROR",t[t.WARNING=2]="WARNING",t[t.INFO=3]="INFO",t[t.DEBUG=4]="DEBUG",t[t.TRACE=7]="TRACE"})(re||(re={}));function xv(t){if(typeof t=="number"){if(Object.prototype.hasOwnProperty.call(re,t))return t;var e=Object.keys(re).map(function(n){return parseInt(n,10)}).filter(function(n){return!isNaN(n)&&n<t});return e.length?Math.max.apply(Math,e):re.WARNING}var r=t.replace(/\d+$/,"").toUpperCase();if(!Object.prototype.hasOwnProperty.call(re,r))throw new Error("Unknown log level string: ".concat(t));return re[r]}var k4=gf?console.log.bind(console):console.debug.bind(console),_E=(kn={},kn[re.CRITICAL]=console.error.bind(console),kn[re.ERROR]=console.error.bind(console),kn[re.WARNING]=console.warn.bind(console),kn[re.INFO]=console.info.bind(console),kn[re.DEBUG]=k4.bind(console),kn[re.TRACE]=console.trace.bind(console),kn);function Y(t){return t===void 0&&(t=!0),function(e,r){Object.defineProperty(e,r,{get:function(){},set:function(n){Object.defineProperty(this,r,{value:n,writable:!0,enumerable:t})},enumerable:t})}}function J1(t){var e;return(e=[]).concat.apply(e,yi([],wn(t),!1))}function Vg(t){return Pr(this,void 0,Promise,function(){return ar(this,function(e){switch(e.label){case 0:return typeof t!="function"?[3,2]:[4,t()];case 1:return[2,e.sent()];case 2:return[2,t]}})})}function P4(t){return typeof t=="function"?t():t}function bE(t){var e,r,n;return ar(this,function(i){switch(i.label){case 0:e=0,r=1,i.label=1;case 1:return e<t?[4,e]:[3,3];case 2:return i.sent(),n=wn([r,e+r],2),e=n[0],r=n[1],[3,1];case 3:return[4,t];case 4:return i.sent(),[3,3];case 5:return[2]}})}function ca(t,e){return Object.assign.apply(Object,yi([{}],wn(t.map(e)),!1))}function Qg(t,e){Object.entries(t).forEach(function(r){var n=wn(r,2),i=n[0],s=n[1];return e(s,i)})}function xE(t,e){if(typeof e!="function"){var r=e;e=function(n){return n[r].toString()}}return ca(t,function(n){var i;return i={},i[e(n)]=n,i})}function SE(t){return t==null}function hr(t,e){return SE(t)?null:e(t)}function Yr(t,e){return SE(t)?void 0:e(t)}function A4(t){return Pr(this,void 0,Promise,function(){return ar(this,function(e){switch(e.label){case 0:return[4,new Promise(function(r){return setTimeout(r,t)})];case 1:return e.sent(),[2]}})})}function tl(){var t,e,r=new Promise(function(n,i){t=n,e=i});return{promise:r,resolve:t,reject:e}}function I4(t,e,r){if(typeof t=="number"&&(t=t.toString()),e=e-t.length,e<=0)return t;r===void 0&&(r=" ");var n="";do(e&1)===1&&(n+=r),e>>=1,e&&(r+=r);while(e);return n+t}function Ji(t,e,r){var n=t.split(e);return n.length<=r?n:yi(yi([],wn(n.slice(0,r-1)),!1),[n.slice(r-1).join(e)],!1)}function CE(t){return yi([],wn(t),!1).length}function Kg(t,e,r){return yi([],wn(t),!1).slice(e,r).join("")}var Lh,Bh,Kc=typeof process>"u"?[]:(Bh=(Lh={}.LOGGING)===null||Lh===void 0?void 0:Lh.split(";").map(function(t){var e=t.split("=",2),r=e[0],n=e[1];return n?[r==="default"?void 0:r.split(":"),xv(n)]:null}).filter(function(t){return!!t}).sort(function(t,e){var r,n,i=t[0],s=e[0];return((r=s==null?void 0:s.length)!==null&&r!==void 0?r:0)-((n=i==null?void 0:i.length)!==null&&n!==void 0?n:0)}))!==null&&Bh!==void 0?Bh:[],$h=Kc.findIndex(function(t){var e=t[0];return!e}),EE=void 0;$h!==-1&&(EE=Kc[$h][1],Kc.splice($h));function O4(t,e){return e.length<=t.length&&e.every(function(r,n){return r===t[n]})}function TE(t){for(var e=t.split(":"),r=0,n=Kc;r<n.length;r++){var i=n[r],s=i[0],o=i[1];if(O4(e,s))return o}return EE}var kE=function(){function t(e){var r=e.name,n=e.minLevel,i=e.emoji,s=i===void 0?!1:i,o=e.colors,a=e.timestamps,l=a===void 0?gf:a,u,c;this._name=r,this._minLevel=(c=(u=Yr(n,function(f){return xv(f)}))!==null&&u!==void 0?u:TE(r))!==null&&c!==void 0?c:re.WARNING,this._emoji=s,this._colors=o,this._timestamps=l}return t.prototype.crit=function(e){this.log(re.CRITICAL,e)},t.prototype.error=function(e){this.log(re.ERROR,e)},t.prototype.warn=function(e){this.log(re.WARNING,e)},t.prototype.info=function(e){this.log(re.INFO,e)},t.prototype.debug=function(e){this.log(re.DEBUG,e)},t.prototype.trace=function(e){this.log(re.TRACE,e)},t}(),R4=function(t){jo(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.log=function(r,n){if(!(r>this._minLevel)){var i=_E[r],s="[".concat(this._name,"] ").concat(n);this._timestamps&&(s="[".concat(new Date().toISOString(),"] ").concat(n)),i(s)}},e}(kE),M4=function(){function t(e){var r=e.name,n=e.minLevel,i=e.custom,s;this._minLevel=(s=Yr(n,function(o){return xv(o)}))!==null&&s!==void 0?s:TE(r),this._override=typeof i=="function"?{log:i}:i}return t.prototype.log=function(e,r){this._shouldLog(e)&&this._override.log(e,r)},t.prototype.crit=function(e){this._override.crit?this._shouldLog(re.CRITICAL)&&this._override.crit(e):this.log(re.CRITICAL,e)},t.prototype.error=function(e){this._override.error?this._shouldLog(re.ERROR)&&this._override.error(e):this.log(re.ERROR,e)},t.prototype.warn=function(e){this._override.warn?this._shouldLog(re.WARNING)&&this._override.warn(e):this.log(re.WARNING,e)},t.prototype.info=function(e){this._override.info?this._shouldLog(re.INFO)&&this._override.info(e):this.log(re.INFO,e)},t.prototype.debug=function(e){this._override.debug?this._shouldLog(re.DEBUG)&&this._override.debug(e):this.log(re.DEBUG,e)},t.prototype.trace=function(e){this._override.trace?this._shouldLog(re.TRACE)&&this._override.trace(e):this.log(re.TRACE,e)},t.prototype._shouldLog=function(e){return this._minLevel===void 0||this._minLevel>=e},t}(),Pn,An,In,N4=(Pn={},Pn[re.CRITICAL]="",Pn[re.ERROR]="",Pn[re.WARNING]=" ",Pn[re.INFO]=" ",Pn[re.DEBUG]="",Pn[re.TRACE]="",Pn),D4={black:30,red:31,green:32,yellow:33,blue:34,magenta:35,cyan:36,white:37,blackBright:90,redBright:91,greenBright:92,yellowBright:93,blueBright:94,magentaBright:95,cyanBright:96,whiteBright:97},j4={bgBlack:40,bgRed:41,bgGreen:42,bgYellow:43,bgBlue:44,bgMagenta:45,bgCyan:46,bgWhite:47,bgBlackBright:100,bgRedBright:101,bgGreenBright:102,bgYellowBright:103,bgBlueBright:104,bgMagentaBright:105,bgCyanBright:106,bgWhiteBright:107};function yf(t,e,r){return function(n){return"\x1B[".concat(t,"m").concat(r?r(n):n,"\x1B[").concat(e,"m")}}function Wr(t){return yf(D4[t],39)}function Zo(t,e){return yf(j4[t],49,e)}var L4=(An={},An[re.CRITICAL]=Wr("red"),An[re.ERROR]=Wr("redBright"),An[re.WARNING]=Wr("yellow"),An[re.INFO]=Wr("blue"),An[re.DEBUG]=Wr("magenta"),An[re.TRACE]=yf(0,0),An),Z1=(In={},In[re.CRITICAL]=Zo("bgRed",Wr("white")),In[re.ERROR]=Zo("bgRedBright",Wr("white")),In[re.WARNING]=Zo("bgYellow",Wr("black")),In[re.INFO]=Zo("bgBlue",Wr("white")),In[re.DEBUG]=Zo("bgMagenta",Wr("black")),In[re.TRACE]=yf(7,27),In),B4=function(t){jo(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.log=function(r,n){var i,s,o;if(!(r>this._minLevel)){var a=_E[r],l="";if(this._timestamps&&(l+="[".concat(new Date().toISOString(),"] ")),this._emoji){var u=N4[r];l+="".concat(u," ")}var c=(o=(i=this._colors)!==null&&i!==void 0?i:(s=process.stdout)===null||s===void 0?void 0:s.isTTY)!==null&&o!==void 0?o:!0;c?l+="".concat(Z1[r](this._name)," ").concat(Z1[r](re[r])," ").concat(L4[r](n)):l+="[".concat(this._name,":").concat(re[r].toLowerCase(),"] ").concat(n),a(l)}},e}(kE);function Lo(t){return t.custom?new M4(t):gf?new B4(t):new R4(t)}var PE=function(t){jo(e,t);function e(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var i=this.constructor,s=this,o;return s=t.apply(this,yi([],wn(r),!1))||this,Object.setPrototypeOf(s,i.prototype),(o=Error.captureStackTrace)===null||o===void 0||o.call(Error,s,i.constructor),s}return Object.defineProperty(e.prototype,"name",{get:function(){return this.constructor.name},enumerable:!1,configurable:!0}),e}(Error),eb=function(t){jo(e,t);function e(r){var n=t.call(this,"Need to retry after ".concat(r," ms"))||this;return n._retryAt=Date.now()+r,n}return Object.defineProperty(e.prototype,"retryAt",{get:function(){return this._retryAt},enumerable:!1,configurable:!0}),e}(PE),Sv=function(t){jo(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(PE),AE={exports:{}},IE={exports:{}},$4="Function.prototype.bind called on incompatible ",U4=Object.prototype.toString,F4=Math.max,q4="[object Function]",tb=function(e,r){for(var n=[],i=0;i<e.length;i+=1)n[i]=e[i];for(var s=0;s<r.length;s+=1)n[s+e.length]=r[s];return n},H4=function(e,r){for(var n=[],i=r||0,s=0;i<e.length;i+=1,s+=1)n[s]=e[i];return n},z4=function(t,e){for(var r="",n=0;n<t.length;n+=1)r+=t[n],n+1<t.length&&(r+=e);return r},W4=function(e){var r=this;if(typeof r!="function"||U4.apply(r)!==q4)throw new TypeError($4+r);for(var n=H4(arguments,1),i,s=function(){if(this instanceof i){var c=r.apply(this,tb(n,arguments));return Object(c)===c?c:this}return r.apply(e,tb(n,arguments))},o=F4(0,r.length-n.length),a=[],l=0;l<o;l++)a[l]="$"+l;if(i=Function("binder","return function ("+z4(a,",")+"){ return binder.apply(this,arguments); }")(s),r.prototype){var u=function(){};u.prototype=r.prototype,i.prototype=new u,u.prototype=null}return i},G4=W4,Cv=Function.prototype.bind||G4,Uh,rb;function Ev(){return rb||(rb=1,Uh=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;e[r]=i;for(r in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var s=Object.getOwnPropertySymbols(e);if(s.length!==1||s[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var o=Object.getOwnPropertyDescriptor(e,r);if(o.value!==i||o.enumerable!==!0)return!1}return!0}),Uh}var Fh,nb;function Tv(){if(nb)return Fh;nb=1;var t=typeof Symbol<"u"&&Symbol,e=Ev();return Fh=function(){return typeof t!="function"||typeof Symbol!="function"||typeof t("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:e()},Fh}var qh,ib;function OE(){if(ib)return qh;ib=1;var t={foo:{}},e=Object;return qh=function(){return{__proto__:t}.foo===t.foo&&!({__proto__:null}instanceof e)},qh}var Hh,sb;function Ei(){if(sb)return Hh;sb=1;var t=Function.prototype.call,e=Object.prototype.hasOwnProperty,r=Cv;return Hh=r.call(t,e),Hh}var zh,ob;function he(){if(ob)return zh;ob=1;var t,e=SyntaxError,r=Function,n=TypeError,i=function(ne){try{return r('"use strict"; return ('+ne+").constructor;")()}catch{}},s=Object.getOwnPropertyDescriptor;if(s)try{s({},"")}catch{s=null}var o=function(){throw new n},a=s?function(){try{return arguments.callee,o}catch{try{return s(arguments,"callee").get}catch{return o}}}():o,l=Tv()(),u=OE()(),c=Object.getPrototypeOf||(u?function(ne){return ne.__proto__}:null),f={},d=typeof Uint8Array>"u"||!c?t:c(Uint8Array),g={"%AggregateError%":typeof AggregateError>"u"?t:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?t:ArrayBuffer,"%ArrayIteratorPrototype%":l&&c?c([][Symbol.iterator]()):t,"%AsyncFromSyncIteratorPrototype%":t,"%AsyncFunction%":f,"%AsyncGenerator%":f,"%AsyncGeneratorFunction%":f,"%AsyncIteratorPrototype%":f,"%Atomics%":typeof Atomics>"u"?t:Atomics,"%BigInt%":typeof BigInt>"u"?t:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?t:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?t:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?t:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?t:Float32Array,"%Float64Array%":typeof Float64Array>"u"?t:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?t:FinalizationRegistry,"%Function%":r,"%GeneratorFunction%":f,"%Int8Array%":typeof Int8Array>"u"?t:Int8Array,"%Int16Array%":typeof Int16Array>"u"?t:Int16Array,"%Int32Array%":typeof Int32Array>"u"?t:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":l&&c?c(c([][Symbol.iterator]())):t,"%JSON%":typeof JSON=="object"?JSON:t,"%Map%":typeof Map>"u"?t:Map,"%MapIteratorPrototype%":typeof Map>"u"||!l||!c?t:c(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?t:Promise,"%Proxy%":typeof Proxy>"u"?t:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?t:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?t:Set,"%SetIteratorPrototype%":typeof Set>"u"||!l||!c?t:c(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?t:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":l&&c?c(""[Symbol.iterator]()):t,"%Symbol%":l?Symbol:t,"%SyntaxError%":e,"%ThrowTypeError%":a,"%TypedArray%":d,"%TypeError%":n,"%Uint8Array%":typeof Uint8Array>"u"?t:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?t:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?t:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?t:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?t:WeakMap,"%WeakRef%":typeof WeakRef>"u"?t:WeakRef,"%WeakSet%":typeof WeakSet>"u"?t:WeakSet};if(c)try{null.error}catch(ne){var v=c(c(ne));g["%Error.prototype%"]=v}var b=function ne(Z){var P;if(Z==="%AsyncFunction%")P=i("async function () {}");else if(Z==="%GeneratorFunction%")P=i("function* () {}");else if(Z==="%AsyncGeneratorFunction%")P=i("async function* () {}");else if(Z==="%AsyncGenerator%"){var N=ne("%AsyncGeneratorFunction%");N&&(P=N.prototype)}else if(Z==="%AsyncIteratorPrototype%"){var W=ne("%AsyncGenerator%");W&&c&&(P=c(W.prototype))}return g[Z]=P,P},w={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},m=Cv,p=Ei(),y=m.call(Function.call,Array.prototype.concat),x=m.call(Function.apply,Array.prototype.splice),S=m.call(Function.call,String.prototype.replace),k=m.call(Function.call,String.prototype.slice),R=m.call(Function.call,RegExp.prototype.exec),O=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,U=/\\(\\)?/g,G=function(Z){var P=k(Z,0,1),N=k(Z,-1);if(P==="%"&&N!=="%")throw new e("invalid intrinsic syntax, expected closing `%`");if(N==="%"&&P!=="%")throw new e("invalid intrinsic syntax, expected opening `%`");var W=[];return S(Z,O,function(ie,L,B,K){W[W.length]=B?S(K,U,"$1"):L||ie}),W},ee=function(Z,P){var N=Z,W;if(p(w,N)&&(W=w[N],N="%"+W[0]+"%"),p(g,N)){var ie=g[N];if(ie===f&&(ie=b(N)),typeof ie>"u"&&!P)throw new n("intrinsic "+Z+" exists, but is not available. Please file an issue!");return{alias:W,name:N,value:ie}}throw new e("intrinsic "+Z+" does not exist!")};return zh=function(Z,P){if(typeof Z!="string"||Z.length===0)throw new n("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof P!="boolean")throw new n('"allowMissing" argument must be a boolean');if(R(/^%?[^%]*%?$/,Z)===null)throw new e("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var N=G(Z),W=N.length>0?N[0]:"",ie=ee("%"+W+"%",P),L=ie.name,B=ie.value,K=!1,ae=ie.alias;ae&&(W=ae[0],x(N,y([0,1],ae)));for(var de=1,Qe=!0;de<N.length;de+=1){var Ne=N[de],gt=k(Ne,0,1),yt=k(Ne,-1);if((gt==='"'||gt==="'"||gt==="`"||yt==='"'||yt==="'"||yt==="`")&&gt!==yt)throw new e("property names with quotes must have matching quotes");if((Ne==="constructor"||!Qe)&&(K=!0),W+="."+Ne,L="%"+W+"%",p(g,L))B=g[L];else if(B!=null){if(!(Ne in B)){if(!P)throw new n("base intrinsic for "+Z+" exists, but the property is not available.");return}if(s&&de+1>=N.length){var gr=s(B,Ne);Qe=!!gr,Qe&&"get"in gr&&!("originalValue"in gr.get)?B=gr.get:B=B[Ne]}else Qe=p(B,Ne),B=B[Ne];Qe&&!K&&(g[L]=B)}}return B},zh}var V4=he(),Yg=V4("%Object.defineProperty%",!0),Xg=function(){if(Yg)try{return Yg({},"a",{value:1}),!0}catch{return!1}return!1};Xg.hasArrayLengthDefineBug=function(){if(!Xg())return null;try{return Yg([],"length",{value:1}).length!==1}catch{return!0}};var vf=Xg,Q4=he(),ic=Q4("%Object.getOwnPropertyDescriptor%",!0);if(ic)try{ic([],"length")}catch{ic=null}var kv=ic,K4=vf(),Pv=he(),ba=K4&&Pv("%Object.defineProperty%",!0);if(ba)try{ba({},"a",{value:1})}catch{ba=!1}var Y4=Pv("%SyntaxError%"),Ss=Pv("%TypeError%"),ab=kv,RE=function(e,r,n){if(!e||typeof e!="object"&&typeof e!="function")throw new Ss("`obj` must be an object or a function`");if(typeof r!="string"&&typeof r!="symbol")throw new Ss("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new Ss("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new Ss("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new Ss("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new Ss("`loose`, if provided, must be a boolean");var i=arguments.length>3?arguments[3]:null,s=arguments.length>4?arguments[4]:null,o=arguments.length>5?arguments[5]:null,a=arguments.length>6?arguments[6]:!1,l=!!ab&&ab(e,r);if(ba)ba(e,r,{configurable:o===null&&l?l.configurable:!o,enumerable:i===null&&l?l.enumerable:!i,value:n,writable:s===null&&l?l.writable:!s});else if(a||!i&&!s&&!o)e[r]=n;else throw new Y4("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},ME=he(),lb=RE,X4=vf(),ub=kv,cb=ME("%TypeError%"),J4=ME("%Math.floor%"),Z4=function(e,r){if(typeof e!="function")throw new cb("`fn` is not a function");if(typeof r!="number"||r<0||r>4294967295||J4(r)!==r)throw new cb("`length` must be a positive 32-bit integer");var n=arguments.length>2&&!!arguments[2],i=!0,s=!0;if("length"in e&&ub){var o=ub(e,"length");o&&!o.configurable&&(i=!1),o&&!o.writable&&(s=!1)}return(i||s||!n)&&(X4?lb(e,"length",r,!0,!0):lb(e,"length",r)),e};(function(t){var e=Cv,r=he(),n=Z4,i=r("%TypeError%"),s=r("%Function.prototype.apply%"),o=r("%Function.prototype.call%"),a=r("%Reflect.apply%",!0)||e.call(o,s),l=r("%Object.defineProperty%",!0),u=r("%Math.max%");if(l)try{l({},"a",{value:1})}catch{l=null}t.exports=function(d){if(typeof d!="function")throw new i("a function is required");var g=a(e,o,arguments);return n(g,1+u(0,d.length-(arguments.length-1)),!0)};var c=function(){return a(e,s,arguments)};l?l(t.exports,"apply",{value:c}):t.exports.apply=c})(IE);var Kl=IE.exports,db=Object.prototype.toString,NE=function(e){var r=db.call(e),n=r==="[object Arguments]";return n||(n=r!=="[object Array]"&&e!==null&&typeof e=="object"&&typeof e.length=="number"&&e.length>=0&&db.call(e.callee)==="[object Function]"),n},Wh,fb;function eM(){if(fb)return Wh;fb=1;var t;if(!Object.keys){var e=Object.prototype.hasOwnProperty,r=Object.prototype.toString,n=NE,i=Object.prototype.propertyIsEnumerable,s=!i.call({toString:null},"toString"),o=i.call(function(){},"prototype"),a=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],l=function(d){var g=d.constructor;return g&&g.prototype===d},u={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},c=function(){if(typeof window>"u")return!1;for(var d in window)try{if(!u["$"+d]&&e.call(window,d)&&window[d]!==null&&typeof window[d]=="object")try{l(window[d])}catch{return!0}}catch{return!0}return!1}(),f=function(d){if(typeof window>"u"||!c)return l(d);try{return l(d)}catch{return!1}};t=function(g){var v=g!==null&&typeof g=="object",b=r.call(g)==="[object Function]",w=n(g),m=v&&r.call(g)==="[object String]",p=[];if(!v&&!b&&!w)throw new TypeError("Object.keys called on a non-object");var y=o&&b;if(m&&g.length>0&&!e.call(g,0))for(var x=0;x<g.length;++x)p.push(String(x));if(w&&g.length>0)for(var S=0;S<g.length;++S)p.push(String(S));else for(var k in g)!(y&&k==="prototype")&&e.call(g,k)&&p.push(String(k));if(s)for(var R=f(g),O=0;O<a.length;++O)!(R&&a[O]==="constructor")&&e.call(g,a[O])&&p.push(a[O]);return p}}return Wh=t,Wh}var tM=Array.prototype.slice,rM=NE,hb=Object.keys,sc=hb?function(e){return hb(e)}:eM(),pb=Object.keys;sc.shim=function(){if(Object.keys){var e=function(){var r=Object.keys(arguments);return r&&r.length===arguments.length}(1,2);e||(Object.keys=function(n){return rM(n)?pb(tM.call(n)):pb(n)})}else Object.keys=sc;return Object.keys||sc};var nM=sc,iM=nM,sM=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",oM=Object.prototype.toString,aM=Array.prototype.concat,mb=RE,lM=function(t){return typeof t=="function"&&oM.call(t)==="[object Function]"},DE=vf(),uM=function(t,e,r,n){if(e in t){if(n===!0){if(t[e]===r)return}else if(!lM(n)||!n())return}DE?mb(t,e,r,!0):mb(t,e,r)},jE=function(t,e){var r=arguments.length>2?arguments[2]:{},n=iM(e);sM&&(n=aM.call(n,Object.getOwnPropertySymbols(e)));for(var i=0;i<n.length;i+=1)uM(t,n[i],e[n[i]],r[n[i]])};jE.supportsDescriptors=!!DE;var Bo=jE,wf=function(){if(typeof Promise!="function")throw new TypeError("`Promise.allSettled` requires a global `Promise` be available.")},Gh,gb;function cM(){if(gb)return Gh;gb=1;var t=he(),e=Kl,r=t("%Promise.resolve%",!0),n=r&&e(r);return Gh=function(s,o){if(!n)throw new SyntaxError("This environment does not support Promises.");return n(s,o)},Gh}var Vh,yb;function LE(){return yb||(yb=1,Vh=function(e){if(e===null)return"Null";if(typeof e>"u")return"Undefined";if(typeof e=="function"||typeof e=="object")return"Object";if(typeof e=="number")return"Number";if(typeof e=="boolean")return"Boolean";if(typeof e=="string")return"String"}),Vh}var Qh,vb;function dM(){if(vb)return Qh;vb=1;var t=LE();return Qh=function(r){return typeof r=="symbol"?"Symbol":typeof r=="bigint"?"BigInt":t(r)},Qh}var ea={exports:{}},Kh,wb;function _f(){if(wb)return Kh;wb=1;var t=Ev();return Kh=function(){return t()&&!!Symbol.toStringTag},Kh}var Yh,_b;function mr(){if(_b)return Yh;_b=1;var t=he(),e=Kl,r=e(t("String.prototype.indexOf"));return Yh=function(i,s){var o=t(i,!!s);return typeof o=="function"&&r(i,".prototype.")>-1?e(o):o},Yh}var Xh,bb;function fM(){if(bb)return Xh;bb=1;var t=_f()(),e=mr(),r=e("Object.prototype.toString"),n=function(a){return t&&a&&typeof a=="object"&&Symbol.toStringTag in a?!1:r(a)==="[object Arguments]"},i=function(a){return n(a)?!0:a!==null&&typeof a=="object"&&typeof a.length=="number"&&a.length>=0&&r(a)!=="[object Array]"&&r(a.callee)==="[object Function]"},s=function(){return n(arguments)}();return n.isLegacyArguments=i,Xh=s?n:i,Xh}const hM={},pM=Object.freeze(Object.defineProperty({__proto__:null,default:hM},Symbol.toStringTag,{value:"Module"})),mM=sS(pM);var Jh,xb;function BE(){if(xb)return Jh;xb=1;var t=typeof Map=="function"&&Map.prototype,e=Object.getOwnPropertyDescriptor&&t?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,r=t&&e&&typeof e.get=="function"?e.get:null,n=t&&Map.prototype.forEach,i=typeof Set=="function"&&Set.prototype,s=Object.getOwnPropertyDescriptor&&i?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,o=i&&s&&typeof s.get=="function"?s.get:null,a=i&&Set.prototype.forEach,l=typeof WeakMap=="function"&&WeakMap.prototype,u=l?WeakMap.prototype.has:null,c=typeof WeakSet=="function"&&WeakSet.prototype,f=c?WeakSet.prototype.has:null,d=typeof WeakRef=="function"&&WeakRef.prototype,g=d?WeakRef.prototype.deref:null,v=Boolean.prototype.valueOf,b=Object.prototype.toString,w=Function.prototype.toString,m=String.prototype.match,p=String.prototype.slice,y=String.prototype.replace,x=String.prototype.toUpperCase,S=String.prototype.toLowerCase,k=RegExp.prototype.test,R=Array.prototype.concat,O=Array.prototype.join,U=Array.prototype.slice,G=Math.floor,ee=typeof BigInt=="function"?BigInt.prototype.valueOf:null,ne=Object.getOwnPropertySymbols,Z=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,P=typeof Symbol=="function"&&typeof Symbol.iterator=="object",N=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===P||"symbol")?Symbol.toStringTag:null,W=Object.prototype.propertyIsEnumerable,ie=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(A){return A.__proto__}:null);function L(A,M){if(A===1/0||A===-1/0||A!==A||A&&A>-1e3&&A<1e3||k.call(/e/,M))return M;var ve=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof A=="number"){var Ee=A<0?-G(-A):G(A);if(Ee!==A){var Ue=String(Ee),ue=p.call(M,Ue.length+1);return y.call(Ue,ve,"$&_")+"."+y.call(y.call(ue,/([0-9]{3})/g,"$&_"),/_$/,"")}}return y.call(M,ve,"$&_")}var B=mM,K=B.custom,ae=Hw(K)?K:null;Jh=function A(M,ve,Ee,Ue){var ue=ve||{};if(xn(ue,"quoteStyle")&&ue.quoteStyle!=="single"&&ue.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(xn(ue,"maxStringLength")&&(typeof ue.maxStringLength=="number"?ue.maxStringLength<0&&ue.maxStringLength!==1/0:ue.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var Cn=xn(ue,"customInspect")?ue.customInspect:!0;if(typeof Cn!="boolean"&&Cn!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(xn(ue,"indent")&&ue.indent!==null&&ue.indent!=="	"&&!(parseInt(ue.indent,10)===ue.indent&&ue.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(xn(ue,"numericSeparator")&&typeof ue.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var ki=ue.numericSeparator;if(typeof M>"u")return"undefined";if(M===null)return"null";if(typeof M=="boolean")return M?"true":"false";if(typeof M=="string")return Ww(M,ue);if(typeof M=="number"){if(M===0)return 1/0/M>0?"0":"-0";var Dt=String(M);return ki?L(M,Dt):Dt}if(typeof M=="bigint"){var En=String(M)+"n";return ki?L(M,En):En}var Kf=typeof ue.depth>"u"?5:ue.depth;if(typeof Ee>"u"&&(Ee=0),Ee>=Kf&&Kf>0&&typeof M=="object")return Ne(M)?"[Array]":"[Object]";var vs=bA(ue,Ee);if(typeof Ue>"u")Ue=[];else if(zw(Ue,M)>=0)return"[Circular]";function yr(ws,iu,SA){if(iu&&(Ue=U.call(Ue),Ue.push(iu)),SA){var e_={depth:ue.depth};return xn(ue,"quoteStyle")&&(e_.quoteStyle=ue.quoteStyle),A(ws,e_,Ee+1,Ue)}return A(ws,ue,Ee+1,Ue)}if(typeof M=="function"&&!yt(M)){var Vw=fA(M),Qw=ru(M,yr);return"[Function"+(Vw?": "+Vw:" (anonymous)")+"]"+(Qw.length>0?" { "+O.call(Qw,", ")+" }":"")}if(Hw(M)){var Kw=P?y.call(String(M),/^(Symbol\(.*\))_[^)]*$/,"$1"):Z.call(M);return typeof M=="object"&&!P?Ho(Kw):Kw}if(vA(M)){for(var zo="<"+S.call(String(M.nodeName)),Yf=M.attributes||[],nu=0;nu<Yf.length;nu++)zo+=" "+Yf[nu].name+"="+de(Qe(Yf[nu].value),"double",ue);return zo+=">",M.childNodes&&M.childNodes.length&&(zo+="..."),zo+="</"+S.call(String(M.nodeName))+">",zo}if(Ne(M)){if(M.length===0)return"[]";var Xf=ru(M,yr);return vs&&!_A(Xf)?"["+Qf(Xf,vs)+"]":"[ "+O.call(Xf,", ")+" ]"}if(gr(M)){var Jf=ru(M,yr);return!("cause"in Error.prototype)&&"cause"in M&&!W.call(M,"cause")?"{ ["+String(M)+"] "+O.call(R.call("[cause]: "+yr(M.cause),Jf),", ")+" }":Jf.length===0?"["+String(M)+"]":"{ ["+String(M)+"] "+O.call(Jf,", ")+" }"}if(typeof M=="object"&&Cn){if(ae&&typeof M[ae]=="function"&&B)return B(M,{depth:Kf-Ee});if(Cn!=="symbol"&&typeof M.inspect=="function")return M.inspect()}if(hA(M)){var Yw=[];return n&&n.call(M,function(ws,iu){Yw.push(yr(iu,M,!0)+" => "+yr(ws,M))}),Gw("Map",r.call(M),Yw,vs)}if(gA(M)){var Xw=[];return a&&a.call(M,function(ws){Xw.push(yr(ws,M))}),Gw("Set",o.call(M),Xw,vs)}if(pA(M))return Vf("WeakMap");if(yA(M))return Vf("WeakSet");if(mA(M))return Vf("WeakRef");if(lA(M))return Ho(yr(Number(M)));if(cA(M))return Ho(yr(ee.call(M)));if(uA(M))return Ho(v.call(M));if(aA(M))return Ho(yr(String(M)));if(typeof window<"u"&&M===window)return"{ [object Window] }";if(M===zd)return"{ [object globalThis] }";if(!gt(M)&&!yt(M)){var Zf=ru(M,yr),Jw=ie?ie(M)===Object.prototype:M instanceof Object||M.constructor===Object,eh=M instanceof Object?"":"null prototype",Zw=!Jw&&N&&Object(M)===M&&N in M?p.call(Sn(M),8,-1):eh?"Object":"",xA=Jw||typeof M.constructor!="function"?"":M.constructor.name?M.constructor.name+" ":"",th=xA+(Zw||eh?"["+O.call(R.call([],Zw||[],eh||[]),": ")+"] ":"");return Zf.length===0?th+"{}":vs?th+"{"+Qf(Zf,vs)+"}":th+"{ "+O.call(Zf,", ")+" }"}return String(M)};function de(A,M,ve){var Ee=(ve.quoteStyle||M)==="double"?'"':"'";return Ee+A+Ee}function Qe(A){return y.call(String(A),/"/g,"&quot;")}function Ne(A){return Sn(A)==="[object Array]"&&(!N||!(typeof A=="object"&&N in A))}function gt(A){return Sn(A)==="[object Date]"&&(!N||!(typeof A=="object"&&N in A))}function yt(A){return Sn(A)==="[object RegExp]"&&(!N||!(typeof A=="object"&&N in A))}function gr(A){return Sn(A)==="[object Error]"&&(!N||!(typeof A=="object"&&N in A))}function aA(A){return Sn(A)==="[object String]"&&(!N||!(typeof A=="object"&&N in A))}function lA(A){return Sn(A)==="[object Number]"&&(!N||!(typeof A=="object"&&N in A))}function uA(A){return Sn(A)==="[object Boolean]"&&(!N||!(typeof A=="object"&&N in A))}function Hw(A){if(P)return A&&typeof A=="object"&&A instanceof Symbol;if(typeof A=="symbol")return!0;if(!A||typeof A!="object"||!Z)return!1;try{return Z.call(A),!0}catch{}return!1}function cA(A){if(!A||typeof A!="object"||!ee)return!1;try{return ee.call(A),!0}catch{}return!1}var dA=Object.prototype.hasOwnProperty||function(A){return A in this};function xn(A,M){return dA.call(A,M)}function Sn(A){return b.call(A)}function fA(A){if(A.name)return A.name;var M=m.call(w.call(A),/^function\s*([\w$]+)/);return M?M[1]:null}function zw(A,M){if(A.indexOf)return A.indexOf(M);for(var ve=0,Ee=A.length;ve<Ee;ve++)if(A[ve]===M)return ve;return-1}function hA(A){if(!r||!A||typeof A!="object")return!1;try{r.call(A);try{o.call(A)}catch{return!0}return A instanceof Map}catch{}return!1}function pA(A){if(!u||!A||typeof A!="object")return!1;try{u.call(A,u);try{f.call(A,f)}catch{return!0}return A instanceof WeakMap}catch{}return!1}function mA(A){if(!g||!A||typeof A!="object")return!1;try{return g.call(A),!0}catch{}return!1}function gA(A){if(!o||!A||typeof A!="object")return!1;try{o.call(A);try{r.call(A)}catch{return!0}return A instanceof Set}catch{}return!1}function yA(A){if(!f||!A||typeof A!="object")return!1;try{f.call(A,f);try{u.call(A,u)}catch{return!0}return A instanceof WeakSet}catch{}return!1}function vA(A){return!A||typeof A!="object"?!1:typeof HTMLElement<"u"&&A instanceof HTMLElement?!0:typeof A.nodeName=="string"&&typeof A.getAttribute=="function"}function Ww(A,M){if(A.length>M.maxStringLength){var ve=A.length-M.maxStringLength,Ee="... "+ve+" more character"+(ve>1?"s":"");return Ww(p.call(A,0,M.maxStringLength),M)+Ee}var Ue=y.call(y.call(A,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,wA);return de(Ue,"single",M)}function wA(A){var M=A.charCodeAt(0),ve={8:"b",9:"t",10:"n",12:"f",13:"r"}[M];return ve?"\\"+ve:"\\x"+(M<16?"0":"")+x.call(M.toString(16))}function Ho(A){return"Object("+A+")"}function Vf(A){return A+" { ? }"}function Gw(A,M,ve,Ee){var Ue=Ee?Qf(ve,Ee):O.call(ve,", ");return A+" ("+M+") {"+Ue+"}"}function _A(A){for(var M=0;M<A.length;M++)if(zw(A[M],`
`)>=0)return!1;return!0}function bA(A,M){var ve;if(A.indent==="	")ve="	";else if(typeof A.indent=="number"&&A.indent>0)ve=O.call(Array(A.indent+1)," ");else return null;return{base:ve,prev:O.call(Array(M+1),ve)}}function Qf(A,M){if(A.length===0)return"";var ve=`
`+M.prev+M.base;return ve+O.call(A,","+ve)+`
`+M.prev}function ru(A,M){var ve=Ne(A),Ee=[];if(ve){Ee.length=A.length;for(var Ue=0;Ue<A.length;Ue++)Ee[Ue]=xn(A,Ue)?M(A[Ue],A):""}var ue=typeof ne=="function"?ne(A):[],Cn;if(P){Cn={};for(var ki=0;ki<ue.length;ki++)Cn["$"+ue[ki]]=ue[ki]}for(var Dt in A)xn(A,Dt)&&(ve&&String(Number(Dt))===Dt&&Dt<A.length||P&&Cn["$"+Dt]instanceof Symbol||(k.call(/[^\w$]/,Dt)?Ee.push(M(Dt,A)+": "+M(A[Dt],A)):Ee.push(Dt+": "+M(A[Dt],A))));if(typeof ne=="function")for(var En=0;En<ue.length;En++)W.call(A,ue[En])&&Ee.push("["+M(ue[En])+"]: "+M(A[ue[En]],A));return Ee}return Jh}var Zh,Sb;function gM(){if(Sb)return Zh;Sb=1;var t=he(),e=mr(),r=BE(),n=t("%TypeError%"),i=t("%WeakMap%",!0),s=t("%Map%",!0),o=e("WeakMap.prototype.get",!0),a=e("WeakMap.prototype.set",!0),l=e("WeakMap.prototype.has",!0),u=e("Map.prototype.get",!0),c=e("Map.prototype.set",!0),f=e("Map.prototype.has",!0),d=function(w,m){for(var p=w,y;(y=p.next)!==null;p=y)if(y.key===m)return p.next=y.next,y.next=w.next,w.next=y,y},g=function(w,m){var p=d(w,m);return p&&p.value},v=function(w,m,p){var y=d(w,m);y?y.value=p:w.next={key:m,next:w.next,value:p}},b=function(w,m){return!!d(w,m)};return Zh=function(){var m,p,y,x={assert:function(S){if(!x.has(S))throw new n("Side channel does not contain "+r(S))},get:function(S){if(i&&S&&(typeof S=="object"||typeof S=="function")){if(m)return o(m,S)}else if(s){if(p)return u(p,S)}else if(y)return g(y,S)},has:function(S){if(i&&S&&(typeof S=="object"||typeof S=="function")){if(m)return l(m,S)}else if(s){if(p)return f(p,S)}else if(y)return b(y,S);return!1},set:function(S,k){i&&S&&(typeof S=="object"||typeof S=="function")?(m||(m=new i),a(m,S,k)):s?(p||(p=new s),c(p,S,k)):(y||(y={key:{},next:null}),v(y,S,k))}};return x},Zh}var ep,Cb;function yM(){if(Cb)return ep;Cb=1;var t=he(),e=Ei(),r=gM()(),n=t("%TypeError%"),i={assert:function(s,o){if(!s||typeof s!="object"&&typeof s!="function")throw new n("`O` is not an object");if(typeof o!="string")throw new n("`slot` must be a string");if(r.assert(s),!i.has(s,o))throw new n("`"+o+"` is not present on `O`")},get:function(s,o){if(!s||typeof s!="object"&&typeof s!="function")throw new n("`O` is not an object");if(typeof o!="string")throw new n("`slot` must be a string");var a=r.get(s);return a&&a["$"+o]},has:function(s,o){if(!s||typeof s!="object"&&typeof s!="function")throw new n("`O` is not an object");if(typeof o!="string")throw new n("`slot` must be a string");var a=r.get(s);return!!a&&e(a,"$"+o)},set:function(s,o,a){if(!s||typeof s!="object"&&typeof s!="function")throw new n("`O` is not an object");if(typeof o!="string")throw new n("`slot` must be a string");var l=r.get(s);l||(l={},r.set(s,l)),l["$"+o]=a}};return Object.freeze&&Object.freeze(i),ep=i,ep}var tp,Eb;function vM(){if(Eb)return tp;Eb=1;var t=yM(),e=SyntaxError,r=typeof StopIteration=="object"?StopIteration:null;return tp=function(i){if(!r)throw new e("this environment lacks StopIteration");t.set(i,"[[Done]]",!1);var s={next:function(){var a=t.get(this,"[[Iterator]]"),l=t.get(a,"[[Done]]");try{return{done:l,value:l?void 0:a.next()}}catch(u){if(t.set(a,"[[Done]]",!0),u!==r)throw u;return{done:!0,value:void 0}}}};return t.set(s,"[[Iterator]]",i),s},tp}var rp,Tb;function wM(){if(Tb)return rp;Tb=1;var t={}.toString;return rp=Array.isArray||function(e){return t.call(e)=="[object Array]"},rp}var np,kb;function $E(){if(kb)return np;kb=1;var t=String.prototype.valueOf,e=function(o){try{return t.call(o),!0}catch{return!1}},r=Object.prototype.toString,n="[object String]",i=_f()();return np=function(o){return typeof o=="string"?!0:typeof o!="object"?!1:i?e(o):r.call(o)===n},np}var ip,Pb;function _M(){if(Pb)return ip;Pb=1;var t=typeof Map=="function"&&Map.prototype?Map:null,e=typeof Set=="function"&&Set.prototype?Set:null,r;t||(r=function(o){return!1});var n=t?Map.prototype.has:null,i=e?Set.prototype.has:null;return!r&&!n&&(r=function(o){return!1}),ip=r||function(o){if(!o||typeof o!="object")return!1;try{if(n.call(o),i)try{i.call(o)}catch{return!0}return o instanceof t}catch{}return!1},ip}var sp,Ab;function bM(){if(Ab)return sp;Ab=1;var t=typeof Map=="function"&&Map.prototype?Map:null,e=typeof Set=="function"&&Set.prototype?Set:null,r;e||(r=function(o){return!1});var n=t?Map.prototype.has:null,i=e?Set.prototype.has:null;return!r&&!i&&(r=function(o){return!1}),sp=r||function(o){if(!o||typeof o!="object")return!1;try{if(i.call(o),n)try{n.call(o)}catch{return!0}return o instanceof e}catch{}return!1},sp}var Ib;function xM(){if(Ib)return ea.exports;Ib=1;var t=fM(),e=vM();if(Tv()()||Ev()()){var r=Symbol.iterator;ea.exports=function(U){if(U!=null&&typeof U[r]<"u")return U[r]();if(t(U))return Array.prototype[r].call(U)}}else{var n=wM(),i=$E(),s=he(),o=s("%Map%",!0),a=s("%Set%",!0),l=mr(),u=l("Array.prototype.push"),c=l("String.prototype.charCodeAt"),f=l("String.prototype.slice"),d=function(U,G){var ee=U.length;if(G+1>=ee)return G+1;var ne=c(U,G);if(ne<55296||ne>56319)return G+1;var Z=c(U,G+1);return Z<56320||Z>57343?G+1:G+2},g=function(U){var G=0;return{next:function(){var ne=G>=U.length,Z;return ne||(Z=U[G],G+=1),{done:ne,value:Z}}}},v=function(U,G){if(n(U)||t(U))return g(U);if(i(U)){var ee=0;return{next:function(){var Z=d(U,ee),P=f(U,ee,Z);return ee=Z,{done:Z>U.length,value:P}}}}if(G&&typeof U["_es6-shim iterator_"]<"u")return U["_es6-shim iterator_"]()};if(!o&&!a)ea.exports=function(U){if(U!=null)return v(U,!0)};else{var b=_M(),w=bM(),m=l("Map.prototype.forEach",!0),p=l("Set.prototype.forEach",!0);if(typeof process>"u"||!process.versions||!process.versions.node)var y=l("Map.prototype.iterator",!0),x=l("Set.prototype.iterator",!0);var S=l("Map.prototype.@@iterator",!0)||l("Map.prototype._es6-shim iterator_",!0),k=l("Set.prototype.@@iterator",!0)||l("Set.prototype._es6-shim iterator_",!0),R=function(U){if(b(U)){if(y)return e(y(U));if(S)return S(U);if(m){var G=[];return m(U,function(ne,Z){u(G,[Z,ne])}),g(G)}}if(w(U)){if(x)return e(x(U));if(k)return k(U);if(p){var ee=[];return p(U,function(ne){u(ee,ne)}),g(ee)}}};ea.exports=function(U){return R(U)||v(U)}}}return ea.exports}var op,Ob;function SM(){if(Ob)return op;Ob=1;var t=TypeError;return op=function(r){if(!r||typeof r.next!="function")throw new t("iterator must be an object with a `next` method");if(arguments.length>1){var n=arguments[1];if(typeof n!="function")throw new t("`callback`, if provided, must be a function")}for(var i=n||[],s;(s=r.next())&&!s.done;)n?n(s.value):i.push(s.value);if(!n)return i},op}var ap,Rb;function CM(){if(Rb)return ap;Rb=1;var t=xM(),e=TypeError,r=SM();return ap=function(i){var s=t(i);if(!s)throw new e("non-iterable value provided");return arguments.length>1?r(s,arguments[1]):r(s)},ap}var lp,Mb;function EM(){if(Mb)return lp;Mb=1;var t=he(),e=t("%TypeError%");return lp=function(n,i){if(n==null)throw new e(i||"Cannot call method on "+n);return n},lp}var up,Nb;function bf(){return Nb||(Nb=1,up=EM()),up}var cp,Db;function Av(){return Db||(Db=1,cp=Number.isNaN||function(e){return e!==e}),cp}var dp,jb;function UE(){if(jb)return dp;jb=1;var t=Av();return dp=function(e){return(typeof e=="number"||typeof e=="bigint")&&!t(e)&&e!==1/0&&e!==-1/0},dp}var fp,Lb;function Iv(){if(Lb)return fp;Lb=1;var t=he(),e=t("%Math.abs%"),r=t("%Math.floor%"),n=Av(),i=UE();return fp=function(o){if(typeof o!="number"||n(o)||!i(o))return!1;var a=e(o);return r(a)===a},fp}var hp,Bb;function TM(){if(Bb)return hp;Bb=1;var t=he(),e=t("%Array.prototype%"),r=t("%RangeError%"),n=t("%SyntaxError%"),i=t("%TypeError%"),s=Iv(),o=Math.pow(2,32)-1,a=OE()(),l=t("%Object.setPrototypeOf%",!0)||(a?function(u,c){return u.__proto__=c,u}:null);return hp=function(c){if(!s(c)||c<0)throw new i("Assertion failed: `length` must be an integer Number >= 0");if(c>o)throw new r("length is greater than (2**32 - 1)");var f=arguments.length>1?arguments[1]:e,d=[];if(f!==e){if(!l)throw new n("ArrayCreate: a `proto` argument that is not `Array.prototype` is not supported in an environment that does not support setting the [[Prototype]]");l(d,f)}return c!==0&&(d.length=c),d},hp}var pp,$b;function gs(){return $b||($b=1,pp=function(e){return typeof e=="string"||typeof e=="symbol"}),pp}var mp,Ub;function Et(){if(Ub)return mp;Ub=1;var t=LE();return mp=function(r){return typeof r=="symbol"?"Symbol":typeof r=="bigint"?"BigInt":t(r)},mp}var gp,Fb;function FE(){if(Fb)return gp;Fb=1;var t=he(),e=t("%TypeError%"),r=BE(),n=gs(),i=Et();return gp=function(o,a){if(i(o)!=="Object")throw new e("Assertion failed: Type(O) is not Object");if(!n(a))throw new e("Assertion failed: IsPropertyKey(P) is not true, got "+r(a));return o[a]},gp}var yp,qb;function qE(){if(qb)return yp;qb=1;var t=he(),e=t("%Array%"),r=!e.isArray&&mr()("Object.prototype.toString");return yp=e.isArray||function(i){return r(i)==="[object Array]"},yp}var vp,Hb;function HE(){return Hb||(Hb=1,vp=qE()),vp}var Mu={exports:{}},wp,zb;function kM(){return zb||(zb=1,wp=he()),wp}var _p,Wb;function Ov(){if(Wb)return _p;Wb=1;var t=he(),e=Ei(),r=t("%TypeError%");return _p=function(i,s){if(i.Type(s)!=="Object")return!1;var o={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};for(var a in s)if(e(s,a)&&!o[a])return!1;if(i.IsDataDescriptor(s)&&i.IsAccessorDescriptor(s))throw new r("Property Descriptors may not be both accessor and data descriptors");return!0},_p}var bp,Gb;function zE(){if(Gb)return bp;Gb=1;var t=vf,e=he(),r=t()&&e("%Object.defineProperty%",!0),n=t.hasArrayLengthDefineBug(),i=n&&qE(),s=mr(),o=s("Object.prototype.propertyIsEnumerable");return bp=function(l,u,c,f,d,g){if(!r){if(!l(g)||!g["[[Configurable]]"]||!g["[[Writable]]"]||d in f&&o(f,d)!==!!g["[[Enumerable]]"])return!1;var v=g["[[Value]]"];return f[d]=v,u(f[d],v)}return n&&d==="length"&&"[[Value]]"in g&&i(f)&&f.length!==g["[[Value]]"]?(f.length=g["[[Value]]"],f.length===g["[[Value]]"]):(r(f,d,c(g)),!0)},bp}var xp,Vb;function PM(){if(Vb)return xp;Vb=1;var t=Ei();return xp=function(r){return t(r,"[[StartIndex]]")&&t(r,"[[EndIndex]]")&&r["[[StartIndex]]"]>=0&&r["[[EndIndex]]"]>=r["[[StartIndex]]"]&&String(parseInt(r["[[StartIndex]]"],10))===String(r["[[StartIndex]]"])&&String(parseInt(r["[[EndIndex]]"],10))===String(r["[[EndIndex]]"])},xp}var Sp,Qb;function xf(){if(Qb)return Sp;Qb=1;var t=he(),e=t("%TypeError%"),r=t("%SyntaxError%"),n=Ei(),i=Iv(),s=PM(),o={"Property Descriptor":function(l){var u={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};if(!l)return!1;for(var c in l)if(n(l,c)&&!u[c])return!1;var f=n(l,"[[Value]]"),d=n(l,"[[Get]]")||n(l,"[[Set]]");if(f&&d)throw new e("Property Descriptors may not be both accessor and data descriptors");return!0},"Match Record":s,"Iterator Record":function(l){return n(l,"[[Iterator]]")&&n(l,"[[NextMethod]]")&&n(l,"[[Done]]")},"PromiseCapability Record":function(l){return!!l&&n(l,"[[Resolve]]")&&typeof l["[[Resolve]]"]=="function"&&n(l,"[[Reject]]")&&typeof l["[[Reject]]"]=="function"&&n(l,"[[Promise]]")&&l["[[Promise]]"]&&typeof l["[[Promise]]"].then=="function"},"AsyncGeneratorRequest Record":function(l){return!!l&&n(l,"[[Completion]]")&&n(l,"[[Capability]]")&&o["PromiseCapability Record"](l["[[Capability]]"])},"RegExp Record":function(l){return l&&n(l,"[[IgnoreCase]]")&&typeof l["[[IgnoreCase]]"]=="boolean"&&n(l,"[[Multiline]]")&&typeof l["[[Multiline]]"]=="boolean"&&n(l,"[[DotAll]]")&&typeof l["[[DotAll]]"]=="boolean"&&n(l,"[[Unicode]]")&&typeof l["[[Unicode]]"]=="boolean"&&n(l,"[[CapturingGroupsCount]]")&&typeof l["[[CapturingGroupsCount]]"]=="number"&&i(l["[[CapturingGroupsCount]]"])&&l["[[CapturingGroupsCount]]"]>=0}};return Sp=function(l,u,c,f){var d=o[u];if(typeof d!="function")throw new r("unknown record type: "+u);if(l(f)!=="Object"||!d(f))throw new e(c+" must be a "+u)},Sp}var Cp,Kb;function AM(){return Kb||(Kb=1,Cp=function(e){if(typeof e>"u")return e;var r={};return"[[Value]]"in e&&(r.value=e["[[Value]]"]),"[[Writable]]"in e&&(r.writable=!!e["[[Writable]]"]),"[[Get]]"in e&&(r.get=e["[[Get]]"]),"[[Set]]"in e&&(r.set=e["[[Set]]"]),"[[Enumerable]]"in e&&(r.enumerable=!!e["[[Enumerable]]"]),"[[Configurable]]"in e&&(r.configurable=!!e["[[Configurable]]"]),r}),Cp}var Ep,Yb;function WE(){if(Yb)return Ep;Yb=1;var t=xf(),e=AM(),r=Et();return Ep=function(i){return typeof i<"u"&&t(r,"Property Descriptor","Desc",i),e(i)},Ep}var Tp,Xb;function Sf(){if(Xb)return Tp;Xb=1;var t=Ei(),e=Et(),r=xf();return Tp=function(i){return!(typeof i>"u"||(r(e,"Property Descriptor","Desc",i),!t(i,"[[Get]]")&&!t(i,"[[Set]]")))},Tp}var kp,Jb;function Cf(){if(Jb)return kp;Jb=1;var t=Ei(),e=Et(),r=xf();return kp=function(i){return!(typeof i>"u"||(r(e,"Property Descriptor","Desc",i),!t(i,"[[Value]]")&&!t(i,"[[Writable]]")))},kp}var Pp,Zb;function Rv(){if(Zb)return Pp;Zb=1;var t=Av();return Pp=function(r,n){return r===n?r===0?1/r===1/n:!0:t(r)&&t(n)},Pp}var Ap,e2;function IM(){return e2||(e2=1,Ap=function(e){return!!e}),Ap}var Ip,t2;function GE(){if(t2)return Ip;t2=1;var t=Function.prototype.toString,e=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,r,n;if(typeof e=="function"&&typeof Object.defineProperty=="function")try{r=Object.defineProperty({},"length",{get:function(){throw n}}),n={},e(function(){throw 42},null,r)}catch(p){p!==n&&(e=null)}else e=null;var i=/^\s*class\b/,s=function(y){try{var x=t.call(y);return i.test(x)}catch{return!1}},o=function(y){try{return s(y)?!1:(t.call(y),!0)}catch{return!1}},a=Object.prototype.toString,l="[object Object]",u="[object Function]",c="[object GeneratorFunction]",f="[object HTMLAllCollection]",d="[object HTML document.all class]",g="[object HTMLCollection]",v=typeof Symbol=="function"&&!!Symbol.toStringTag,b=!(0 in[,]),w=function(){return!1};if(typeof document=="object"){var m=document.all;a.call(m)===a.call(document.all)&&(w=function(y){if((b||!y)&&(typeof y>"u"||typeof y=="object"))try{var x=a.call(y);return(x===f||x===d||x===g||x===l)&&y("")==null}catch{}return!1})}return Ip=e?function(y){if(w(y))return!0;if(!y||typeof y!="function"&&typeof y!="object")return!1;try{e(y,null,r)}catch(x){if(x!==n)return!1}return!s(y)&&o(y)}:function(y){if(w(y))return!0;if(!y||typeof y!="function"&&typeof y!="object")return!1;if(v)return o(y);if(s(y))return!1;var x=a.call(y);return x!==u&&x!==c&&!/^\[object HTML/.test(x)?!1:o(y)},Ip}var Op,r2;function VE(){return r2||(r2=1,Op=GE()),Op}var Rp,n2;function QE(){if(n2)return Rp;n2=1;var t=Ei(),e=he(),r=e("%TypeError%"),n=Et(),i=IM(),s=VE();return Rp=function(a){if(n(a)!=="Object")throw new r("ToPropertyDescriptor requires an object");var l={};if(t(a,"enumerable")&&(l["[[Enumerable]]"]=i(a.enumerable)),t(a,"configurable")&&(l["[[Configurable]]"]=i(a.configurable)),t(a,"value")&&(l["[[Value]]"]=a.value),t(a,"writable")&&(l["[[Writable]]"]=i(a.writable)),t(a,"get")){var u=a.get;if(typeof u<"u"&&!s(u))throw new r("getter must be a function");l["[[Get]]"]=u}if(t(a,"set")){var c=a.set;if(typeof c<"u"&&!s(c))throw new r("setter must be a function");l["[[Set]]"]=c}if((t(l,"[[Get]]")||t(l,"[[Set]]"))&&(t(l,"[[Value]]")||t(l,"[[Writable]]")))throw new r("Invalid property descriptor. Cannot both specify accessors and a value or writable attribute");return l},Rp}var Mp,i2;function OM(){if(i2)return Mp;i2=1;var t=he(),e=t("%TypeError%"),r=Ov(),n=zE(),i=WE(),s=Sf(),o=Cf(),a=gs(),l=Rv(),u=QE(),c=Et();return Mp=function(d,g,v){if(c(d)!=="Object")throw new e("Assertion failed: Type(O) is not Object");if(!a(g))throw new e("Assertion failed: IsPropertyKey(P) is not true");var b=r({Type:c,IsDataDescriptor:o,IsAccessorDescriptor:s},v)?v:u(v);if(!r({Type:c,IsDataDescriptor:o,IsAccessorDescriptor:s},b))throw new e("Assertion failed: Desc is not a valid Property Descriptor");return n(o,l,i,d,g,b)},Mp}var s2;function RM(){if(s2)return Mu.exports;s2=1;var t=kM(),e=t("%Reflect.construct%",!0),r=OM();try{r({},"",{"[[Get]]":function(){}})}catch{r=null}if(r&&e){var n={},i={};r(i,"length",{"[[Get]]":function(){throw n},"[[Enumerable]]":!0}),Mu.exports=function(o){try{e(o,i)}catch(a){return a===n}}}else Mu.exports=function(o){return typeof o=="function"&&!!o.prototype};return Mu.exports}var Np,o2;function MM(){if(o2)return Np;o2=1;var t=he(),e=t("%Symbol.species%",!0),r=t("%TypeError%"),n=TM(),i=FE(),s=HE(),o=RM(),a=Et(),l=Iv();return Np=function(c,f){if(!l(f)||f<0)throw new r("Assertion failed: length must be an integer >= 0");var d=s(c);if(!d)return n(f);var g=i(c,"constructor");if(e&&a(g)==="Object"&&(g=i(g,e),g===null&&(g=void 0)),typeof g>"u")return n(f);if(!o(g))throw new r("C must be a constructor");return new g(f)},Np}var Dp,a2;function NM(){if(a2)return Dp;a2=1;var t=he(),e=mr(),r=t("%TypeError%"),n=HE(),i=t("%Reflect.apply%",!0)||e("Function.prototype.apply");return Dp=function(o,a){var l=arguments.length>2?arguments[2]:[];if(!n(l))throw new r("Assertion failed: optional `argumentsList`, if provided, must be a List");return i(o,a,l)},Dp}var jp,l2;function KE(){return l2||(l2=1,jp=function(e){return e===null||typeof e!="function"&&typeof e!="object"}),jp}var Lp,u2;function DM(){if(u2)return Lp;u2=1;var t=he(),e=t("%Object.preventExtensions%",!0),r=t("%Object.isExtensible%",!0),n=KE();return Lp=e?function(s){return!n(s)&&r(s)}:function(s){return!n(s)},Lp}var Bp,c2;function jM(){return c2||(c2=1,Bp=function(e,r){return!!r&&typeof r=="object"&&"[[Enumerable]]"in r&&"[[Configurable]]"in r&&(e.IsAccessorDescriptor(r)||e.IsDataDescriptor(r))}),Bp}var $p,d2;function LM(){if(d2)return $p;d2=1;var t=xf(),e=Sf(),r=Cf(),n=Et();return $p=function(s){return typeof s>"u"?!1:(t(n,"Property Descriptor","Desc",s),!e(s)&&!r(s))},$p}var Up,f2;function BM(){if(f2)return Up;f2=1;var t=he(),e=t("%TypeError%"),r=zE(),n=jM(),i=Ov(),s=WE(),o=Sf(),a=Cf(),l=LM(),u=gs(),c=Rv(),f=Et();return Up=function(g,v,b,w,m){var p=f(g);if(p!=="Undefined"&&p!=="Object")throw new e("Assertion failed: O must be undefined or an Object");if(!u(v))throw new e("Assertion failed: P must be a Property Key");if(f(b)!=="Boolean")throw new e("Assertion failed: extensible must be a Boolean");if(!i({Type:f,IsDataDescriptor:a,IsAccessorDescriptor:o},w))throw new e("Assertion failed: Desc must be a Property Descriptor");if(f(m)!=="Undefined"&&!i({Type:f,IsDataDescriptor:a,IsAccessorDescriptor:o},m))throw new e("Assertion failed: current must be a Property Descriptor, or undefined");if(f(m)==="Undefined")return b?p==="Undefined"?!0:o(w)?r(a,c,s,g,v,w):r(a,c,s,g,v,{"[[Configurable]]":!!w["[[Configurable]]"],"[[Enumerable]]":!!w["[[Enumerable]]"],"[[Value]]":w["[[Value]]"],"[[Writable]]":!!w["[[Writable]]"]}):!1;if(!n({IsAccessorDescriptor:o,IsDataDescriptor:a},m))throw new e("`current`, when present, must be a fully populated and valid Property Descriptor");if(!m["[[Configurable]]"]){if("[[Configurable]]"in w&&w["[[Configurable]]"]||"[[Enumerable]]"in w&&!c(w["[[Enumerable]]"],m["[[Enumerable]]"])||!l(w)&&!c(o(w),o(m)))return!1;if(o(m)){if("[[Get]]"in w&&!c(w["[[Get]]"],m["[[Get]]"])||"[[Set]]"in w&&!c(w["[[Set]]"],m["[[Set]]"]))return!1}else if(!m["[[Writable]]"]&&("[[Writable]]"in w&&w["[[Writable]]"]||"[[Value]]"in w&&!c(w["[[Value]]"],m["[[Value]]"])))return!1}if(p!=="Undefined"){var y,x;return a(m)&&o(w)?(y=("[[Configurable]]"in w?w:m)["[[Configurable]]"],x=("[[Enumerable]]"in w?w:m)["[[Enumerable]]"],r(a,c,s,g,v,{"[[Configurable]]":!!y,"[[Enumerable]]":!!x,"[[Get]]":("[[Get]]"in w?w:m)["[[Get]]"],"[[Set]]":("[[Set]]"in w?w:m)["[[Set]]"]})):o(m)&&a(w)?(y=("[[Configurable]]"in w?w:m)["[[Configurable]]"],x=("[[Enumerable]]"in w?w:m)["[[Enumerable]]"],r(a,c,s,g,v,{"[[Configurable]]":!!y,"[[Enumerable]]":!!x,"[[Value]]":("[[Value]]"in w?w:m)["[[Value]]"],"[[Writable]]":!!("[[Writable]]"in w?w:m)["[[Writable]]"]})):r(a,c,s,g,v,w)}return!0},Up}var Fp,h2;function $M(){if(h2)return Fp;h2=1;var t=he(),e=kv,r=t("%SyntaxError%"),n=t("%TypeError%"),i=Ov(),s=Sf(),o=Cf(),a=DM(),l=gs(),u=QE(),c=Rv(),f=Et(),d=BM();return Fp=function(v,b,w){if(f(v)!=="Object")throw new n("Assertion failed: O must be an Object");if(!l(b))throw new n("Assertion failed: P must be a Property Key");if(!i({Type:f,IsDataDescriptor:o,IsAccessorDescriptor:s},w))throw new n("Assertion failed: Desc must be a Property Descriptor");if(!e){if(s(w))throw new r("This environment does not support accessor property descriptors.");var m=!(b in v)&&w["[[Writable]]"]&&w["[[Enumerable]]"]&&w["[[Configurable]]"]&&"[[Value]]"in w,p=b in v&&(!("[[Configurable]]"in w)||w["[[Configurable]]"])&&(!("[[Enumerable]]"in w)||w["[[Enumerable]]"])&&(!("[[Writable]]"in w)||w["[[Writable]]"])&&"[[Value]]"in w;if(m||p)return v[b]=w["[[Value]]"],c(v[b],w["[[Value]]"]);throw new r("This environment does not support defining non-writable, non-enumerable, or non-configurable properties")}var y=e(v,b),x=y&&u(y),S=a(v);return d(v,b,S,w,x)},Fp}var qp,p2;function UM(){if(p2)return qp;p2=1;var t=he(),e=t("%TypeError%"),r=gs(),n=$M(),i=Et();return qp=function(o,a,l){if(i(o)!=="Object")throw new e("Assertion failed: Type(O) is not Object");if(!r(a))throw new e("Assertion failed: IsPropertyKey(P) is not true");var u={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Value]]":l,"[[Writable]]":!0};return n(o,a,u)},qp}var Hp,m2;function FM(){if(m2)return Hp;m2=1;var t=he(),e=t("%TypeError%"),r=UM(),n=gs(),i=Et();return Hp=function(o,a,l){if(i(o)!=="Object")throw new e("Assertion failed: Type(O) is not Object");if(!n(a))throw new e("Assertion failed: IsPropertyKey(P) is not true");var u=r(o,a,l);if(!u)throw new e("unable to create data property")},Hp}var zp,g2;function qM(){if(g2)return zp;g2=1;var t=he(),e=t("%TypeError%"),r=gs(),n=Et();return zp=function(s,o){if(n(s)!=="Object")throw new e("Assertion failed: `O` must be an Object");if(!r(o))throw new e("Assertion failed: `P` must be a Property Key");return o in s},zp}var Wp,y2;function HM(){if(y2)return Wp;y2=1;var t=Math.floor;return Wp=function(r,n){var i=r%n;return t(i>=0?i:i+n)},Wp}var Gp,v2;function zM(){if(v2)return Gp;v2=1;var t=HM();return Gp=function(r,n){return t(r,n)},Gp}var Vp,w2;function WM(){return w2||(w2=1,Vp=function(e){return e===null||typeof e!="function"&&typeof e!="object"}),Vp}var Qp,_2;function GM(){if(_2)return Qp;_2=1;var t=Date.prototype.getDay,e=function(o){try{return t.call(o),!0}catch{return!1}},r=Object.prototype.toString,n="[object Date]",i=_f()();return Qp=function(o){return typeof o!="object"||o===null?!1:i?e(o):r.call(o)===n},Qp}var Nu={exports:{}},b2;function VM(){if(b2)return Nu.exports;b2=1;var t=Object.prototype.toString,e=Tv()();if(e){var r=Symbol.prototype.toString,n=/^Symbol\(.*\)$/,i=function(o){return typeof o.valueOf()!="symbol"?!1:n.test(r.call(o))};Nu.exports=function(o){if(typeof o=="symbol")return!0;if(t.call(o)!=="[object Symbol]")return!1;try{return i(o)}catch{return!1}}}else Nu.exports=function(o){return!1};return Nu.exports}var Kp,x2;function QM(){if(x2)return Kp;x2=1;var t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol",e=WM(),r=GE(),n=GM(),i=VM(),s=function(l,u){if(typeof l>"u"||l===null)throw new TypeError("Cannot call method on "+l);if(typeof u!="string"||u!=="number"&&u!=="string")throw new TypeError('hint must be "string" or "number"');var c=u==="string"?["toString","valueOf"]:["valueOf","toString"],f,d,g;for(g=0;g<c.length;++g)if(f=l[c[g]],r(f)&&(d=f.call(l),e(d)))return d;throw new TypeError("No default value")},o=function(l,u){var c=l[u];if(c!==null&&typeof c<"u"){if(!r(c))throw new TypeError(c+" returned for property "+u+" of object "+l+" is not a function");return c}};return Kp=function(l){if(e(l))return l;var u="default";arguments.length>1&&(arguments[1]===String?u="string":arguments[1]===Number&&(u="number"));var c;if(t&&(Symbol.toPrimitive?c=o(l,Symbol.toPrimitive):i(l)&&(c=Symbol.prototype.valueOf)),typeof c<"u"){var f=c.call(l,u);if(e(f))return f;throw new TypeError("unable to convert exotic object to primitive")}return u==="default"&&(n(l)||i(l))&&(u="string"),s(l,u==="default"?"number":u)},Kp}var Yp,S2;function KM(){if(S2)return Yp;S2=1;var t=QM();return Yp=function(r){return arguments.length>1?t(r,arguments[1]):t(r)},Yp}var Xp,C2;function YM(){if(C2)return Xp;C2=1;var t=mr(),e=_f()(),r,n,i,s;if(e){r=t("Object.prototype.hasOwnProperty"),n=t("RegExp.prototype.exec"),i={};var o=function(){throw i};s={toString:o,valueOf:o},typeof Symbol.toPrimitive=="symbol"&&(s[Symbol.toPrimitive]=o)}var a=t("Object.prototype.toString"),l=Object.getOwnPropertyDescriptor,u="[object RegExp]";return Xp=e?function(f){if(!f||typeof f!="object")return!1;var d=l(f,"lastIndex"),g=d&&r(d,"value");if(!g)return!1;try{n(f,s)}catch(v){return v===i}}:function(f){return!f||typeof f!="object"&&typeof f!="function"?!1:a(f)===u},Xp}var Jp,E2;function XM(){if(E2)return Jp;E2=1;var t=mr(),e=he(),r=YM(),n=t("RegExp.prototype.exec"),i=e("%TypeError%");return Jp=function(o){if(!r(o))throw new i("`regex` must be a RegExp");return function(l){return n(o,l)!==null}},Jp}var Zp,T2;function YE(){if(T2)return Zp;T2=1;var t=he(),e=t("%String%"),r=t("%TypeError%");return Zp=function(i){if(typeof i=="symbol")throw new r("Cannot convert a Symbol value to a string");return e(i)},Zp}var em,k2;function XE(){if(k2)return em;k2=1;var t=bf(),e=YE(),r=mr(),n=r("String.prototype.replace"),i=/^\s$/.test(""),s=i?/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+/:/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+/,o=i?/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+$/:/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+$/;return em=function(){var l=e(t(this));return n(n(l,s,""),o,"")},em}var tm,P2;function JE(){if(P2)return tm;P2=1;var t=XE(),e="",r="";return tm=function(){return String.prototype.trim&&e.trim()===e&&r.trim()===r&&("_"+r).trim()==="_"+r&&(r+"_").trim()===r+"_"?String.prototype.trim:t},tm}var rm,A2;function JM(){if(A2)return rm;A2=1;var t=Bo,e=JE();return rm=function(){var n=e();return t(String.prototype,{trim:n},{trim:function(){return String.prototype.trim!==n}}),n},rm}var nm,I2;function ZM(){if(I2)return nm;I2=1;var t=Kl,e=Bo,r=bf(),n=XE(),i=JE(),s=JM(),o=t(i()),a=function(u){return r(u),o(u)};return e(a,{getPolyfill:i,implementation:n,shim:s}),nm=a,nm}var im,O2;function eN(){if(O2)return im;O2=1;var t=he(),e=t("%Number%"),r=t("%RegExp%"),n=t("%TypeError%"),i=t("%parseInt%"),s=mr(),o=XM(),a=s("String.prototype.slice"),l=o(/^0b[01]+$/i),u=o(/^0o[0-7]+$/i),c=o(/^[-+]0x[0-9a-f]+$/i),f=["","",""].join(""),d=new r("["+f+"]","g"),g=o(d),v=ZM(),b=Et();return im=function w(m){if(b(m)!=="String")throw new n("Assertion failed: `argument` is not a String");if(l(m))return e(i(a(m,2),2));if(u(m))return e(i(a(m,2),8));if(g(m)||c(m))return NaN;var p=v(m);return p!==m?w(p):e(m)},im}var sm,R2;function tN(){if(R2)return sm;R2=1;var t=he(),e=t("%TypeError%"),r=t("%Number%"),n=KE(),i=KM(),s=eN();return sm=function(a){var l=n(a)?a:i(a,r);if(typeof l=="symbol")throw new e("Cannot convert a Symbol value to a number");if(typeof l=="bigint")throw new e("Conversion from 'BigInt' to 'number' is not allowed.");return typeof l=="string"?s(l):r(l)},sm}var om,M2;function rN(){if(M2)return om;M2=1;var t=Et(),e=Math.floor;return om=function(n){return t(n)==="BigInt"?n:e(n)},om}var am,N2;function nN(){if(N2)return am;N2=1;var t=he(),e=rN(),r=t("%TypeError%");return am=function(i){if(typeof i!="number"&&typeof i!="bigint")throw new r("argument must be a Number or a BigInt");var s=i<0?-e(-i):e(i);return s===0?0:s},am}var lm,D2;function iN(){if(D2)return lm;D2=1;var t=zM(),e=tN(),r=nN(),n=UE(),i=4294967296;return lm=function(o){var a=e(o);if(!n(a)||a===0)return 0;var l=r(a),u=t(l,i);return u===0?0:u},lm}var um,j2;function sN(){if(j2)return um;j2=1;var t=he(),e=t("%Object%"),r=bf();return um=function(i){return r(i),e(i)},um}var cm,L2;function ZE(){if(L2)return cm;L2=1;var t=MM(),e=NM(),r=FM(),n=FE(),i=qM(),s=VE(),o=iN(),a=sN(),l=YE(),u=mr(),c=$E(),f=Object("a"),d=f[0]!=="a"||!(0 in f),g=u("String.prototype.split");return cm=function(b){var w=a(this),m=d&&c(w)?g(w,""):w,p=o(m.length);if(!s(b))throw new TypeError("Array.prototype.map callback must be a function");var y;arguments.length>1&&(y=arguments[1]);for(var x=t(w,p),S=0;S<p;){var k=l(S),R=i(w,k);if(R){var O=n(w,k),U=e(b,y,[O,S,w]);r(x,k,U)}S+=1}return x},cm}var dm,B2;function oN(){return B2||(B2=1,dm=function(e){var r=!0,n=!0,i=!1;if(typeof e=="function"){try{e.call("f",function(s,o,a){typeof a!="object"&&(r=!1)}),e.call([null],function(){"use strict";n=typeof this=="string"},"x")}catch{i=!0}return!i&&r&&n}return!1}),dm}var fm,$2;function eT(){if($2)return fm;$2=1;var t=oN(),e=ZE();return fm=function(){var n=Array.prototype.map;return t(n)?n:e},fm}var hm,U2;function aN(){if(U2)return hm;U2=1;var t=Bo,e=eT();return hm=function(){var n=e();return t(Array.prototype,{map:n},{map:function(){return Array.prototype.map!==n}}),n},hm}var pm,F2;function lN(){if(F2)return pm;F2=1;var t=Bo,e=bf(),r=mr(),n=ZE(),i=eT(),s=i(),o=aN(),a=r("Array.prototype.slice"),l=function(c,f){return e(c),s.apply(c,a(arguments,1))};return t(l,{getPolyfill:i,implementation:n,shim:o}),pm=l,pm}var uN=wf;uN();var cN=cM(),dN=dM(),fN=CM(),hN=lN(),tT=he(),rT=Kl,pN=rT(tT("%Promise.all%")),mN=rT(tT("%Promise.reject%")),nT=function(e){var r=this;if(dN(r)!=="Object")throw new TypeError("`this` value must be an object");var n=fN(e);return pN(r,hN(n,function(i){var s=function(l){return{status:"fulfilled",value:l}},o=function(l){return{status:"rejected",reason:l}},a=cN(r,i);try{return a.then(s,o)}catch(l){return mN(r,l)}}))},gN=wf,yN=nT,iT=function(){return gN(),typeof Promise.allSettled=="function"?Promise.allSettled:yN},vN=wf,wN=iT,_N=Bo,bN=function(){vN();var e=wN();return _N(Promise,{allSettled:e},{allSettled:function(){return Promise.allSettled!==e}}),e};(function(t){var e=Kl,r=Bo,n=wf,i=nT,s=iT,o=bN;n();var a=e(s()),l=function(c){return a(typeof this>"u"?Promise:this,c)};r(l,{getPolyfill:s,implementation:i,shim:o}),t.exports=l,t.exports.default=l})(AE);var xN=AE.exports;const SN=gn(xN);var Mv=function(){function t(e){var r=e.logger;this._queue=[],this._batchRunning=!1,this._paused=!1,this._logger=Lo(as({name:"rate-limiter",emoji:!0},r))}return t.prototype.request=function(e,r){return Pr(this,void 0,Promise,function(){var n=this;return ar(this,function(i){switch(i.label){case 0:return this._logger.trace("request start"),[4,new Promise(function(s,o){var a,l={req:e,resolve:s,reject:o,limitReachedBehavior:(a=r==null?void 0:r.limitReachedBehavior)!==null&&a!==void 0?a:"enqueue"};n._batchRunning||n._nextBatchTimer||n._paused?(n._logger.trace("request queued batchRunning:".concat(n._batchRunning.toString()," hasNextBatchTimer:").concat((!!n._nextBatchTimer).toString()," paused:").concat(n._paused.toString())),n._queue.push(l)):n._runRequestBatch([l])})];case 1:return[2,i.sent()]}})})},t.prototype.clear=function(){this._queue=[]},t.prototype.pause=function(){this._paused=!0},t.prototype.resume=function(){this._paused=!1,this._runNextBatch()},Object.defineProperty(t.prototype,"stats",{get:function(){var e,r,n,i,s;return{lastKnownLimit:(r=(e=this._parameters)===null||e===void 0?void 0:e.limit)!==null&&r!==void 0?r:null,lastKnownRemainingRequests:(i=(n=this._parameters)===null||n===void 0?void 0:n.remaining)!==null&&i!==void 0?i:null,lastKnownResetDate:hr((s=this._parameters)===null||s===void 0?void 0:s.resetsAt,function(o){return new Date(o)})}},enumerable:!1,configurable:!0}),t.prototype._runRequestBatch=function(e){return Pr(this,void 0,void 0,function(){var r,n,i,s,o,a,l,u,c=this;return ar(this,function(f){switch(f.label){case 0:return this._logger.trace("runRequestBatch start specs:".concat(e.length)),this._batchRunning=!0,this._parameters&&this._logger.debug("Remaining requests: ".concat(this._parameters.remaining)),this._logger.debug("Doing ".concat(e.length," requests, new queue length is ").concat(this._queue.length)),r=e.map(function(d){return Pr(c,void 0,Promise,function(){var g,v,b,w,m,p,y;return ar(this,function(x){switch(x.label){case 0:g=d.req,v=d.resolve,b=d.reject,x.label=1;case 1:return x.trys.push([1,3,,4]),[4,this.doRequest(g)];case 2:if(w=x.sent(),m=this.needsToRetryAfter(w),m!==null)throw this._queue.unshift(d),this._logger.info("Retrying after ".concat(m," ms")),new eb(m);return p=this.getParametersFromResponse(w),v(w),[2,p];case 3:if(y=x.sent(),y instanceof eb)throw y;return b(y),[2,void 0];case 4:return[2]}})})}),[4,SN.call(Promise,r)];case 1:return n=f.sent(),i=n.filter(function(d){return d.status==="rejected"}),s=Date.now(),i.length?(this._logger.trace("runRequestBatch some rejected"),o=Math.max.apply(Math,yi([s],wn(i.map(function(d){return d.reason.retryAt})),!1)),a=o-s,this._logger.warn("Waiting for ".concat(a," ms because the rate limit was exceeded")),this._nextBatchTimer=setTimeout(function(){c._parameters=void 0,c._runNextBatch()},a)):(this._logger.trace("runRequestBatch none rejected"),l=n.filter(function(d){return d.status==="fulfilled"&&d.value!==void 0}).map(function(d){return d.value}).reduce(function(d,g){return d?g.remaining<d.remaining?g:d:g},void 0),this._batchRunning=!1,l&&(this._parameters=l,l.resetsAt<s||l.remaining>0?(this._logger.trace("runRequestBatch canRunMore"),this._runNextBatch()):(u=l.resetsAt-s,this._logger.trace("runRequestBatch delay:".concat(u)),this._logger.warn("Waiting for ".concat(u," ms because the rate limit was reached")),this._queue=this._queue.filter(function(d){switch(d.limitReachedBehavior){case"enqueue":return!0;case"null":return d.resolve(null),!1;case"throw":return d.reject(new Sv("Request removed from queue because the rate limit was reached")),!1;default:throw new Error("this should never happen")}}),this._nextBatchTimer=setTimeout(function(){c._parameters=void 0,c._runNextBatch()},u)))),this._logger.trace("runRequestBatch end"),[2]}})})},t.prototype._runNextBatch=function(){if(!this._paused){this._logger.trace("runNextBatch start"),this._nextBatchTimer&&(clearTimeout(this._nextBatchTimer),this._nextBatchTimer=void 0);var e=this._parameters?Math.min(this._parameters.remaining,this._parameters.limit/10):1,r=this._queue.splice(0,e);r.length&&this._runRequestBatch(r),this._logger.trace("runNextBatch end")}},t}(),CN=function(){function t(e){this._children=new Map,this._paused=!1,this._partitionKeyCallback=e.getPartitionKey,this._createChildCallback=e.createChild}return t.prototype.request=function(e,r){return Pr(this,void 0,Promise,function(){var n,i;return ar(this,function(s){switch(s.label){case 0:return n=this._partitionKeyCallback(e),i=this._getChild(n),[4,i.request(e,r)];case 1:return[2,s.sent()]}})})},t.prototype.clear=function(){var e,r;try{for(var n=nc(this._children.values()),i=n.next();!i.done;i=n.next()){var s=i.value;s.clear()}}catch(o){e={error:o}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}},t.prototype.pause=function(){var e,r;this._paused=!0;try{for(var n=nc(this._children.values()),i=n.next();!i.done;i=n.next()){var s=i.value;s.pause()}}catch(o){e={error:o}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}},t.prototype.resume=function(){var e,r;this._paused=!1;try{for(var n=nc(this._children.values()),i=n.next();!i.done;i=n.next()){var s=i.value;s.resume()}}catch(o){e={error:o}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}},t.prototype.getChildStats=function(e){if(!this._children.has(e))return null;var r=this._children.get(e);return r instanceof Mv?r.stats:null},t.prototype._getChild=function(e){if(this._children.has(e))return this._children.get(e);var r=this._createChildCallback(e);return this._paused&&r.pause(),this._children.set(e,r),r},t}(),sT=function(){function t(e){var r=e.logger,n=e.bucketSize,i=e.timeFrame,s=e.doRequest,o=e.getPartitionKey;this._partitionedQueue=new Map,this._usedFromBucket=new Map,this._paused=!1,this._logger=Lo(as({name:"rate-limiter",emoji:!0},r)),this._bucketSize=n,this._timeFrame=i,this._callback=s,this._partitionKeyCallback=o}return t.prototype.request=function(e,r){return Pr(this,void 0,Promise,function(){var n=this;return ar(this,function(i){switch(i.label){case 0:return[4,new Promise(function(s,o){var a,l,u={req:e,resolve:s,reject:o,limitReachedBehavior:(a=r==null?void 0:r.limitReachedBehavior)!==null&&a!==void 0?a:"enqueue"},c=n._partitionKeyCallback(e),f=(l=n._usedFromBucket.get(c))!==null&&l!==void 0?l:0;if(f>=n._bucketSize||n._paused)switch(u.limitReachedBehavior){case"enqueue":{var d=n._getPartitionedQueue(c);d.push(u),f+d.length>=n._bucketSize?n._logger.warn("Rate limit of ".concat(n._bucketSize," for ").concat(c?"partition ".concat(c):"default partition"," was reached, waiting for ").concat(n._paused?"the limiter to be unpaused":"a free bucket entry","; queue size is ").concat(d.length)):n._logger.info("Enqueueing request for ".concat(c?"partition ".concat(c):"default partition"," because the rate limiter is paused; queue size is ").concat(d.length));break}case"null":{u.resolve(null),n._paused?n._logger.info("Returning null for request for ".concat(c?"partition ".concat(c):"default partition"," because the rate limiter is paused")):n._logger.warn("Rate limit of ".concat(n._bucketSize," for ").concat(c?"partition ".concat(c):"default partition"," was reached, dropping request and returning null"));break}case"throw":{u.reject(new Sv("Request dropped because ".concat(n._paused?"the rate limiter is paused":"the rate limit for ".concat(c?"partition ".concat(c):"default partition"," was reached"))));break}default:throw new Error("this should never happen")}else n._runRequest(u,c)})];case 1:return[2,i.sent()]}})})},t.prototype.clear=function(){this._partitionedQueue.clear()},t.prototype.pause=function(){this._paused=!0},t.prototype.resume=function(){var e,r;this._paused=!1;try{for(var n=nc(this._partitionedQueue.keys()),i=n.next();!i.done;i=n.next()){var s=i.value;this._runNextRequest(s)}}catch(o){e={error:o}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}},t.prototype._getPartitionedQueue=function(e){if(this._partitionedQueue.has(e))return this._partitionedQueue.get(e);var r=[];return this._partitionedQueue.set(e,r),r},t.prototype._runRequest=function(e,r){var n;return Pr(this,void 0,void 0,function(){var i,s,o,a,l,u,c=this;return ar(this,function(f){switch(f.label){case 0:i=this._getPartitionedQueue(r),this._logger.debug("doing a request for ".concat(r?"partition ".concat(r):"default partition",", new queue length is ").concat(i.length)),this._usedFromBucket.set(r,((n=this._usedFromBucket.get(r))!==null&&n!==void 0?n:0)+1),s=e.req,o=e.resolve,a=e.reject,f.label=1;case 1:return f.trys.push([1,3,4,5]),l=o,[4,this._callback(s)];case 2:return l.apply(void 0,[f.sent()]),[3,5];case 3:return u=f.sent(),a(u),[3,5];case 4:return setTimeout(function(){var d=c._usedFromBucket.get(r)-1;c._usedFromBucket.set(r,d),i.length&&d<c._bucketSize&&c._runNextRequest(r)},this._timeFrame),[7];case 5:return[2]}})})},t.prototype._runNextRequest=function(e){if(!this._paused){var r=this._getPartitionedQueue(e),n=r.shift();n&&this._runRequest(n,e)}},t}(),Jg=function(){function t(e){var r=e.logger,n=e.bucketSize,i=e.timeFrame,s=e.doRequest;this._queue=[],this._usedFromBucket=0,this._paused=!1,this._logger=Lo(as({name:"rate-limiter",emoji:!0},r)),this._bucketSize=n,this._timeFrame=i,this._callback=s}return t.prototype.request=function(e,r){return Pr(this,void 0,Promise,function(){var n=this;return ar(this,function(i){switch(i.label){case 0:return[4,new Promise(function(s,o){var a,l={req:e,resolve:s,reject:o,limitReachedBehavior:(a=r==null?void 0:r.limitReachedBehavior)!==null&&a!==void 0?a:"enqueue"};if(n._usedFromBucket>=n._bucketSize||n._paused)switch(l.limitReachedBehavior){case"enqueue":{n._queue.push(l),n._usedFromBucket+n._queue.length>=n._bucketSize?n._logger.warn("Rate limit of ".concat(n._bucketSize," was reached, waiting for ").concat(n._paused?"the limiter to be unpaused":"a free bucket entry","; queue size is ").concat(n._queue.length)):n._logger.info("Enqueueing request because the rate limiter is paused; queue size is ".concat(n._queue.length));break}case"null":{l.resolve(null),n._logger.warn("Rate limit of ".concat(n._bucketSize," was reached, dropping request and returning null")),n._paused?n._logger.info("Returning null for request because the rate limiter is paused"):n._logger.warn("Rate limit of ".concat(n._bucketSize," was reached, dropping request and returning null"));break}case"throw":{l.reject(new Sv("Request dropped because ".concat(n._paused?"the rate limiter is paused":"the rate limit was reached")));break}default:throw new Error("this should never happen")}else n._runRequest(l)})];case 1:return[2,i.sent()]}})})},t.prototype.clear=function(){this._queue=[]},t.prototype.pause=function(){this._paused=!0},t.prototype.resume=function(){this._paused=!1,this._runNextRequest()},t.prototype._runRequest=function(e){return Pr(this,void 0,void 0,function(){var r,n,i,s,o,a=this;return ar(this,function(l){switch(l.label){case 0:this._logger.debug("doing a request, new queue length is ".concat(this._queue.length)),this._usedFromBucket+=1,r=e.req,n=e.resolve,i=e.reject,l.label=1;case 1:return l.trys.push([1,3,4,5]),s=n,[4,this._callback(r)];case 2:return s.apply(void 0,[l.sent()]),[3,5];case 3:return o=l.sent(),i(o),[3,5];case 4:return setTimeout(function(){a._usedFromBucket-=1,a._queue.length&&a._usedFromBucket<a._bucketSize&&a._runNextRequest()},this._timeFrame),[7];case 5:return[2]}})})},t.prototype._runNextRequest=function(){if(!this._paused){var e=this._queue.shift();e&&this._runRequest(e)}},t}(),EN=function(t){jo(e,t);function e(r,n){return t.call(this,as(as({},n),{doRequest:function(i,s){return Pr(this,void 0,Promise,function(){return ar(this,function(o){switch(o.label){case 0:return[4,r.request(i,s)];case 1:return[2,o.sent()]}})})}}))||this}return e}(Jg);class TN{constructor(e,r,n,i=!1){this.owner=e,this.event=r,this.listener=n,this._internal=i}unbind(){this.owner.removeListener(this)}}class $o{constructor(){this._eventListeners=new Map,this._internalEventListeners=new Map}on(e,r){return this._addListener(!1,e,r)}addListener(e,r){return this._addListener(!1,e,r)}removeListener(e,r){this._removeListener(!1,e,r)}registerEvent(){const e=r=>this.addListener(e,r);return e}emit(e,...r){if(this._eventListeners.has(e))for(const n of this._eventListeners.get(e))n(...r);if(this._internalEventListeners.has(e))for(const n of this._internalEventListeners.get(e))n(...r)}registerInternalEvent(){const e=r=>this.addInternalListener(e,r);return e}addInternalListener(e,r){return this._addListener(!0,e,r)}removeInternalListener(e,r){this._removeListener(!0,e,r)}_addListener(e,r,n){const i=e?this._eventListeners:this._internalEventListeners;return i.has(r)?i.get(r).push(n):i.set(r,[n]),new TN(this,r,n,e)}_removeListener(e,r,n){const i=e?this._eventListeners:this._internalEventListeners;if(!r)i.clear();else if(typeof r=="object"){const s=r;this._removeListener(s._internal,s.event,s.listener)}else{const s=r;if(i.has(s))if(n){const o=i.get(s);let a=0;for(;(a=o.indexOf(n))!==-1;)o.splice(a,1)}else i.delete(s)}}}const kN=6e4;function PN(t){return hr(t.expiresIn,e=>t.obtainmentTimestamp+e*1e3-kN)}function Zs(t){var e;return(e=hr(PN(t),r=>Date.now()>r))!==null&&e!==void 0?e:!1}var Zg={exports:{}};(function(t,e){var r=typeof self<"u"?self:zd,n=function(){function s(){this.fetch=!1,this.DOMException=r.DOMException}return s.prototype=r,new s}();(function(s){(function(o){var a={searchParams:"URLSearchParams"in s,iterable:"Symbol"in s&&"iterator"in Symbol,blob:"FileReader"in s&&"Blob"in s&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in s,arrayBuffer:"ArrayBuffer"in s};function l(P){return P&&DataView.prototype.isPrototypeOf(P)}if(a.arrayBuffer)var u=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],c=ArrayBuffer.isView||function(P){return P&&u.indexOf(Object.prototype.toString.call(P))>-1};function f(P){if(typeof P!="string"&&(P=String(P)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(P))throw new TypeError("Invalid character in header field name");return P.toLowerCase()}function d(P){return typeof P!="string"&&(P=String(P)),P}function g(P){var N={next:function(){var W=P.shift();return{done:W===void 0,value:W}}};return a.iterable&&(N[Symbol.iterator]=function(){return N}),N}function v(P){this.map={},P instanceof v?P.forEach(function(N,W){this.append(W,N)},this):Array.isArray(P)?P.forEach(function(N){this.append(N[0],N[1])},this):P&&Object.getOwnPropertyNames(P).forEach(function(N){this.append(N,P[N])},this)}v.prototype.append=function(P,N){P=f(P),N=d(N);var W=this.map[P];this.map[P]=W?W+", "+N:N},v.prototype.delete=function(P){delete this.map[f(P)]},v.prototype.get=function(P){return P=f(P),this.has(P)?this.map[P]:null},v.prototype.has=function(P){return this.map.hasOwnProperty(f(P))},v.prototype.set=function(P,N){this.map[f(P)]=d(N)},v.prototype.forEach=function(P,N){for(var W in this.map)this.map.hasOwnProperty(W)&&P.call(N,this.map[W],W,this)},v.prototype.keys=function(){var P=[];return this.forEach(function(N,W){P.push(W)}),g(P)},v.prototype.values=function(){var P=[];return this.forEach(function(N){P.push(N)}),g(P)},v.prototype.entries=function(){var P=[];return this.forEach(function(N,W){P.push([W,N])}),g(P)},a.iterable&&(v.prototype[Symbol.iterator]=v.prototype.entries);function b(P){if(P.bodyUsed)return Promise.reject(new TypeError("Already read"));P.bodyUsed=!0}function w(P){return new Promise(function(N,W){P.onload=function(){N(P.result)},P.onerror=function(){W(P.error)}})}function m(P){var N=new FileReader,W=w(N);return N.readAsArrayBuffer(P),W}function p(P){var N=new FileReader,W=w(N);return N.readAsText(P),W}function y(P){for(var N=new Uint8Array(P),W=new Array(N.length),ie=0;ie<N.length;ie++)W[ie]=String.fromCharCode(N[ie]);return W.join("")}function x(P){if(P.slice)return P.slice(0);var N=new Uint8Array(P.byteLength);return N.set(new Uint8Array(P)),N.buffer}function S(){return this.bodyUsed=!1,this._initBody=function(P){this._bodyInit=P,P?typeof P=="string"?this._bodyText=P:a.blob&&Blob.prototype.isPrototypeOf(P)?this._bodyBlob=P:a.formData&&FormData.prototype.isPrototypeOf(P)?this._bodyFormData=P:a.searchParams&&URLSearchParams.prototype.isPrototypeOf(P)?this._bodyText=P.toString():a.arrayBuffer&&a.blob&&l(P)?(this._bodyArrayBuffer=x(P.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):a.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(P)||c(P))?this._bodyArrayBuffer=x(P):this._bodyText=P=Object.prototype.toString.call(P):this._bodyText="",this.headers.get("content-type")||(typeof P=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):a.searchParams&&URLSearchParams.prototype.isPrototypeOf(P)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},a.blob&&(this.blob=function(){var P=b(this);if(P)return P;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?b(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(m)}),this.text=function(){var P=b(this);if(P)return P;if(this._bodyBlob)return p(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(y(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},a.formData&&(this.formData=function(){return this.text().then(U)}),this.json=function(){return this.text().then(JSON.parse)},this}var k=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function R(P){var N=P.toUpperCase();return k.indexOf(N)>-1?N:P}function O(P,N){N=N||{};var W=N.body;if(P instanceof O){if(P.bodyUsed)throw new TypeError("Already read");this.url=P.url,this.credentials=P.credentials,N.headers||(this.headers=new v(P.headers)),this.method=P.method,this.mode=P.mode,this.signal=P.signal,!W&&P._bodyInit!=null&&(W=P._bodyInit,P.bodyUsed=!0)}else this.url=String(P);if(this.credentials=N.credentials||this.credentials||"same-origin",(N.headers||!this.headers)&&(this.headers=new v(N.headers)),this.method=R(N.method||this.method||"GET"),this.mode=N.mode||this.mode||null,this.signal=N.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&W)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(W)}O.prototype.clone=function(){return new O(this,{body:this._bodyInit})};function U(P){var N=new FormData;return P.trim().split("&").forEach(function(W){if(W){var ie=W.split("="),L=ie.shift().replace(/\+/g," "),B=ie.join("=").replace(/\+/g," ");N.append(decodeURIComponent(L),decodeURIComponent(B))}}),N}function G(P){var N=new v,W=P.replace(/\r?\n[\t ]+/g," ");return W.split(/\r?\n/).forEach(function(ie){var L=ie.split(":"),B=L.shift().trim();if(B){var K=L.join(":").trim();N.append(B,K)}}),N}S.call(O.prototype);function ee(P,N){N||(N={}),this.type="default",this.status=N.status===void 0?200:N.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in N?N.statusText:"OK",this.headers=new v(N.headers),this.url=N.url||"",this._initBody(P)}S.call(ee.prototype),ee.prototype.clone=function(){return new ee(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new v(this.headers),url:this.url})},ee.error=function(){var P=new ee(null,{status:0,statusText:""});return P.type="error",P};var ne=[301,302,303,307,308];ee.redirect=function(P,N){if(ne.indexOf(N)===-1)throw new RangeError("Invalid status code");return new ee(null,{status:N,headers:{location:P}})},o.DOMException=s.DOMException;try{new o.DOMException}catch{o.DOMException=function(N,W){this.message=N,this.name=W;var ie=Error(N);this.stack=ie.stack},o.DOMException.prototype=Object.create(Error.prototype),o.DOMException.prototype.constructor=o.DOMException}function Z(P,N){return new Promise(function(W,ie){var L=new O(P,N);if(L.signal&&L.signal.aborted)return ie(new o.DOMException("Aborted","AbortError"));var B=new XMLHttpRequest;function K(){B.abort()}B.onload=function(){var ae={status:B.status,statusText:B.statusText,headers:G(B.getAllResponseHeaders()||"")};ae.url="responseURL"in B?B.responseURL:ae.headers.get("X-Request-URL");var de="response"in B?B.response:B.responseText;W(new ee(de,ae))},B.onerror=function(){ie(new TypeError("Network request failed"))},B.ontimeout=function(){ie(new TypeError("Network request failed"))},B.onabort=function(){ie(new o.DOMException("Aborted","AbortError"))},B.open(L.method,L.url,!0),L.credentials==="include"?B.withCredentials=!0:L.credentials==="omit"&&(B.withCredentials=!1),"responseType"in B&&a.blob&&(B.responseType="blob"),L.headers.forEach(function(ae,de){B.setRequestHeader(de,ae)}),L.signal&&(L.signal.addEventListener("abort",K),B.onreadystatechange=function(){B.readyState===4&&L.signal.removeEventListener("abort",K)}),B.send(typeof L._bodyInit>"u"?null:L._bodyInit)})}return Z.polyfill=!0,s.fetch||(s.fetch=Z,s.Headers=v,s.Request=O,s.Response=ee),o.Headers=v,o.Request=O,o.Response=ee,o.fetch=Z,Object.defineProperty(o,"__esModule",{value:!0}),o})({})})(n),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var i=n;e=i.fetch,e.default=i.fetch,e.fetch=i.fetch,e.Headers=i.Headers,e.Request=i.Request,e.Response=i.Response,t.exports=e})(Zg,Zg.exports);var oT=Zg.exports;const AN=gn(oT);var mm=Object.prototype.hasOwnProperty,Es=Array.isArray,Nr=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),IN=function(e){for(;e.length>1;){var r=e.pop(),n=r.obj[r.prop];if(Es(n)){for(var i=[],s=0;s<n.length;++s)typeof n[s]<"u"&&i.push(n[s]);r.obj[r.prop]=i}}},aT=function(e,r){for(var n=r&&r.plainObjects?Object.create(null):{},i=0;i<e.length;++i)typeof e[i]<"u"&&(n[i]=e[i]);return n},ON=function t(e,r,n){if(!r)return e;if(typeof r!="object"){if(Es(e))e.push(r);else if(e&&typeof e=="object")(n&&(n.plainObjects||n.allowPrototypes)||!mm.call(Object.prototype,r))&&(e[r]=!0);else return[e,r];return e}if(!e||typeof e!="object")return[e].concat(r);var i=e;return Es(e)&&!Es(r)&&(i=aT(e,n)),Es(e)&&Es(r)?(r.forEach(function(s,o){if(mm.call(e,o)){var a=e[o];a&&typeof a=="object"&&s&&typeof s=="object"?e[o]=t(a,s,n):e.push(s)}else e[o]=s}),e):Object.keys(r).reduce(function(s,o){var a=r[o];return mm.call(s,o)?s[o]=t(s[o],a,n):s[o]=a,s},i)},RN=function(e,r){return Object.keys(r).reduce(function(n,i){return n[i]=r[i],n},e)},MN=function(t,e,r){var n=t.replace(/\+/g," ");if(r==="iso-8859-1")return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch{return n}},NN=function(e,r,n){if(e.length===0)return e;var i=e;if(typeof e=="symbol"?i=Symbol.prototype.toString.call(e):typeof e!="string"&&(i=String(e)),n==="iso-8859-1")return escape(i).replace(/%u[0-9a-f]{4}/gi,function(l){return"%26%23"+parseInt(l.slice(2),16)+"%3B"});for(var s="",o=0;o<i.length;++o){var a=i.charCodeAt(o);if(a===45||a===46||a===95||a===126||a>=48&&a<=57||a>=65&&a<=90||a>=97&&a<=122){s+=i.charAt(o);continue}if(a<128){s=s+Nr[a];continue}if(a<2048){s=s+(Nr[192|a>>6]+Nr[128|a&63]);continue}if(a<55296||a>=57344){s=s+(Nr[224|a>>12]+Nr[128|a>>6&63]+Nr[128|a&63]);continue}o+=1,a=65536+((a&1023)<<10|i.charCodeAt(o)&1023),s+=Nr[240|a>>18]+Nr[128|a>>12&63]+Nr[128|a>>6&63]+Nr[128|a&63]}return s},DN=function(e){for(var r=[{obj:{o:e},prop:"o"}],n=[],i=0;i<r.length;++i)for(var s=r[i],o=s.obj[s.prop],a=Object.keys(o),l=0;l<a.length;++l){var u=a[l],c=o[u];typeof c=="object"&&c!==null&&n.indexOf(c)===-1&&(r.push({obj:o,prop:u}),n.push(c))}return IN(r),e},jN=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},LN=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},BN=function(e,r){return[].concat(e,r)},Nv={arrayToObject:aT,assign:RN,combine:BN,compact:DN,decode:MN,encode:NN,isBuffer:LN,isRegExp:jN,merge:ON},$N=String.prototype.replace,UN=/%20/g,FN=Nv,q2={RFC1738:"RFC1738",RFC3986:"RFC3986"},qN=FN.assign({default:q2.RFC3986,formatters:{RFC1738:function(t){return $N.call(t,UN,"+")},RFC3986:function(t){return String(t)}}},q2),lT=Nv,xa=qN,HN=Object.prototype.hasOwnProperty,H2={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,r){return e+"["+r+"]"},repeat:function(e){return e}},eo=Array.isArray,zN=Array.prototype.push,ey=function(t,e){zN.apply(t,eo(e)?e:[e])},WN=Date.prototype.toISOString,z2=xa.default,ft={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:lT.encode,encodeValuesOnly:!1,format:z2,formatter:xa.formatters[z2],indices:!1,serializeDate:function(e){return WN.call(e)},skipNulls:!1,strictNullHandling:!1},GN=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},VN=function t(e,r,n,i,s,o,a,l,u,c,f,d,g){var v=e;if(typeof a=="function"?v=a(r,v):v instanceof Date?v=c(v):n==="comma"&&eo(v)&&(v=v.join(",")),v===null){if(i)return o&&!d?o(r,ft.encoder,g,"key"):r;v=""}if(GN(v)||lT.isBuffer(v)){if(o){var b=d?r:o(r,ft.encoder,g,"key");return[f(b)+"="+f(o(v,ft.encoder,g,"value"))]}return[f(r)+"="+f(String(v))]}var w=[];if(typeof v>"u")return w;var m;if(eo(a))m=a;else{var p=Object.keys(v);m=l?p.sort(l):p}for(var y=0;y<m.length;++y){var x=m[y];s&&v[x]===null||(eo(v)?ey(w,t(v[x],typeof n=="function"?n(r,x):r,n,i,s,o,a,l,u,c,f,d,g)):ey(w,t(v[x],r+(u?"."+x:"["+x+"]"),n,i,s,o,a,l,u,c,f,d,g)))}return w},QN=function(e){if(!e)return ft;if(e.encoder!==null&&e.encoder!==void 0&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var r=e.charset||ft.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=xa.default;if(typeof e.format<"u"){if(!HN.call(xa.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var i=xa.formatters[n],s=ft.filter;return(typeof e.filter=="function"||eo(e.filter))&&(s=e.filter),{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:ft.addQueryPrefix,allowDots:typeof e.allowDots>"u"?ft.allowDots:!!e.allowDots,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:ft.charsetSentinel,delimiter:typeof e.delimiter>"u"?ft.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:ft.encode,encoder:typeof e.encoder=="function"?e.encoder:ft.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:ft.encodeValuesOnly,filter:s,formatter:i,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:ft.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:ft.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:ft.strictNullHandling}},KN=function(t,e){var r=t,n=QN(e),i,s;typeof n.filter=="function"?(s=n.filter,r=s("",r)):eo(n.filter)&&(s=n.filter,i=s);var o=[];if(typeof r!="object"||r===null)return"";var a;e&&e.arrayFormat in H2?a=e.arrayFormat:e&&"indices"in e?a=e.indices?"indices":"repeat":a="indices";var l=H2[a];i||(i=Object.keys(r)),n.sort&&i.sort(n.sort);for(var u=0;u<i.length;++u){var c=i[u];n.skipNulls&&r[c]===null||ey(o,VN(r[c],c,l,n.strictNullHandling,n.skipNulls,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.formatter,n.encodeValuesOnly,n.charset))}var f=o.join(n.delimiter),d=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?d+="utf8=%26%2310003%3B&":d+="utf8=%E2%9C%93&"),f.length>0?d+f:""};const uT=gn(KN);var YN=Nv;YN.decode;const h=Symbol("twurpleRawData");class te{constructor(e){this[h]=e}}class Jr extends Error{constructor(e,r){var n;super(e,r),Object.setPrototypeOf(this,new.target.prototype),(n=Error.captureStackTrace)===null||n===void 0||n.call(Error,this,new.target.constructor)}get name(){return this.constructor.name}}class XN extends Jr{constructor(){super("Relation returned null - this may be a library bug or a race condition in your own code")}}function oe(t){if(t==null)throw new XN;return t}function $(t,e,r){return n=>{const i=r?function(){return`[${e}#${this[r]} - please check https://twurple.js.org/reference/${t}/classes/${e}.html for available properties]`}:function(){return`[${e} - please check https://twurple.js.org/reference/${t}/classes/${e}.html for available properties]`};Object.defineProperty(n.prototype,Symbol.for("nodejs.util.inspect.custom"),{value:i,enumerable:!1})}}let ty=class extends te{get authorName(){return this[h].author_name}get bitsEnabled(){return this[h].bits_enabled}get installable(){return this[h].can_install}get configurationLocation(){return this[h].configuration_location}get description(){return this[h].description}get tosUrl(){return this[h].eula_tos_url}get hasChatSupport(){return this[h].has_chat_support}get iconUrl(){return this[h].icon_url}getIconUrl(e){return this[h].icon_urls[e]}get id(){return this[h].id}get name(){return this[h].name}get privacyPolicyUrl(){return this[h].privacy_policy_url}get requestsIdentityLink(){return this[h].request_identity_link}get screenshotUrls(){return this[h].screenshot_urls}get state(){return this[h].state}get subscriptionsSupportLevel(){return this[h].subscriptions_support_level}get summary(){return this[h].summary}get supportEmail(){return this[h].support_email}get version(){return this[h].version}get viewerSummery(){return this[h].viewer_summary}get allowedConfigUrls(){return this[h].allowlisted_config_urls}get allowedPanelUrls(){return this[h].allowlisted_panel_urls}get mobileViewerUrl(){var e,r;return(r=(e=this[h].views.mobile)===null||e===void 0?void 0:e.viewer_url)!==null&&r!==void 0?r:null}get panelViewerUrl(){var e,r;return(r=(e=this[h].views.panel)===null||e===void 0?void 0:e.viewer_url)!==null&&r!==void 0?r:null}get panelHeight(){var e,r;return(r=(e=this[h].views.panel)===null||e===void 0?void 0:e.height)!==null&&r!==void 0?r:null}get panelCanLinkExternalContent(){var e,r;return(r=(e=this[h].views.panel)===null||e===void 0?void 0:e.can_link_external_content)!==null&&r!==void 0?r:null}get overlayViewerUrl(){var e,r;return(r=(e=this[h].views.video_overlay)===null||e===void 0?void 0:e.viewer_url)!==null&&r!==void 0?r:null}get overlayCanLinkExternalContent(){var e,r;return(r=(e=this[h].views.video_overlay)===null||e===void 0?void 0:e.can_link_external_content)!==null&&r!==void 0?r:null}get componentViewerUrl(){var e,r;return(r=(e=this[h].views.component)===null||e===void 0?void 0:e.viewer_url)!==null&&r!==void 0?r:null}get componentAspectWidth(){var e,r;return(r=(e=this[h].views.component)===null||e===void 0?void 0:e.aspect_width)!==null&&r!==void 0?r:null}get componentAspectHeight(){var e,r;return(r=(e=this[h].views.component)===null||e===void 0?void 0:e.aspect_height)!==null&&r!==void 0?r:null}get componentAspectRatioX(){var e,r;return(r=(e=this[h].views.component)===null||e===void 0?void 0:e.aspect_ratio_x)!==null&&r!==void 0?r:null}get componentAspectRatioY(){var e,r;return(r=(e=this[h].views.component)===null||e===void 0?void 0:e.aspect_ratio_y)!==null&&r!==void 0?r:null}get componentAutoScales(){var e,r;return(r=(e=this[h].views.component)===null||e===void 0?void 0:e.autoscale)!==null&&r!==void 0?r:null}get componentScalePixels(){var e,r;return(r=(e=this[h].views.component)===null||e===void 0?void 0:e.scale_pixels)!==null&&r!==void 0?r:null}get componentTargetHeight(){var e,r;return(r=(e=this[h].views.component)===null||e===void 0?void 0:e.target_height)!==null&&r!==void 0?r:null}get componentSize(){var e,r;return(r=(e=this[h].views.component)===null||e===void 0?void 0:e.size)!==null&&r!==void 0?r:null}get componentZoom(){var e,r;return(r=(e=this[h].views.component)===null||e===void 0?void 0:e.zoom)!==null&&r!==void 0?r:null}get componentZoomPixels(){var e,r;return(r=(e=this[h].views.component)===null||e===void 0?void 0:e.zoom_pixels)!==null&&r!==void 0?r:null}get componentCanLinkExternalContent(){var e,r;return(r=(e=this[h].views.component)===null||e===void 0?void 0:e.can_link_external_content)!==null&&r!==void 0?r:null}get configViewerUrl(){var e,r;return(r=(e=this[h].views.config)===null||e===void 0?void 0:e.viewer_url)!==null&&r!==void 0?r:null}get configCanLinkExternalContent(){var e,r;return(r=(e=this[h].views.config)===null||e===void 0?void 0:e.can_link_external_content)!==null&&r!==void 0?r:null}};ty=C([$("api","HelixExtension","id")],ty);class vi extends Jr{constructor(e){super(`${e} - this should never happen, please file a bug in the GitHub issue tracker`)}}function E(t){return typeof t=="string"?t:typeof t=="number"?t.toString(10):t.id}function Sa(t){return typeof t=="string"?t:t.name}class ls extends Jr{constructor(e,r,n,i,s,o){super(`Encountered HTTP status code ${e}: ${r}

URL: ${n}
Method: ${i}
Body:
${!o&&s.length>150?`${s.slice(0,147)}...`:s}`),this._statusCode=e,this._url=n,this._method=i,this._body=s}get statusCode(){return this._statusCode}get url(){return this._url}get method(){return this._method}get body(){return this._body}}async function ry(t,e){var r;if(!t.ok){const n=t.headers.get("Content-Type")==="application/json",i=n?JSON.stringify(await t.json(),null,2):await t.text(),s=uT(e.query,{arrayFormat:"repeat",addQueryPrefix:!0}),o=`${e.url}${s}`;throw new ls(t.status,t.statusText,o,(r=e.method)!==null&&r!==void 0?r:"GET",i,n)}}async function cT(t){if(t.status===204)return;const e=await t.text();if(e)return JSON.parse(e)}function JN(t,e){switch(e){case"helix":return`https://api.twitch.tv/helix/${t.replace(/^\//,"")}`;case"auth":return`https://id.twitch.tv/oauth2/${t.replace(/^\//,"")}`;case"custom":return t;default:return t}}async function Ef(t,e,r,n,i={}){var s,o;const a=(s=t.type)!==null&&s!==void 0?s:"helix",l=JN(t.url,a),u=uT(t.query,{arrayFormat:"repeat",addQueryPrefix:!0}),c=new oT.Headers({Accept:"application/json"});let f;t.jsonBody&&(f=JSON.stringify(t.jsonBody),c.append("Content-Type","application/json")),e&&a!=="auth"&&c.append("Client-ID",e),r&&c.append("Authorization",`${a==="helix"?n??"Bearer":"OAuth"} ${r}`);const d={...i,method:(o=t.method)!==null&&o!==void 0?o:"GET",headers:c,body:f};return await AN(`${l}${u}`,d)}async function Yl(t,e,r,n,i={}){const s=await Ef(t,e,r,n,i);return await ry(s,t),await cT(s)}function we(t){return{broadcaster_id:E(t)}}class Zi extends Jr{constructor(e){super("Invalid token supplied",e)}}class oc extends Jr{}function ZN(t,e,r,n){return{grant_type:"authorization_code",client_id:t,client_secret:e,code:r,redirect_uri:n}}function e6(t,e){return{grant_type:"client_credentials",client_id:t,client_secret:e}}function t6(t,e,r){return{grant_type:"refresh_token",client_id:t,client_secret:e,refresh_token:r}}let Yc=class extends te{constructor(e){super(e),this._obtainmentDate=new Date}get clientId(){return this[h].client_id}get userId(){var e;return(e=this[h].user_id)!==null&&e!==void 0?e:null}get userName(){var e;return(e=this[h].login)!==null&&e!==void 0?e:null}get scopes(){return this[h].scopes}get expiryDate(){return hr(this[h].expires_in,e=>new Date(this._obtainmentDate.getTime()+e*1e3))}};Yc=C([$("auth","TokenInfo","clientId")],Yc);function Dv(t){var e,r;return{accessToken:t.access_token,refreshToken:t.refresh_token||null,scope:(e=t.scope)!==null&&e!==void 0?e:[],expiresIn:(r=t.expires_in)!==null&&r!==void 0?r:null,obtainmentTimestamp:Date.now()}}async function r6(t,e,r,n){return Dv(await Yl({type:"auth",url:"token",method:"POST",query:ZN(t,e,r,n)}))}async function n6(t,e){return Dv(await Yl({type:"auth",url:"token",method:"POST",query:e6(t,e)}))}async function W2(t,e,r){return Dv(await Yl({type:"auth",url:"token",method:"POST",query:t6(t,e,r)}))}async function us(t,e){try{const r=await Yl({type:"auth",url:"validate"},e,t);return new Yc(r)}catch(r){throw r instanceof ls&&r.statusCode===401?new Zi({cause:r}):r}}const i6=new Map([["channel_commercial",["channel:edit:commercial"]],["channel_editor",["channel:manage:broadcast"]],["channel_read",["channel:read:stream_key"]],["channel_subscriptions",["channel:read:subscriptions"]],["user_blocks_read",["user:read:blocked_users"]],["user_blocks_edit",["user:manage:blocked_users"]],["user_follows_edit",["user:edit:follows"]],["user_read",["user:read:email"]],["user_subscriptions",["user:read:subscriptions"]],["user:edit:broadcast",["channel:manage:broadcast","channel:manage:extensions"]]]);function s6(t,e){if(e!=null&&e.length){const r=new Set(t.flatMap(n=>{var i;return[n,...(i=i6.get(n))!==null&&i!==void 0?i:[]]}));if(e.every(n=>!r.has(n))){const n=e.join(", ");throw new Error(`This token does not have any of the requested scopes (${n}) and can not be upgraded.
If you need dynamically upgrading scopes, please implement the AuthProvider interface accordingly:

	https://twurple.js.org/reference/auth/interfaces/AuthProvider.html`)}}}function ny(t,e){for(const r of e)s6(t,r)}async function o6(t,e,r,n,i){if(i!=null&&i.length||!r){const s=await us(e,t);if(!s.userId)throw new Error("Trying to use an app access token as a user access token");const o=n??s.scopes;return i&&ny(o,i.filter(a=>!!a)),[o,s.userId]}return[n,r]}class G2{constructor(e){this._newTokenScopeSets=[],this._newTokenPromise=null,this._queuedScopeSets=[],this._queueExecutor=null,this._queuePromise=null,this._executor=e}async fetch(...e){var r;const n=e.filter(a=>!!a);if(this._newTokenPromise){if(!n.length)return await this._newTokenPromise;if(this._queueExecutor?this._queuedScopeSets.push(...n):this._queuedScopeSets=[...n],!this._queuePromise){const{promise:a,resolve:l,reject:u}=tl();this._queuePromise=a,this._queueExecutor=async()=>{var c;if(this._queuePromise){this._newTokenScopeSets=this._queuedScopeSets,this._queuedScopeSets=[],this._newTokenPromise=this._queuePromise,this._queuePromise=null,this._queueExecutor=null;try{l(await this._executor(this._newTokenScopeSets))}catch(f){u(f)}finally{this._newTokenPromise=null,this._newTokenScopeSets=[],(c=this._queueExecutor)===null||c===void 0||c.call(this)}}}}return await this._queuePromise}this._newTokenScopeSets=[...n];const{promise:i,resolve:s,reject:o}=tl();this._newTokenPromise=i;try{s(await this._executor(this._newTokenScopeSets))}catch(a){o(a)}finally{this._newTokenPromise=null,this._newTokenScopeSets=[],(r=this._queueExecutor)===null||r===void 0||r.call(this)}return await i}}class V2 extends Jr{constructor(e){super(`The user context for the user ${e} has been disabled.
This happened because the access token became invalid (e.g. by expiry) and refreshing it failed (e.g. because the account's password was changed).

Use .addUser(), .addUserForToken() or .addUserForCode() for the same user context to re-enable the user with a new, valid token.`),this.userId=e}}class a6 extends Jr{constructor(e){super(`User ${e} was removed while trying to fetch a token.

Make sure you're not executing any actions when you want to remove a user.`),this.userId=e}}class l6 extends Jr{constructor(e){super(`Unknown intent: ${e}`),this.intent=e}}let wi=class extends $o{constructor(e){var r;super(),this._userAccessTokens=new Map,this._userTokenFetchers=new Map,this._intentToUserId=new Map,this._userIdToIntents=new Map,this._cachedRefreshFailures=new Set,this.onRefresh=this.registerEvent(),this.onRefreshFailure=this.registerEvent(),this._clientId=e.clientId,this._clientSecret=e.clientSecret,this._redirectUri=e.redirectUri,this._appImpliedScopes=(r=e.appImpliedScopes)!==null&&r!==void 0?r:[],this._appTokenFetcher=new G2(async n=>await this._fetchAppToken(n))}addUser(e,r,n){const i=E(e);if(!r.refreshToken)throw new Error(`Trying to add user ${i} without refresh token`);this._cachedRefreshFailures.delete(i),this._userAccessTokens.set(i,{...r,userId:i}),this._userTokenFetchers.has(i)||this._userTokenFetchers.set(i,new G2(async s=>await this._fetchUserToken(i,s))),n&&this.addIntentsToUser(e,n)}async addUserForToken(e,r){let n=null;if(e.accessToken&&!Zs(e))try{const a=await us(e.accessToken);n=[e,a]}catch(a){if(!(a instanceof Zi))throw a}if(!n){if(!e.refreshToken)throw new Zi;const a=await W2(this._clientId,this._clientSecret,e.refreshToken),l=await us(a.accessToken);this.emit(this.onRefresh,l.userId,a),n=[a,l]}const[i,s]=n;if(!s.userId)throw new oc("Could not determine a user ID for your token; you might be trying to disguise an app token as a user token.");const o=i.scope?i:{...i,scope:s.scopes};return this.addUser(s.userId,o,r),s.userId}async addUserForCode(e,r){if(!this._redirectUri)throw new Error("This method requires you to pass a `redirectUri` as a configuration property");const n=await r6(this._clientId,this._clientSecret,e,this._redirectUri);return await this.addUserForToken(n,r)}hasUser(e){return this._userTokenFetchers.has(E(e))}removeUser(e){const r=E(e);if(this._userIdToIntents.has(r)){const n=this._userIdToIntents.get(r);for(const i of n)this._intentToUserId.delete(i);this._userIdToIntents.delete(r)}this._userAccessTokens.delete(r),this._userTokenFetchers.delete(r),this._cachedRefreshFailures.delete(r)}addIntentsToUser(e,r){const n=E(e);if(!this._userAccessTokens.has(n))throw new Error("Trying to add intents to a user that was not added to this provider");for(const i of r)this._intentToUserId.has(i)&&this._userIdToIntents.get(this._intentToUserId.get(i)).delete(i),this._intentToUserId.set(i,n),this._userIdToIntents.has(n)?this._userIdToIntents.get(n).add(i):this._userIdToIntents.set(n,new Set([i]))}getIntentsForUser(e){const r=E(e);return this._userIdToIntents.has(r)?Array.from(this._userIdToIntents.get(r)):[]}removeIntents(e){var r;for(const n of e)if(this._intentToUserId.has(n)){const i=this._intentToUserId.get(n);(r=this._userIdToIntents.get(i))===null||r===void 0||r.delete(n),this._intentToUserId.delete(n)}}async refreshAccessTokenForUser(e){const r=E(e);if(this._cachedRefreshFailures.has(r))throw new V2(r);const n=this._userAccessTokens.get(r);if(!n)throw new Error("Trying to refresh token for user that was not added to the provider");const i=await this._refreshUserTokenWithCallback(r,n.refreshToken);return this._checkIntermediateUserRemoval(r),this._userAccessTokens.set(r,{...i,userId:r}),this.emit(this.onRefresh,r,i),{...i,userId:r}}async refreshAccessTokenForIntent(e){if(!this._intentToUserId.has(e))throw new l6(e);const r=this._intentToUserId.get(e);return await this.refreshAccessTokenForUser(r)}get clientId(){return this._clientId}getCurrentScopesForUser(e){var r;const n=this._userAccessTokens.get(E(e));if(!n)throw new Error("Trying to get scopes for user that was not added to the provider");return(r=n.scope)!==null&&r!==void 0?r:[]}async getAccessTokenForUser(e,...r){const n=E(e),i=this._userTokenFetchers.get(n);if(!i)return null;if(this._cachedRefreshFailures.has(n))throw new V2(n);return await i.fetch(...r)}async getAccessTokenForIntent(e,...r){if(!this._intentToUserId.has(e))return null;const n=this._intentToUserId.get(e),i=await this.getAccessTokenForUser(n,...r);if(!i)throw new vi(`Found intent ${e} corresponding to user ID ${n} but no token was found`);return{...i,userId:n}}async getAnyAccessToken(e){if(e){const r=E(e);if(this._userAccessTokens.has(r)){const n=await this.getAccessTokenForUser(r);if(!n)throw new vi(`Token for user ID ${r} exists but nothing was returned by getAccessTokenForUser`);return{...n,userId:r}}}return await this.getAppAccessToken()}async getAppAccessToken(e=!1){return e&&(this._appAccessToken=void 0),await this._appTokenFetcher.fetch(...this._appImpliedScopes.map(r=>[r]))}_checkIntermediateUserRemoval(e){if(!this._userTokenFetchers.has(e))throw this._cachedRefreshFailures.delete(e),new a6(e)}async _fetchUserToken(e,r){const n=this._userAccessTokens.get(e);if(!n)throw new Error("Trying to get token for user that was not added to the provider");if(n.accessToken&&!Zs(n))try{if(n.scope)return ny(n.scope,r),n;const[s=[]]=await o6(this._clientId,n.accessToken,e,n.scope,r),o={...n,scope:s};return this._checkIntermediateUserRemoval(e),this._userAccessTokens.set(e,o),o}catch(s){if(!(s instanceof Zi))throw s}this._checkIntermediateUserRemoval(e);const i=await this.refreshAccessTokenForUser(e);return ny(i.scope,r),i}async _refreshUserTokenWithCallback(e,r){try{return await W2(this.clientId,this._clientSecret,r)}catch(n){throw this._cachedRefreshFailures.add(e),this.emit(this.onRefreshFailure,e),n}}async _fetchAppToken(e){if(e.length>0)for(const r of e)if(this._appImpliedScopes.length){if(r.every(n=>!this._appImpliedScopes.includes(n)))throw new Error(`One of the scopes ${r.join(", ")} requested but only the scope ${this._appImpliedScopes.join(", ")} is implied`)}else throw new Error(`One of the scopes ${r.join(", ")} requested but the client credentials flow does not support scopes`);return!this._appAccessToken||Zs(this._appAccessToken)?await this._refreshAppToken():this._appAccessToken}async _refreshAppToken(){return this._appAccessToken=await n6(this._clientId,this._clientSecret)}};C([Y(!1)],wi.prototype,"_clientSecret",void 0);C([Y(!1)],wi.prototype,"_userAccessTokens",void 0);C([Y(!1)],wi.prototype,"_userTokenFetchers",void 0);C([Y(!1)],wi.prototype,"_appAccessToken",void 0);C([Y(!1)],wi.prototype,"_appTokenFetcher",void 0);wi=C([$("auth","RefreshingAuthProvider","clientId")],wi);class u6 extends $o{constructor({lineBased:e,logger:r,additionalOptions:n}={}){super(),this._currentLine="",this._connecting=!1,this._connected=!1,this.onReceive=this.registerEvent(),this.onConnect=this.registerEvent(),this.onDisconnect=this.registerEvent(),this.onEnd=this.registerEvent(),this._lineBased=e??!1,this._logger=r,this._additionalOptions=n}get isConnecting(){return this._connecting}get isConnected(){return this._connected}sendLine(e){this._connected&&(e=e.replace(/[\0\r\n]/g,""),this.sendRaw(`${e}\r
`))}assumeExternalDisconnect(){var e;(e=this._logger)===null||e===void 0||e.trace("AbstractConnection assumeExternalDisconnect"),this._connected=!1,this._connecting=!1,this.clearSocket(),this.emit(this.onDisconnect,!1)}receiveRaw(e){var r,n;if(!this._lineBased){this.emit(this.onReceive,e);return}const i=e.split(`\r
`);if(this._currentLine+=(r=i.shift())!==null&&r!==void 0?r:"",i.length){this.emit(this.onReceive,this._currentLine),this._currentLine=(n=i.pop())!==null&&n!==void 0?n:"";for(const s of i)this.emit(this.onReceive,s)}}}class c6{constructor(){throw new Error("DirectConnection is not implemented in a browser environment")}}class d6 extends $o{constructor(e,r,n={}){var i;super(),this._type=e,this._target=r,this._config=n,this._retryLimit=1/0,this._initialRetryLimit=3,this._connecting=!1,this._connectionRetryCount=0,this.onReceive=this.registerEvent(),this.onConnect=this.registerEvent(),this.onDisconnect=this.registerEvent(),this.onEnd=this.registerEvent(),this._retryLimit=(i=n.retryLimit)!==null&&i!==void 0?i:1/0,this._logger=n.logger}get isConnected(){var e,r;return(r=(e=this._currentConnection)===null||e===void 0?void 0:e.isConnected)!==null&&r!==void 0?r:!1}get isConnecting(){var e,r;return(r=(e=this._currentConnection)===null||e===void 0?void 0:e.isConnecting)!==null&&r!==void 0?r:this._connecting}get hasSocket(){var e,r;return(r=(e=this._currentConnection)===null||e===void 0?void 0:e.hasSocket)!==null&&r!==void 0?r:!1}sendLine(e){var r;(r=this._currentConnection)===null||r===void 0||r.sendLine(e)}connect(){if(this._currentConnection||this._connecting)throw new Error("Connection already present");this._connecting=!0,this._connectionRetryCount=0,this._tryConnect(!0)}disconnect(){var e;if((e=this._logger)===null||e===void 0||e.trace(`PersistentConnection disconnect currentConnectionExists:${(!!this._currentConnection).toString()} connecting:${this._connecting.toString()}`),this._connecting=!1,this._currentConnection){const r=this._currentConnection;this._currentConnection=void 0,r.disconnect()}}assumeExternalDisconnect(){var e,r;(e=this._logger)===null||e===void 0||e.trace("PersistentConnection assumeExternalDisconnect"),(r=this._currentConnection)===null||r===void 0||r.assumeExternalDisconnect()}reconnect(){this._reconnect(!0)}acknowledgeSuccessfulReconnect(){this._previousConnection&&(this._previousConnection.disconnect(),this._previousConnection=void 0)}_startTryingToConnect(e=!1){this._connecting=!0,this._connectionRetryCount=0,this._tryConnect(e)}_tryConnect(e=!1){var r,n;(r=this._logger)===null||r===void 0||r.trace(`PersistentConnection tryConnect currentConnectionExists:${(!!this._currentConnection).toString()} connecting:${this._connecting.toString()}`);const i=e?this._initialRetryLimit:this._retryLimit;(n=this._retryTimerGenerator)!==null&&n!==void 0||(this._retryTimerGenerator=bE(120));const s=this._currentConnection=new this._type(P4(this._target),this._config);s.onReceive(o=>this.emit(this.onReceive,o)),s.onConnect(()=>{this.emit(this.onConnect),this._connecting=!1,this._retryTimerGenerator=void 0}),s.onDisconnect((o,a)=>{var l,u,c;if(this.emit(this.onDisconnect,o,a),o)this.emit(this.onEnd,!0),this._connecting=!1,this._retryTimerGenerator=void 0,s.disconnect(),this._currentConnection===s&&(this._currentConnection=void 0),this._previousConnection===s&&(this._previousConnection=void 0);else if(this._connecting){if((l=this._logger)===null||l===void 0||l.debug(`Connection error caught: ${(u=a==null?void 0:a.message)!==null&&u!==void 0?u:"unknown error"}`),this._connectionRetryCount>=i)return;this._connectionRetryCount++;const f=this._retryTimerGenerator.next().value;f!==0&&((c=this._logger)===null||c===void 0||c.info(`Retrying in ${f} seconds`)),setTimeout(()=>{var d;this._connecting&&((d=this._logger)===null||d===void 0||d.info(e?"Retrying connection":"Trying to reconnect"),this._tryConnect())},f*1e3)}else this._reconnect()}),s.connect()}_reconnect(e=!1){e&&this._config.overlapManualReconnect?(this._previousConnection=this._currentConnection,this._currentConnection=void 0):this.disconnect(),this._startTryingToConnect(e)}}var Ts=null;typeof WebSocket<"u"?Ts=WebSocket:typeof MozWebSocket<"u"?Ts=MozWebSocket:typeof global<"u"?Ts=global.WebSocket||global.MozWebSocket:typeof window<"u"?Ts=window.WebSocket||window.MozWebSocket:typeof self<"u"&&(Ts=self.WebSocket||self.MozWebSocket);class f6 extends u6{constructor(e,r){if(super(r),this._socket=null,this._closingOnDemand=!1,e.hostName&&e.port)this._url=`ws${e.secure?"s":""}://${e.hostName}:${e.port}`;else if(e.url)this._url=e.url;else throw new Error("WebSocketConnection requires either hostName & port or url to be set")}get hasSocket(){return!!this._socket}sendRaw(e){var r;(r=this._socket)===null||r===void 0||r.send(e)}connect(){var e,r;(e=this._logger)===null||e===void 0||e.trace("WebSocketConnection connect"),this._connecting=!0,this._socket=new Ts(this._url,(r=this._additionalOptions)===null||r===void 0?void 0:r.wsOptions),this._socket.onopen=()=>{var n;(n=this._logger)===null||n===void 0||n.trace("WebSocketConnection onOpen"),this._connected=!0,this._connecting=!1,this.emit(this.onConnect)},this._socket.onmessage=({data:n})=>{this.receiveRaw(n.toString())},this._socket.onerror=n=>{var i;(i=this._logger)===null||i===void 0||i.trace(`WebSocketConnection onError message:${n.message}`)},this._socket.onclose=n=>{var i;const s=this._connected,o=this._connecting;if((i=this._logger)===null||i===void 0||i.trace(`WebSocketConnection onClose wasConnected:${s.toString()} wasConnecting:${o.toString()} closingOnDemand:${this._closingOnDemand.toString()} wasClean:${n.wasClean.toString()}`),this._connected=!1,this._connecting=!1,n.wasClean||this._closingOnDemand)this._closingOnDemand=!1,this.emit(this.onDisconnect,!0),this.emit(this.onEnd,!0);else{const a=new Error(`[${n.code}] ${n.reason}`);this.emit(this.onDisconnect,!1,a),this.emit(this.onEnd,!1,a)}this.clearSocket()}}disconnect(){var e,r;(e=this._logger)===null||e===void 0||e.trace("WebSocketConnection disconnect"),this._closingOnDemand=!0,(r=this._socket)===null||r===void 0||r.close()}clearSocket(){this._socket&&(this._socket.onopen=null,this._socket.onmessage=null,this._socket.onerror=null,this._socket.onclose=null,this._socket=null)}}function Ca(t){var e,r,n;if(Array.isArray(t)){for(r=Array(e=t.length);e--;)r[e]=(n=t[e])&&typeof n=="object"?Ca(n):n;return r}if(Object.prototype.toString.call(t)==="[object Object]"){r={};for(e in t)e==="__proto__"?Object.defineProperty(r,e,{value:Ca(t[e]),configurable:!0,enumerable:!0,writable:!0}):r[e]=(n=t[e])&&typeof n=="object"?Ca(n):n;return r}return t}const h6={name:"away-notify"};class Xc extends Error{constructor(e,r,n){super(`command "${e}" expected ${r} or more parameters, got ${n}`),this._command=e,this._expectedParams=r,this._actualParams=n,Object.setPrototypeOf(this,Xc.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Xc)}get command(){return this._command}get expectedParams(){return this._expectedParams}get actualParams(){return this._actualParams}}class Jc extends Error{constructor(e,r,n,i){var s;super(`required parameter "${r}" did not validate against ${(s=n.type)!==null&&s!==void 0?s:"regex"} validation: "${i}"`),this._command=e,this._paramName=r,this._paramSpec=n,this._givenValue=i,Object.setPrototypeOf(this,Jc.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Jc)}get command(){return this._command}get paramName(){return this._paramName}get paramSpec(){return this._paramSpec}get givenValue(){return this._givenValue}}const to={channelTypes:"#&",supportedUserModes:"iwso",supportedChannelModes:{prefix:"ov",list:"b",alwaysWithParam:"ovk",paramWhenSet:"l",noParam:"imnpst"},prefixes:[{modeChar:"v",prefix:"+"},{modeChar:"o",prefix:"@"}]};var dT={exports:{}};(function(t){t.exports=e=>{if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")},t.exports.default=t.exports})(dT);var p6=dT.exports;const m6=gn(p6);function iy(t,e="#&"){return new RegExp(`^[${m6(e)}][^ \b\0
\r,]+$`).test(t)}const Q2={0:"\0",n:`
`,r:"\r","":""};function K2(t){if(!t.startsWith("")||(t=t.substring(1),t.endsWith("")&&(t=t.slice(0,-1)),!t))return!1;t=t.replace(/\x10(.)/,(n,i)=>i in Q2?Q2[i]:"");let[e,r=""]=Ji(t," ",2);return e=e?e.toUpperCase():"",{command:e,params:r}}const g6={"\\":"\\",";":":","\n":"n","\r":"r"," ":"s"};function y6(t){return t.replace(/[\\;\n\r ]/g,e=>`\\${g6[e]}`)}function v6(t){let e=`${t.nick}`;return t.user&&(e+=`!${t.user}`),t.host&&(e+=`@${t.host}`),e}function w6(t,e,r,n,i=to,s=!1){const o=new t(t.COMMAND,void 0,{serverProperties:i}),a={};if(o._paramSpec&&Qg(o._paramSpec,(l,u)=>{if(!(s&&l.noServer)&&!(!s&&l.noClient)){if(u in e){const c=e[u];if(c!==void 0){if(t.checkParam(c,l,i))a[u]={value:c,trailing:!!l.trailing};else if(!l.optional)throw new Error(`required parameter "${u}" did not suit requirements: "${c}"`)}}if(!(u in a)&&!l.optional)throw new Error(`required parameter "${u}" not found in command "${t.COMMAND}"`)}}),o._parsedParams=a,o._paramSpec)for(const l of Object.keys(o._paramSpec))Object.defineProperty(o,l,{get(){var u,c;return(c=(u=this._parsedParams)===null||u===void 0?void 0:u[l])===null||c===void 0?void 0:c.value}});return o._initPrefixAndTags(r,n),o}class j{static checkParam(e,r,n=to){return!(r.type==="channel"&&!iy(e,n.channelTypes)||r.type==="channelList"&&!e.split(",").every(s=>iy(s,n.channelTypes))||r.match&&!r.match.test(e))}constructor(e,{params:r,tags:n,prefix:i,rawLine:s}={},{serverProperties:o=to,isServer:a=!1,shouldParseParams:l=!0}={},u){this._params=[],this._serverProperties=to,this._paramSpec=u,this._command=e,this._params=r,this._tags=n??new Map,this._prefix=i,this._serverProperties=o,this._raw=s,l&&this.parseParams(a)}getMinParamCount(e=!1){return this._paramSpec?Object.values(this._paramSpec).filter(r=>r.noServer&&e||r.noClient&&!e?!1:!r.optional).length:0}get paramCount(){var e,r;return(r=(e=this._params)===null||e===void 0?void 0:e.length)!==null&&r!==void 0?r:0}prefixToString(){return this._prefix?v6(this._prefix):""}tagsToString(){return[...this._tags.entries()].map(([e,r])=>r?`${e}=${y6(r)}`:e).join(";")}toString(e=!1,r=!1){const i=[r?this._buildCommandFromRawParams():this._buildCommandFromNamedParams()];if(e){const o=this.prefixToString();o&&i.unshift(`:${o}`)}const s=this.tagsToString();return s&&i.unshift(`@${s}`),i.join(" ")}_initPrefixAndTags(e,r){this._prefix=e,r&&(this._tags=r)}parseParams(e=!1){if(this._params){let r=this.getMinParamCount(e);if(r>this._params.length)throw new Xc(this._command,r,this._params.length);const n=this._paramSpec;if(!n)return;let i=0;const s={};for(const[o,a]of Object.entries(n)){if(a.noServer&&e||a.noClient&&!e)continue;if(this._params.length-i<=r){if(a.optional)continue;if(this._params.length-i!==r)throw new Error("not enough parameters left for required parameters parsing (this is a library bug)")}let l=this._params[i];if(!l){if(a.optional)break;throw new Error("unexpected parameter underflow")}if(a.rest){const u=[];for(;this._params[i]&&!this._params[i].trailing;)u.push(this._params[i].value),++i;if(!u.length){if(a.optional)continue;throw new Error(`no parameters left for required rest parameter "${o}"`)}l={value:u.join(" "),trailing:!1}}if(j.checkParam(l.value,a))s[o]={...l},a.optional||--r,a.rest||++i;else if(!a.optional)throw new Jc(this._command,o,a,l.value);if(a.trailing)break}if(this._parsedParams=s,this._paramSpec)for(const o of Object.keys(this._paramSpec))Object.defineProperty(this,o,{get(){var a,l;return(l=(a=this._parsedParams)===null||a===void 0?void 0:a[o])===null||l===void 0?void 0:l.value}})}}get rawParamValues(){var e,r;return(r=(e=this._params)===null||e===void 0?void 0:e.map(n=>n.value))!==null&&r!==void 0?r:[]}get prefix(){return this._prefix}get command(){return this._command}get tags(){return this._tags}get rawLine(){return this._raw}isResponseTo(e){return!1}endsResponseTo(e){return!1}_acceptsInReplyCollection(e){return e.isResponseTo(this)}_buildCommandFromNamedParams(){const e=this._paramSpec?Object.keys(this._paramSpec):[];return[this._command,...e.map(r=>{var n;const i=(n=this._parsedParams)===null||n===void 0?void 0:n[r];if(i)return(i.trailing?":":"")+i.value}).filter(r=>r!==void 0)].join(" ")}_buildCommandFromRawParams(){var e,r;return[this._command,...(r=(e=this._params)===null||e===void 0?void 0:e.map(n=>`${n.trailing?":":""}${n.value}`))!==null&&r!==void 0?r:[]].join(" ")}}j.COMMAND="";j.SUPPORTS_CAPTURE=!1;class fT extends j{constructor(e,r,n){super(e,r,n,{reference:{},type:{optional:!0},additionalParams:{optional:!0}})}}fT.COMMAND="BATCH";const _6={name:"batch",messageTypes:[fT],usesTags:!0},b6={name:"cap-notify"};class hT extends j{constructor(e,r,n){super(e,r,n,{newUser:{},newHost:{}})}}hT.COMMAND="CHGHOST";const x6={name:"chghost",messageTypes:[hT]},S6={name:"invite-notify"};class pT extends j{}pT.COMMAND="ACK";const C6={name:"labeled-response",messageTypes:[pT],usesTags:!0},E6={name:"message-tags",usesTags:!0},T6={name:"multi-prefix"},k6=Object.freeze(Object.defineProperty({__proto__:null,AwayNotify:h6,Batch:_6,CapNotify:b6,ChgHost:x6,InviteNotify:S6,LabeledResponse:C6,MessageTags:E6,MultiPrefix:T6},Symbol.toStringTag,{value:"Module"}));class P6{constructor(e,r,...n){this._client=e,this._originalMessage=r,this._messages=[],this._endEventHandlers=new Map,this._types=new Set(n)}untilEvent(e){this._cleanEndEventHandler(e);const r=this._client.on(e,()=>this.end());this._endEventHandlers.set(e,r)}async promise(){return this._promise||(this._promise=new Promise(e=>this._promiseResolve=e)),await this._promise}collect(e){return this._originalMessage._acceptsInReplyCollection(e)?(this._messages.push(e),e.endsResponseTo(this._originalMessage)&&this.end(),!0):!1}end(){this._client.stopCollect(this),this._cleanEndEventHandlers(),this._promiseResolve&&this._promiseResolve(this._messages)}_cleanEndEventHandlers(){this._endEventHandlers.forEach(e=>this._client.removeListener(e)),this._endEventHandlers.clear()}_cleanEndEventHandler(e){this._endEventHandlers.has(e)&&(this._client.removeListener(this._endEventHandlers.get(e)),this._endEventHandlers.delete(e))}}class jv extends j{constructor(e,r,n){super(e,r,n,{password:{}})}}jv.COMMAND="PASS";class Ea extends j{constructor(e,r,n){super(e,r,n,{nick:{}})}}Ea.COMMAND="NICK";class Lv extends j{constructor(e,r,n){super(e,r,n,{user:{},mode:{},unused:{},realName:{trailing:!0}})}}Lv.COMMAND="USER";class mT extends j{constructor(e,r,n){super(e,r,n,{name:{},password:{}})}}mT.COMMAND="OPER";class Bv extends j{constructor(e,r,n){super(e,r,n,{text:{trailing:!0,optional:!0}})}}Bv.COMMAND="QUIT";class gT extends j{constructor(e,r,n){super(e,r,n,{server:{},reason:{trailing:!0}})}}gT.COMMAND="SQUIT";class rl extends j{constructor(e,r,n){super(e,r,n,{channel:{type:"channel"},key:{optional:!0}})}}rl.COMMAND="JOIN";class nl extends j{constructor(e,r,n){super(e,r,n,{channel:{type:"channel"},reason:{trailing:!0,optional:!0}})}}nl.COMMAND="PART";class Zc extends Error{constructor(e){super(`Unknown channel mode character ${e}`),this._char=e,Object.setPrototypeOf(this,Zc.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Zc)}get char(){return this._char}}class yT extends j{constructor(e,r,n){super(e,r,n,{target:{},modes:{rest:!0,optional:!0}})}get isChannel(){return iy(this.target,this._serverProperties.channelTypes)}separate(){const e=[],r=this.modes;if(!r)throw new Error("can't separate a channel mode request, just set actions");const n=r.split(" "),i=n.shift();let s="add";for(const o of i){let a=s;switch(o){case"+":{s="add";break}case"-":{s="remove";break}default:{let l=!1,u=!0;if(this.isChannel){if(this._serverProperties.supportedChannelModes.alwaysWithParam.includes(o)||this._serverProperties.supportedChannelModes.prefix.includes(o))l=!0;else if(this._serverProperties.supportedChannelModes.paramWhenSet.includes(o))s==="add"&&(l=!0);else if(this._serverProperties.supportedChannelModes.list.includes(o))n.length?l=!0:a="getList";else if(!this._serverProperties.supportedChannelModes.noParam.includes(o))throw new Zc(o)}else u=this._serverProperties.supportedUserModes.includes(o);if(l&&!n.length)continue;e.push({prefix:this._prefix,action:a,letter:o,param:l?n.shift():void 0,known:u})}}}return e}}yT.COMMAND="MODE";class vT extends j{constructor(e,r,n){super(e,r,n,{channel:{type:"channel"},newTopic:{optional:!0,trailing:!0}})}}vT.COMMAND="TOPIC";class Xl extends j{constructor(e,r,n){super(e,r,n,{channel:{type:"channelList",optional:!0}})}}Xl.COMMAND="NAMES";Xl.SUPPORTS_CAPTURE=!0;class wT extends j{constructor(e,r,n){super(e,r,n,{channel:{optional:!0},server:{optional:!0}})}}wT.COMMAND="LIST";class _T extends j{constructor(e,r,n){super(e,r,n,{target:{},channel:{type:"channel"}})}}_T.COMMAND="INVITE";class bT extends j{constructor(e,r,n){super(e,r,n,{channel:{type:"channel"},target:{},reason:{trailing:!0,optional:!0}})}}bT.COMMAND="KICK";class xT extends j{constructor(e,r,n){super(e,r,n,{server:{optional:!0}})}}xT.COMMAND="TIME";class il extends j{constructor(e,r,n){super(e,r,n,{target:{},text:{trailing:!0}})}}il.COMMAND="PRIVMSG";class Tf extends j{constructor(e,r,n){super(e,r,n,{target:{},text:{trailing:!0}})}}Tf.COMMAND="NOTICE";class kf extends j{constructor(e,r,n){super(e,r,n,{mask:{},flags:{optional:!0},extendedMask:{optional:!0,trailing:!0}})}}kf.COMMAND="WHO";class ST extends j{constructor(e,r,n){super(e,r,n,{server:{optional:!0},nickMask:{}})}}ST.COMMAND="WHOIS";class CT extends j{constructor(e,r,n){super(e,r,n,{nick:{},count:{optional:!0},server:{optional:!0}})}}CT.COMMAND="WHOWAS";class ET extends j{constructor(e,r,n){super(e,r,n,{target:{},reason:{trailing:!0,optional:!0}})}}ET.COMMAND="KILL";class ed extends j{constructor(e,r,n){super(e,r,n,{text:{trailing:!0}})}}ed.COMMAND="PING";class td extends j{constructor(e,r,n){super(e,r,n,{server:{noClient:!0},text:{trailing:!0}})}}td.COMMAND="PONG";class TT extends j{constructor(e,r,n){super(e,r,n,{text:{trailing:!0}})}}TT.COMMAND="ERROR";class kT extends j{constructor(e,r,n){super(e,r,n,{text:{trailing:!0,optional:!0}})}}kT.COMMAND="AWAY";class PT extends j{}PT.COMMAND="REHASH";class AT extends j{}AT.COMMAND="RESTART";class IT extends j{constructor(e,r,n){super(e,r,n,{text:{trailing:!0}})}}IT.COMMAND="WALLOPS";class OT extends j{constructor(e,r,n){super(e,r,n,{nicks:{rest:!0}})}}OT.COMMAND="USERHOST";class RT extends j{constructor(e,r,n){super(e,r,n,{nicks:{rest:!0}})}}RT.COMMAND="ISON";class tr extends j{constructor(e,r,n){super(e,r,n,{target:{match:/^(?:[a-z_\-\[\]\\^{}|`][a-z0-9_\-\[\]\\^{}|`]+|\*)$/i,optional:!0,noClient:!0},subCommand:{match:/^(?:LS|LIST|REQ|ACK|NAK|END|NEW|DEL)$/i},version:{match:/^\d+$/,optional:!0},continued:{match:/^\*$/,optional:!0},capabilities:{trailing:!0,optional:!0}})}isResponseTo(e){if(!(e instanceof tr))return!1;switch(this.subCommand){case"ACK":case"NAK":return e.subCommand==="REQ"&&e.capabilities===this.capabilities.trim();case"LS":case"LIST":return e.subCommand===this.subCommand;default:return!1}}endsResponseTo(e){if(!(e instanceof tr))return!1;switch(this.subCommand){case"LS":case"LIST":return!this.continued;default:return!0}}}tr.COMMAND="CAP";tr.SUPPORTS_CAPTURE=!0;class MT extends j{constructor(e,r,n){super(e,r,n,{target:{}})}}MT.COMMAND="TAGMSG";const NT=Object.freeze(Object.defineProperty({__proto__:null,Away:kT,CapabilityNegotiation:tr,ChannelInvite:_T,ChannelJoin:rl,ChannelKick:bT,ChannelList:wT,ChannelPart:nl,ClientQuit:Bv,ErrorMessage:TT,IsOnQuery:RT,Kill:ET,Mode:yT,Names:Xl,NickChange:Ea,Notice:Tf,OperLogin:mT,Password:jv,Ping:ed,Pong:td,PrivateMessage:il,Rehash:PT,Restart:AT,ServerQuit:gT,TagMessage:MT,Time:xT,Topic:vT,UserHostQuery:OT,UserRegistration:Lv,Wallops:IT,WhoIsQuery:ST,WhoQuery:kf,WhoWasQuery:CT},Symbol.toStringTag,{value:"Module"}));class $v extends j{constructor(e,r,n){super(e,r,n,{me:{},welcomeText:{trailing:!0}})}}$v.COMMAND="001";class DT extends j{constructor(e,r,n){super(e,r,n,{me:{},yourHost:{trailing:!0}})}}DT.COMMAND="002";class jT extends j{constructor(e,r,n){super(e,r,n,{me:{},createdText:{trailing:!0}})}}jT.COMMAND="003";class Uv extends j{constructor(e,r,n){super(e,r,n,{me:{},serverName:{},version:{},userModes:{},channelModes:{},channelModesWithParam:{optional:!0}})}}Uv.COMMAND="004";class Fv extends j{constructor(e,r,n){super(e,r,n,{me:{},supports:{rest:!0},suffix:{trailing:!0}})}}Fv.COMMAND="005";class LT extends j{constructor(e,r,n){super(e,r,n,{me:{},modes:{}})}}LT.COMMAND="221";class BT extends j{constructor(e,r,n){super(e,r,n,{me:{},nick:{},text:{trailing:!0}})}}BT.COMMAND="301";class $T extends j{constructor(e,r,n){super(e,r,n,{me:{},hosts:{trailing:!0}})}}$T.COMMAND="302";class UT extends j{constructor(e,r,n){super(e,r,n,{me:{},suffix:{trailing:!0}})}}UT.COMMAND="305";class FT extends j{constructor(e,r,n){super(e,r,n,{me:{},suffix:{trailing:!0}})}}FT.COMMAND="306";class qT extends j{constructor(e,r,n){super(e,r,n,{me:{},nick:{},username:{},host:{},_unused:{},realname:{trailing:!0}})}}qT.COMMAND="311";class HT extends j{constructor(e,r,n){super(e,r,n,{me:{},query:{},suffix:{trailing:!0}})}isResponseTo(e){return e instanceof kf}endsResponseTo(){return!0}}HT.COMMAND="315";class zT extends j{constructor(e,r,n){super(e,r,n,{me:{},nickMask:{},suffix:{trailing:!0}})}}zT.COMMAND="318";class WT extends j{constructor(e,r,n){super(e,r,n,{me:{},nick:{},channels:{trailing:!0}})}}WT.COMMAND="319";class GT extends j{constructor(e,r,n){super(e,r,n,{me:{},channel:{type:"channel"},memberCount:{},topic:{trailing:!0}})}}GT.COMMAND="322";class VT extends j{constructor(e,r,n){super(e,r,n,{me:{},suffix:{trailing:!0}})}}VT.COMMAND="323";class QT extends j{constructor(e,r,n){super(e,r,n,{me:{},channel:{type:"channel"},modes:{rest:!0}})}}QT.COMMAND="324";class KT extends j{constructor(e,r,n){super(e,r,n,{me:{},channel:{type:"channel"},suffix:{trailing:!0}})}}KT.COMMAND="331";class YT extends j{constructor(e,r,n){super(e,r,n,{me:{},channel:{type:"channel"},topic:{trailing:!0}})}}YT.COMMAND="332";class XT extends j{constructor(e,r,n){super(e,r,n,{me:{},channel:{type:"channel"},who:{},ts:{}})}}XT.COMMAND="333";class JT extends j{constructor(e,r,n){super(e,r,n,{me:{},nick:{},channel:{type:"channel"}})}}JT.COMMAND="341";class ZT extends j{constructor(e,r,n){super(e,r,n,{me:{},channel:{type:"channel"},mask:{},creatorName:{optional:!0},timestamp:{optional:!0}})}}ZT.COMMAND="348";class ek extends j{constructor(e,r,n){super(e,r,n,{me:{},channel:{type:"channel"},suffix:{trailing:!0}})}}ek.COMMAND="349";class tk extends j{constructor(e,r,n){super(e,r,n,{me:{},channel:{},user:{},host:{},server:{},nick:{},flags:{},hopsAndRealName:{trailing:!0}})}get isAway(){return this.flags.includes("G")}get isOper(){return this.flags.includes("*")}get isBot(){return this.flags.includes("B")}isResponseTo(e){return e instanceof kf}}tk.COMMAND="352";class rk extends j{constructor(e,r,n){super(e,r,n,{me:{},channelType:{},channel:{type:"channel"},names:{trailing:!0}})}isResponseTo(e){return e instanceof Xl}}rk.COMMAND="353";class nk extends j{constructor(e,r,n){super(e,r,n,{me:{},channel:{},suffix:{trailing:!0}})}isResponseTo(e){return e instanceof Xl}endsResponseTo(){return!0}}nk.COMMAND="366";class ik extends j{constructor(e,r,n){super(e,r,n,{me:{},channel:{type:"channel"},mask:{},creatorName:{optional:!0},timestamp:{optional:!0}})}}ik.COMMAND="367";class sk extends j{constructor(e,r,n){super(e,r,n,{me:{},channel:{type:"channel"},suffix:{trailing:!0}})}}sk.COMMAND="368";class ok extends j{constructor(e,r,n){super(e,r,n,{me:{},line:{trailing:!0}})}}ok.COMMAND="372";class ak extends j{constructor(e,r,n){super(e,r,n,{me:{},line:{trailing:!0}})}}ak.COMMAND="375";class qv extends j{constructor(e,r,n){super(e,r,n,{me:{},suffix:{trailing:!0}})}}qv.COMMAND="376";class lk extends j{constructor(e,r,n){super(e,r,n,{me:{},suffix:{trailing:!0}})}}lk.COMMAND="381";class uk extends j{constructor(e,r,n){super(e,r,n,{me:{},server:{optional:!0},timestamp:{trailing:!0}})}}uk.COMMAND="391";class ck extends j{constructor(e,r,n){super(e,r,n,{me:{},nick:{},suffix:{trailing:!0}})}}ck.COMMAND="401";class dk extends j{constructor(e,r,n){super(e,r,n,{me:{},server:{},suffix:{trailing:!0}})}}dk.COMMAND="402";class fk extends j{constructor(e,r,n){super(e,r,n,{me:{},channel:{},suffix:{trailing:!0}})}}fk.COMMAND="403";class hk extends j{constructor(e,r,n){super(e,r,n,{me:{},channel:{type:"channel"},suffix:{trailing:!0}})}}hk.COMMAND="404";class pk extends j{constructor(e,r,n){super(e,r,n,{me:{},channel:{type:"channel"},suffix:{trailing:!0}})}}pk.COMMAND="405";class mk extends j{constructor(e,r,n){super(e,r,n,{me:{},subCommand:{},suffix:{trailing:!0}})}}mk.COMMAND="410";class gk extends j{constructor(e,r,n){super(e,r,n,{me:{},originalCommand:{},suffix:{trailing:!0}})}isResponseTo(e){return e.command===this.originalCommand}endsResponseTo(){return!0}}gk.COMMAND="421";class Hv extends j{constructor(e,r,n){super(e,r,n,{me:{},suffix:{trailing:!0}})}}Hv.COMMAND="422";class yk extends j{constructor(e,r,n){super(e,r,n,{me:{},suffix:{trailing:!0}})}isResponseTo(e){return e.command==="NICK"}endsResponseTo(){return!0}}yk.COMMAND="431";class vk extends j{constructor(e,r,n){super(e,r,n,{me:{},nick:{},suffix:{trailing:!0}})}isResponseTo(e){return e.command==="NICK"}endsResponseTo(){return!0}}vk.COMMAND="432";class wk extends j{constructor(e,r,n){super(e,r,n,{me:{},nick:{},suffix:{trailing:!0}})}isResponseTo(e){return e.command==="NICK"}endsResponseTo(){return!0}}wk.COMMAND="433";class _k extends j{constructor(e,r,n){super(e,r,n,{me:{},nick:{},suffix:{trailing:!0}})}isResponseTo(e){return e.command==="NICK"}endsResponseTo(){return!0}}_k.COMMAND="436";class bk extends j{constructor(e,r,n){super(e,r,n,{me:{},nick:{},channel:{type:"channel"},suffix:{trailing:!0}})}isResponseTo(e){return e.command==="NICK"}endsResponseTo(){return!0}}bk.COMMAND="441";class xk extends j{constructor(e,r,n){super(e,r,n,{me:{},channel:{type:"channel"},suffix:{trailing:!0}})}isResponseTo(e){return e.command==="NICK"}endsResponseTo(){return!0}}xk.COMMAND="442";class Sk extends j{constructor(e,r,n){super(e,r,n,{me:{},nick:{},channel:{type:"channel"},suffix:{trailing:!0}})}isResponseTo(e){return e.command==="NICK"}endsResponseTo(){return!0}}Sk.COMMAND="443";class Ck extends j{constructor(e,r,n){super(e,r,n,{me:{},suffix:{trailing:!0}})}}Ck.COMMAND="451";class Ek extends j{constructor(e,r,n){super(e,r,n,{me:{},originalCommand:{},suffix:{trailing:!0}})}}Ek.COMMAND="461";class zv extends j{constructor(e,r,n){super(e,r,n,{me:{},suffix:{trailing:!0}})}}zv.COMMAND="462";class Tk extends j{constructor(e,r,n){super(e,r,n,{me:{},channel:{type:"channel"},suffix:{trailing:!0}})}}Tk.COMMAND="471";class kk extends j{constructor(e,r,n){super(e,r,n,{me:{},char:{},suffix:{trailing:!0}})}}kk.COMMAND="472";class Pk extends j{constructor(e,r,n){super(e,r,n,{me:{},channel:{type:"channel"},suffix:{trailing:!0}})}}Pk.COMMAND="473";class Ak extends j{constructor(e,r,n){super(e,r,n,{me:{},channel:{type:"channel"},suffix:{trailing:!0}})}}Ak.COMMAND="474";class Ik extends j{constructor(e,r,n){super(e,r,n,{me:{},channel:{type:"channel"},suffix:{trailing:!0}})}}Ik.COMMAND="475";class Ok extends j{constructor(e,r,n){super(e,r,n,{me:{},channel:{},suffix:{trailing:!0}})}}Ok.COMMAND="479";class Rk extends j{constructor(e,r,n){super(e,r,n,{me:{},suffix:{trailing:!0}})}}Rk.COMMAND="481";class Mk extends j{constructor(e,r,n){super(e,r,n,{me:{},channel:{},suffix:{trailing:!0}})}}Mk.COMMAND="482";class Nk extends j{constructor(e,r,n){super(e,r,n,{me:{},suffix:{trailing:!0}})}}Nk.COMMAND="491";class Dk extends j{constructor(e,r,n){super(e,r,n,{me:{},modeChar:{optional:!0,match:/^\w$/},suffix:{trailing:!0}})}}Dk.COMMAND="501";class jk extends j{constructor(e,r,n){super(e,r,n,{me:{},suffix:{trailing:!0}})}}jk.COMMAND="502";const Lk=Object.freeze(Object.defineProperty({__proto__:null,Error401NoSuchNick:ck,Error402NoSuchServer:dk,Error403NoSuchChannel:fk,Error404CanNotSendToChan:hk,Error405TooManyChannels:pk,Error410InvalidCapCmd:mk,Error421UnknownCommand:gk,Error422NoMotd:Hv,Error431NoNickNameGiven:yk,Error432ErroneusNickname:vk,Error433NickNameInUse:wk,Error436NickCollision:_k,Error441UserNotInChannel:bk,Error442NotOnChannel:xk,Error443UserOnChannel:Sk,Error451NotRegistered:Ck,Error461NeedMoreParams:Ek,Error462AlreadyRegistered:zv,Error471ChannelIsFull:Tk,Error472UnknownMode:kk,Error473InviteOnlyChan:Pk,Error474BannedFromChan:Ak,Error475BadChannelKey:Ik,Error479BadChanName:Ok,Error481NoPrivileges:Rk,Error482ChanOpPrivsNeeded:Mk,Error491NoOperHost:Nk,Error501UmodeUnknownFlag:Dk,Error502UsersDontMatch:jk,Reply001Welcome:$v,Reply002YourHost:DT,Reply003Created:jT,Reply004ServerInfo:Uv,Reply005Isupport:Fv,Reply221UmodeIs:LT,Reply301Away:BT,Reply302UserHost:$T,Reply305UnAway:UT,Reply306NowAway:FT,Reply311WhoisUser:qT,Reply315EndOfWho:HT,Reply318EndOfWhois:zT,Reply319WhoisChannels:WT,Reply322List:GT,Reply323ListEnd:VT,Reply324ChannelModeIs:QT,Reply331NoTopic:KT,Reply332Topic:YT,Reply333TopicWhoTime:XT,Reply341Inviting:JT,Reply348ExceptList:ZT,Reply349EndOfExceptList:ek,Reply352WhoReply:tk,Reply353NamesReply:rk,Reply366EndOfNames:nk,Reply367BanList:ik,Reply368EndOfBanList:sk,Reply372Motd:ok,Reply375MotdStart:ak,Reply376EndOfMotd:qv,Reply381YoureOper:lk,Reply391Time:uk},Symbol.toStringTag,{value:"Module"})),A6=new Map([...Object.values(NT),...Object.values(Lk)].map(t=>[t.COMMAND,t]));function I6(t){const[e,r]=Ji(t,"!",2);if(r){const[n,i]=Ji(r,"@",2);return i?{nick:e,user:n,host:i}:{nick:e,host:n}}else return{nick:e}}const Y2={":":";",n:`
`,r:"\r",s:" "};function O6(t){const e=new Map,r=t.split(";");for(const n of r){const[i,s]=Ji(n,"=",2);i!==""&&e.set(i,s?s.replace(/\\(.?)/g,(o,a)=>Object.prototype.hasOwnProperty.call(Y2,a)?Y2[a]:a):"")}return e}function R6(t,e=to,r=A6,n=!1,i=[],s=!0){const o=t.split(" ");let a,l;const u=[];let c,f;for(;o.length;){if(a=o[0],a.startsWith("@")&&!c&&!l&&!f)c=O6(a.slice(1));else if(a.startsWith(":"))if(!f&&!l)a.length>1&&(f=I6(a.slice(1)));else{u.push({value:o.join(" ").slice(1),trailing:!0});break}else l?u.push({value:a,trailing:!1}):l=a.toUpperCase();o.shift()}if(c||(c=new Map),!l)throw new Error(`line without command received: ${t}`);s&&(s=!i.includes(l));let d=j;return r.has(l)&&(d=r.get(l)),new d(l,{params:u,tags:c,prefix:f,rawLine:t},{serverProperties:e,isServer:n,shouldParseParams:s})}class Bk extends $o{constructor(e){super(),this._registered=!1,this._supportsCapabilities=!0,this._events=new Map,this._registeredMessageTypes=new Map,this.onConnect=this.registerEvent(),this.onRegister=this.registerEvent(),this.onDisconnect=this.registerEvent(),this.onPrivmsg=this.registerEvent(),this.onAction=this.registerEvent(),this.onNotice=this.registerEvent(),this.onNickChange=this.registerEvent(),this.onCtcp=this.registerEvent(),this.onCtcpReply=this.registerEvent(),this.onPasswordError=this.registerEvent(),this.onAnyMessage=this.registerEvent(),this._serverProperties=Ca(to),this._supportedFeatures={},this._collectors=[],this._clientCapabilities=new Map,this._serverCapabilities=new Map,this._negotiatedCapabilities=new Map,this._currentChannels=new Set,this._hasRegisteredBefore=!1,this._channelsFromLastRegister=new Set,this._initialConnectionSetupDone=!1;const{connection:r,credentials:n,channels:i,channelTypes:s,webSocket:o,logger:a={}}=e;this._options=e;const{pingOnInactivity:l=60,pingTimeout:u=10}=r;this._pingOnInactivity=l,this._pingTimeout=u,this._currentNick=n.nick,this._logger=Lo({name:"ircv3",emoji:!0,...a}),this.registerCoreMessageTypes();const{hostName:c,secure:f,reconnect:d=!0}=r,g={hostName:c,port:this.port,secure:f},v={lineBased:!0,logger:this._logger,additionalOptions:e.connectionOptions},b=o?f6:c6;d?this._connection=new d6(b,g,v):this._connection=new b(v,this._logger,e.connectionOptions);for(const w of Object.values(k6))this.addCapability(w);this.addInternalListener(this.onRegister,async()=>{const w=this._hasRegisteredBefore,m=this._channelsFromLastRegister;this._hasRegisteredBefore=!0,this._channelsFromLastRegister=new Set;const p=w&&this._options.rejoinChannelsOnReconnect?m:await Vg(i);if(p)for(const y of p)this.join(y)}),this.onTypedMessage(tr,async({subCommand:w,capabilities:m})=>{const p=m.split(" ");switch(w.toUpperCase()){case"NEW":{this._logger.debug(`Server registered new capabilities: ${p.join(", ")}`);const y=ca(p,S=>{if(!S)return{};const[k,R]=Ji(S,"=",2);return{[k]:{name:k,param:R||!0}}});for(const[S,k]of Object.entries(y))this._serverCapabilities.set(S,k);const x=Object.keys(y);await this._negotiateCapabilities(Array.from(this._clientCapabilities.entries()).filter(([S])=>x.includes(S)).map(([,S])=>S));break}case"DEL":{this._logger.debug(`Server removed capabilities: ${p.join(", ")}`);for(const y of p)this._serverCapabilities.delete(y),this._negotiatedCapabilities.delete(y)}}}),this.onTypedMessage(ed,({text:w})=>{this.sendMessage(td,{text:w})}),this.onTypedMessage($v,({me:w})=>this._handleReceivedClientNick(w)),this.onTypedMessage(Uv,({userModes:w})=>{w&&(this._serverProperties.supportedUserModes=w)}),this.onTypedMessage(Fv,({supports:w})=>{const m=ca(w.split(" "),p=>{const[y,x]=Ji(p,"=",2);return{[y]:x||!0}});this._supportedFeatures={...this._supportedFeatures,...m}}),this.onTypedMessage(qv,({me:w})=>{this._registered||(this._handleReceivedClientNick(w),this._registered=!0,this.emit(this.onRegister))}),this.onTypedMessage(Hv,({me:w})=>{this._registered||(this._handleReceivedClientNick(w),this._registered=!0,this.emit(this.onRegister))}),this.onTypedMessage(zv,({me:w})=>{this._registered||(this._logger.warn("We thought we're not registered yet, but we actually are"),this._handleReceivedClientNick(w),this._registered=!0,this.emit(this.onRegister))}),this.onTypedMessage(il,w=>{var m;const{target:p,text:y}=w,x=K2(y),S=(m=w.prefix)===null||m===void 0?void 0:m.nick;x?x.command==="ACTION"?this.emit(this.onAction,p,S,x.params,w):this.emit(this.onCtcp,p,S,x.command,x.params,w):this.emit(this.onPrivmsg,p,S,y,w)}),this.onTypedMessage(Ea,w=>{var m;const{nick:p}=w,y=(m=w.prefix)===null||m===void 0?void 0:m.nick;y===this._currentNick&&(this._currentNick=p),this.emit(this.onNickChange,y,p,w)}),this.onTypedMessage(Tf,w=>{var m;const{target:p,text:y}=w,x=K2(y),S=(m=w.prefix)===null||m===void 0?void 0:m.nick;x&&this.emit(this.onCtcpReply,p,S,x.command,x.params,w),this.emit(this.onNotice,p,S,y,w)}),this._options.manuallyAcknowledgeJoins||this.onTypedMessage(rl,({channel:w,prefix:m})=>{(m==null?void 0:m.nick)===this._currentNick&&this.acknowledgeJoin(w)}),this.onTypedMessage(nl,w=>{var m;((m=w.prefix)===null||m===void 0?void 0:m.nick)===this._currentNick&&(this._currentChannels.delete(w.channel),this._channelsFromLastRegister.delete(w.channel))}),this.addInternalListener(this.onRegister,()=>this._startPingCheckTimer()),this._desiredNick=n.nick,this._userName=n.userName,this._realName=n.realName,s&&(this._serverProperties.channelTypes=s)}receiveLine(e){var r;this._logger.debug(`Received message: ${e}`);let n;try{n=R6(e,this._serverProperties,this._registeredMessageTypes,!0,this._options.nonConformingCommands)}catch(i){this._logger.error(`Error parsing message: ${i.message}`),this._logger.trace((r=i.stack)!==null&&r!==void 0?r:"No stack available");return}this._logger.trace(`Parsed message: ${JSON.stringify(n)}`),this._startPingCheckTimer(),this.emit(this.onAnyMessage,n),this._handleEvents(n)}get serverProperties(){return Ca(this._serverProperties)}get port(){const{webSocket:e,connection:{port:r,secure:n}}=this._options;return r||(e?n?443:80:n?6697:6667)}pingCheck(){const e=Date.now(),r=e.toString(),n=this.onTypedMessage(td,i=>{const{text:s}=i;s===r&&(this._logger.debug(`Current ping: ${Date.now()-e}ms`),this._pingTimeoutTimer&&clearTimeout(this._pingTimeoutTimer),this.removeMessageListener(n))});this._pingTimeoutTimer=setTimeout(()=>{this.removeMessageListener(n),this._options.connection.reconnect===!1?this._logger.error(`Disconnecting because the last ping took over ${this._pingTimeout} seconds`):this._logger.warn(`Reconnecting because the last ping took over ${this._pingTimeout} seconds`),this._connection.assumeExternalDisconnect()},this._pingTimeout*1e3),this.sendMessage(ed,{text:r})}reconnect(e){this.quit(e),this.connect()}registerMessageType(e){e.COMMAND!==""&&(this._logger.trace(`Registering message type ${e.COMMAND}`),this._registeredMessageTypes.set(e.COMMAND.toUpperCase(),e))}knowsCommand(e){return this._registeredMessageTypes.has(e.toUpperCase())}getCommandClass(e){return this._registeredMessageTypes.get(e.toUpperCase())}acknowledgeJoin(e){this._currentChannels.add(e),this._channelsFromLastRegister.add(e)}connect(){this._supportsCapabilities=!1,this._negotiatedCapabilities=new Map,this._currentChannels=new Set,this._currentNick=this._desiredNick,this._setupConnection(),this._logger.info(`Connecting to ${this._options.connection.hostName}:${this.port}`),this._connection.connect()}addCapability(e){if(this._clientCapabilities.set(e.name,e),e.messageTypes)for(const r of Object.values(e.messageTypes))this.registerMessageType(r)}async registerCapability(e){return this.addCapability(e),this._serverCapabilities.has(e.name)?await this._negotiateCapabilities([e]):[]}send(e){this.sendRaw(e.toString())}sendRaw(e){this._connection.isConnected&&(this._logger.debug(`Sending message: ${e}`),this._connection.sendLine(e))}onNamedMessage(e,r,n){this._events.has(e)||this._events.set(e,new Map);const i=this._events.get(e);if(!n)do n=`${e}:${I4(Math.random()*1e4,4,"0")}`;while(i.has(n));return i.set(n,r),n}onTypedMessage(e,r,n){return this.onNamedMessage(e.COMMAND,r,n)}removeMessageListener(e){const[r]=e.split(":");this._events.has(r)&&this._events.get(r).delete(e)}createMessage(e,r,n){const i=n?new Map(Object.entries(n)):void 0;return w6(e,r,void 0,i,this.serverProperties)}sendMessage(e,r,n){this.send(this.createMessage(e,r,n))}async sendMessageAndCaptureReply(e,r){if(!e.SUPPORTS_CAPTURE)throw new Error(`The command "${e.COMMAND}" does not support reply capture`);const n=this.createMessage(e,r),i=this.collect(n).promise();return this.send(n),await i}get isConnected(){return this._connection.isConnected}get isConnecting(){return this._connection.isConnecting}get isRegistered(){return this._registered}get currentNick(){return this._currentNick}get currentChannels(){return Array.from(this._currentChannels)}collect(e,...r){const n=new P6(this,e,...r);return this._collectors.push(n),n}stopCollect(e){this._collectors.splice(this._collectors.findIndex(r=>r===e),1)}join(e,r){this.sendMessage(rl,{channel:e,key:r})}part(e){this.sendMessage(nl,{channel:e})}quit(e){this.sendMessage(Bv,{text:e}),this.quitAbruptly()}quitAbruptly(){this._registered=!1,this._connection.disconnect()}say(e,r,n={}){this.sendMessage(il,{target:e,text:r},n)}sendCtcp(e,r,n){this.say(e,`${r.toUpperCase()} ${n}`)}action(e,r){this.sendCtcp(e,"ACTION",r)}changeNick(e){this._currentNick!==e&&(this._desiredNick=e,this.isRegistered&&this.sendMessage(Ea,{nick:e}))}registerCoreMessageTypes(){Qg(NT,e=>{this.registerMessageType(e)}),Qg(Lk,e=>{this.registerMessageType(e)})}async _negotiateCapabilityBatch(e){return await Promise.all(e.filter(r=>r.length).map(async r=>await this._negotiateCapabilities(r)))}async _negotiateCapabilities(e){const r=ca(e,o=>({[o.name]:o})),i=(await this.sendMessageAndCaptureReply(tr,{subCommand:"REQ",capabilities:e.map(o=>o.name).join(" ")})).shift();if(!i)throw new Error("capability negotiation failed unexpectedly without any reply");if(!(i instanceof tr))throw new Error(`capability negotiation failed unexpectedly with "${i.command}" command`);const s=i.capabilities.split(" ").filter(o=>o);if(i.subCommand==="ACK"){this._logger.debug(`Successfully negotiated capabilities: ${s.join(", ")}`);const o=s.map(a=>r[a]);for(const a of o){const l=this._clientCapabilities.get(a.name);l.param=a.param,this._negotiatedCapabilities.set(l.name,l)}return o}else return this._logger.warn(`Failed to negotiate capabilities: ${s.join(", ")}`),new Error("capabilities failed to negotiate")}_setupConnection(){this._initialConnectionSetupDone||(this._connection.onConnect(async()=>{var e,r;this._logger.info(`Connection to server ${this._options.connection.hostName}:${this.port} established`),this.emit(this.onConnect),this._logger.debug("Determining connection password");try{const[n]=await Promise.all([Vg(this._options.credentials.password),this.sendMessageAndCaptureReply(tr,{subCommand:"LS",version:"302"}).then(i=>{if(!i.length||!(i[0]instanceof tr))return this._logger.debug("Server does not support capabilities"),[];this._supportsCapabilities=!0;const s=i.map(a=>ca(a.capabilities.split(" "),l=>{if(!l)return{};const[u,c]=Ji(l,"=",2);return{[u]:{name:u,param:c||!0}}}));this._serverCapabilities=new Map(Object.entries(Object.assign({},...s))),this._logger.debug(`Capabilities supported by server: ${Array.from(this._serverCapabilities.keys()).join(", ")}`);const o=s.map(a=>{const l=Object.keys(a);return Array.from(this._clientCapabilities.entries()).filter(([u])=>l.includes(u)).map(([,u])=>u)});return this._negotiateCapabilityBatch(o)}).then(()=>{this.sendMessage(tr,{subCommand:"END"})})]);n&&this.sendMessage(jv,{password:n}),this.sendMessage(Ea,{nick:this._desiredNick}),this.sendMessage(Lv,{user:(e=this._userName)!==null&&e!==void 0?e:this._desiredNick,mode:"8",unused:"*",realName:(r=this._realName)!==null&&r!==void 0?r:this._desiredNick})}catch(n){this.emit(this.onPasswordError,n),this.quit()}}),this._initialConnectionSetupDone=!0,this._connection.onReceive(e=>{this.receiveLine(e)}),this._connection.onDisconnect((e,r)=>{var n;if(this._registered=!1,this._pingCheckTimer&&clearTimeout(this._pingCheckTimer),this._pingTimeoutTimer&&clearTimeout(this._pingTimeoutTimer),e)this._logger.info("Disconnected");else{const i=(n=this._options.connection.reconnect)!==null&&n!==void 0?n:!0,s=r?`Disconnected unexpectedly: ${r.message}`:"Disconnected unexpectedly";i?this._logger.warn(`${s}; trying to reconnect`):this._logger.error(s)}this.emit(this.onDisconnect,e,r)}),this._connection.onEnd(e=>{e||this._logger.warn("No further retries will be made")}))}_handleReceivedClientNick(e){this._currentNick!==e&&(this._currentNick!==""&&this._logger.warn(`Mismatching nicks: passed ${this._currentNick}, but you're actually ${e}`),this._currentNick=e)}_handleEvents(e){this._collectors.some(n=>n.collect(e));const r=this._events.get(e.constructor.COMMAND);if(r)for(const n of r.values())n(e)}_startPingCheckTimer(){this._pingCheckTimer&&clearTimeout(this._pingCheckTimer),this._connection.isConnected?this._pingCheckTimer=setTimeout(()=>this.pingCheck(),this._pingOnInactivity*1e3):this._pingCheckTimer=void 0}}C([Y(!1)],Bk.prototype,"_options",void 0);class Wv extends j{constructor(e,r,n){super(e,r,n,{channel:{type:"channel"},user:{trailing:!0,optional:!0}})}get date(){const e=this._tags.get("tmi-sent-ts");return new Date(Number(e))}get channelId(){return this._tags.get("room-id")}get targetUserId(){var e;return(e=this._tags.get("target-user-id"))!==null&&e!==void 0?e:null}}Wv.COMMAND="CLEARCHAT";class $k extends j{}$k.COMMAND="RECONNECT";class Gv extends j{constructor(e,r,n){super(e,r,n,{channel:{type:"channel"}})}}Gv.COMMAND="ROOMSTATE";function M6(t){switch(typeof t){case"undefined":return"";case"object":{if(t===null)return"";if("cacheKey"in t)return t.cacheKey;const e=JSON.stringify(t);if(e!=="{}")return e}default:return t.toString()}}function Uk(t,e,r){return[t,...e.map(M6)].join("/")+(r?"/":"")}function Jl(t){return class extends t{constructor(){super(...arguments),this.cache=new Map}getFromCache(e){if(this._cleanCache(),this.cache.has(e)){const r=this.cache.get(e);if(r)return r.value}}setCache(e,r,n){this.cache.set(e,{value:r,expires:Date.now()+n*1e3})}removeFromCache(e,r){const n=this._getInternalCacheKey(e,r);r?this.cache.forEach((i,s)=>{s.startsWith(n)&&this.cache.delete(s)}):this.cache.delete(n)}_cleanCache(){const e=Date.now();this.cache.forEach((r,n)=>{r.expires<e&&this.cache.delete(n)})}_getInternalCacheKey(e,r){if(typeof e=="string"){let n=e;return n.endsWith("/")||(n+="/"),n}else{const n=e.shift();return Uk(n,e,r)}}}}function xe(t=1/0){return function(e,r,n){if(n.get){const i=n.get;n.get=function(){const s=Uk(r,[]),o=this.getFromCache(s);if(o)return o;const a=i.call(this);return this.setCache(s,a,t),a}}return n}}var ac;let _i=ac=class{constructor(e,r){this._userName=e.toLowerCase(),this._userData=r?new Map(r):new Map}static _parseBadgesLike(e){return e?new Map(e.split(",").map(r=>{const n=r.indexOf("/");return n===-1?[r,""]:[r.slice(0,n),r.slice(n+1)]})):new Map}get userName(){return this._userName}get displayName(){var e;return(e=this._userData.get("display-name"))!==null&&e!==void 0?e:this._userName}get color(){return this._userData.get("color")}get badges(){const e=this._userData.get("badges");return ac._parseBadgesLike(e)}get badgeInfo(){const e=this._userData.get("badge-info");return ac._parseBadgesLike(e)}get userId(){return this._userData.get("user-id")}get userType(){return this._userData.get("user-type")}get isBroadcaster(){return this.badges.has("broadcaster")}get isSubscriber(){return this.badges.has("subscriber")||this.isFounder}get isFounder(){return this.badges.has("founder")}get isMod(){return this.badges.has("moderator")}get isVip(){const e=this._userData.get("vip");return e!=null&&e!=="0"}get isArtist(){return this.badges.has("artist-badge")}};C([Y(!1)],_i.prototype,"_userData",void 0);C([xe()],_i.prototype,"badges",null);C([xe()],_i.prototype,"badgeInfo",null);_i=ac=C([Jl,$("chat","ChatUser","userId")],_i);function Vv(t){return t?new Map(t.split("/").map(e=>{const[r,n]=e.split(":",2);return n?[r,n.split(",")]:null}).filter(e=>e!==null)):new Map}class Pf extends j{constructor(e,r,n){super(e,r,n,{channel:{type:"channel"},text:{trailing:!0,optional:!0}})}get id(){return this._tags.get("id")}get date(){const e=this._tags.get("tmi-sent-ts");return new Date(Number(e))}get userInfo(){return new _i(this._tags.get("login"),this._tags)}get channelId(){var e;return(e=this._tags.get("room-id"))!==null&&e!==void 0?e:null}get emoteOffsets(){return Vv(this._tags.get("emotes"))}}Pf.COMMAND="USERNOTICE";class Fk extends j{constructor(e,r,n){super(e,r,n,{channel:{type:"channel"}})}}Fk.COMMAND="USERSTATE";class Qv extends j{constructor(e,r,n){super(e,r,n,{target:{},text:{trailing:!0}})}get userInfo(){return new _i(this._prefix.nick,this._tags)}get emoteOffsets(){return Vv(this._tags.get("emotes"))}}Qv.COMMAND="WHISPER";const N6={name:"twitch.tv/commands",messageTypes:[Wv,$k,Gv,Pf,Fk,Qv]},D6={name:"twitch.tv/membership"};class Kv extends j{constructor(e,r,n){super(e,r,n,{channel:{type:"channel"},text:{trailing:!0}})}get date(){const e=this._tags.get("tmi-sent-ts");return new Date(Number(e))}get userName(){return this._tags.get("login")}get channelId(){return this._tags.get("room-id")}get targetMessageId(){return this._tags.get("target-msg-id")}}Kv.COMMAND="CLEARMSG";class qk extends j{}qk.COMMAND="GLOBALUSERSTATE";const j6={name:"twitch.tv/tags",messageTypes:[qk,Kv]},L6=["ONE","TWO","THREE","FOUR","FIVE","SIX","SEVEN","EIGHT","NINE","TEN"];let rd=class extends il{get id(){return this._tags.get("id")}get date(){const e=this._tags.get("tmi-sent-ts");return new Date(Number(e))}get userInfo(){return new _i(this._prefix.nick,this._tags)}get channelId(){var e;return(e=this._tags.get("room-id"))!==null&&e!==void 0?e:null}get isCheer(){return this._tags.has("bits")}get isRedemption(){return!!this._tags.get("custom-reward-id")}get rewardId(){return this._tags.get("custom-reward-id")||null}get isFirst(){return this._tags.get("first-msg")==="1"}get isReturningChatter(){return this._tags.get("returning-chatter")==="1"}get isHighlight(){return this._tags.get("msg-id")==="highlighted-message"}get isReply(){return this._tags.has("reply-parent-msg-id")}get parentMessageId(){var e;return(e=this._tags.get("reply-parent-msg-id"))!==null&&e!==void 0?e:null}get parentMessageText(){var e;return(e=this._tags.get("reply-parent-msg-body"))!==null&&e!==void 0?e:null}get parentMessageUserId(){var e;return(e=this._tags.get("reply-parent-user-id"))!==null&&e!==void 0?e:null}get parentMessageUserName(){var e;return(e=this._tags.get("reply-parent-user-login"))!==null&&e!==void 0?e:null}get parentMessageUserDisplayName(){var e;return(e=this._tags.get("reply-parent-display-name"))!==null&&e!==void 0?e:null}get threadMessageId(){var e;return(e=this._tags.get("reply-thread-parent-msg-id"))!==null&&e!==void 0?e:null}get threadMessageUserId(){var e;return(e=this._tags.get("reply-thread-parent-user-id"))!==null&&e!==void 0?e:null}get bits(){var e;return Number((e=this._tags.get("bits"))!==null&&e!==void 0?e:0)}get emoteOffsets(){return Vv(this._tags.get("emotes"))}get isHypeChat(){return this._tags.has("pinned-chat-paid-amount")}get hypeChatAmount(){return hr(this._tags.get("pinned-chat-paid-amount"),Number)}get hypeChatDecimalPlaces(){return hr(this._tags.get("pinned-chat-paid-exponent"),Number)}get hypeChatLocalizedAmount(){const e=this.hypeChatAmount;return e?e/10**this.hypeChatDecimalPlaces:null}get hypeChatCurrency(){var e;return(e=this._tags.get("pinned-chat-paid-currency"))!==null&&e!==void 0?e:null}get hypeChatLevel(){const e=this._tags.get("pinned-chat-paid-level");return e?L6.indexOf(e)+1:null}get hypeChatIsSystemMessage(){const e=this._tags.get("pinned-chat-paid-is-system-message");return e?!!Number(e):null}};rd=C([$("chat","ChatMessage","id")],rd);function B6(t){return t instanceof rd?t.tags.get("id"):t}function X2(t,e){if(t.length<=e)return[t];t=t.trim();const r=[];let n=0,i=e;for(;n<t.length;){let s=t.lastIndexOf(" ",i);(s===-1||s<=n||t.length-n+1<=e)&&(s=n+e);const o=t.slice(n,s).trim();o.length&&r.push(o),n=s+(t[s]===" "?1:0),i=n+e}return r}const $6=/^[a-z0-9][a-z0-9_]{0,24}$/;function Ke(t){const e=t.replace(/^#/,"").toLowerCase();if(!$6.test(e))throw new Error(`"${e}" is not a valid user or channel name. It must be at most 25 characters long, can only include letters, numbers and underscores, and can not start with an underscore.`);return e}function Du(t){return`#${Ke(t)}`}var sy;let nd=sy=class extends $o{constructor(e={}){var r,n,i,s,o;if(e.authProvider&&!e.authProvider.getAccessTokenForIntent)throw new oc("You can not connect to chat using an AuthProvider that does not support intents.\nTo get an anonymous, read-only connection, please don't pass an `AuthProvider` at all.\nTo get a read-write connection, please provide an auth provider that provides user access tokens via intents, such as `RefreshingAuthProvider`.");super(),this._authVerified=!1,this._authRetryCount=0,this.onConnect=this.registerEvent(),this.onDisconnect=this.registerEvent(),this.onTimeout=this.registerEvent(),this.onBan=this.registerEvent(),this.onBitsBadgeUpgrade=this.registerEvent(),this.onChatClear=this.registerEvent(),this.onEmoteOnly=this.registerEvent(),this.onFollowersOnly=this.registerEvent(),this.onJoin=this.registerEvent(),this.onJoinFailure=this.registerEvent(),this.onPart=this.registerEvent(),this.onMessageRemove=this.registerEvent(),this.onUniqueChat=this.registerEvent(),this.onRaid=this.registerEvent(),this.onRaidCancel=this.registerEvent(),this.onRitual=this.registerEvent(),this.onSlow=this.registerEvent(),this.onSubsOnly=this.registerEvent(),this.onSub=this.registerEvent(),this.onResub=this.registerEvent(),this.onSubGift=this.registerEvent(),this.onCommunitySub=this.registerEvent(),this.onSubExtend=this.registerEvent(),this.onRewardGift=this.registerEvent(),this.onPrimePaidUpgrade=this.registerEvent(),this.onGiftPaidUpgrade=this.registerEvent(),this.onPrimeCommunityGift=this.registerEvent(),this.onStandardPayForward=this.registerEvent(),this.onCommunityPayForward=this.registerEvent(),this.onAnnouncement=this.registerEvent(),this.onWhisper=this.registerEvent(),this.onNoPermission=this.registerEvent(),this.onMessageRatelimit=this.registerEvent(),this.onAuthenticationSuccess=this.registerEvent(),this.onAuthenticationFailure=this.registerEvent(),this.onTokenFetchFailure=this.registerEvent(),this.onMessageFailed=this.registerEvent(),this.onMessage=this.registerEvent(),this.onAction=this.registerEvent(),this._onJoinResult=this.registerInternalEvent(),this._ircClient=new Bk({connection:{hostName:(r=e.hostName)!==null&&r!==void 0?r:!((n=e.webSocket)!==null&&n!==void 0)||n?"irc-ws.chat.twitch.tv":"irc.chat.twitch.tv",secure:(i=e.ssl)!==null&&i!==void 0?i:!0},credentials:{nick:"",password:async()=>await this._getAuthToken()},webSocket:(s=e.webSocket)!==null&&s!==void 0?s:!0,connectionOptions:e.connectionOptions,logger:{name:"twurple:chat:irc",...e.logger},nonConformingCommands:["004"],manuallyAcknowledgeJoins:!0,rejoinChannelsOnReconnect:e.rejoinChannelsOnReconnect}),this._ircClient.onDisconnect((u,c)=>{this._messageRateLimiter.clear(),this._messageRateLimiter.pause(),this._joinRateLimiter.clear(),this._joinRateLimiter.pause(),this.emit(this.onDisconnect,u,c)}),this._ircClient.registerMessageType(rd),this._chatLogger=Lo({name:"twurple:chat:twitch",...e.logger}),this._authProvider=e.authProvider,this._useLegacyScopes=!!e.legacyScopes,this._readOnly=!!e.readOnly,this._authIntents=[...(o=e.authIntents)!==null&&o!==void 0?o:[],"chat"];const a=async({type:u,text:c,channel:f,tags:d})=>{u==="say"?this._ircClient.say(f,c,d):this._ircClient.action(f,c)},l=async u=>{const{promise:c,resolve:f,reject:d}=tl();let g;const v=this.addInternalListener(this._onJoinResult,(b,w,m)=>{b===u&&(clearTimeout(g),m?d(m):f(),this.removeListener(v))});g=setTimeout(()=>{this.removeListener(v),this.emit(this._onJoinResult,u,void 0,"twurple_timeout"),d(new Error(`Did not receive a reply to join ${u} in time; assuming that the join failed`))},1e4),this._ircClient.join(u),await c};if(e.isAlwaysMod)this._messageRateLimiter=new Jg({bucketSize:e.botLevel==="verified"?7500:100,timeFrame:32e3,doRequest:a});else{let u=20;e.botLevel==="verified"?u=7500:e.botLevel==="known"&&(u=50),this._messageRateLimiter=new EN(new sT({bucketSize:1,timeFrame:1200,logger:{minLevel:re.ERROR},doRequest:a,getPartitionKey:({channel:c})=>c}),{bucketSize:u,timeFrame:32e3})}this._joinRateLimiter=new Jg({bucketSize:e.botLevel==="verified"?2e3:20,timeFrame:11e3,doRequest:l}),this._messageRateLimiter.pause(),this._joinRateLimiter.pause(),this._ircClient.addCapability(j6),this._ircClient.addCapability(N6),e.requestMembershipEvents&&this._ircClient.addCapability(D6),this._ircClient.onConnect(()=>{this.emit(this.onConnect)}),this._ircClient.onRegister(async()=>{this._messageRateLimiter.resume(),this._joinRateLimiter.resume(),this._authVerified=!0,this._authRetryTimer=void 0,this._authRetryCount=0,this.emit(this.onAuthenticationSuccess);const u=await Vg(e.channels);u&&await Promise.all(u.map(async c=>{var f;try{await this.join(c)}catch(d){this._chatLogger.warn(`Failed to join configured channel ${c}; original message: ${(f=d==null?void 0:d.message)!==null&&f!==void 0?f:d}`)}}))}),this._ircClient.onPasswordError(u=>{this._chatLogger.error(`Error fetching a token for connecting to the server: ${u.message}`),this.emit(this.onTokenFetchFailure,u)}),this._ircClient.onPrivmsg((u,c,f,d)=>{c!=="jtv"&&this.emit(this.onMessage,Ke(u),c,f,d)}),this._ircClient.onAction((u,c,f,d)=>{this.emit(this.onAction,Ke(u),c,f,d)}),this.addInternalListener(this._onJoinResult,(u,c,f)=>{f?this.emit(this.onJoinFailure,Ke(u),f):this._ircClient.acknowledgeJoin(u)}),this._ircClient.onTypedMessage(Wv,u=>{const{channel:c,user:f,tags:d}=u,g=Ke(c);if(f){const v=d.get("ban-duration");v===void 0?this.emit(this.onBan,g,f,u):this.emit(this.onTimeout,g,f,Number(v),u)}else this.emit(this.onChatClear,g,u)}),this._ircClient.onTypedMessage(Kv,u=>{const{channel:c,targetMessageId:f}=u;this.emit(this.onMessageRemove,Ke(c),f,u)}),this._ircClient.onTypedMessage(rl,({prefix:u,channel:c})=>{this.emit(this.onJoin,Ke(c),u.nick)}),this._ircClient.onTypedMessage(nl,({prefix:u,channel:c})=>{this.emit(this.onPart,Ke(c),u.nick)}),this._ircClient.onTypedMessage(Gv,({channel:u,tags:c})=>{let f=!1;if(c.has("subs-only")&&c.has("slow")&&(this.emit(this._onJoinResult,u,c),f=!0),!f){const d=Ke(u);if(c.has("slow")){const g=Number(c.get("slow"));g?this.emit(this.onSlow,d,!0,g):this.emit(this.onSlow,d,!1)}if(c.has("followers-only")){const g=Number(c.get("followers-only"));g===-1?this.emit(this.onFollowersOnly,d,!1):this.emit(this.onFollowersOnly,d,!0,g)}}}),this._ircClient.onTypedMessage(Pf,u=>{const{channel:c,text:f,tags:d}=u,g=d.get("msg-id"),v=Ke(c);switch(g){case"sub":case"resub":{const b=g==="sub"?this.onSub:this.onResub,w=d.get("msg-param-sub-plan"),m=d.get("msg-param-streak-months"),p={userId:d.get("user-id"),displayName:d.get("display-name"),plan:w,planName:d.get("msg-param-sub-plan-name"),isPrime:w==="Prime",months:Number(d.get("msg-param-cumulative-months")),streak:m?Number(m):void 0,message:f};if(d.get("msg-param-was-gifted")==="true"){const x=d.get("msg-param-anon-gift")==="true",S=Number(d.get("msg-param-gift-months")),k=Number(d.get("msg-param-gift-month-being-redeemed"));x?p.originalGiftInfo={anonymous:!0,duration:S,redeemedMonth:k}:p.originalGiftInfo={anonymous:!1,duration:S,redeemedMonth:k,userId:d.get("msg-param-gifter-id"),userName:d.get("msg-param-gifter-login"),userDisplayName:d.get("msg-param-gifter-name")}}this.emit(b,v,d.get("login"),p,u);break}case"subgift":{const b=d.get("msg-param-sub-plan"),w=d.get("login"),m=w==="ananonymousgifter",p={userId:d.get("msg-param-recipient-id"),displayName:d.get("msg-param-recipient-display-name"),gifter:m?void 0:w,gifterUserId:m?void 0:d.get("user-id"),gifterDisplayName:m?void 0:d.get("display-name"),gifterGiftCount:m?void 0:Number(d.get("msg-param-sender-count")),giftDuration:Number(d.get("msg-param-gift-months")),plan:b,planName:d.get("msg-param-sub-plan-name"),isPrime:b==="Prime",months:Number(d.get("msg-param-months"))};this.emit(this.onSubGift,v,d.get("msg-param-recipient-user-name"),p,u);break}case"submysterygift":{const b=d.get("login"),w=b==="ananonymousgifter",m={gifter:w?void 0:b,gifterUserId:w?void 0:d.get("user-id"),gifterDisplayName:w?void 0:d.get("display-name"),gifterGiftCount:w?void 0:Number(d.get("msg-param-sender-count")),count:Number(d.get("msg-param-mass-gift-count")),plan:d.get("msg-param-sub-plan")};this.emit(this.onCommunitySub,v,d.get("login"),m,u);break}case"primepaidupgrade":{const b={userId:d.get("user-id"),displayName:d.get("display-name"),plan:d.get("msg-param-sub-plan")};this.emit(this.onPrimePaidUpgrade,v,d.get("login"),b,u);break}case"giftpaidupgrade":{const b={userId:d.get("user-id"),displayName:d.get("display-name"),gifter:d.get("msg-param-sender-login"),gifterDisplayName:d.get("msg-param-sender-name")};this.emit(this.onGiftPaidUpgrade,v,d.get("login"),b,u);break}case"standardpayforward":{const b=d.get("msg-param-prior-gifter-anonymous")==="true",w={userId:d.get("user-id"),displayName:d.get("display-name"),originalGifterUserId:b?void 0:d.get("msg-param-prior-gifter-id"),originalGifterDisplayName:b?void 0:d.get("msg-param-prior-gifter-display-name"),recipientUserId:d.get("msg-param-recipient-id"),recipientDisplayName:d.get("msg-param-recipient-display-name")};this.emit(this.onStandardPayForward,v,d.get("login"),w,u);break}case"communitypayforward":{const b=d.get("msg-param-prior-gifter-anonymous")==="true",w={userId:d.get("user-id"),displayName:d.get("display-name"),originalGifterUserId:b?void 0:d.get("msg-param-prior-gifter-id"),originalGifterDisplayName:b?void 0:d.get("msg-param-prior-gifter-display-name")};this.emit(this.onCommunityPayForward,v,d.get("login"),w,u);break}case"primecommunitygiftreceived":{const b={name:d.get("msg-param-gift-name"),gifter:d.get("login"),gifterDisplayName:d.get("display-name")};this.emit(this.onPrimeCommunityGift,v,d.get("msg-param-recipient"),b,u);break}case"raid":{const b={displayName:d.get("msg-param-displayName"),viewerCount:Number(d.get("msg-param-viewerCount"))};this.emit(this.onRaid,v,d.get("login"),b,u);break}case"unraid":{this.emit(this.onRaidCancel,v,u);break}case"ritual":{const b={ritualName:d.get("msg-param-ritual-name"),message:f};this.emit(this.onRitual,v,d.get("login"),b,u);break}case"bitsbadgetier":{const b={displayName:d.get("display-name"),threshold:Number(d.get("msg-param-threshold"))};this.emit(this.onBitsBadgeUpgrade,v,d.get("login"),b,u);break}case"extendsub":{const b={userId:d.get("user-id"),displayName:d.get("display-name"),plan:d.get("msg-param-sub-plan"),months:Number(d.get("msg-param-cumulative-months")),endMonth:Number(d.get("msg-param-sub-benefit-end-month"))};this.emit(this.onSubExtend,v,d.get("login"),b,u);break}case"rewardgift":{const b={domain:d.get("msg-param-domain"),gifterId:d.get("user-id"),gifterDisplayName:d.get("display-name"),count:Number(d.get("msg-param-selected-count")),gifterGiftCount:Number(d.get("msg-param-total-reward-count")),triggerType:d.get("msg-param-trigger-type")};this.emit(this.onRewardGift,v,d.get("login"),b,u);break}case"announcement":{const b={color:d.get("msg-param-color")};this.emit(this.onAnnouncement,v,d.get("login"),b,u);break}default:this._chatLogger.warn(`Unrecognized usernotice ID: ${g}`)}}),this._ircClient.onTypedMessage(Qv,u=>{this.emit(this.onWhisper,u.prefix.nick,u.text,u)}),this._ircClient.onTypedMessage(Tf,async({target:u,text:c,tags:f})=>{const d=f.get("msg-id");switch(d){case"emote_only_on":{this.emit(this.onEmoteOnly,Ke(u),!0);break}case"emote_only_off":{this.emit(this.onEmoteOnly,Ke(u),!1);break}case"msg_channel_suspended":case"msg_banned":{this.emit(this._onJoinResult,u,void 0,d);break}case"r9k_on":{this.emit(this.onUniqueChat,Ke(u),!0);break}case"r9k_off":{this.emit(this.onUniqueChat,Ke(u),!1);break}case"subs_on":{this.emit(this.onSubsOnly,Ke(u),!0);break}case"subs_off":{this.emit(this.onSubsOnly,Ke(u),!1);break}case"cmds_available":break;case"followers_on":case"followers_on_zero":case"followers_off":case"slow_on":case"slow_off":break;case"timeout_success":break;case"unrecognized_cmd":break;case"no_permission":{this.emit(this.onNoPermission,Ke(u),c);break}case"msg_ratelimit":{this.emit(this.onMessageRatelimit,Ke(u),c);break}case"msg_duplicate":case"msg_emoteonly":case"msg_followersonly":case"msg_followersonly_followed":case"msg_followersonly_zero":case"msg_subsonly":case"msg_slowmode":case"msg_r9k":case"msg_verified_email":case"msg_timedout":case"msg_rejected_mandatory":case"msg_channel_blocked":{this.emit(this.onMessageFailed,Ke(u),d);break}case void 0:{if(c==="Login authentication failed"||c==="Improperly formatted AUTH"||c==="Invalid NICK"){this._authVerified=!1,this._authRetryTimer||(this._authRetryTimer=bE(120),this._authRetryCount=0);const g=this._authRetryTimer.next().value,v=++this._authRetryCount;this.emit(this.onAuthenticationFailure,c,v),g!==0&&this._chatLogger.info(`Retrying authentication in ${g} seconds`),await A4(g*1e3),this._ircClient.reconnect()}break}default:d.startsWith("usage_")||this._chatLogger.warn(`Unrecognized notice ID: '${d}'`)}})}connect(){this._authProvider||this._ircClient.changeNick(sy._generateJustinfanNick()),this._ircClient.connect()}get irc(){return this._ircClient}get isConnected(){return this._ircClient.isConnected}get isConnecting(){return this._ircClient.isConnecting}get currentChannels(){return this._ircClient.currentChannels}async say(e,r,n={},i){const s={};n.replyTo&&(s["reply-parent-msg-id"]=B6(n.replyTo));const o=X2(r,500);await Promise.all(o.map(async a=>await this._messageRateLimiter.request({type:"say",channel:Du(e),text:a,tags:s},i)))}async action(e,r,n){const i=X2(r,490);await Promise.all(i.map(async s=>await this._messageRateLimiter.request({type:"action",channel:Du(e),text:s},n)))}async join(e){await this._joinRateLimiter.request(Du(e))}part(e){this._ircClient.part(Du(e))}quit(){this._ircClient.quitAbruptly()}reconnect(){this.quit(),this.connect()}async _getAuthToken(){var e,r;if(!this._authProvider){this._chatLogger.debug("No authProvider given; connecting anonymously");return}if(this._authToken&&!Zs(this._authToken)&&this._authVerified)return this._chatLogger.debug("AccessToken assumed to be correct from last connection"),`oauth:${this._authToken.accessToken}`;const n=this._getNecessaryScopes();let i,s=!1;for(const o of this._authIntents){try{if(this._authToken=await this._authProvider.getAccessTokenForIntent(o,n),!this._authToken)continue;s=!0;const a=await us(this._authToken.accessToken);if(!a.userName)throw new oc("Could not determine a user name for your token; you might be trying to disguise an app token as a user token.");return this._ircClient.changeNick(a.userName),`oauth:${this._authToken.accessToken}`}catch(a){a instanceof Zi?i=a:this._chatLogger.error(`Retrieving an access token failed: ${a.message}`)}this._chatLogger.warn("No valid token available; trying to refresh");try{if(this._authToken=await((r=(e=this._authProvider).refreshAccessTokenForIntent)===null||r===void 0?void 0:r.call(e,"chat")),this._authToken){const a=await us(this._authToken.accessToken);if(!a.userName)throw new oc("Could not determine a user name for your token; you might be trying to disguise an app token as a user token.");return this._ircClient.changeNick(a.userName),`oauth:${this._authToken.accessToken}`}}catch(a){a instanceof Zi?i=a:this._chatLogger.error(`Refreshing the access token failed: ${a.message}`)}}throw this._authVerified=!1,i??new Error(s?"Could not retrieve a valid token":`None of the queried intents (${this._authIntents.join(", ")}) are known by the auth provider${this._authProvider instanceof wi?".\nPlease add one of these to the user you want to connect with using the `addIntentToUser` method or the additional parameter to `addUser` or `addUserForToken`.":""}`)}_getNecessaryScopes(){return this._useLegacyScopes?["chat_login"]:this._readOnly?["chat:read"]:["chat:read","chat:edit"]}static _generateJustinfanNick(){return`justinfan${Math.floor(Math.random()*1e5).toString().padStart(5,"0")}`}};C([Y(!1)],nd.prototype,"_authProvider",void 0);nd=sy=C([$("chat","ChatClient")],nd);function Hk(t,e={}){const{animationSettings:r="default",backgroundType:n="dark",size:i="1.0"}=e;return`https://static-cdn.jtvnw.net/emoticons/v2/${t}/${r}/${n}/${i}`}function U6(t,e){return[...e.entries()].flatMap(([r,n])=>n.map(i=>{const[s,o]=i.split("-"),a=+s,l=+o,u=Kg(t,a,l+1);return{type:"emote",position:a,length:l-a+1,id:r,name:u}})).sort((r,n)=>r.position-n.position)}function F6(t,e){const r=[],n=new RegExp("(?<=^|\\s)([a-z]+(?:\\d+[a-z]+)*)(\\d+)(?=\\s|$)","gi");let i=null;for(;i=n.exec(t);){const s=i[1].toLowerCase();if(e.includes(s)){const o=Number(i[2]);r.push({type:"cheer",name:s,amount:o,position:CE(t.slice(0,i.index)),length:i[0].length})}}return r}function q6(t,e){const r=CE(t);if(!e.length)return[{type:"text",position:0,length:r,text:t}];const n=[];let i=0;for(const s of e)s.position>i&&n.push({type:"text",position:i,length:s.position-i,text:Kg(t,i,s.position)}),n.push(s),i=s.position+s.length;return i<r&&n.push({type:"text",position:i,length:r-i,text:Kg(t,i)}),n}function H6(t,e,r){if(!t)return[];const n=U6(t,e);return r&&(n.push(...F6(t,r)),n.sort((i,s)=>i.position-s.position)),q6(t,n)}const oy={twitch:{clientId:"xrjkdmui65qd33jdx8itfslt61qys8",scopes:["chat:read","channel:read:redemptions","moderator:read:followers"]},google:{clientId:"932208815805-oq2sevf3ida5idi4k84tlsh03nqc35cs.apps.googleusercontent.com",scopes:["https://www.googleapis.com/auth/youtube.readonly"]}};function zk(t,e){return function(){return t.apply(e,arguments)}}const{toString:z6}=Object.prototype,{getPrototypeOf:Yv}=Object,Af=(t=>e=>{const r=z6.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Zr=t=>(t=t.toLowerCase(),e=>Af(e)===t),If=t=>e=>typeof e===t,{isArray:Uo}=Array,sl=If("undefined");function W6(t){return t!==null&&!sl(t)&&t.constructor!==null&&!sl(t.constructor)&&lr(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const Wk=Zr("ArrayBuffer");function G6(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&Wk(t.buffer),e}const V6=If("string"),lr=If("function"),Gk=If("number"),Of=t=>t!==null&&typeof t=="object",Q6=t=>t===!0||t===!1,lc=t=>{if(Af(t)!=="object")return!1;const e=Yv(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},K6=Zr("Date"),Y6=Zr("File"),X6=Zr("Blob"),J6=Zr("FileList"),Z6=t=>Of(t)&&lr(t.pipe),eD=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||lr(t.append)&&((e=Af(t))==="formdata"||e==="object"&&lr(t.toString)&&t.toString()==="[object FormData]"))},tD=Zr("URLSearchParams"),rD=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Zl(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let n,i;if(typeof t!="object"&&(t=[t]),Uo(t))for(n=0,i=t.length;n<i;n++)e.call(null,t[n],n,t);else{const s=r?Object.getOwnPropertyNames(t):Object.keys(t),o=s.length;let a;for(n=0;n<o;n++)a=s[n],e.call(null,t[a],a,t)}}function Vk(t,e){e=e.toLowerCase();const r=Object.keys(t);let n=r.length,i;for(;n-- >0;)if(i=r[n],e===i.toLowerCase())return i;return null}const Qk=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),Kk=t=>!sl(t)&&t!==Qk;function ay(){const{caseless:t}=Kk(this)&&this||{},e={},r=(n,i)=>{const s=t&&Vk(e,i)||i;lc(e[s])&&lc(n)?e[s]=ay(e[s],n):lc(n)?e[s]=ay({},n):Uo(n)?e[s]=n.slice():e[s]=n};for(let n=0,i=arguments.length;n<i;n++)arguments[n]&&Zl(arguments[n],r);return e}const nD=(t,e,r,{allOwnKeys:n}={})=>(Zl(e,(i,s)=>{r&&lr(i)?t[s]=zk(i,r):t[s]=i},{allOwnKeys:n}),t),iD=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),sD=(t,e,r,n)=>{t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},oD=(t,e,r,n)=>{let i,s,o;const a={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)o=i[s],(!n||n(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=r!==!1&&Yv(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},aD=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;const n=t.indexOf(e,r);return n!==-1&&n===r},lD=t=>{if(!t)return null;if(Uo(t))return t;let e=t.length;if(!Gk(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},uD=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Yv(Uint8Array)),cD=(t,e)=>{const n=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=n.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},dD=(t,e)=>{let r;const n=[];for(;(r=t.exec(e))!==null;)n.push(r);return n},fD=Zr("HTMLFormElement"),hD=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,i){return n.toUpperCase()+i}),J2=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),pD=Zr("RegExp"),Yk=(t,e)=>{const r=Object.getOwnPropertyDescriptors(t),n={};Zl(r,(i,s)=>{let o;(o=e(i,s,t))!==!1&&(n[s]=o||i)}),Object.defineProperties(t,n)},mD=t=>{Yk(t,(e,r)=>{if(lr(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=t[r];if(lr(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},gD=(t,e)=>{const r={},n=i=>{i.forEach(s=>{r[s]=!0})};return Uo(t)?n(t):n(String(t).split(e)),r},yD=()=>{},vD=(t,e)=>(t=+t,Number.isFinite(t)?t:e),gm="abcdefghijklmnopqrstuvwxyz",Z2="0123456789",Xk={DIGIT:Z2,ALPHA:gm,ALPHA_DIGIT:gm+gm.toUpperCase()+Z2},wD=(t=16,e=Xk.ALPHA_DIGIT)=>{let r="";const{length:n}=e;for(;t--;)r+=e[Math.random()*n|0];return r};function _D(t){return!!(t&&lr(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const bD=t=>{const e=new Array(10),r=(n,i)=>{if(Of(n)){if(e.indexOf(n)>=0)return;if(!("toJSON"in n)){e[i]=n;const s=Uo(n)?[]:{};return Zl(n,(o,a)=>{const l=r(o,i+1);!sl(l)&&(s[a]=l)}),e[i]=void 0,s}}return n};return r(t,0)},xD=Zr("AsyncFunction"),SD=t=>t&&(Of(t)||lr(t))&&lr(t.then)&&lr(t.catch),D={isArray:Uo,isArrayBuffer:Wk,isBuffer:W6,isFormData:eD,isArrayBufferView:G6,isString:V6,isNumber:Gk,isBoolean:Q6,isObject:Of,isPlainObject:lc,isUndefined:sl,isDate:K6,isFile:Y6,isBlob:X6,isRegExp:pD,isFunction:lr,isStream:Z6,isURLSearchParams:tD,isTypedArray:uD,isFileList:J6,forEach:Zl,merge:ay,extend:nD,trim:rD,stripBOM:iD,inherits:sD,toFlatObject:oD,kindOf:Af,kindOfTest:Zr,endsWith:aD,toArray:lD,forEachEntry:cD,matchAll:dD,isHTMLForm:fD,hasOwnProperty:J2,hasOwnProp:J2,reduceDescriptors:Yk,freezeMethods:mD,toObjectSet:gD,toCamelCase:hD,noop:yD,toFiniteNumber:vD,findKey:Vk,global:Qk,isContextDefined:Kk,ALPHABET:Xk,generateString:wD,isSpecCompliantForm:_D,toJSONObject:bD,isAsyncFn:xD,isThenable:SD};function me(t,e,r,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i)}D.inherits(me,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:D.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const Jk=me.prototype,Zk={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{Zk[t]={value:t}});Object.defineProperties(me,Zk);Object.defineProperty(Jk,"isAxiosError",{value:!0});me.from=(t,e,r,n,i,s)=>{const o=Object.create(Jk);return D.toFlatObject(t,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),me.call(o,t.message,e,r,n,i),o.cause=t,o.name=t.name,s&&Object.assign(o,s),o};const CD=null;function ly(t){return D.isPlainObject(t)||D.isArray(t)}function eP(t){return D.endsWith(t,"[]")?t.slice(0,-2):t}function ex(t,e,r){return t?t.concat(e).map(function(i,s){return i=eP(i),!r&&s?"["+i+"]":i}).join(r?".":""):e}function ED(t){return D.isArray(t)&&!t.some(ly)}const TD=D.toFlatObject(D,{},null,function(e){return/^is[A-Z]/.test(e)});function Rf(t,e,r){if(!D.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,r=D.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(b,w){return!D.isUndefined(w[b])});const n=r.metaTokens,i=r.visitor||c,s=r.dots,o=r.indexes,l=(r.Blob||typeof Blob<"u"&&Blob)&&D.isSpecCompliantForm(e);if(!D.isFunction(i))throw new TypeError("visitor must be a function");function u(v){if(v===null)return"";if(D.isDate(v))return v.toISOString();if(!l&&D.isBlob(v))throw new me("Blob is not supported. Use a Buffer instead.");return D.isArrayBuffer(v)||D.isTypedArray(v)?l&&typeof Blob=="function"?new Blob([v]):Buffer.from(v):v}function c(v,b,w){let m=v;if(v&&!w&&typeof v=="object"){if(D.endsWith(b,"{}"))b=n?b:b.slice(0,-2),v=JSON.stringify(v);else if(D.isArray(v)&&ED(v)||(D.isFileList(v)||D.endsWith(b,"[]"))&&(m=D.toArray(v)))return b=eP(b),m.forEach(function(y,x){!(D.isUndefined(y)||y===null)&&e.append(o===!0?ex([b],x,s):o===null?b:b+"[]",u(y))}),!1}return ly(v)?!0:(e.append(ex(w,b,s),u(v)),!1)}const f=[],d=Object.assign(TD,{defaultVisitor:c,convertValue:u,isVisitable:ly});function g(v,b){if(!D.isUndefined(v)){if(f.indexOf(v)!==-1)throw Error("Circular reference detected in "+b.join("."));f.push(v),D.forEach(v,function(m,p){(!(D.isUndefined(m)||m===null)&&i.call(e,m,D.isString(p)?p.trim():p,b,d))===!0&&g(m,b?b.concat(p):[p])}),f.pop()}}if(!D.isObject(t))throw new TypeError("data must be an object");return g(t),e}function tx(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function Xv(t,e){this._pairs=[],t&&Rf(t,this,e)}const tP=Xv.prototype;tP.append=function(e,r){this._pairs.push([e,r])};tP.toString=function(e){const r=e?function(n){return e.call(this,n,tx)}:tx;return this._pairs.map(function(i){return r(i[0])+"="+r(i[1])},"").join("&")};function kD(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function rP(t,e,r){if(!e)return t;const n=r&&r.encode||kD,i=r&&r.serialize;let s;if(i?s=i(e,r):s=D.isURLSearchParams(e)?e.toString():new Xv(e,r).toString(n),s){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class PD{constructor(){this.handlers=[]}use(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){D.forEach(this.handlers,function(n){n!==null&&e(n)})}}const rx=PD,nP={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},AD=typeof URLSearchParams<"u"?URLSearchParams:Xv,ID=typeof FormData<"u"?FormData:null,OD=typeof Blob<"u"?Blob:null,RD=(()=>{let t;return typeof navigator<"u"&&((t=navigator.product)==="ReactNative"||t==="NativeScript"||t==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),MD=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),Gr={isBrowser:!0,classes:{URLSearchParams:AD,FormData:ID,Blob:OD},isStandardBrowserEnv:RD,isStandardBrowserWebWorkerEnv:MD,protocols:["http","https","file","blob","url","data"]};function ND(t,e){return Rf(t,new Gr.classes.URLSearchParams,Object.assign({visitor:function(r,n,i,s){return Gr.isNode&&D.isBuffer(r)?(this.append(n,r.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function DD(t){return D.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function jD(t){const e={},r=Object.keys(t);let n;const i=r.length;let s;for(n=0;n<i;n++)s=r[n],e[s]=t[s];return e}function iP(t){function e(r,n,i,s){let o=r[s++];const a=Number.isFinite(+o),l=s>=r.length;return o=!o&&D.isArray(i)?i.length:o,l?(D.hasOwnProp(i,o)?i[o]=[i[o],n]:i[o]=n,!a):((!i[o]||!D.isObject(i[o]))&&(i[o]=[]),e(r,n,i[o],s)&&D.isArray(i[o])&&(i[o]=jD(i[o])),!a)}if(D.isFormData(t)&&D.isFunction(t.entries)){const r={};return D.forEachEntry(t,(n,i)=>{e(DD(n),i,r,0)}),r}return null}function LD(t,e,r){if(D.isString(t))try{return(e||JSON.parse)(t),D.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(t)}const Jv={transitional:nP,adapter:["xhr","http"],transformRequest:[function(e,r){const n=r.getContentType()||"",i=n.indexOf("application/json")>-1,s=D.isObject(e);if(s&&D.isHTMLForm(e)&&(e=new FormData(e)),D.isFormData(e))return i&&i?JSON.stringify(iP(e)):e;if(D.isArrayBuffer(e)||D.isBuffer(e)||D.isStream(e)||D.isFile(e)||D.isBlob(e))return e;if(D.isArrayBufferView(e))return e.buffer;if(D.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return ND(e,this.formSerializer).toString();if((a=D.isFileList(e))||n.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Rf(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return s||i?(r.setContentType("application/json",!1),LD(e)):e}],transformResponse:[function(e){const r=this.transitional||Jv.transitional,n=r&&r.forcedJSONParsing,i=this.responseType==="json";if(e&&D.isString(e)&&(n&&!this.responseType||i)){const o=!(r&&r.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?me.from(a,me.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Gr.classes.FormData,Blob:Gr.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};D.forEach(["delete","get","head","post","put","patch"],t=>{Jv.headers[t]={}});const Zv=Jv,BD=D.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),$D=t=>{const e={};let r,n,i;return t&&t.split(`
`).forEach(function(o){i=o.indexOf(":"),r=o.substring(0,i).trim().toLowerCase(),n=o.substring(i+1).trim(),!(!r||e[r]&&BD[r])&&(r==="set-cookie"?e[r]?e[r].push(n):e[r]=[n]:e[r]=e[r]?e[r]+", "+n:n)}),e},nx=Symbol("internals");function ta(t){return t&&String(t).trim().toLowerCase()}function uc(t){return t===!1||t==null?t:D.isArray(t)?t.map(uc):String(t)}function UD(t){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(t);)e[n[1]]=n[2];return e}const FD=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function ym(t,e,r,n,i){if(D.isFunction(n))return n.call(this,e,r);if(i&&(e=r),!!D.isString(e)){if(D.isString(n))return e.indexOf(n)!==-1;if(D.isRegExp(n))return n.test(e)}}function qD(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,n)=>r.toUpperCase()+n)}function HD(t,e){const r=D.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+r,{value:function(i,s,o){return this[n].call(this,e,i,s,o)},configurable:!0})})}class Mf{constructor(e){e&&this.set(e)}set(e,r,n){const i=this;function s(a,l,u){const c=ta(l);if(!c)throw new Error("header name must be a non-empty string");const f=D.findKey(i,c);(!f||i[f]===void 0||u===!0||u===void 0&&i[f]!==!1)&&(i[f||l]=uc(a))}const o=(a,l)=>D.forEach(a,(u,c)=>s(u,c,l));return D.isPlainObject(e)||e instanceof this.constructor?o(e,r):D.isString(e)&&(e=e.trim())&&!FD(e)?o($D(e),r):e!=null&&s(r,e,n),this}get(e,r){if(e=ta(e),e){const n=D.findKey(this,e);if(n){const i=this[n];if(!r)return i;if(r===!0)return UD(i);if(D.isFunction(r))return r.call(this,i,n);if(D.isRegExp(r))return r.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=ta(e),e){const n=D.findKey(this,e);return!!(n&&this[n]!==void 0&&(!r||ym(this,this[n],n,r)))}return!1}delete(e,r){const n=this;let i=!1;function s(o){if(o=ta(o),o){const a=D.findKey(n,o);a&&(!r||ym(n,n[a],a,r))&&(delete n[a],i=!0)}}return D.isArray(e)?e.forEach(s):s(e),i}clear(e){const r=Object.keys(this);let n=r.length,i=!1;for(;n--;){const s=r[n];(!e||ym(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const r=this,n={};return D.forEach(this,(i,s)=>{const o=D.findKey(n,s);if(o){r[o]=uc(i),delete r[s];return}const a=e?qD(s):String(s).trim();a!==s&&delete r[s],r[a]=uc(i),n[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const r=Object.create(null);return D.forEach(this,(n,i)=>{n!=null&&n!==!1&&(r[i]=e&&D.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){const n=new this(e);return r.forEach(i=>n.set(i)),n}static accessor(e){const n=(this[nx]=this[nx]={accessors:{}}).accessors,i=this.prototype;function s(o){const a=ta(o);n[a]||(HD(i,o),n[a]=!0)}return D.isArray(e)?e.forEach(s):s(e),this}}Mf.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);D.reduceDescriptors(Mf.prototype,({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(n){this[r]=n}}});D.freezeMethods(Mf);const dn=Mf;function vm(t,e){const r=this||Zv,n=e||r,i=dn.from(n.headers);let s=n.data;return D.forEach(t,function(a){s=a.call(r,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function sP(t){return!!(t&&t.__CANCEL__)}function eu(t,e,r){me.call(this,t??"canceled",me.ERR_CANCELED,e,r),this.name="CanceledError"}D.inherits(eu,me,{__CANCEL__:!0});function zD(t,e,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?t(r):e(new me("Request failed with status code "+r.status,[me.ERR_BAD_REQUEST,me.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}const WD=Gr.isStandardBrowserEnv?function(){return{write:function(r,n,i,s,o,a){const l=[];l.push(r+"="+encodeURIComponent(n)),D.isNumber(i)&&l.push("expires="+new Date(i).toGMTString()),D.isString(s)&&l.push("path="+s),D.isString(o)&&l.push("domain="+o),a===!0&&l.push("secure"),document.cookie=l.join("; ")},read:function(r){const n=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove:function(r){this.write(r,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function GD(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function VD(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}function oP(t,e){return t&&!GD(e)?VD(t,e):e}const QD=Gr.isStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");let n;function i(s){let o=s;return e&&(r.setAttribute("href",o),o=r.href),r.setAttribute("href",o),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return n=i(window.location.href),function(o){const a=D.isString(o)?i(o):o;return a.protocol===n.protocol&&a.host===n.host}}():function(){return function(){return!0}}();function KD(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function YD(t,e){t=t||10;const r=new Array(t),n=new Array(t);let i=0,s=0,o;return e=e!==void 0?e:1e3,function(l){const u=Date.now(),c=n[s];o||(o=u),r[i]=l,n[i]=u;let f=s,d=0;for(;f!==i;)d+=r[f++],f=f%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),u-o<e)return;const g=c&&u-c;return g?Math.round(d*1e3/g):void 0}}function ix(t,e){let r=0;const n=YD(50,250);return i=>{const s=i.loaded,o=i.lengthComputable?i.total:void 0,a=s-r,l=n(a),u=s<=o;r=s;const c={loaded:s,total:o,progress:o?s/o:void 0,bytes:a,rate:l||void 0,estimated:l&&o&&u?(o-s)/l:void 0,event:i};c[e?"download":"upload"]=!0,t(c)}}const XD=typeof XMLHttpRequest<"u",JD=XD&&function(t){return new Promise(function(r,n){let i=t.data;const s=dn.from(t.headers).normalize(),o=t.responseType;let a;function l(){t.cancelToken&&t.cancelToken.unsubscribe(a),t.signal&&t.signal.removeEventListener("abort",a)}let u;D.isFormData(i)&&(Gr.isStandardBrowserEnv||Gr.isStandardBrowserWebWorkerEnv?s.setContentType(!1):s.getContentType(/^\s*multipart\/form-data/)?D.isString(u=s.getContentType())&&s.setContentType(u.replace(/^\s*(multipart\/form-data);+/,"$1")):s.setContentType("multipart/form-data"));let c=new XMLHttpRequest;if(t.auth){const v=t.auth.username||"",b=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";s.set("Authorization","Basic "+btoa(v+":"+b))}const f=oP(t.baseURL,t.url);c.open(t.method.toUpperCase(),rP(f,t.params,t.paramsSerializer),!0),c.timeout=t.timeout;function d(){if(!c)return;const v=dn.from("getAllResponseHeaders"in c&&c.getAllResponseHeaders()),w={data:!o||o==="text"||o==="json"?c.responseText:c.response,status:c.status,statusText:c.statusText,headers:v,config:t,request:c};zD(function(p){r(p),l()},function(p){n(p),l()},w),c=null}if("onloadend"in c?c.onloadend=d:c.onreadystatechange=function(){!c||c.readyState!==4||c.status===0&&!(c.responseURL&&c.responseURL.indexOf("file:")===0)||setTimeout(d)},c.onabort=function(){c&&(n(new me("Request aborted",me.ECONNABORTED,t,c)),c=null)},c.onerror=function(){n(new me("Network Error",me.ERR_NETWORK,t,c)),c=null},c.ontimeout=function(){let b=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const w=t.transitional||nP;t.timeoutErrorMessage&&(b=t.timeoutErrorMessage),n(new me(b,w.clarifyTimeoutError?me.ETIMEDOUT:me.ECONNABORTED,t,c)),c=null},Gr.isStandardBrowserEnv){const v=(t.withCredentials||QD(f))&&t.xsrfCookieName&&WD.read(t.xsrfCookieName);v&&s.set(t.xsrfHeaderName,v)}i===void 0&&s.setContentType(null),"setRequestHeader"in c&&D.forEach(s.toJSON(),function(b,w){c.setRequestHeader(w,b)}),D.isUndefined(t.withCredentials)||(c.withCredentials=!!t.withCredentials),o&&o!=="json"&&(c.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&c.addEventListener("progress",ix(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&c.upload&&c.upload.addEventListener("progress",ix(t.onUploadProgress)),(t.cancelToken||t.signal)&&(a=v=>{c&&(n(!v||v.type?new eu(null,t,c):v),c.abort(),c=null)},t.cancelToken&&t.cancelToken.subscribe(a),t.signal&&(t.signal.aborted?a():t.signal.addEventListener("abort",a)));const g=KD(f);if(g&&Gr.protocols.indexOf(g)===-1){n(new me("Unsupported protocol "+g+":",me.ERR_BAD_REQUEST,t));return}c.send(i||null)})},uy={http:CD,xhr:JD};D.forEach(uy,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const sx=t=>`- ${t}`,ZD=t=>D.isFunction(t)||t===null||t===!1,aP={getAdapter:t=>{t=D.isArray(t)?t:[t];const{length:e}=t;let r,n;const i={};for(let s=0;s<e;s++){r=t[s];let o;if(n=r,!ZD(r)&&(n=uy[(o=String(r)).toLowerCase()],n===void 0))throw new me(`Unknown adapter '${o}'`);if(n)break;i[o||"#"+s]=n}if(!n){const s=Object.entries(i).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=e?s.length>1?`since :
`+s.map(sx).join(`
`):" "+sx(s[0]):"as no adapter specified";throw new me("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return n},adapters:uy};function wm(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new eu(null,t)}function ox(t){return wm(t),t.headers=dn.from(t.headers),t.data=vm.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),aP.getAdapter(t.adapter||Zv.adapter)(t).then(function(n){return wm(t),n.data=vm.call(t,t.transformResponse,n),n.headers=dn.from(n.headers),n},function(n){return sP(n)||(wm(t),n&&n.response&&(n.response.data=vm.call(t,t.transformResponse,n.response),n.response.headers=dn.from(n.response.headers))),Promise.reject(n)})}const ax=t=>t instanceof dn?t.toJSON():t;function Po(t,e){e=e||{};const r={};function n(u,c,f){return D.isPlainObject(u)&&D.isPlainObject(c)?D.merge.call({caseless:f},u,c):D.isPlainObject(c)?D.merge({},c):D.isArray(c)?c.slice():c}function i(u,c,f){if(D.isUndefined(c)){if(!D.isUndefined(u))return n(void 0,u,f)}else return n(u,c,f)}function s(u,c){if(!D.isUndefined(c))return n(void 0,c)}function o(u,c){if(D.isUndefined(c)){if(!D.isUndefined(u))return n(void 0,u)}else return n(void 0,c)}function a(u,c,f){if(f in e)return n(u,c);if(f in t)return n(void 0,u)}const l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(u,c)=>i(ax(u),ax(c),!0)};return D.forEach(Object.keys(Object.assign({},t,e)),function(c){const f=l[c]||i,d=f(t[c],e[c],c);D.isUndefined(d)&&f!==a||(r[c]=d)}),r}const lP="1.5.1",ew={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{ew[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});const lx={};ew.transitional=function(e,r,n){function i(s,o){return"[Axios v"+lP+"] Transitional option '"+s+"'"+o+(n?". "+n:"")}return(s,o,a)=>{if(e===!1)throw new me(i(o," has been removed"+(r?" in "+r:"")),me.ERR_DEPRECATED);return r&&!lx[o]&&(lx[o]=!0,console.warn(i(o," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(s,o,a):!0}};function ej(t,e,r){if(typeof t!="object")throw new me("options must be an object",me.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let i=n.length;for(;i-- >0;){const s=n[i],o=e[s];if(o){const a=t[s],l=a===void 0||o(a,s,t);if(l!==!0)throw new me("option "+s+" must be "+l,me.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new me("Unknown option "+s,me.ERR_BAD_OPTION)}}const cy={assertOptions:ej,validators:ew},On=cy.validators;class id{constructor(e){this.defaults=e,this.interceptors={request:new rx,response:new rx}}request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=Po(this.defaults,r);const{transitional:n,paramsSerializer:i,headers:s}=r;n!==void 0&&cy.assertOptions(n,{silentJSONParsing:On.transitional(On.boolean),forcedJSONParsing:On.transitional(On.boolean),clarifyTimeoutError:On.transitional(On.boolean)},!1),i!=null&&(D.isFunction(i)?r.paramsSerializer={serialize:i}:cy.assertOptions(i,{encode:On.function,serialize:On.function},!0)),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=s&&D.merge(s.common,s[r.method]);s&&D.forEach(["delete","get","head","post","put","patch","common"],v=>{delete s[v]}),r.headers=dn.concat(o,s);const a=[];let l=!0;this.interceptors.request.forEach(function(b){typeof b.runWhen=="function"&&b.runWhen(r)===!1||(l=l&&b.synchronous,a.unshift(b.fulfilled,b.rejected))});const u=[];this.interceptors.response.forEach(function(b){u.push(b.fulfilled,b.rejected)});let c,f=0,d;if(!l){const v=[ox.bind(this),void 0];for(v.unshift.apply(v,a),v.push.apply(v,u),d=v.length,c=Promise.resolve(r);f<d;)c=c.then(v[f++],v[f++]);return c}d=a.length;let g=r;for(f=0;f<d;){const v=a[f++],b=a[f++];try{g=v(g)}catch(w){b.call(this,w);break}}try{c=ox.call(this,g)}catch(v){return Promise.reject(v)}for(f=0,d=u.length;f<d;)c=c.then(u[f++],u[f++]);return c}getUri(e){e=Po(this.defaults,e);const r=oP(e.baseURL,e.url);return rP(r,e.params,e.paramsSerializer)}}D.forEach(["delete","get","head","options"],function(e){id.prototype[e]=function(r,n){return this.request(Po(n||{},{method:e,url:r,data:(n||{}).data}))}});D.forEach(["post","put","patch"],function(e){function r(n){return function(s,o,a){return this.request(Po(a||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}id.prototype[e]=r(),id.prototype[e+"Form"]=r(!0)});const cc=id;class tw{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(s){r=s});const n=this;this.promise.then(i=>{if(!n._listeners)return;let s=n._listeners.length;for(;s-- >0;)n._listeners[s](i);n._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(a=>{n.subscribe(a),s=a}).then(i);return o.cancel=function(){n.unsubscribe(s)},o},e(function(s,o,a){n.reason||(n.reason=new eu(s,o,a),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}static source(){let e;return{token:new tw(function(i){e=i}),cancel:e}}}const tj=tw;function rj(t){return function(r){return t.apply(null,r)}}function nj(t){return D.isObject(t)&&t.isAxiosError===!0}const dy={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(dy).forEach(([t,e])=>{dy[e]=t});const ij=dy;function uP(t){const e=new cc(t),r=zk(cc.prototype.request,e);return D.extend(r,cc.prototype,e,{allOwnKeys:!0}),D.extend(r,e,null,{allOwnKeys:!0}),r.create=function(i){return uP(Po(t,i))},r}const Ve=uP(Zv);Ve.Axios=cc;Ve.CanceledError=eu;Ve.CancelToken=tj;Ve.isCancel=sP;Ve.VERSION=lP;Ve.toFormData=Rf;Ve.AxiosError=me;Ve.Cancel=Ve.CanceledError;Ve.all=function(e){return Promise.all(e)};Ve.spread=rj;Ve.isAxiosError=nj;Ve.mergeConfig=Po;Ve.AxiosHeaders=dn;Ve.formToJSON=t=>iP(D.isHTMLForm(t)?new FormData(t):t);Ve.getAdapter=aP.getAdapter;Ve.HttpStatusCode=ij;Ve.default=Ve;const Nf=Ve,sj=Nf.create({baseURL:"https://slime2.stream/api"});function rw(t){const{keys:e,platforms:r}=vn(),n=e[t],[i,s]=I.useState(!1),o=t==="google"?"youtube":t,a=r.includes(o);return I.useEffect(()=>{function l(){s(!0)}return addEventListener("slime2:ready",l),()=>{removeEventListener("slime2:ready",l)}},[]),bi({enabled:i,queryKey:[t,a,"accessToken",n||null],queryFn:async()=>{if(!a)throw Error("Not an actual error");return cP(t,n)},...ps})}async function cP(t,e){if(!e)throw new dP(`Key not found for platform ${t}`);return sj.get(`/auth/${t}/token`,{headers:{Authorization:`Bearer ${e}`}}).then(r=>r.data.token).catch(r=>{const n=`Invalid key for platform ${t}, download a new one from https://slime2.stream/account`;throw console.error(n,r),new fP(`Invalid key for platform ${t}, download a new one from https://slime2.stream/account`,{cause:r})})}class dP extends Error{constructor(e,r){super(e,r),this.name="KeyNotFoundError"}}class fP extends Error{constructor(e,r){super(e,r),this.name="KeyInvalidError"}}class oj extends Jr{}class aj extends Mv{async doRequest({options:e,clientId:r,accessToken:n,authorizationType:i,fetchOptions:s}){return await Ef(e,r,n,i,s)}needsToRetryAfter(e){return e.status===429&&(!e.headers.has("ratelimit-remaining")||Number(e.headers.get("ratelimit-remaining"))===0)?+e.headers.get("ratelimit-reset")*1e3-Date.now():null}getParametersFromResponse(e){const{headers:r}=e;return{limit:+r.get("ratelimit-limit"),remaining:+r.get("ratelimit-remaining"),resetsAt:+r.get("ratelimit-reset")*1e3}}}var hP={};function pr(t,e){typeof e=="boolean"&&(e={forever:e}),this._originalTimeouts=JSON.parse(JSON.stringify(t)),this._timeouts=t,this._options=e||{},this._maxRetryTime=e&&e.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._timer=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}var lj=pr;pr.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts.slice(0)};pr.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timer&&clearTimeout(this._timer),this._timeouts=[],this._cachedTimeouts=null};pr.prototype.retry=function(t){if(this._timeout&&clearTimeout(this._timeout),!t)return!1;var e=new Date().getTime();if(t&&e-this._operationStart>=this._maxRetryTime)return this._errors.push(t),this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(t);var r=this._timeouts.shift();if(r===void 0)if(this._cachedTimeouts)this._errors.splice(0,this._errors.length-1),r=this._cachedTimeouts.slice(-1);else return!1;var n=this;return this._timer=setTimeout(function(){n._attempts++,n._operationTimeoutCb&&(n._timeout=setTimeout(function(){n._operationTimeoutCb(n._attempts)},n._operationTimeout),n._options.unref&&n._timeout.unref()),n._fn(n._attempts)},r),this._options.unref&&this._timer.unref(),!0};pr.prototype.attempt=function(t,e){this._fn=t,e&&(e.timeout&&(this._operationTimeout=e.timeout),e.cb&&(this._operationTimeoutCb=e.cb));var r=this;this._operationTimeoutCb&&(this._timeout=setTimeout(function(){r._operationTimeoutCb()},r._operationTimeout)),this._operationStart=new Date().getTime(),this._fn(this._attempts)};pr.prototype.try=function(t){console.log("Using RetryOperation.try() is deprecated"),this.attempt(t)};pr.prototype.start=function(t){console.log("Using RetryOperation.start() is deprecated"),this.attempt(t)};pr.prototype.start=pr.prototype.try;pr.prototype.errors=function(){return this._errors};pr.prototype.attempts=function(){return this._attempts};pr.prototype.mainError=function(){if(this._errors.length===0)return null;for(var t={},e=null,r=0,n=0;n<this._errors.length;n++){var i=this._errors[n],s=i.message,o=(t[s]||0)+1;t[s]=o,o>=r&&(e=i,r=o)}return e};(function(t){var e=lj;t.operation=function(r){var n=t.timeouts(r);return new e(n,{forever:r&&(r.forever||r.retries===1/0),unref:r&&r.unref,maxRetryTime:r&&r.maxRetryTime})},t.timeouts=function(r){if(r instanceof Array)return[].concat(r);var n={retries:10,factor:2,minTimeout:1*1e3,maxTimeout:1/0,randomize:!1};for(var i in r)n[i]=r[i];if(n.minTimeout>n.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var s=[],o=0;o<n.retries;o++)s.push(this.createTimeout(o,n));return r&&r.forever&&!s.length&&s.push(this.createTimeout(o,n)),s.sort(function(a,l){return a-l}),s},t.createTimeout=function(r,n){var i=n.randomize?Math.random()+1:1,s=Math.round(i*Math.max(n.minTimeout,1)*Math.pow(n.factor,r));return s=Math.min(s,n.maxTimeout),s},t.wrap=function(r,n,i){if(n instanceof Array&&(i=n,n=null),!i){i=[];for(var s in r)typeof r[s]=="function"&&i.push(s)}for(var o=0;o<i.length;o++){var a=i[o],l=r[a];r[a]=(function(c){var f=t.operation(n),d=Array.prototype.slice.call(arguments,1),g=d.pop();d.push(function(v){f.retry(v)||(v&&(arguments[0]=f.mainError()),g.apply(this,arguments))}),f.attempt(function(){c.apply(r,d)})}).bind(r,l),r[a].options=n}}})(hP);var uj=hP;function cj(t={}){const{count:e=10,period:r="all",startDate:n,contextUserId:i}=t;return{count:e.toString(),period:r,started_at:n==null?void 0:n.toISOString(),user_id:i}}class Pe{constructor(e){this._client=e}_getUserContextIdWithDefault(e){var r;return(r=this._client._getUserIdFromRequestContext(e))!==null&&r!==void 0?r:e}}C([Y(!1)],Pe.prototype,"_client",void 0);let sd=class extends te{constructor(e,r){super(e),this._client=r}get userId(){return this[h].user_id}get userName(){return this[h].user_login}get userDisplayName(){return this[h].user_name}get rank(){return this[h].rank}get amount(){return this[h].score}async getUser(){return oe(await this._client.users.getUserById(this[h].user_id))}};C([Y(!1)],sd.prototype,"_client",void 0);sd=C([$("api","HelixBitsLeaderboardEntry","userId")],sd);let ol=class extends te{constructor(e,r){super(e),this._client=r}get entries(){return this[h].data.map(e=>new sd(e,this._client))}get totalCount(){return this[h].total}};C([Y(!1)],ol.prototype,"_client",void 0);C([xe()],ol.prototype,"entries",null);ol=C([Jl,$("api","HelixBitsLeaderboard")],ol);let fy=class extends te{constructor(e){super(xE(e,r=>r.prefix.toLowerCase()))}getCheermoteDisplayInfo(e,r,n){e=e.toLowerCase();const{background:i,state:s,scale:o}=n,{tiers:a}=this[h][e],l=a.sort((u,c)=>c.min_bits-u.min_bits).find(u=>u.min_bits<=r);if(!l)throw new vi(`Cheermote "${e}" does not have an applicable tier for ${r} bits`);return{url:l.images[i][s][o],color:l.color}}getPossibleNames(){return Object.keys(this[h])}};fy=C([$("api","HelixCheermoteList")],fy);let hy=class extends Pe{async getLeaderboard(e,r={}){const n=await this._client.callApi({type:"helix",url:"bits/leaderboard",userId:E(e),scopes:["bits:read"],query:cj(r)});return new ol(n,this._client)}async getCheermotes(e){const r=await this._client.callApi({type:"helix",url:"bits/cheermotes",userId:Yr(e,E),query:Yr(e,we)});return new fy(r.data)}};hy=C([$("api","HelixBitsApi")],hy);function dj(t){var e;return{game_id:t.gameId,broadcaster_language:t.language,title:t.title,delay:(e=t.delay)===null||e===void 0?void 0:e.toString(),tags:t.tags,content_classification_labels:t.contentClassificationLabels,is_branded_content:t.isBrandedContent}}function fj(t,e){return{broadcaster_id:E(t),length:e}}function ux(t,e){return{broadcaster_id:E(t),user_id:E(e)}}function _m(t,e){return{broadcaster_id:E(t),user_id:Yr(e,E)}}function cx(t,e){return{broadcaster_id:Yr(e,E),user_id:E(t)}}function He(t,e){return{[t]:e}}function dx(t){return{user_id:E(t)}}function pP(t,e){return{broadcaster_id:t,moderator_id:e}}function Df(t,e){return{broadcaster_id:E(t),id:e}}function mP(t,e){return{broadcaster_id:E(t),user_id:e.map(E)}}let es=class extends te{constructor(e,r){super(e),this._client=r}get id(){return this[h].user_id}get name(){return this[h].user_login}get displayName(){return this[h].user_name}async getUser(){return oe(await this._client.users.getUserById(this[h].user_id))}};C([Y(!1)],es.prototype,"_client",void 0);es=C([$("api","HelixUserRelation","id")],es);class ur{constructor(e,r,n,i,s,o=100){this._callOptions=e,this._queryParamName=r,this._matchKey=n,this._mapper=s,this._limitPerRequest=o,this._requestedIds=[],this._requestResolversById=new Map,this._waitTimer=null,this._client=i,this._delay=i._batchDelay}async request(e){const{promise:r,resolve:n,reject:i}=tl();return this._requestedIds.includes(e)||this._requestedIds.push(e),this._requestResolversById.has(e)?this._requestResolversById.get(e).push({resolve:n,reject:i}):this._requestResolversById.set(e,[{resolve:n,reject:i}]),this._waitTimer&&(clearTimeout(this._waitTimer),this._waitTimer=null),this._requestedIds.length>=this._limitPerRequest?this._handleBatch(this._requestedIds.splice(0,this._limitPerRequest)):this._waitTimer=setTimeout(()=>{this._handleBatch(this._requestedIds.splice(0,this._limitPerRequest))},this._delay),await r}async _handleBatch(e){var r;try{const{data:n}=await this._doRequest(e),i=xE(n,this._matchKey);for(const s of e){for(const o of(r=this._requestResolversById.get(s))!==null&&r!==void 0?r:[])Object.prototype.hasOwnProperty.call(i,s)?o.resolve(this._mapper(i[s])):o.resolve(null);this._requestResolversById.delete(s)}}catch{await Promise.all(e.map(async i=>{var s,o;try{const a=await this._doRequest([i]);for(const l of(s=this._requestResolversById.get(i))!==null&&s!==void 0?s:[])l.resolve(a.data.length?this._mapper(a.data[0]):null)}catch(a){for(const l of(o=this._requestResolversById.get(i))!==null&&o!==void 0?o:[])l.reject(a)}this._requestResolversById.delete(i)}))}}async _doRequest(e){return await this._client.callApi({type:"helix",...this._callOptions,query:{...this._callOptions.query,[this._queryParamName]:e}})}}C([Y(!1)],ur.prototype,"_client",void 0);var bm;Object.prototype.hasOwnProperty.call(Symbol,"asyncIterator")||(Symbol.asyncIterator=(bm=Symbol.asyncIterator)!==null&&bm!==void 0?bm:Symbol.for("Symbol.asyncIterator"));let Re=class{constructor(e,r,n,i=100){this._callOptions=e,this._mapper=n,this._limitPerPage=i,this._isFinished=!1,this._client=r}get current(){var e;return(e=this._currentData)===null||e===void 0?void 0:e.data}async getNext(){var e;if(this._isFinished)return[];const r=await this._fetchData();return!((e=r.data)===null||e===void 0)&&e.length?this._processResult(r):(this._isFinished=!0,[])}async getAll(){this.reset();const e=[];do{const r=await this.getNext();if(!r.length)break;e.push(...r)}while(this._currentCursor);return this.reset(),e}get currentCursor(){return this._currentCursor}reset(){this._currentCursor=void 0,this._isFinished=!1,this._currentData=void 0}async*[Symbol.asyncIterator](){for(this.reset();;){const e=await this.getNext();if(!e.length)break;yield*e[Symbol.iterator]()}}async _fetchData(e={}){return await this._client.callApi({type:"helix",...this._callOptions,...e,query:{...this._callOptions.query,after:this._currentCursor,first:this._limitPerPage.toString(),...e.query}})}_processResult(e){return this._currentCursor=e.pagination?e.pagination.cursor:void 0,this._currentCursor===void 0&&(this._isFinished=!0),this._currentData=e,e.data.reduce((r,n)=>{const i=this._mapper(n);return Array.isArray(i)?[...r,...i]:[...r,i]},[])}};C([Y(!1)],Re.prototype,"_client",void 0);Re=C([$("api","HelixPaginatedRequest")],Re);let cs=class extends Re{async getTotalCount(){var e;return((e=this._currentData)!==null&&e!==void 0?e:await this._fetchData({query:{after:void 0}})).total}};cs=C([$("api","HelixPaginatedRequestWithTotal")],cs);function Ge(t,e,r){var n;let i;return{get data(){var s,o;return i??(i=(o=(s=t.data)===null||s===void 0?void 0:s.map(a=>new e(a,r)))!==null&&o!==void 0?o:[])},cursor:(n=t.pagination)===null||n===void 0?void 0:n.cursor}}function Zn(t,e,r){let n;return{get data(){var i,s;return n??(n=(s=(i=t.data)===null||i===void 0?void 0:i.map(o=>new e(o,r)))!==null&&s!==void 0?s:[])},cursor:t.pagination.cursor,total:t.total}}function ye({after:t,before:e,limit:r}={}){return{after:t,before:e,first:r==null?void 0:r.toString()}}let ro=class extends te{constructor(e,r){super(e),this._client=r}get id(){return this[h].broadcaster_id}get name(){return this[h].broadcaster_login}get displayName(){return this[h].broadcaster_name}async getBroadcaster(){return oe(await this._client.users.getUserById(this[h].broadcaster_id))}get language(){return this[h].broadcaster_language}get gameId(){return this[h].game_id}get gameName(){return this[h].game_name}async getGame(){return this[h].game_id?oe(await this._client.games.getGameById(this[h].game_id)):null}get title(){return this[h].title}get delay(){return this[h].delay}get tags(){return this[h].tags}get contentClassificationLabels(){return this[h].content_classification_labels}get isBrandedContent(){return this[h].is_branded_content}};C([Y(!1)],ro.prototype,"_client",void 0);ro=C([$("api","HelixChannel","id")],ro);let od=class extends te{constructor(e,r){super(e),this._client=r}get userId(){return this[h].user_id}get userDisplayName(){return this[h].user_name}async getUser(){return oe(await this._client.users.getUserById(this[h].user_id))}get creationDate(){return new Date(this[h].created_at)}};C([Y(!1)],od.prototype,"_client",void 0);od=C([$("api","HelixChannelEditor","userId")],od);let al=class extends te{constructor(e,r){super(e),this._client=r}get userId(){return this[h].user_id}get userName(){return this[h].user_login}get userDisplayName(){return this[h].user_name}async getUser(){return oe(await this._client.users.getUserById(this[h].user_id))}get followDate(){return new Date(this[h].followed_at)}};C([Y(!1)],al.prototype,"_client",void 0);al=C([$("api","HelixChannelFollower","userId")],al);let ll=class extends te{constructor(e,r){super(e),this._client=r}get broadcasterId(){return this[h].broadcaster_id}get broadcasterName(){return this[h].broadcaster_login}get broadcasterDisplayName(){return this[h].broadcaster_name}async getBroadcaster(){return oe(await this._client.users.getUserById(this[h].broadcaster_id))}get followDate(){return new Date(this[h].followed_at)}};C([Y(!1)],ll.prototype,"_client",void 0);ll=C([$("api","HelixFollowedChannel","broadcasterId")],ll);let ad=class extends Pe{constructor(){super(...arguments),this._getChannelByIdBatcher=new ur({url:"channels"},"broadcaster_id","broadcaster_id",this._client,e=>new ro(e,this._client))}async getChannelInfoById(e){const r=E(e),n=await this._client.callApi({type:"helix",url:"channels",userId:r,query:we(r)});return hr(n.data[0],i=>new ro(i,this._client))}async getChannelInfoByIdBatched(e){return await this._getChannelByIdBatcher.request(E(e))}async getChannelInfoByIds(e){const r=e.map(E);return(await this._client.callApi({type:"helix",url:"channels",query:He("broadcaster_id",r)})).data.map(i=>new ro(i,this._client))}async updateChannelInfo(e,r){await this._client.callApi({type:"helix",url:"channels",method:"PATCH",userId:E(e),scopes:["channel:manage:broadcast"],query:we(e),jsonBody:dj(r)})}async startChannelCommercial(e,r){await this._client.callApi({type:"helix",url:"channels/commercial",method:"POST",userId:E(e),scopes:["channel:edit:commercial"],jsonBody:fj(e,r)})}async getChannelEditors(e){return(await this._client.callApi({type:"helix",url:"channels/editors",userId:E(e),scopes:["channel:read:editors"],query:we(e)})).data.map(n=>new od(n,this._client))}async getVips(e,r){const n=await this._client.callApi({type:"helix",url:"channels/vips",userId:E(e),scopes:["channel:read:vips","channel:manage:vips"],query:{...we(e),...ye(r)}});return Ge(n,es,this._client)}getVipsPaginated(e){return new Re({url:"channels/vips",userId:E(e),scopes:["channel:read:vips","channel:manage:vips"],query:we(e)},this._client,r=>new es(r,this._client))}async checkVipForUsers(e,r){return(await this._client.callApi({type:"helix",url:"channels/vips",userId:E(e),scopes:["channel:read:vips","channel:manage:vips"],query:mP(e,r)})).data.map(i=>new es(i,this._client))}async checkVipForUser(e,r){const n=E(r);return(await this.checkVipForUsers(e,[n])).some(s=>s.id===n)}async addVip(e,r){await this._client.callApi({type:"helix",url:"channels/vips",method:"POST",userId:E(e),scopes:["channel:manage:vips"],query:ux(e,r)})}async removeVip(e,r){await this._client.callApi({type:"helix",url:"channels/vips",method:"DELETE",userId:E(e),scopes:["channel:manage:vips"],query:ux(e,r)})}async getChannelFollowerCount(e){return(await this._client.callApi({type:"helix",url:"channels/followers",method:"GET",userId:E(e),query:{..._m(e),...ye({limit:1})}})).total}async getChannelFollowers(e,r,n){const i=await this._client.callApi({type:"helix",url:"channels/followers",method:"GET",userId:E(e),canOverrideScopedUserContext:!0,scopes:["moderator:read:followers"],query:{..._m(e,r),...ye(n)}});return Zn(i,al,this._client)}getChannelFollowersPaginated(e){return new cs({url:"channels/followers",method:"GET",userId:E(e),canOverrideScopedUserContext:!0,scopes:["moderator:read:followers"],query:_m(e)},this._client,r=>new al(r,this._client))}async getFollowedChannels(e,r,n){const i=await this._client.callApi({type:"helix",url:"channels/followed",method:"GET",userId:E(e),scopes:["user:read:follows"],query:{...cx(e,r),...ye(n)}});return Zn(i,ll,this._client)}getFollowedChannelsPaginated(e,r){return new cs({url:"channels/followed",method:"GET",userId:E(e),scopes:["user:read:follows"],query:cx(e,r)},this._client,n=>new ll(n,this._client))}};C([Y(!1)],ad.prototype,"_getChannelByIdBatcher",void 0);ad=C([$("api","HelixChannelApi")],ad);function hj(t,e){return{broadcaster_id:E(t),only_manageable_rewards:e==null?void 0:e.toString()}}function fx(t,e){return{broadcaster_id:E(t),id:e}}function hx(t){var e,r,n;const i={title:t.title,cost:t.cost,prompt:t.prompt,background_color:t.backgroundColor,is_enabled:t.isEnabled,is_user_input_required:t.userInputRequired,should_redemptions_skip_request_queue:t.autoFulfill};return t.maxRedemptionsPerStream!==void 0&&(i.is_max_per_stream_enabled=!!t.maxRedemptionsPerStream,i.max_per_stream=(e=t.maxRedemptionsPerStream)!==null&&e!==void 0?e:0),t.maxRedemptionsPerUserPerStream!==void 0&&(i.is_max_per_user_per_stream_enabled=!!t.maxRedemptionsPerUserPerStream,i.max_per_user_per_stream=(r=t.maxRedemptionsPerUserPerStream)!==null&&r!==void 0?r:0),t.globalCooldown!==void 0&&(i.is_global_cooldown_enabled=!!t.globalCooldown,i.global_cooldown_seconds=(n=t.globalCooldown)!==null&&n!==void 0?n:0),"isPaused"in t&&(i.is_paused=t.isPaused),i}function px(t,e,r){return{broadcaster_id:E(t),reward_id:e,id:r}}function mx(t,e,r,n){return{broadcaster_id:E(t),reward_id:e,status:r,sort:n.newestFirst?"NEWEST":"OLDEST"}}let Li=class extends te{constructor(e,r){super(e),this._client=r}get id(){return this[h].id}get broadcasterId(){return this[h].broadcaster_id}get broadcasterName(){return this[h].broadcaster_login}get broadcasterDisplayName(){return this[h].broadcaster_name}async getBroadcaster(){return oe(await this._client.users.getUserById(this[h].broadcaster_id))}getImageUrl(e){var r,n;const i=`url_${e}x`;return(n=(r=this[h].image)===null||r===void 0?void 0:r[i])!==null&&n!==void 0?n:this[h].default_image[i]}get backgroundColor(){return this[h].background_color}get isEnabled(){return this[h].is_enabled}get cost(){return this[h].cost}get title(){return this[h].title}get prompt(){return this[h].prompt}get userInputRequired(){return this[h].is_user_input_required}get maxRedemptionsPerStream(){return this[h].max_per_stream_setting.is_enabled?this[h].max_per_stream_setting.max_per_stream:null}get maxRedemptionsPerUserPerStream(){return this[h].max_per_user_per_stream_setting.is_enabled?this[h].max_per_user_per_stream_setting.max_per_user_per_stream:null}get globalCooldown(){return this[h].global_cooldown_setting.is_enabled?this[h].global_cooldown_setting.global_cooldown_seconds:null}get isPaused(){return this[h].is_paused}get isInStock(){return this[h].is_in_stock}get redemptionsThisStream(){return this[h].redemptions_redeemed_current_stream}get autoFulfill(){return this[h].should_redemptions_skip_request_queue}get cooldownExpiryDate(){return this[h].cooldown_expires_at?new Date(this[h].cooldown_expires_at):null}};C([Y(!1)],Li.prototype,"_client",void 0);Li=C([$("api","HelixCustomReward","id")],Li);let Bi=class extends te{constructor(e,r){super(e),this._client=r}get id(){return this[h].id}get broadcasterId(){return this[h].broadcaster_id}get broadcasterName(){return this[h].broadcaster_login}get broadcasterDisplayName(){return this[h].broadcaster_name}async getBroadcaster(){return oe(await this._client.users.getUserById(this[h].broadcaster_id))}get userId(){return this[h].user_id}get userName(){return this[h].user_login}get userDisplayName(){return this[h].user_name}async getUser(){return oe(await this._client.users.getUserById(this[h].user_id))}get userInput(){return this[h].user_input}get isFulfilled(){return this[h].status==="FULFILLED"}get isCanceled(){return this[h].status==="CANCELED"}get redemptionDate(){return new Date(this[h].redeemed_at)}get rewardId(){return this[h].reward.id}get rewardTitle(){return this[h].reward.title}get rewardPrompt(){return this[h].reward.prompt}get rewardCost(){return this[h].reward.cost}async getReward(){return oe(await this._client.channelPoints.getCustomRewardById(this[h].broadcaster_id,this[h].reward.id))}async updateStatus(e){return(await this._client.channelPoints.updateRedemptionStatusByIds(this[h].broadcaster_id,this[h].reward.id,[this[h].id],e))[0]}};C([Y(!1)],Bi.prototype,"_client",void 0);Bi=C([$("api","HelixCustomRewardRedemption","id")],Bi);let py=class extends Pe{async getCustomRewards(e,r){return(await this._client.callApi({type:"helix",url:"channel_points/custom_rewards",userId:E(e),scopes:["channel:read:redemptions","channel:manage:redemptions"],query:hj(e,r)})).data.map(i=>new Li(i,this._client))}async getCustomRewardsByIds(e,r){return r.length?(await this._client.callApi({type:"helix",url:"channel_points/custom_rewards",userId:E(e),scopes:["channel:read:redemptions","channel:manage:redemptions"],query:Df(e,r)})).data.map(i=>new Li(i,this._client)):[]}async getCustomRewardById(e,r){const n=await this.getCustomRewardsByIds(e,[r]);return n.length?n[0]:null}async createCustomReward(e,r){const n=await this._client.callApi({type:"helix",url:"channel_points/custom_rewards",method:"POST",userId:E(e),scopes:["channel:manage:redemptions"],query:we(e),jsonBody:hx(r)});return new Li(n.data[0],this._client)}async updateCustomReward(e,r,n){const i=await this._client.callApi({type:"helix",url:"channel_points/custom_rewards",method:"PATCH",userId:E(e),scopes:["channel:manage:redemptions"],query:fx(e,r),jsonBody:hx(n)});return new Li(i.data[0],this._client)}async deleteCustomReward(e,r){await this._client.callApi({type:"helix",url:"channel_points/custom_rewards",method:"DELETE",userId:E(e),scopes:["channel:manage:redemptions"],query:fx(e,r)})}async getRedemptionsByIds(e,r,n){return n.length?(await this._client.callApi({type:"helix",url:"channel_points/custom_rewards/redemptions",userId:E(e),scopes:["channel:read:redemptions","channel:manage:redemptions"],query:px(e,r,n)})).data.map(s=>new Bi(s,this._client)):[]}async getRedemptionById(e,r,n){const i=await this.getRedemptionsByIds(e,r,[n]);return i.length?i[0]:null}async getRedemptionsForBroadcaster(e,r,n,i){const s=await this._client.callApi({type:"helix",url:"channel_points/custom_rewards/redemptions",userId:E(e),scopes:["channel:read:redemptions","channel:manage:redemptions"],query:{...mx(e,r,n,i),...ye(i)}});return Ge(s,Bi,this._client)}getRedemptionsForBroadcasterPaginated(e,r,n,i){return new Re({url:"channel_points/custom_rewards/redemptions",userId:E(e),scopes:["channel:read:redemptions","channel:manage:redemptions"],query:mx(e,r,n,i)},this._client,s=>new Bi(s,this._client),50)}async updateRedemptionStatusByIds(e,r,n,i){return n.length?(await this._client.callApi({type:"helix",url:"channel_points/custom_rewards/redemptions",method:"PATCH",userId:E(e),scopes:["channel:manage:redemptions"],query:px(e,r,n),jsonBody:{status:i}})).data.map(o=>new Bi(o,this._client)):[]}};py=C([$("api","HelixChannelPointsApi")],py);let ul=class extends te{get value(){return this[h].value}get decimalPlaces(){return this[h].decimal_places}get localizedValue(){return this.value/10**this.decimalPlaces}get currency(){return this[h].currency}};ul=C([$("api","HelixCharityCampaignAmount")],ul);let ld=class extends te{constructor(e,r){super(e),this._client=r}get id(){return this[h].id}get broadcasterId(){return this[h].broadcaster_id}get broadcasterName(){return this[h].broadcaster_login}get broadcasterDisplayName(){return this[h].broadcaster_name}async getBroadcaster(){return oe(await this._client.users.getUserById(this[h].broadcaster_id))}get charityName(){return this[h].charity_name}get charityDescription(){return this[h].charity_description}get charityLogo(){return this[h].charity_logo}get charityWebsite(){return this[h].charity_website}get currentAmount(){return new ul(this[h].current_amount)}get targetAmount(){return new ul(this[h].target_amount)}};C([Y(!1)],ld.prototype,"_client",void 0);ld=C([$("api","HelixCharityCampaign","id")],ld);let ud=class extends te{constructor(e,r){super(e),this._client=r}get campaignId(){return this[h].campaign_id}get donorId(){return this[h].user_id}get donorName(){return this[h].user_login}get donorDisplayName(){return this[h].user_name}async getDonor(){return oe(await this._client.users.getUserById(this[h].user_id))}get amount(){return new ul(this[h].amount)}};C([Y(!1)],ud.prototype,"_client",void 0);ud=C([$("api","HelixCharityCampaignDonation")],ud);let my=class extends Pe{async getCharityCampaign(e){const r=await this._client.callApi({type:"helix",url:"charity/campaigns",method:"GET",userId:E(e),scopes:["channel:read:charity"],query:we(e)});return new ld(r.data[0],this._client)}async getCharityCampaignDonations(e,r){const n=await this._client.callApi({type:"helix",url:"charity/donations",userId:E(e),scopes:["channel:read:charity"],query:{...we(e),...ye(r)}});return Ge(n,ud,this._client)}};my=C([$("api","HelixCharityApi")],my);function pj(t){return{slow_mode:t.slowModeEnabled,slow_mode_wait_time:t.slowModeDelay,follower_mode:t.followerOnlyModeEnabled,follower_mode_duration:t.followerOnlyModeDelay,subscriber_mode:t.subscriberOnlyModeEnabled,emote_mode:t.emoteOnlyModeEnabled,unique_chat_mode:t.uniqueChatModeEnabled,non_moderator_chat_delay:t.nonModeratorChatDelayEnabled,non_moderator_chat_delay_duration:t.nonModeratorChatDelay}}function mj(t,e){return{user_id:E(t),color:e}}function gj(t,e,r){return{from_broadcaster_id:E(t),to_broadcaster_id:E(e),moderator_id:r}}let cl=class extends te{get id(){return this[h].id}get name(){return this[h].name}get formats(){return this[h].format}get scales(){return this[h].scale}get themeModes(){return this[h].theme_mode}getImageUrl(e){return this[h].images[`url_${e}x`]}getStaticImageUrl(e="1.0",r="light"){return this[h].format.includes("static")&&this[h].scale.includes(e)?this.getFormattedImageUrl(e,"static",r):null}getAnimatedImageUrl(e="1.0",r="light"){return this[h].format.includes("animated")&&this[h].scale.includes(e)?this.getFormattedImageUrl(e,"animated",r):null}getFormattedImageUrl(e="1.0",r="static",n="light"){return`https://static-cdn.jtvnw.net/emoticons/v2/${this[h].id}/${r}/${n}/${e}`}};cl=C([$("api","HelixEmote","id")],cl);let cd=class extends cl{constructor(e,r){super(e),this._client=r}get tier(){return this[h].tier||null}get type(){return this[h].emote_type}get emoteSetId(){return this[h].emote_set_id}async getAllEmotesFromSet(){return await this._client.chat.getEmotesFromSets([this[h].emote_set_id])}};C([Y(!1)],cd.prototype,"_client",void 0);cd=C([$("api","HelixChannelEmote","id")],cd);let gy=class extends te{get id(){return this[h].id}getImageUrl(e){return this[h][`image_url_${e}x`]}get title(){return this[h].title}get description(){return this[h].description}get clickAction(){return this[h].click_action}get clickUrl(){return this[h].click_url}};gy=C([$("api","HelixChatBadgeVersion","id")],gy);let dl=class extends te{get id(){return this[h].set_id}get versions(){return this[h].versions.map(e=>new gy(e))}getVersion(e){var r;return(r=this.versions.find(n=>n.id===e))!==null&&r!==void 0?r:null}};C([xe()],dl.prototype,"versions",null);dl=C([Jl,$("api","HelixChatBadgeSet","id")],dl);let fl=class extends te{constructor(e,r){super(e),this._client=r}get userId(){return this[h].user_id}get userName(){return this[h].user_login}get userDisplayName(){return this[h].user_name}async getUser(){return oe(await this._client.users.getUserById(this[h].user_id))}};C([Y(!1)],fl.prototype,"_client",void 0);fl=C([$("api","HelixChatChatter")],fl);let dd=class extends te{get broadcasterId(){return this[h].broadcaster_id}get slowModeEnabled(){return this[h].slow_mode}get slowModeDelay(){return this[h].slow_mode_wait_time}get followerOnlyModeEnabled(){return this[h].follower_mode}get followerOnlyModeDelay(){return this[h].follower_mode_duration}get subscriberOnlyModeEnabled(){return this[h].subscriber_mode}get emoteOnlyModeEnabled(){return this[h].emote_mode}get uniqueChatModeEnabled(){return this[h].unique_chat_mode}};dd=C([$("api","HelixChatSettings","broadcasterId")],dd);let fd=class extends cl{constructor(e,r){super(e),this._client=r}get type(){return this[h].emote_type}get emoteSetId(){return this[h].emote_set_id}get ownerId(){switch(this[h].owner_id){case"0":case"twitch":return null;default:return this[h].owner_id}}async getOwner(){switch(this[h].owner_id){case"0":case"twitch":return null;default:return await this._client.users.getUserById(this[h].owner_id)}}};C([Y(!1)],fd.prototype,"_client",void 0);fd=C([$("api","HelixEmoteFromSet","id")],fd);let hd=class extends dd{get nonModeratorChatDelayEnabled(){return this[h].non_moderator_chat_delay}get nonModeratorChatDelay(){return this[h].non_moderator_chat_delay_duration}};hd=C([$("api","HelixPrivilegedChatSettings","broadcasterId")],hd);let yy=class extends Pe{async getChatters(e,r){const n=E(e),i=await this._client.callApi({type:"helix",url:"chat/chatters",userId:n,canOverrideScopedUserContext:!0,scopes:["moderator:read:chatters"],query:{...this._createModeratorActionQuery(n),...ye(r)}});return Zn(i,fl,this._client)}getChattersPaginated(e){const r=E(e);return new cs({url:"chat/chatters",userId:r,canOverrideScopedUserContext:!0,scopes:["moderator:read:chatters"],query:this._createModeratorActionQuery(r)},this._client,n=>new fl(n,this._client))}async getGlobalBadges(){return(await this._client.callApi({type:"helix",url:"chat/badges/global"})).data.map(r=>new dl(r))}async getChannelBadges(e){return(await this._client.callApi({type:"helix",url:"chat/badges",userId:E(e),query:we(e)})).data.map(n=>new dl(n))}async getGlobalEmotes(){return(await this._client.callApi({type:"helix",url:"chat/emotes/global"})).data.map(r=>new cl(r))}async getChannelEmotes(e){return(await this._client.callApi({type:"helix",url:"chat/emotes",userId:E(e),query:we(e)})).data.map(n=>new cd(n,this._client))}async getEmotesFromSets(e){return(await this._client.callApi({type:"helix",url:"chat/emotes/set",query:He("emote_set_id",e)})).data.map(n=>new fd(n,this._client))}async getSettings(e){const r=await this._client.callApi({type:"helix",url:"chat/settings",userId:E(e),query:we(e)});return new dd(r.data[0])}async getSettingsPrivileged(e){const r=E(e),n=await this._client.callApi({type:"helix",url:"chat/settings",userId:r,canOverrideScopedUserContext:!0,scopes:["moderator:read:chat_settings"],query:this._createModeratorActionQuery(r)});return new hd(n.data[0])}async updateSettings(e,r){const n=E(e),i=await this._client.callApi({type:"helix",url:"chat/settings",method:"PATCH",userId:n,canOverrideScopedUserContext:!0,scopes:["moderator:manage:chat_settings"],query:this._createModeratorActionQuery(n),jsonBody:pj(r)});return new hd(i.data[0])}async sendAnnouncement(e,r){const n=E(e);await this._client.callApi({type:"helix",url:"chat/announcements",method:"POST",userId:n,canOverrideScopedUserContext:!0,scopes:["moderator:manage:announcements"],query:this._createModeratorActionQuery(n),jsonBody:{message:r.message,color:r.color}})}async getColorsForUsers(e){const r=await this._client.callApi({type:"helix",url:"chat/color",query:He("user_id",e.map(E))});return new Map(r.data.map(n=>[n.user_id,n.color||null]))}async getColorForUser(e){const r=await this._client.callApi({type:"helix",url:"chat/color",userId:E(e),query:He("user_id",E(e))});if(r.data.length)return r.data[0].color||null}async setColorForUser(e,r){await this._client.callApi({type:"helix",url:"chat/color",method:"PUT",userId:E(e),scopes:["user:manage:chat_color"],query:mj(e,r)})}async shoutoutUser(e,r){const n=E(e);await this._client.callApi({type:"helix",url:"chat/shoutouts",method:"POST",userId:n,canOverrideScopedUserContext:!0,scopes:["moderator:manage:shoutouts"],query:gj(e,r,this._getUserContextIdWithDefault(n))})}_createModeratorActionQuery(e){return pP(e,this._getUserContextIdWithDefault(e))}};yy=C([$("api","HelixChatApi")],yy);function yj(t,e){return{broadcaster_id:E(t),has_delay:e.toString()}}function gx(t){const{filterType:e,ids:r,startDate:n,endDate:i,isFeatured:s}=t;return{[e]:r,started_at:n,ended_at:i,is_featured:s==null?void 0:s.toString()}}let no=class extends te{constructor(e,r){super(e),this._client=r}get id(){return this[h].id}get url(){return this[h].url}get embedUrl(){return this[h].embed_url}get broadcasterId(){return this[h].broadcaster_id}get broadcasterDisplayName(){return this[h].broadcaster_name}async getBroadcaster(){return oe(await this._client.users.getUserById(this[h].broadcaster_id))}get creatorId(){return this[h].creator_id}get creatorDisplayName(){return this[h].creator_name}async getCreator(){return oe(await this._client.users.getUserById(this[h].creator_id))}get videoId(){return this[h].video_id}async getVideo(){return oe(await this._client.videos.getVideoById(this[h].video_id))}get gameId(){return this[h].game_id}async getGame(){return this[h].game_id?oe(await this._client.games.getGameById(this[h].game_id)):null}get language(){return this[h].language}get title(){return this[h].title}get views(){return this[h].view_count}get creationDate(){return new Date(this[h].created_at)}get thumbnailUrl(){return this[h].thumbnail_url}get duration(){return this[h].duration}get vodOffset(){return this[h].vod_offset}get isFeatured(){return this[h].is_featured}};C([Y(!1)],no.prototype,"_client",void 0);no=C([$("api","HelixClip","id")],no);let pd=class extends Pe{constructor(){super(...arguments),this._getClipByIdBatcher=new ur({url:"clips"},"id","id",this._client,e=>new no(e,this._client))}async getClipsForBroadcaster(e,r={}){return await this._getClips({...r,filterType:"broadcaster_id",ids:E(e),userId:E(e)})}getClipsForBroadcasterPaginated(e,r={}){return this._getClipsPaginated({...r,filterType:"broadcaster_id",ids:E(e),userId:E(e)})}async getClipsForGame(e,r={}){return await this._getClips({...r,filterType:"game_id",ids:e})}getClipsForGamePaginated(e,r={}){return this._getClipsPaginated({...r,filterType:"game_id",ids:e})}async getClipsByIds(e){return(await this._getClips({filterType:"id",ids:e})).data}async getClipById(e){const r=await this.getClipsByIds([e]);return r.length?r[0]:null}async getClipByIdBatched(e){return await this._getClipByIdBatcher.request(e)}async createClip(e){const{channel:r,createAfterDelay:n=!1}=e;return(await this._client.callApi({type:"helix",url:"clips",method:"POST",userId:E(r),scopes:["clips:edit"],canOverrideScopedUserContext:!0,query:yj(r,n)})).data[0].id}async _getClips(e){if(!e.ids.length)return{data:[]};const r=await this._client.callApi({type:"helix",url:"clips",userId:e.userId,query:{...gx(e),...ye(e)}});return Ge(r,no,this._client)}_getClipsPaginated(e){return new Re({url:"clips",userId:e.userId,query:gx(e)},this._client,r=>new no(r,this._client))}};C([Y(!1)],pd.prototype,"_getClipByIdBatcher",void 0);pd=C([$("api","HelixClipApi")],pd);class vj extends te{get id(){return this[h].id}get name(){return this[h].name}get description(){return this[h].description}}let vy=class extends Pe{async getAll(e){return(await this._client.callApi({url:"content_classification_labels",query:{locale:e}})).data.map(n=>new vj(n))}};vy=C([$("api","HelixContentClassificationLabelApi")],vy);function yx(t,e){return{user_id:e?Yr(t.user,E):void 0,game_id:t.gameId,fulfillment_status:t.fulfillmentStatus}}function wj(t,e){return{fulfillment_status:e,entitlement_ids:t}}let $i=class extends te{constructor(e,r){super(e),this._client=r}get id(){return this[h].id}get rewardId(){return this[h].benefit_id}get grantDate(){return new Date(this[h].timestamp)}get userId(){return this[h].user_id}async getUser(){return oe(await this._client.users.getUserById(this[h].user_id))}get gameId(){return this[h].game_id}async getGame(){return oe(await this._client.games.getGameById(this[h].game_id))}get fulfillmentStatus(){return this[h].fulfillment_status}get updateDate(){return new Date(this[h].last_updated)}};C([Y(!1)],$i.prototype,"_client",void 0);$i=C([$("api","HelixDropsEntitlement")],$i);let md=class extends Pe{constructor(){super(...arguments),this._getDropsEntitlementByIdBatcher=new ur({url:"entitlements/drops"},"id","id",this._client,e=>new $i(e,this._client))}async getDropsEntitlements(e,r=!1){const n=await this._client.callApi({type:"helix",url:"entitlements/drops",userId:Yr(e.user,E),forceType:e.user&&r?"app":void 0,query:{...yx(e,r),...ye(e)}});return Ge(n,$i,this._client)}getDropsEntitlementsPaginated(e,r=!1){return new Re({url:"entitlements/drops",userId:Yr(e.user,E),forceType:e.user&&r?"app":void 0,query:yx(e,r)},this._client,n=>new $i(n,this._client))}async getDropsEntitlementsByIds(e){return(await this._client.callApi({type:"helix",url:"entitlements/drops",query:{id:e}})).data.map(n=>new $i(n,this._client))}async getDropsEntitlementById(e){var r;return(r=(await this.getDropsEntitlementsByIds([e]))[0])!==null&&r!==void 0?r:null}async getDropsEntitlementByIdBatched(e){return await this._getDropsEntitlementByIdBatcher.request(e)}async updateDropsEntitlements(e,r){const n=await this._client.callApi({type:"helix",url:"entitlements/drops",method:"PATCH",jsonBody:wj(e,r)});return new Map(n.data.flatMap(i=>i.ids.map(s=>[s,i.status])))}};C([Y(!1)],md.prototype,"_getDropsEntitlementByIdBatcher",void 0);md=C([$("api","HelixEntitlementApi")],md);function pe(t){return{broadcaster_user_id:E(t)}}function ju(t,e){return{broadcaster_user_id:E(t),reward_id:e}}function ra(t,e){return{broadcaster_user_id:t,moderator_user_id:e}}function _j(t){return{organization_id:t.organizationId,category_id:t.categoryId,campaign_id:t.campaignId}}let an=class extends te{constructor(e,r){super(e),this._client=r}get id(){return this[h].id}get status(){return this[h].status}get type(){return this[h].type}get cost(){return this[h].cost}get condition(){return this[h].condition}get creationDate(){return new Date(this[h].created_at)}async unsubscribe(){await this._client.eventSub.deleteSubscription(this[h].id)}get _transport(){return this[h].transport}set _status(e){this[h].status=e}};C([Y(!1)],an.prototype,"_client",void 0);an=C([$("api","HelixEventSubSubscription","id")],an);let qs=class extends cs{constructor(e,r,n){super({url:"eventsub/subscriptions",userId:r,query:e},n,i=>new an(i,n))}async getTotalCost(){var e;return((e=this._currentData)!==null&&e!==void 0?e:await this._fetchData({query:{after:void 0}})).total_cost}async getMaxTotalCost(){var e;return((e=this._currentData)!==null&&e!==void 0?e:await this._fetchData({query:{after:void 0}})).max_total_cost}};qs=C([$("api","HelixPaginatedEventSubSubscriptionsRequest")],qs);let wy=class extends Pe{async getSubscriptions(e){const r=await this._client.callApi({type:"helix",url:"eventsub/subscriptions",query:ye(e)});return{...Zn(r,an,this._client),totalCost:r.total_cost,maxTotalCost:r.max_total_cost}}getSubscriptionsPaginated(){return new qs({},void 0,this._client)}async getSubscriptionsForStatus(e,r){const n=await this._client.callApi({type:"helix",url:"eventsub/subscriptions",query:{...ye(r),status:e}});return{...Zn(n,an,this._client),totalCost:n.total_cost,maxTotalCost:n.max_total_cost}}getSubscriptionsForStatusPaginated(e){return new qs({status:e},void 0,this._client)}async getSubscriptionsForType(e,r){const n=await this._client.callApi({type:"helix",url:"eventsub/subscriptions",query:{...ye(r),type:e}});return{...Zn(n,an,this._client),totalCost:n.total_cost,maxTotalCost:n.max_total_cost}}getSubscriptionsForTypePaginated(e){return new qs({type:e},void 0,this._client)}async getSubscriptionsForUser(e,r){const n=await this._client.callApi({type:"helix",url:"eventsub/subscriptions",userId:E(e),query:{...He("user_id",E(e)),...ye(r)}});return{...Zn(n,an,this._client),totalCost:n.total_cost,maxTotalCost:n.max_total_cost}}getSubscriptionsForUserPaginated(e){const r=E(e);return new qs(He("user_id",r),r,this._client)}async createSubscription(e,r,n,i,s,o,a,l){const u=i.method==="webhook",c=u?void 0:o;if(!u&&!s)throw new Error(`Transport ${i.method} can only handle subscriptions with user context`);const f={type:e,version:r,condition:n,transport:i};l&&(f.is_batching_enabled=!0);const d=await this._client.callApi({type:"helix",url:"eventsub/subscriptions",method:"POST",scopes:c,userId:Yr(s,E),forceType:u?"app":"user",jsonBody:f});return new an(d.data[0],this._client)}async deleteSubscription(e){await this._client.callApi({type:"helix",url:"eventsub/subscriptions",method:"DELETE",query:{id:e}})}async deleteAllSubscriptions(){await this._deleteSubscriptionsWithCondition()}async deleteBrokenSubscriptions(){await this._deleteSubscriptionsWithCondition(e=>e.status!=="enabled"&&e.status!=="webhook_callback_verification_pending")}async subscribeToStreamOnlineEvents(e,r){return await this.createSubscription("stream.online","1",pe(e),r,e)}async subscribeToStreamOfflineEvents(e,r){return await this.createSubscription("stream.offline","1",pe(e),r,e)}async subscribeToChannelUpdateEvents(e,r){return await this.createSubscription("channel.update","1",pe(e),r,e)}async subscribeToChannelFollowEvents(e,r){const n=E(e);return await this.createSubscription("channel.follow","2",ra(n,this._getUserContextIdWithDefault(n)),r,n,["moderator:read:followers"],!0)}async subscribeToChannelSubscriptionEvents(e,r){return await this.createSubscription("channel.subscribe","1",pe(e),r,e,["channel:read:subscriptions"])}async subscribeToChannelSubscriptionGiftEvents(e,r){return await this.createSubscription("channel.subscription.gift","1",pe(e),r,e,["channel:read:subscriptions"])}async subscribeToChannelSubscriptionMessageEvents(e,r){return await this.createSubscription("channel.subscription.message","1",pe(e),r,e,["channel:read:subscriptions"])}async subscribeToChannelSubscriptionEndEvents(e,r){return await this.createSubscription("channel.subscription.end","1",pe(e),r,e,["channel:read:subscriptions"])}async subscribeToChannelCheerEvents(e,r){return await this.createSubscription("channel.cheer","1",pe(e),r,e,["bits:read"])}async subscribeToChannelCharityCampaignStartEvents(e,r){return await this.createSubscription("channel.charity_campaign.start","1",pe(e),r,e,["channel:read:charity"])}async subscribeToChannelCharityCampaignStopEvents(e,r){return await this.createSubscription("channel.charity_campaign.stop","1",pe(e),r,e,["channel:read:charity"])}async subscribeToChannelCharityDonationEvents(e,r){return await this.createSubscription("channel.charity_campaign.donate","1",pe(e),r,e,["channel:read:charity"])}async subscribeToChannelCharityCampaignProgressEvents(e,r){return await this.createSubscription("channel.charity_campaign.progress","1",pe(e),r,e,["channel:read:charity"])}async subscribeToChannelBanEvents(e,r){return await this.createSubscription("channel.ban","1",pe(e),r,e,["channel:moderate"])}async subscribeToChannelUnbanEvents(e,r){return await this.createSubscription("channel.unban","1",pe(e),r,e,["channel:moderate"])}async subscribeToChannelShieldModeBeginEvents(e,r){const n=E(e);return await this.createSubscription("channel.shield_mode.begin","1",ra(n,this._getUserContextIdWithDefault(n)),r,n,["moderator:read:shield_mode","moderator:manage:shield_mode"],!0)}async subscribeToChannelShieldModeEndEvents(e,r){const n=E(e);return await this.createSubscription("channel.shield_mode.end","1",ra(n,this._getUserContextIdWithDefault(n)),r,n,["moderator:read:shield_mode","moderator:manage:shield_mode"],!0)}async subscribeToChannelModeratorAddEvents(e,r){return await this.createSubscription("channel.moderator.add","1",pe(e),r,e,["moderation:read"])}async subscribeToChannelModeratorRemoveEvents(e,r){return await this.createSubscription("channel.moderator.remove","1",pe(e),r,e,["moderation:read"])}async subscribeToChannelRaidEventsFrom(e,r){return await this.createSubscription("channel.raid","1",He("from_broadcaster_user_id",E(e)),r,e)}async subscribeToChannelRaidEventsTo(e,r){return await this.createSubscription("channel.raid","1",He("to_broadcaster_user_id",E(e)),r,e)}async subscribeToChannelRewardAddEvents(e,r){return await this.createSubscription("channel.channel_points_custom_reward.add","1",pe(e),r,e,["channel:read:redemptions","channel:manage:redemptions"])}async subscribeToChannelRewardUpdateEvents(e,r){return await this.createSubscription("channel.channel_points_custom_reward.update","1",pe(e),r,e,["channel:read:redemptions","channel:manage:redemptions"])}async subscribeToChannelRewardUpdateEventsForReward(e,r,n){return await this.createSubscription("channel.channel_points_custom_reward.update","1",ju(e,r),n,e,["channel:read:redemptions","channel:manage:redemptions"])}async subscribeToChannelRewardRemoveEvents(e,r){return await this.createSubscription("channel.channel_points_custom_reward.remove","1",pe(e),r,e,["channel:read:redemptions","channel:manage:redemptions"])}async subscribeToChannelRewardRemoveEventsForReward(e,r,n){return await this.createSubscription("channel.channel_points_custom_reward.remove","1",ju(e,r),n,e,["channel:read:redemptions","channel:manage:redemptions"])}async subscribeToChannelRedemptionAddEvents(e,r){return await this.createSubscription("channel.channel_points_custom_reward_redemption.add","1",pe(e),r,e,["channel:read:redemptions","channel:manage:redemptions"])}async subscribeToChannelRedemptionAddEventsForReward(e,r,n){return await this.createSubscription("channel.channel_points_custom_reward_redemption.add","1",ju(e,r),n,e,["channel:read:redemptions","channel:manage:redemptions"])}async subscribeToChannelRedemptionUpdateEvents(e,r){return await this.createSubscription("channel.channel_points_custom_reward_redemption.update","1",pe(e),r,e,["channel:read:redemptions","channel:manage:redemptions"])}async subscribeToChannelRedemptionUpdateEventsForReward(e,r,n){return await this.createSubscription("channel.channel_points_custom_reward_redemption.update","1",ju(e,r),n,e,["channel:read:redemptions","channel:manage:redemptions"])}async subscribeToChannelPollBeginEvents(e,r){return await this.createSubscription("channel.poll.begin","1",pe(e),r,e,["channel:read:polls","channel:manage:polls"])}async subscribeToChannelPollProgressEvents(e,r){return await this.createSubscription("channel.poll.progress","1",pe(e),r,e,["channel:read:polls","channel:manage:polls"])}async subscribeToChannelPollEndEvents(e,r){return await this.createSubscription("channel.poll.end","1",pe(e),r,e,["channel:read:polls","channel:manage:polls"])}async subscribeToChannelPredictionBeginEvents(e,r){return await this.createSubscription("channel.prediction.begin","1",pe(e),r,e,["channel:read:predictions","channel:manage:predictions"])}async subscribeToChannelPredictionProgressEvents(e,r){return await this.createSubscription("channel.prediction.progress","1",pe(e),r,e,["channel:read:predictions","channel:manage:predictions"])}async subscribeToChannelPredictionLockEvents(e,r){return await this.createSubscription("channel.prediction.lock","1",pe(e),r,e,["channel:read:predictions","channel:manage:predictions"])}async subscribeToChannelPredictionEndEvents(e,r){return await this.createSubscription("channel.prediction.end","1",pe(e),r,e,["channel:read:predictions","channel:manage:predictions"])}async subscribeToChannelGoalBeginEvents(e,r){return await this.createSubscription("channel.goal.begin","1",pe(e),r,e,["channel:read:goals"])}async subscribeToChannelGoalProgressEvents(e,r){return await this.createSubscription("channel.goal.progress","1",pe(e),r,e,["channel:read:goals"])}async subscribeToChannelGoalEndEvents(e,r){return await this.createSubscription("channel.goal.end","1",pe(e),r,e,["channel:read:goals"])}async subscribeToChannelHypeTrainBeginEvents(e,r){return await this.createSubscription("channel.hype_train.begin","1",pe(e),r,e,["channel:read:hype_train"])}async subscribeToChannelHypeTrainProgressEvents(e,r){return await this.createSubscription("channel.hype_train.progress","1",pe(e),r,e,["channel:read:hype_train"])}async subscribeToChannelHypeTrainEndEvents(e,r){return await this.createSubscription("channel.hype_train.end","1",pe(e),r,e,["channel:read:hype_train"])}async subscribeToChannelShoutoutCreateEvents(e,r){const n=E(e);return await this.createSubscription("channel.shoutout.create","1",ra(n,this._getUserContextIdWithDefault(n)),r,n,["moderator:read:shoutouts","moderator:manage:shoutouts"],!0)}async subscribeToChannelShoutoutReceiveEvents(e,r){const n=E(e);return await this.createSubscription("channel.shoutout.receive","1",ra(n,this._getUserContextIdWithDefault(n)),r,n,["moderator:read:shoutouts","moderator:manage:shoutouts"],!0)}async subscribeToExtensionBitsTransactionCreateEvents(e,r){return await this.createSubscription("extension.bits_transaction.create","1",He("extension_client_id",e),r)}async subscribeToUserAuthorizationGrantEvents(e,r){return await this.createSubscription("user.authorization.grant","1",He("client_id",e),r)}async subscribeToUserAuthorizationRevokeEvents(e,r){return await this.createSubscription("user.authorization.revoke","1",He("client_id",e),r)}async subscribeToUserUpdateEvents(e,r,n){return await this.createSubscription("user.update","1",He("user_id",E(e)),r,e,n?["user:read:email"]:void 0)}async subscribeToDropEntitlementGrantEvents(e,r){return await this.createSubscription("drop.entitlement.grant","1",_j(e),r,void 0,void 0,!1,!0)}async _deleteSubscriptionsWithCondition(e){const r=this.getSubscriptionsPaginated();for await(const n of r)(!e||e(n))&&await n.unsubscribe()}};wy=C([$("api","HelixEventSubApi")],wy);function bj(t,e){return{extension_id:t,extension_version:e}}function xj(t){return{sku:t.sku,cost:{amount:t.cost,type:"bits"},display_name:t.displayName,in_development:t.inDevelopment,expiration:t.expirationDate,is_broadcast:t.broadcast}}function vx(t,e){return{extension_id:t,id:e.transactionIds}}let hl=class extends te{constructor(e,r){super(e),this._client=r}get id(){return this[h].broadcaster_id}get displayName(){return this[h].broadcaster_name}async getChannel(){return oe(await this._client.channels.getChannelInfoById(this[h].broadcaster_id))}async getBroadcaster(){return oe(await this._client.users.getUserById(this[h].broadcaster_id))}get gameId(){return this[h].game_id}get gameName(){return this[h].game_name}async getGame(){return this[h].game_id?oe(await this._client.games.getGameById(this[h].game_id)):null}get title(){return this[h].title}};C([Y(!1)],hl.prototype,"_client",void 0);hl=C([$("api","HelixChannelReference","id")],hl);let gd=class extends te{get sku(){return this[h].sku}get cost(){return this[h].cost.amount}get displayName(){return this[h].display_name}get inDevelopment(){return this[h].in_development}get isBroadcast(){return this[h].is_broadcast}get expirationDate(){return hr(this[h].expiration,e=>new Date(e))}};gd=C([$("api","HelixExtensionBitsProduct","sku")],gd);let pl=class extends te{constructor(e,r){super(e),this._client=r}get id(){return this[h].id}get transactionDate(){return new Date(this[h].timestamp)}get broadcasterId(){return this[h].broadcaster_id}get broadcasterName(){return this[h].broadcaster_name}get broadcasterDisplayName(){return this[h].broadcaster_name}async getBroadcaster(){return oe(await this._client.users.getUserById(this[h].broadcaster_id))}get userId(){return this[h].user_id}get userName(){return this[h].user_login}get userDisplayName(){return this[h].user_name}async getUser(){return oe(await this._client.users.getUserById(this[h].user_id))}get productType(){return this[h].product_type}get productSku(){return this[h].product_data.sku}get productCost(){return this[h].product_data.cost.amount}get productDisplayName(){return this[h].product_data.displayName}get productInDevelopment(){return this[h].product_data.inDevelopment}};C([Y(!1)],pl.prototype,"_client",void 0);pl=C([$("api","HelixExtensionTransaction","id")],pl);let _y=class extends Pe{async getReleasedExtension(e,r){const n=await this._client.callApi({type:"helix",url:"extensions/released",query:bj(e,r)});return new ty(n.data[0])}async getLiveChannelsWithExtension(e,r){const n=await this._client.callApi({type:"helix",url:"extensions/live",query:{...He("extension_id",e),...ye(r)}});return Ge(n,hl,this._client)}getLiveChannelsWithExtensionPaginated(e){return new Re({url:"extensions/live",query:He("extension_id",e)},this._client,r=>new hl(r,this._client))}async getExtensionBitsProducts(e){return(await this._client.callApi({type:"helix",url:"bits/extensions",forceType:"app",query:He("should_include_all",e==null?void 0:e.toString())})).data.map(n=>new gd(n))}async putExtensionBitsProduct(e){const r=await this._client.callApi({type:"helix",url:"bits/extensions",method:"PUT",forceType:"app",jsonBody:xj(e)});return new gd(r.data[0])}async getExtensionTransactions(e,r={}){const n=await this._client.callApi({type:"helix",url:"extensions/transactions",forceType:"app",query:{...vx(e,r),...ye(r)}});return Ge(n,pl,this._client)}getExtensionTransactionsPaginated(e,r={}){return new Re({url:"extensions/transactions",forceType:"app",query:vx(e,r)},this._client,n=>new pl(n,this._client))}};_y=C([$("api","HelixExtensionsApi")],_y);let Cr=class extends te{constructor(e,r){super(e),this._client=r}get id(){return this[h].id}get name(){return this[h].name}get boxArtUrl(){return this[h].box_art_url}get igdbId(){return this[h].igdb_id||null}getBoxArtUrl(e,r){return this[h].box_art_url.replace("{width}",e.toString()).replace("{height}",r.toString())}async getStreams(e){return await this._client.streams.getStreams({...e,game:this[h].id})}getStreamsPaginated(){return this._client.streams.getStreamsPaginated({game:this[h].id})}};C([Y(!1)],Cr.prototype,"_client",void 0);Cr=C([$("api","HelixGame","id")],Cr);let Ao=class extends Pe{constructor(){super(...arguments),this._getGameByIdBatcher=new ur({url:"games"},"id","id",this._client,e=>new Cr(e,this._client)),this._getGameByNameBatcher=new ur({url:"games"},"name","name",this._client,e=>new Cr(e,this._client)),this._getGameByIgdbIdBatcher=new ur({url:"games"},"igdb_id","igdb_id",this._client,e=>new Cr(e,this._client))}async getGamesByIds(e){return await this._getGames("id",e)}async getGamesByNames(e){return await this._getGames("name",e)}async getGamesByIgdbIds(e){return await this._getGames("igdb_id",e)}async getGameById(e){var r;return(r=(await this._getGames("id",[e]))[0])!==null&&r!==void 0?r:null}async getGameByName(e){var r;return(r=(await this._getGames("name",[e]))[0])!==null&&r!==void 0?r:null}async getGameByIgdbId(e){var r;return(r=(await this._getGames("igdb_id",[e]))[0])!==null&&r!==void 0?r:null}async getGameByIdBatched(e){return await this._getGameByIdBatcher.request(e)}async getGameByNameBatched(e){return await this._getGameByNameBatcher.request(e)}async getGameByIgdbIdBatched(e){return await this._getGameByIgdbIdBatcher.request(e)}async getTopGames(e){const r=await this._client.callApi({type:"helix",url:"games/top",query:ye(e)});return Ge(r,Cr,this._client)}getTopGamesPaginated(){return new Re({url:"games/top"},this._client,e=>new Cr(e,this._client))}async _getGames(e,r){return r.length?(await this._client.callApi({type:"helix",url:"games",query:{[e]:r}})).data.map(i=>new Cr(i,this._client)):[]}};C([Y(!1)],Ao.prototype,"_getGameByIdBatcher",void 0);C([Y(!1)],Ao.prototype,"_getGameByNameBatcher",void 0);C([Y(!1)],Ao.prototype,"_getGameByIgdbIdBatcher",void 0);Ao=C([$("api","HelixGameApi")],Ao);let yd=class extends te{constructor(e,r){super(e),this._client=r}get id(){return this[h].id}get broadcasterId(){return this[h].broadcaster_id}get broadcasterDisplayName(){return this[h].broadcaster_name}get broadcasterName(){return this[h].broadcaster_login}async getBroadcaster(){return oe(await this._client.users.getUserById(this[h].broadcaster_id))}get type(){return this[h].type}get description(){return this[h].description}get currentAmount(){return this[h].current_amount}get targetAmount(){return this[h].target_amount}get creationDate(){return this[h].created_at}};C([Y(!1)],yd.prototype,"_client",void 0);yd=C([$("api","HelixGoal","id")],yd);let by=class extends Pe{async getGoals(e){return(await this._client.callApi({type:"helix",url:"goals",userId:E(e),scopes:["channel:read:goals"],query:we(e)})).data.map(n=>new yd(n,this._client))}};by=C([$("api","HelixGoalApi")],by);let ml=class extends te{constructor(e,r){super(e),this._client=r}get userId(){return this[h].user}async getUser(){return oe(await this._client.users.getUserById(this[h].user))}get type(){return this[h].type}get total(){return this[h].total}};C([Y(!1)],ml.prototype,"_client",void 0);ml=C([$("api","HelixHypeTrainContribution","userId")],ml);let gl=class extends te{constructor(e,r){super(e),this._client=r}get eventId(){return this[h].id}get eventType(){return this[h].event_type}get eventDate(){return new Date(this[h].event_timestamp)}get eventVersion(){return this[h].version}get id(){return this[h].event_data.id}get broadcasterId(){return this[h].event_data.broadcaster_id}async getBroadcaster(){return oe(await this._client.users.getUserById(this[h].event_data.broadcaster_id))}get level(){return this[h].event_data.level}get startDate(){return new Date(this[h].event_data.started_at)}get expiryDate(){return new Date(this[h].event_data.expires_at)}get cooldownDate(){return new Date(this[h].event_data.cooldown_end_time)}get total(){return this[h].event_data.total}get goal(){return this[h].event_data.goal}get lastContribution(){return new ml(this[h].event_data.last_contribution,this._client)}get topContributions(){return this[h].event_data.top_contributions.map(e=>new ml(e,this._client))}};C([Y(!1)],gl.prototype,"_client",void 0);gl=C([$("api","HelixHypeTrainEvent","id")],gl);class Sj extends Pe{async getHypeTrainEventsForBroadcaster(e,r){const n=await this._client.callApi({type:"helix",url:"hypetrain/events",userId:E(e),scopes:["channel:read:hype_train"],query:{...we(e),...ye(r)}});return Ge(n,gl,this._client)}getHypeTrainEventsForBroadcasterPaginated(e){return new Re({url:"hypetrain/events",userId:E(e),scopes:["channel:read:hype_train"],query:we(e)},this._client,r=>new gl(r,this._client))}}function wx(t,e){return{broadcaster_id:E(t),user_id:e==null?void 0:e.userId}}function _x(t,e){return{broadcaster_id:E(t),user_id:E(e)}}function Cj(t,e,r){return{user_id:E(t),msg_id:e,action:r?"ALLOW":"DENY"}}function Ej(t){return{overall_level:t.overallLevel,aggression:t.aggression,bullying:t.bullying,disability:t.disability,misogyny:t.misogyny,race_ethnicity_or_religion:t.raceEthnicityOrReligion,sex_based_terms:t.sexBasedTerms,sexuality_sex_or_gender:t.sexualitySexOrGender,swearing:t.swearing}}function Tj(t){return{data:{duration:t.duration,reason:t.reason,user_id:E(t.user)}}}function kj(t){return{is_active:t}}let vd=class extends te{get broadcasterId(){return this[h].broadcaster_id}get moderatorId(){return this[h].moderator_id}get overallLevel(){return this[h].overall_level?this[h].overall_level:null}get disability(){return this[h].disability}get aggression(){return this[h].aggression}get sexualitySexOrGender(){return this[h].sexuality_sex_or_gender}get misogyny(){return this[h].misogyny}get bullying(){return this[h].bullying}get swearing(){return this[h].swearing}get raceEthnicityOrReligion(){return this[h].race_ethnicity_or_religion}get sexBasedTerms(){return this[h].sex_based_terms}};vd=C([$("api","HelixAutoModSettings","broadcasterId")],vd);let xy=class extends te{get messageId(){return this[h].msg_id}get isPermitted(){return this[h].is_permitted}};xy=C([$("api","HelixAutoModStatus","messageId")],xy);let Io=class extends te{constructor(e,r,n){super(e),this._expiryTimestamp=r,this._client=n}get creationDate(){return new Date(this[h].created_at)}get expiryDate(){return hr(this._expiryTimestamp,e=>new Date(e))}get moderatorId(){return this[h].moderator_id}async getModerator(){return oe(await this._client.users.getUserById(this[h].moderator_id))}get userId(){return this[h].user_id}async getUser(){return oe(await this._client.users.getUserById(this[h].user_id))}};C([Y(!1)],Io.prototype,"_client",void 0);C([Y(!1)],Io.prototype,"_expiryTimestamp",void 0);Io=C([$("api","HelixBanUser","userId")],Io);let wd=class extends Io{constructor(e,r){super(e,e.expires_at||null,r)}get userName(){return this[h].user_login}get userDisplayName(){return this[h].user_name}get moderatorName(){return this[h].moderator_login}get moderatorDisplayName(){return this[h].moderator_name}get reason(){return this[h].reason||null}};wd=C([$("api","HelixBan","userId")],wd);let _d=class extends te{get broadcasterId(){return this[h].broadcaster_id}get creationDate(){return new Date(this[h].created_at)}get expirationDate(){return this[h].expires_at?new Date(this[h].expires_at):null}get id(){return this[h].id}get moderatorId(){return this[h].moderator_id}get text(){return this[h].text}get updatedDate(){return new Date(this[h].updated_at)}};_d=C([$("api","HelixBlockedTerm","id")],_d);let yl=class extends te{constructor(e,r){super(e),this._client=r}get userId(){return this[h].user_id}get userName(){return this[h].user_login}get userDisplayName(){return this[h].user_name}async getUser(){return oe(await this._client.users.getUserById(this[h].user_id))}};C([Y(!1)],yl.prototype,"_client",void 0);yl=C([$("api","HelixModerator","userId")],yl);let vl=class extends te{constructor(e,r){super(e),this._client=r}get isActive(){return this[h].is_active}get moderatorId(){return this[h].moderator_id}get moderatorName(){return this[h].moderator_login}get moderatorDisplayName(){return this[h].moderator_name}async getModerator(){return oe(await this._client.users.getUserById(this[h].moderator_id))}get lastActivationDate(){return this[h].last_activated_at===""?null:new Date(this[h].last_activated_at)}};C([Y(!1)],vl.prototype,"_client",void 0);vl=C([$("api","HelixShieldModeStatus")],vl);let Sy=class extends Pe{async getBannedUsers(e,r){const n=await this._client.callApi({type:"helix",url:"moderation/banned",userId:E(e),scopes:["moderation:read"],query:{...wx(e,r),...ye(r)}});return Ge(n,wd,this._client)}getBannedUsersPaginated(e){return new Re({url:"moderation/banned",userId:E(e),scopes:["moderation:read"],query:we(e)},this._client,r=>new wd(r,this._client),50)}async checkUserBan(e,r){const n=E(r);return(await this.getBannedUsers(e,{userId:n})).data.some(s=>s.userId===n)}async getModerators(e,r){const n=await this._client.callApi({type:"helix",url:"moderation/moderators",userId:E(e),scopes:["moderation:read","channel:manage:moderators"],query:{...wx(e,r),...ye(r)}});return Ge(n,yl,this._client)}getModeratorsPaginated(e){return new Re({url:"moderation/moderators",userId:E(e),scopes:["moderation:read","channel:manage:moderators"],query:we(e)},this._client,r=>new yl(r,this._client))}async checkUserMod(e,r){const n=E(r);return(await this.getModerators(e,{userId:n})).data.some(s=>s.userId===n)}async addModerator(e,r){await this._client.callApi({type:"helix",url:"moderation/moderators",method:"POST",userId:E(e),scopes:["channel:manage:moderators"],query:_x(e,r)})}async removeModerator(e,r){await this._client.callApi({type:"helix",url:"moderation/moderators",method:"DELETE",userId:E(e),scopes:["channel:manage:moderators"],query:_x(e,r)})}async checkAutoModStatus(e,r){return(await this._client.callApi({type:"helix",url:"moderation/enforcements/status",method:"POST",userId:E(e),scopes:["moderation:read"],query:we(e),jsonBody:{data:r}})).data.map(i=>new xy(i))}async processHeldAutoModMessage(e,r,n){await this._client.callApi({type:"helix",url:"moderation/automod/message",method:"POST",userId:E(e),scopes:["moderator:manage:automod"],jsonBody:Cj(e,r,n)})}async getAutoModSettings(e){const r=E(e);return(await this._client.callApi({type:"helix",url:"moderation/automod/settings",userId:r,scopes:["moderator:read:automod_settings"],canOverrideScopedUserContext:!0,query:this._createModeratorActionQuery(r)})).data.map(i=>new vd(i))}async updateAutoModSettings(e,r){const n=E(e);return(await this._client.callApi({type:"helix",url:"moderation/automod/settings",method:"PUT",userId:n,scopes:["moderator:manage:automod_settings"],canOverrideScopedUserContext:!0,query:this._createModeratorActionQuery(n),jsonBody:Ej(r)})).data.map(s=>new vd(s))}async banUser(e,r){const n=E(e);return(await this._client.callApi({type:"helix",url:"moderation/bans",method:"POST",userId:n,scopes:["moderator:manage:banned_users"],canOverrideScopedUserContext:!0,query:this._createModeratorActionQuery(n),jsonBody:Tj(r)})).data.map(s=>new Io(s,s.end_time,this._client))}async unbanUser(e,r){const n=E(e);await this._client.callApi({type:"helix",url:"moderation/bans",method:"DELETE",userId:n,scopes:["moderator:manage:banned_users"],canOverrideScopedUserContext:!0,query:{...this._createModeratorActionQuery(n),...He("user_id",E(r))}})}async getBlockedTerms(e,r){const n=E(e),i=await this._client.callApi({type:"helix",url:"moderation/blocked_terms",userId:n,scopes:["moderator:read:blocked_terms"],canOverrideScopedUserContext:!0,query:{...this._createModeratorActionQuery(n),...ye(r)}});return Ge(i,_d,this._client)}async addBlockedTerm(e,r){const n=E(e);return(await this._client.callApi({type:"helix",url:"moderation/blocked_terms",method:"POST",userId:n,scopes:["moderator:manage:blocked_terms"],canOverrideScopedUserContext:!0,query:this._createModeratorActionQuery(n),jsonBody:{text:r}})).data.map(s=>new _d(s))}async removeBlockedTerm(e,r,n){const i=E(e);await this._client.callApi({type:"helix",url:"moderation/blocked_terms",method:"DELETE",userId:i,scopes:["moderator:manage:blocked_terms"],canOverrideScopedUserContext:!0,query:{...this._createModeratorActionQuery(i),id:n}})}async deleteChatMessages(e,r){const n=E(e);await this._client.callApi({type:"helix",url:"moderation/chat",method:"DELETE",userId:n,scopes:["moderator:manage:chat_messages"],canOverrideScopedUserContext:!0,query:{...this._createModeratorActionQuery(n),...He("message_id",r)}})}async getShieldModeStatus(e){const r=E(e),n=await this._client.callApi({type:"helix",url:"moderation/shield_mode",method:"GET",userId:r,scopes:["moderator:read:shield_mode","moderator:manage:shield_mode"],canOverrideScopedUserContext:!0,query:this._createModeratorActionQuery(r)});return new vl(n.data[0],this._client)}async updateShieldModeStatus(e,r){const n=E(e),i=await this._client.callApi({type:"helix",url:"moderation/shield_mode",method:"PUT",userId:n,scopes:["moderator:manage:shield_mode"],canOverrideScopedUserContext:!0,query:this._createModeratorActionQuery(n),jsonBody:kj(r)});return new vl(i.data[0],this._client)}_createModeratorActionQuery(e){return pP(e,this._getUserContextIdWithDefault(e))}};Sy=C([$("api","HelixModerationApi")],Sy);function Pj(t,e){var r;return{broadcaster_id:E(t),title:e.title,choices:e.choices.map(n=>({title:n})),duration:e.duration,channel_points_voting_enabled:e.channelPointsPerVote!=null,channel_points_per_vote:(r=e.channelPointsPerVote)!==null&&r!==void 0?r:0}}function Aj(t,e,r){return{broadcaster_id:E(t),id:e,status:r?"TERMINATED":"ARCHIVED"}}let Cy=class extends te{get id(){return this[h].id}get title(){return this[h].title}get totalVotes(){return this[h].votes}get channelPointsVotes(){return this[h].channel_points_votes}};Cy=C([$("api","HelixPollChoice","id")],Cy);let Fn=class extends te{constructor(e,r){super(e),this._client=r}get id(){return this[h].id}get broadcasterId(){return this[h].broadcaster_id}get broadcasterName(){return this[h].broadcaster_login}get broadcasterDisplayName(){return this[h].broadcaster_name}async getBroadcaster(){return oe(await this._client.users.getUserById(this[h].broadcaster_id))}get title(){return this[h].title}get isChannelPointsVotingEnabled(){return this[h].channel_points_voting_enabled}get channelPointsPerVote(){return this[h].channel_points_per_vote}get status(){return this[h].status}get durationInSeconds(){return this[h].duration}get startDate(){return new Date(this[h].started_at)}get endDate(){return new Date(this.startDate.getTime()+this[h].duration*1e3)}get choices(){return this[h].choices.map(e=>new Cy(e))}};C([Y(!1)],Fn.prototype,"_client",void 0);Fn=C([$("api","HelixPoll","id")],Fn);let Ey=class extends Pe{async getPolls(e,r){const n=await this._client.callApi({type:"helix",url:"polls",userId:E(e),scopes:["channel:read:polls"],query:{...we(e),...ye(r)}});return Ge(n,Fn,this._client)}getPollsPaginated(e){return new Re({url:"polls",userId:E(e),scopes:["channel:read:polls"],query:we(e)},this._client,r=>new Fn(r,this._client),20)}async getPollsByIds(e,r){return r.length?(await this._client.callApi({type:"helix",url:"polls",userId:E(e),scopes:["channel:read:polls"],query:Df(e,r)})).data.map(i=>new Fn(i,this._client)):[]}async getPollById(e,r){const n=await this.getPollsByIds(e,[r]);return n.length?n[0]:null}async createPoll(e,r){const n=await this._client.callApi({type:"helix",url:"polls",method:"POST",userId:E(e),scopes:["channel:manage:polls"],jsonBody:Pj(e,r)});return new Fn(n.data[0],this._client)}async endPoll(e,r,n=!0){const i=await this._client.callApi({type:"helix",url:"polls",method:"PATCH",userId:E(e),scopes:["channel:manage:polls"],jsonBody:Aj(e,r,n)});return new Fn(i.data[0],this._client)}};Ey=C([$("api","HelixPollApi")],Ey);function Ij(t,e){return{broadcaster_id:E(t),title:e.title,outcomes:e.outcomes.map(r=>({title:r})),prediction_window:e.autoLockAfter}}function Oj(t,e,r,n){return{broadcaster_id:E(t),id:e,status:r,winning_outcome_id:n}}let bd=class extends te{constructor(e,r){super(e),this._client=r}get userId(){return this[h].id}get userName(){return this[h].login}get userDisplayName(){return this[h].name}async getUser(){return await this._client.users.getUserById(this[h].id)}get channelPointsUsed(){return this[h].channel_points_used}get channelPointsWon(){return this[h].channel_points_won}};C([Y(!1)],bd.prototype,"_client",void 0);bd=C([$("api","HelixPredictor","userId")],bd);let wl=class extends te{constructor(e,r){super(e),this._client=r}get id(){return this[h].id}get title(){return this[h].title}get users(){return this[h].users}get totalChannelPoints(){return this[h].channel_points}get color(){return this[h].color}get topPredictors(){var e,r;return(r=(e=this[h].top_predictors)===null||e===void 0?void 0:e.map(n=>new bd(n,this._client)))!==null&&r!==void 0?r:[]}};C([Y(!1)],wl.prototype,"_client",void 0);wl=C([$("api","HelixPredictionOutcome","id")],wl);let qn=class extends te{constructor(e,r){super(e),this._client=r}get id(){return this[h].id}get broadcasterId(){return this[h].broadcaster_id}get broadcasterName(){return this[h].broadcaster_login}get broadcasterDisplayName(){return this[h].broadcaster_name}async getBroadcaster(){return oe(await this._client.users.getUserById(this[h].broadcaster_id))}get title(){return this[h].title}get status(){return this[h].status}get autoLockAfter(){return this[h].prediction_window}get creationDate(){return new Date(this[h].created_at)}get endDate(){return this[h].ended_at?new Date(this[h].ended_at):null}get lockDate(){return this[h].locked_at?new Date(this[h].locked_at):null}get outcomes(){return this[h].outcomes.map(e=>new wl(e,this._client))}get winningOutcomeId(){return this[h].winning_outcome_id||null}get winningOutcome(){if(!this[h].winning_outcome_id)return null;const e=this[h].outcomes.find(r=>r.id===this[h].winning_outcome_id);if(!e)throw new vi("Winning outcome not found in outcomes array");return new wl(e,this._client)}};C([Y(!1)],qn.prototype,"_client",void 0);qn=C([$("api","HelixPrediction","id")],qn);let Ty=class extends Pe{async getPredictions(e,r){const n=await this._client.callApi({type:"helix",url:"predictions",userId:E(e),scopes:["channel:read:predictions"],query:{...we(e),...ye(r)}});return Ge(n,qn,this._client)}getPredictionsPaginated(e){return new Re({url:"predictions",userId:E(e),scopes:["channel:read:predictions"],query:we(e)},this._client,r=>new qn(r,this._client),20)}async getPredictionsByIds(e,r){return r.length?(await this._client.callApi({type:"helix",url:"predictions",userId:E(e),scopes:["channel:read:predictions"],query:Df(e,r)})).data.map(i=>new qn(i,this._client)):[]}async getPredictionById(e,r){const n=await this.getPredictionsByIds(e,[r]);return n.length?n[0]:null}async createPrediction(e,r){const n=await this._client.callApi({type:"helix",url:"predictions",method:"POST",userId:E(e),scopes:["channel:manage:predictions"],jsonBody:Ij(e,r)});return new qn(n.data[0],this._client)}async lockPrediction(e,r){return await this._endPrediction(e,r,"LOCKED")}async resolvePrediction(e,r,n){return await this._endPrediction(e,r,"RESOLVED",n)}async cancelPrediction(e,r){return await this._endPrediction(e,r,"CANCELED")}async _endPrediction(e,r,n,i){const s=await this._client.callApi({type:"helix",url:"predictions",method:"PATCH",userId:E(e),scopes:["channel:manage:predictions"],jsonBody:Oj(e,r,n,i)});return new qn(s.data[0],this._client)}};Ty=C([$("api","HelixPredictionApi")],Ty);function Rj(t,e){return{from_broadcaster_id:E(t),to_broadcaster_id:E(e)}}let ky=class extends te{get creationDate(){return new Date(this[h].created_at)}get targetIsMature(){return this[h].is_mature}};ky=C([$("api","HelixRaid")],ky);let Py=class extends Pe{async startRaid(e,r){const n=await this._client.callApi({type:"helix",url:"raids",method:"POST",userId:E(e),scopes:["channel:manage:raids"],query:Rj(e,r)});return new ky(n.data[0])}async cancelRaid(e){await this._client.callApi({type:"helix",url:"raids",method:"DELETE",userId:E(e),scopes:["channel:manage:raids"],query:we(e)})}};Py=C([$("api","HelixRaidApi")],Py);function gP(t,e){var r;return{broadcaster_id:E(t),start_time:e==null?void 0:e.startDate,utc_offset:(r=e==null?void 0:e.utcOffset)===null||r===void 0?void 0:r.toString()}}function Mj(t,e){return e.vacation?{broadcaster_id:E(t),is_vacation_enabled:"true",vacation_start_time:e.vacation.startDate,vacation_end_time:e.vacation.endDate,timezone:e.vacation.timezone}:{broadcaster_id:E(t),is_vacation_enabled:"false"}}function Nj(t){return{start_time:t.startDate,timezone:t.timezone,is_recurring:t.isRecurring,duration:t.duration,category_id:t.categoryId,title:t.title}}function bx(t,e){return{broadcaster_id:E(t),id:e}}function Dj(t){return{start_time:t.startDate,timezone:t.timezone,is_canceled:t.isCanceled,duration:t.duration,category_id:t.categoryId,title:t.title}}let ci=class extends te{constructor(e,r){super(e),this._client=r}get id(){return this[h].id}get startDate(){return new Date(this[h].start_time)}get endDate(){return new Date(this[h].end_time)}get title(){return this[h].title}get cancelEndDate(){return hr(this[h].canceled_until,e=>new Date(e))}get categoryId(){var e,r;return(r=(e=this[h].category)===null||e===void 0?void 0:e.id)!==null&&r!==void 0?r:null}get categoryName(){var e,r;return(r=(e=this[h].category)===null||e===void 0?void 0:e.name)!==null&&r!==void 0?r:null}async getCategory(){var e;const r=(e=this[h].category)===null||e===void 0?void 0:e.id;return r?await this._client.games.getGameById(r):null}get isRecurring(){return this[h].is_recurring}};C([Y(!1)],ci.prototype,"_client",void 0);ci=C([$("api","HelixScheduleSegment","id")],ci);let Ay=class extends Re{constructor(e,r,n){super({url:"schedule",query:gP(e,n)},r,i=>new ci(i,r),25)}async _fetchData(e={}){var r;const n=await super._fetchData(e);return{data:(r=n.data.segments)!==null&&r!==void 0?r:[],pagination:n.pagination}}};Ay=C([$("api","HelixPaginatedScheduleSegmentRequest")],Ay);let xd=class extends te{constructor(e,r){super(e),this._client=r}get segments(){var e,r;return(r=(e=this[h].segments)===null||e===void 0?void 0:e.map(n=>new ci(n,this._client)))!==null&&r!==void 0?r:[]}get broadcasterId(){return this[h].broadcaster_id}get broadcasterName(){return this[h].broadcaster_login}get broadcasterDisplayName(){return this[h].broadcaster_name}async getBroadcaster(){return oe(await this._client.users.getUserById(this[h].broadcaster_id))}get vacationStartDate(){var e;const r=(e=this[h].vacation)===null||e===void 0?void 0:e.start_time;return r?new Date(r):null}get vacationEndDate(){var e;const r=(e=this[h].vacation)===null||e===void 0?void 0:e.end_time;return r?new Date(r):null}};C([Y(!1)],xd.prototype,"_client",void 0);xd=C([$("api","HelixSchedule","broadcasterId")],xd);class jj extends Pe{async getSchedule(e,r){const n=await this._client.callApi({type:"helix",url:"schedule",userId:E(e),query:{...gP(e,r),...ye(r)}});return{data:new xd(n.data,this._client),cursor:n.pagination.cursor}}getScheduleSegmentsPaginated(e,r){return new Ay(e,this._client,r)}async getScheduleSegmentsByIds(e,r){var n,i;return(i=(n=(await this._client.callApi({type:"helix",url:"schedule",userId:E(e),query:Df(e,r)})).data.segments)===null||n===void 0?void 0:n.map(o=>new ci(o,this._client)))!==null&&i!==void 0?i:[]}async getScheduleSegmentById(e,r){const n=await this.getScheduleSegmentsByIds(e,[r]);return n.length?n[0]:null}async getScheduleAsIcal(e){return await this._client.callApi({type:"helix",url:"schedule/icalendar",query:we(e)})}async updateScheduleSettings(e,r){await this._client.callApi({type:"helix",url:"schedule/settings",method:"PATCH",userId:E(e),scopes:["channel:manage:schedule"],query:Mj(e,r)})}async createScheduleSegment(e,r){const n=await this._client.callApi({type:"helix",url:"schedule/segment",method:"POST",userId:E(e),scopes:["channel:manage:schedule"],query:we(e),jsonBody:Nj(r)});return new ci(n.data.segments[0],this._client)}async updateScheduleSegment(e,r,n){const i=await this._client.callApi({type:"helix",url:"schedule/segment",method:"PATCH",userId:E(e),scopes:["channel:manage:schedule"],query:bx(e,r),jsonBody:Dj(n)});return new ci(i.data.segments[0],this._client)}async deleteScheduleSegment(e,r){await this._client.callApi({type:"helix",url:"schedule/segment",method:"DELETE",userId:E(e),scopes:["channel:manage:schedule"],query:bx(e,r)})}}function xx(t,e){var r;return{query:t,live_only:(r=e.liveOnly)===null||r===void 0?void 0:r.toString()}}let _l=class extends te{constructor(e,r){super(e),this._client=r}get language(){return this[h].broadcaster_language}get id(){return this[h].id}get name(){return this[h].broadcaster_login}get displayName(){return this[h].display_name}async getUser(){return oe(await this._client.users.getUserById(this[h].id))}get gameId(){return this[h].game_id}get gameName(){return this[h].game_name}async getGame(){return this[h].game_id?oe(await this._client.games.getGameById(this[h].game_id)):null}get isLive(){return this[h].is_live}get tags(){return this[h].tags}get thumbnailUrl(){return this[h].thumbnail_url}get startDate(){return this[h].is_live?new Date(this[h].started_at):null}};C([Y(!1)],_l.prototype,"_client",void 0);_l=C([$("api","HelixChannelSearchResult","id")],_l);let Iy=class extends Pe{async searchCategories(e,r){const n=await this._client.callApi({type:"helix",url:"search/categories",query:{query:e,...ye(r)}});return Ge(n,Cr,this._client)}searchCategoriesPaginated(e){return new Re({url:"search/categories",query:{query:e}},this._client,r=>new Cr(r,this._client))}async searchChannels(e,r={}){const n=await this._client.callApi({type:"helix",url:"search/channels",query:{...xx(e,r),...ye(r)}});return Ge(n,_l,this._client)}searchChannelsPaginated(e,r={}){return new Re({url:"search/channels",query:xx(e,r)},this._client,n=>new _l(n,this._client))}};Iy=C([$("api","HelixSearchApi")],Iy);class Lj extends Jr{constructor(e){super("Your stream needs to be live to do this",e)}}function xm(t){return{game_id:t.game,language:t.language,type:t.type,user_id:t.userId,user_login:t.userName}}function Bj(t,e){return{user_id:E(t),description:e}}function Sx(t){return{video_id:t}}let $r=class extends te{constructor(e,r){super(e),this._client=r}get id(){return this[h].id}get userId(){return this[h].user_id}get userName(){return this[h].user_login}get userDisplayName(){return this[h].user_name}async getUser(){return oe(await this._client.users.getUserById(this[h].user_id))}get gameId(){return this[h].game_id}get gameName(){return this[h].game_name}async getGame(){return this[h].game_id?oe(await this._client.games.getGameById(this[h].game_id)):null}get type(){return this[h].type}get title(){return this[h].title}get viewers(){return this[h].viewer_count}get startDate(){return new Date(this[h].started_at)}get language(){return this[h].language}get thumbnailUrl(){return this[h].thumbnail_url}getThumbnailUrl(e,r){return this[h].thumbnail_url.replace("{width}",e.toString()).replace("{height}",r.toString())}get tags(){return this[h].tags}get isMature(){return this[h].is_mature}};C([Y(!1)],$r.prototype,"_client",void 0);$r=C([$("api","HelixStream","id")],$r);let bl=class extends te{constructor(e,r){super(e),this._client=r}get id(){return this[h].id}get creationDate(){return new Date(this[h].created_at)}get description(){return this[h].description}get positionInSeconds(){return this[h].position_seconds}};C([Y(!1)],bl.prototype,"_client",void 0);bl=C([$("api","HelixStreamMarker","id")],bl);let Oy=class extends bl{constructor(e,r,n){super(e,n),this._videoId=r}get url(){return this[h].URL}get videoId(){return this._videoId}async getVideo(){return oe(await this._client.videos.getVideoById(this._videoId))}};Oy=C([$("api","HelixStreamMarkerWithVideo","id")],Oy);var ks;let xl=ks=class extends Pe{constructor(){super(...arguments),this._getStreamByUserIdBatcher=new ur({url:"streams"},"user_id","user_id",this._client,e=>new $r(e,this._client)),this._getStreamByUserNameBatcher=new ur({url:"streams"},"user_login","user_login",this._client,e=>new $r(e,this._client))}async getStreams(e={}){const r=await this._client.callApi({url:"streams",type:"helix",query:{...xm(e),...ye(e)}});return Ge(r,$r,this._client)}getStreamsPaginated(e={}){return new Re({url:"streams",query:xm(e)},this._client,r=>new $r(r,this._client))}async getStreamsByUserNames(e){return(await this.getStreams({userName:e.map(Sa)})).data}async getStreamByUserName(e){var r;return(r=(await this.getStreamsByUserNames([e]))[0])!==null&&r!==void 0?r:null}async getStreamByUserNameBatched(e){return await this._getStreamByUserNameBatcher.request(Sa(e))}async getStreamsByUserIds(e){return(await this.getStreams({userId:e.map(E)})).data}async getStreamByUserId(e){const r=E(e),n=await this._client.callApi({url:"streams",type:"helix",userId:r,query:xm({userId:r})});return hr(n.data[0],i=>new $r(i,this._client))}async getStreamByUserIdBatched(e){return await this._getStreamByUserIdBatcher.request(E(e))}async getStreamMarkersForUser(e,r){var n;const i=await this._client.callApi({url:"streams/markers",type:"helix",query:{...dx(e),...ye(r)},userId:E(e),scopes:["user:read:broadcast"],canOverrideScopedUserContext:!0});return{data:J1(i.data.map(s=>ks._mapGetStreamMarkersResult(s,this._client))),cursor:(n=i.pagination)===null||n===void 0?void 0:n.cursor}}getStreamMarkersForUserPaginated(e){return new Re({url:"streams/markers",query:dx(e),userId:E(e),scopes:["user:read:broadcast"],canOverrideScopedUserContext:!0},this._client,r=>ks._mapGetStreamMarkersResult(r,this._client))}async getStreamMarkersForVideo(e,r,n){var i;const s=await this._client.callApi({url:"streams/markers",type:"helix",query:{...Sx(r),...ye(n)},userId:E(e),scopes:["user:read:broadcast"],canOverrideScopedUserContext:!0});return{data:J1(s.data.map(o=>ks._mapGetStreamMarkersResult(o,this._client))),cursor:(i=s.pagination)===null||i===void 0?void 0:i.cursor}}getStreamMarkersForVideoPaginated(e,r){return new Re({url:"streams/markers",query:Sx(r),userId:E(e),scopes:["user:read:broadcast"],canOverrideScopedUserContext:!0},this._client,n=>ks._mapGetStreamMarkersResult(n,this._client))}async createStreamMarker(e,r){try{const n=await this._client.callApi({url:"streams/markers",method:"POST",type:"helix",userId:E(e),scopes:["channel:manage:broadcast"],canOverrideScopedUserContext:!0,jsonBody:Bj(e,r)});return new bl(n.data[0],this._client)}catch(n){throw n instanceof ls&&n.statusCode===404?new Lj({cause:n}):n}}async getStreamKey(e){const r=E(e);return(await this._client.callApi({type:"helix",url:"streams/key",userId:r,scopes:["channel:read:stream_key"],query:we(e)})).data[0].stream_key}async getFollowedStreams(e,r){const n=E(e),i=await this._client.callApi({type:"helix",url:"streams/followed",userId:n,scopes:["user:read:follows"],query:{...He("user_id",n),...ye(r)}});return Ge(i,$r,this._client)}getFollowedStreamsPaginated(e){const r=E(e);return new Re({url:"streams/followed",userId:r,scopes:["user:read:follows"],query:He("user_id",r)},this._client,n=>new $r(n,this._client))}static _mapGetStreamMarkersResult(e,r){return e.videos.reduce((n,i)=>[...n,...i.markers.map(s=>new Oy(s,i.video_id,r))],[])}};C([Y(!1)],xl.prototype,"_getStreamByUserIdBatcher",void 0);C([Y(!1)],xl.prototype,"_getStreamByUserNameBatcher",void 0);xl=ks=C([$("api","HelixStreamApi")],xl);function $j(t,e){return{broadcaster_id:E(t),user_id:E(e)}}let Sl=class extends te{constructor(e,r){super(e),this._client=r}get broadcasterId(){return this[h].broadcaster_id}get broadcasterName(){return this[h].broadcaster_login}get broadcasterDisplayName(){return this[h].broadcaster_name}async getBroadcaster(){return await this._client.users.getUserById(this[h].broadcaster_id)}get isGift(){return this[h].is_gift}get tier(){return this[h].tier}};C([Y(!1)],Sl.prototype,"_client",void 0);Sl=C([$("api","HelixUserSubscription","broadcasterId")],Sl);let Cl=class extends Sl{get broadcasterId(){return this[h].broadcaster_id}get broadcasterName(){return this[h].broadcaster_login}get broadcasterDisplayName(){return this[h].broadcaster_name}async getBroadcaster(){return oe(await this._client.users.getUserById(this[h].broadcaster_id))}get gifterId(){return this[h].is_gift?this[h].gifter_id:null}get gifterName(){return this[h].is_gift?this[h].gifter_login:null}get gifterDisplayName(){return this[h].is_gift?this[h].gifter_name:null}async getGifter(){return this[h].is_gift?oe(await this._client.users.getUserById(this[h].gifter_id)):null}get userId(){return this[h].user_id}get userName(){return this[h].user_login}get userDisplayName(){return this[h].user_name}async getUser(){return oe(await this._client.users.getUserById(this[h].user_id))}};Cl=C([$("api","HelixSubscription","userId")],Cl);let Ry=class extends cs{constructor(e,r){super({url:"subscriptions",scopes:["channel:read:subscriptions"],userId:E(e),query:we(e)},r,n=>new Cl(n,r))}async getPoints(){var e;return((e=this._currentData)!==null&&e!==void 0?e:await this._fetchData({query:{after:void 0}})).points}};Ry=C([$("api","HelixPaginatedSubscriptionsRequest")],Ry);let My=class extends Pe{async getSubscriptions(e,r){const n=await this._client.callApi({url:"subscriptions",scopes:["channel:read:subscriptions"],type:"helix",userId:E(e),query:{...we(e),...ye(r)}});return{...Zn(n,Cl,this._client),points:n.points}}getSubscriptionsPaginated(e){return new Ry(e,this._client)}async getSubscriptionsForUsers(e,r){return(await this._client.callApi({type:"helix",url:"subscriptions",userId:E(e),scopes:["channel:read:subscriptions"],query:mP(e,r)})).data.map(i=>new Cl(i,this._client))}async getSubscriptionForUser(e,r){const n=await this.getSubscriptionsForUsers(e,[r]);return n.length?n[0]:null}async checkUserSubscription(e,r){try{const n=await this._client.callApi({type:"helix",url:"subscriptions/user",userId:E(e),scopes:["user:read:subscriptions"],query:$j(r,e)});return new Sl(n.data[0],this._client)}catch(n){if(n instanceof ls&&n.statusCode===404)return null;throw n}}};My=C([$("api","HelixSubscriptionApi")],My);let El=class extends te{constructor(e,r){super(e),this._client=r}get id(){return this[h].id}get name(){return this[h].team_name}get displayName(){return this[h].team_display_name}get backgroundImageUrl(){return this[h].background_image_url}get bannerUrl(){return this[h].banner}get creationDate(){return new Date(this[h].created_at)}get updateDate(){return new Date(this[h].updated_at)}get info(){return this[h].info}get logoThumbnailUrl(){return this[h].thumbnail_url}async getUserRelations(){return(await this._client.teams.getTeamById(this.id)).userRelations}};C([Y(!1)],El.prototype,"_client",void 0);El=C([$("api","HelixTeam","id")],El);let Sd=class extends El{get userRelations(){return this[h].users.map(e=>new es(e,this._client))}};Sd=C([$("api","HelixTeamWithUsers","id")],Sd);let Ny=class extends Pe{async getTeamsForBroadcaster(e){var r,n;return(n=(r=(await this._client.callApi({type:"helix",url:"teams/channel",userId:E(e),query:we(e)})).data)===null||r===void 0?void 0:r.map(s=>new El(s,this._client)))!==null&&n!==void 0?n:[]}async getTeamById(e){try{const r=await this._client.callApi({type:"helix",url:"teams",query:{id:e}});return new Sd(r.data[0],this._client)}catch(r){if(r instanceof ls&&r.statusCode===500)return null;throw r}}async getTeamByName(e){try{const r=await this._client.callApi({type:"helix",url:"teams",query:{name:e}});return new Sd(r.data[0],this._client)}catch(r){if(r instanceof ls&&r.statusCode===404)return null;throw r}}};Ny=C([$("api","HelixTeamApi")],Ny);function Uj(t,e){return{target_user_id:E(t),source_context:e.sourceContext,reason:e.reason}}function Fj(t){return{target_user_id:E(t)}}class yP extends te{get id(){return this[h].id}get version(){return this[h].version}get name(){return this[h].name}}let Ta=class extends yP{constructor(e,r,n){super(n),this._slotType=e,this._slotId=r}get slotType(){return this._slotType}get slotId(){return this._slotId}};Ta=C([$("api","HelixInstalledExtension","id")],Ta);let Cd=class extends te{getExtensionAtSlot(e,r){const n=this[h][e][r];return n.active?new Ta(e,r,n):null}getExtensionsForSlotType(e){return[...Object.entries(this[h][e])].filter(r=>r[1].active).map(([r,n])=>new Ta(e,r,n))}getAllExtensions(){return[...Object.entries(this[h])].flatMap(([e,r])=>[...Object.entries(r)].filter(n=>n[1].active).map(([n,i])=>new Ta(e,n,i)))}};Cd=C([$("api","HelixInstalledExtensionList")],Cd);let Dy=class extends yP{get canActivate(){return this[h].can_activate}get types(){return this[h].type}};Dy=C([$("api","HelixUserExtension","id")],Dy);let ei=class extends te{constructor(e,r){super(e),this._client=r}get id(){return this[h].id}get name(){return this[h].login}get displayName(){return this[h].display_name}get description(){return this[h].description}get type(){return this[h].type}get broadcasterType(){return this[h].broadcaster_type}get profilePictureUrl(){return this[h].profile_image_url}get offlinePlaceholderUrl(){return this[h].offline_image_url}get creationDate(){return new Date(this[h].created_at)}async getStream(){return await this._client.streams.getStreamByUserId(this)}async getFollowedChannels(){return await this._client.channels.getFollowedChannels(this)}async getFollowedChannel(e){var r;return(r=(await this._client.channels.getFollowedChannels(this,e)).data[0])!==null&&r!==void 0?r:null}async follows(e){return await this.getFollowedChannel(e)!==null}async getChannelFollowers(){return await this._client.channels.getChannelFollowers(this)}async getChannelFollower(e){var r;return(r=(await this._client.channels.getChannelFollowers(this,e)).data[0])!==null&&r!==void 0?r:null}async isFollowedBy(e){return await this.getChannelFollower(e)!==null}async getSubscriptionTo(e){return await this._client.subscriptions.checkUserSubscription(this,e)}async isSubscribedTo(e){return await this.getSubscriptionTo(e)!==null}async getSubscriber(e){return await this._client.subscriptions.getSubscriptionForUser(this,e)}async hasSubscriber(e){return await this.getSubscriber(e)!==null}};C([Y(!1)],ei.prototype,"_client",void 0);ei=C([$("api","HelixUser","id")],ei);let Ed=class extends ei{get email(){return this[h].email}async setDescription(e){return await this._client.users.updateAuthenticatedUser(this,{description:e})}};Ed=C([$("api","HelixPrivilegedUser","id")],Ed);let Tl=class extends te{constructor(e,r){super(e),this._client=r}get userId(){return this[h].user_id}get userName(){return this[h].user_login}get userDisplayName(){return this[h].display_name}async getUser(){return oe(await this._client.users.getUserById(this[h].user_id))}};C([Y(!1)],Tl.prototype,"_client",void 0);Tl=C([$("api","HelixUserBlock","userId")],Tl);let kl=class extends Pe{constructor(){super(...arguments),this._getUserByIdBatcher=new ur({url:"users"},"id","id",this._client,e=>new ei(e,this._client)),this._getUserByNameBatcher=new ur({url:"users"},"login","login",this._client,e=>new ei(e,this._client))}async getUsersByIds(e){return await this._getUsers("id",e.map(E))}async getUsersByNames(e){return await this._getUsers("login",e.map(Sa))}async getUserById(e){const r=E(e),n=await this._client.callApi({type:"helix",url:"users",userId:r,query:{id:r}});return hr(n.data[0],i=>new ei(i,this._client))}async getUserByIdBatched(e){return await this._getUserByIdBatcher.request(E(e))}async getUserByName(e){const r=await this._getUsers("login",[Sa(e)]);return r.length?r[0]:null}async getUserByNameBatched(e){return await this._getUserByNameBatcher.request(Sa(e))}async getAuthenticatedUser(e,r=!1){var n;const i=await this._client.callApi({type:"helix",url:"users",forceType:"user",userId:E(e),scopes:r?["user:read:email"]:void 0});if(!(!((n=i.data)===null||n===void 0)&&n.length))throw new vi("Could not get authenticated user");return new Ed(i.data[0],this._client)}async updateAuthenticatedUser(e,r){const n=await this._client.callApi({type:"helix",url:"users",method:"PUT",userId:E(e),scopes:["user:edit"],query:{description:r.description}});return new Ed(n.data[0],this._client)}async getBlocks(e,r){const n=await this._client.callApi({type:"helix",url:"users/blocks",userId:E(e),scopes:["user:read:blocked_users"],query:{...we(e),...ye(r)}});return Ge(n,Tl,this._client)}getBlocksPaginated(e){return new Re({url:"users/blocks",userId:E(e),scopes:["user:read:blocked_users"],query:we(e)},this._client,r=>new Tl(r,this._client))}async createBlock(e,r,n={}){await this._client.callApi({type:"helix",url:"users/blocks",method:"PUT",userId:E(e),scopes:["user:manage:blocked_users"],query:Uj(r,n)})}async deleteBlock(e,r){await this._client.callApi({type:"helix",url:"users/blocks",method:"DELETE",userId:E(e),scopes:["user:manage:blocked_users"],query:Fj(r)})}async getExtensionsForAuthenticatedUser(e,r=!1){return(await this._client.callApi({type:"helix",url:"users/extensions/list",userId:E(e),scopes:r?["user:edit:broadcast"]:["user:read:broadcast","user:edit:broadcast"]})).data.map(i=>new Dy(i))}async getActiveExtensions(e,r=!1){const n=E(e),i=await this._client.callApi({type:"helix",url:"users/extensions",userId:n,scopes:r?["user:read:broadcast","user:edit:broadcast"]:void 0,query:He("user_id",n)});return new Cd(i.data)}async updateActiveExtensionsForAuthenticatedUser(e,r){const n=await this._client.callApi({type:"helix",url:"users/extensions",method:"PUT",userId:E(e),scopes:["user:edit:broadcast"],jsonBody:{data:r}});return new Cd(n.data)}async _getUsers(e,r){if(r.length===0)return[];const n={[e]:r};return(await this._client.callApi({type:"helix",url:"users",query:n})).data.map(s=>new ei(s,this._client))}};C([Y(!1)],kl.prototype,"_getUserByIdBatcher",void 0);C([Y(!1)],kl.prototype,"_getUserByNameBatcher",void 0);kl=C([$("api","HelixUserApi")],kl);let ts=class extends te{constructor(e,r){super(e),this._client=r}get id(){return this[h].id}get userId(){return this[h].user_id}get userName(){return this[h].user_login}get userDisplayName(){return this[h].user_name}async getUser(){return oe(await this._client.users.getUserById(this[h].user_id))}get title(){return this[h].title}get description(){return this[h].description}get creationDate(){return new Date(this[h].created_at)}get publishDate(){return new Date(this[h].published_at)}get url(){return this[h].url}get thumbnailUrl(){return this[h].thumbnail_url}getThumbnailUrl(e,r){return this[h].thumbnail_url.replace("%{width}",e.toString()).replace("%{height}",r.toString())}get isPublic(){return this[h].viewable==="public"}get views(){return this[h].view_count}get language(){return this[h].language}get type(){return this[h].type}get duration(){return this[h].duration}get durationInSeconds(){const e=this[h].duration.match(/\d+[hms]/g);if(!e)throw new vi(`Could not parse duration string: ${this[h].duration}`);return e.map(r=>{const n=/(\d+)([hms])/.exec(r);if(!n)throw new vi(`Could not parse partial duration string: ${r}`);const[,i,s]=n;return parseInt(i,10)*{h:3600,m:60,s:1}[s]}).reduce((r,n)=>r+n)}get streamId(){return this[h].stream_id}get mutedSegmentData(){var e,r;return(r=(e=this[h].muted_segments)===null||e===void 0?void 0:e.slice())!==null&&r!==void 0?r:[]}isMutedAt(e,r,n=!1){if(this[h].muted_segments===null)return!1;if(r==null)return this[h].muted_segments.some(s=>s.offset<=e&&e<=s.offset+s.duration);const i=e+r;return n?this[h].muted_segments.some(s=>{const o=s.offset+s.duration;return e<o&&s.offset<i}):this[h].muted_segments.some(s=>{const o=s.offset+s.duration;return s.offset<=e&&i<=o})}};C([Y(!1)],ts.prototype,"_client",void 0);C([xe()],ts.prototype,"durationInSeconds",null);ts=C([Jl,$("api","HelixVideo","id")],ts);var dc;let Td=dc=class extends Pe{constructor(){super(...arguments),this._getVideoByIdBatcher=new ur({url:"videos"},"id","id",this._client,e=>new ts(e,this._client))}async getVideosByIds(e){return(await this._getVideos("id",e)).data}async getVideoById(e){const r=await this.getVideosByIds([e]);return r.length?r[0]:null}async getVideoByIdBatched(e){return await this._getVideoByIdBatcher.request(e)}async getVideosByUser(e,r={}){const n=E(e);return await this._getVideos("user_id",[n],r)}getVideosByUserPaginated(e,r={}){const n=E(e);return this._getVideosPaginated("user_id",[n],r)}async getVideosByGame(e,r={}){return await this._getVideos("game_id",[e],r)}getVideosByGamePaginated(e,r={}){return this._getVideosPaginated("game_id",[e],r)}async deleteVideosByIds(e,r){await this._client.callApi({type:"helix",url:"videos",method:"DELETE",scopes:["channel:manage:videos"],userId:E(e),query:{id:r}})}async _getVideos(e,r,n={}){if(!r.length)return{data:[]};const i=await this._client.callApi({type:"helix",url:"videos",userId:e==="user_id"?r[0]:void 0,query:{...dc._makeVideosQuery(e,r,n),...ye(n)}});return Ge(i,ts,this._client)}_getVideosPaginated(e,r,n={}){return new Re({url:"videos",userId:e==="user_id"?r[0]:void 0,query:dc._makeVideosQuery(e,r,n)},this._client,i=>new ts(i,this._client))}static _makeVideosQuery(e,r,n={}){const{language:i,period:s,orderBy:o,type:a}=n;return{[e]:r,language:i,period:s,sort:o,type:a}}};C([Y(!1)],Td.prototype,"_getVideoByIdBatcher",void 0);Td=dc=C([$("api","HelixVideoApi")],Td);function qj(t,e){return{from_user_id:E(t),to_user_id:E(e)}}let jy=class extends Pe{async sendWhisper(e,r,n){await this._client.callApi({type:"helix",url:"whispers",method:"POST",userId:E(e),scopes:["user:manage:whispers"],query:qj(e,r),jsonBody:{message:n}})}};jy=C([$("api","HelixWhisperApi")],jy);class Hj{constructor(e,r,n){this._options=e,this._httpStatus=r,this._resolvedUserId=n}get options(){return this._options}get httpStatus(){return this._httpStatus}get resolvedUserId(){return this._resolvedUserId}}let be=class extends $o{constructor(e,r,n){super(),this.onRequest=this.registerEvent(),this._config=e,this._logger=r,this._rateLimiter=n}async requestScopesForUser(e,r){await this._config.authProvider.getAccessTokenForUser(e,...r.map(n=>[n]))}async getTokenInfo(){try{const e=await this.callApi({type:"auth",url:"validate"});return new Yc(e)}catch(e){throw e instanceof ls&&e.statusCode===401?new Zi({cause:e}):e}}async callApi(e){var r;const{authProvider:n}=this._config;if(!((r=e.auth)!==null&&r!==void 0?r:!0))return await Yl(e,n.clientId,void 0,void 0,this._config.fetchOptions);let s=!1;if(e.forceType)switch(e.forceType){case"app":{if(!n.getAppAccessToken)throw new Error("Tried to make an API call that requires an app access token but your auth provider does not support that");const l=await n.getAppAccessToken();return await this._callApiUsingInitialToken(e,l)}case"user":{s=!0;break}default:throw new vi(`Unknown forced token type: ${e.forceType}`)}if(e.scopes&&(s=!0),s){const l=e.canOverrideScopedUserContext?this._getUserIdFromRequestContext(e.userId):e.userId;if(!l)throw new Error("Tried to make an API call with a user context but no context user ID");const u=await n.getAccessTokenForUser(l,e.scopes);if(!u)throw new Error(`Tried to make an API call with a user context for user ID ${l} but no token was found`);if(Zs(u)&&n.refreshAccessTokenForUser){const c=await n.refreshAccessTokenForUser(l);return await this._callApiUsingInitialToken(e,c,!0)}return await this._callApiUsingInitialToken(e,u)}const o=this._getUserIdFromRequestContext(e.userId),a=o===null?await n.getAnyAccessToken():await n.getAnyAccessToken(o??e.userId);if(Zs(a)&&a.userId&&n.refreshAccessTokenForUser){const l=await n.refreshAccessTokenForUser(a.userId);return await this._callApiUsingInitialToken(e,l,!0)}return await this._callApiUsingInitialToken(e,a)}get bits(){return new hy(this)}get channels(){return new ad(this)}get channelPoints(){return new py(this)}get charity(){return new my(this)}get chat(){return new yy(this)}get clips(){return new pd(this)}get contentClassificationLabels(){return new vy(this)}get entitlements(){return new md(this)}get eventSub(){return new wy(this)}get extensions(){return new _y(this)}get games(){return new Ao(this)}get hypeTrain(){return new Sj(this)}get goals(){return new by(this)}get moderation(){return new Sy(this)}get polls(){return new Ey(this)}get predictions(){return new Ty(this)}get raids(){return new Py(this)}get schedule(){return new jj(this)}get search(){return new Iy(this)}get streams(){return new xl(this)}get subscriptions(){return new My(this)}get teams(){return new Ny(this)}get users(){return new kl(this)}get videos(){return new Td(this)}get whispers(){return new jy(this)}get rateLimiterStats(){return this._rateLimiter instanceof Mv?this._rateLimiter.stats:null}get _authProvider(){return this._config.authProvider}get _batchDelay(){var e;return(e=this._config.batchDelay)!==null&&e!==void 0?e:0}_getUserIdFromRequestContext(e){return e}async _callApiUsingInitialToken(e,r,n=!1){var i;const{authProvider:s}=this._config,{authorizationType:o}=s;let a=await this._callApiInternal(e,s.clientId,r.accessToken,o);if(a.status===401&&!n){if(r.userId){if(s.refreshAccessTokenForUser){const l=await s.refreshAccessTokenForUser(r.userId);a=await this._callApiInternal(e,s.clientId,l.accessToken,o)}}else if(s.getAppAccessToken){const l=await s.getAppAccessToken(!0);a=await this._callApiInternal(e,s.clientId,l.accessToken,o)}}return this.emit(this.onRequest,new Hj(e,a.status,(i=r.userId)!==null&&i!==void 0?i:null)),await ry(a,e),await cT(a)}async _callApiInternal(e,r,n,i){var s,o,a;const{fetchOptions:l}=this._config,u=(s=e.type)!==null&&s!==void 0?s:"helix";this._logger.debug(`Calling ${u} API: ${(o=e.method)!==null&&o!==void 0?o:"GET"} ${e.url}`),this._logger.trace(`Query: ${JSON.stringify(e.query)}`),e.jsonBody&&this._logger.trace(`Request body: ${JSON.stringify(e.jsonBody)}`);const c=uj.operation({retries:3,minTimeout:500,factor:2}),{promise:f,resolve:d,reject:g}=tl();c.attempt(async()=>{try{const b=u==="helix"?await this._rateLimiter.request({options:e,clientId:r,accessToken:n,authorizationType:i,fetchOptions:l}):await Ef(e,r,n,i,l);!b.ok&&b.status>=500&&b.status<600&&await ry(b,e),d(b)}catch(b){if(c.retry(b))return;g(c.mainError())}});const v=await f;return this._logger.debug(`Called ${u} API: ${(a=e.method)!==null&&a!==void 0?a:"GET"} ${e.url} - result: ${v.status}`),v}};C([xe()],be.prototype,"bits",null);C([xe()],be.prototype,"channels",null);C([xe()],be.prototype,"channelPoints",null);C([xe()],be.prototype,"charity",null);C([xe()],be.prototype,"chat",null);C([xe()],be.prototype,"clips",null);C([xe()],be.prototype,"contentClassificationLabels",null);C([xe()],be.prototype,"entitlements",null);C([xe()],be.prototype,"eventSub",null);C([xe()],be.prototype,"extensions",null);C([xe()],be.prototype,"games",null);C([xe()],be.prototype,"hypeTrain",null);C([xe()],be.prototype,"goals",null);C([xe()],be.prototype,"moderation",null);C([xe()],be.prototype,"polls",null);C([xe()],be.prototype,"predictions",null);C([xe()],be.prototype,"raids",null);C([xe()],be.prototype,"schedule",null);C([xe()],be.prototype,"search",null);C([xe()],be.prototype,"streams",null);C([xe()],be.prototype,"subscriptions",null);C([xe()],be.prototype,"teams",null);C([xe()],be.prototype,"users",null);C([xe()],be.prototype,"videos",null);C([xe()],be.prototype,"whispers",null);be=C([Jl,$("api","ApiClient")],be);let Ly=class extends be{_getUserIdFromRequestContext(){return null}};Ly=C([$("api","ApiClient")],Ly);let kd=class extends be{constructor(e,r,n,i){super(e,r,n),this._userId=i}_getUserIdFromRequestContext(){return this._userId}};kd=C([$("api","ApiClient")],kd);let By=class extends be{constructor(e){if(!e.authProvider)throw new oj("No auth provider given. Please supply the `authProvider` option.");const r={name:"twurple:api:rate-limiter",...e.logger};super(e,Lo({name:"twurple:api:client",...e.logger}),gf?new CN({getPartitionKey:n=>{var i;return(i=n.userId)!==null&&i!==void 0?i:null},createChild:()=>new aj({logger:r})}):new sT({logger:r,bucketSize:800,timeFrame:64e3,doRequest:async({options:n,clientId:i,accessToken:s,authorizationType:o,fetchOptions:a})=>await Ef(n,i,s,o,a),getPartitionKey:n=>{var i;return(i=n.userId)!==null&&i!==void 0?i:null}}))}async asUser(e,r){const n=new kd(this._config,this._logger,this._rateLimiter,E(e));return await r(n)}async asIntent(e,r){if(!this._authProvider.getAccessTokenForIntent)throw new Error("Trying to use intents with an auth provider that does not support them");for(const n of e){const i=await this._authProvider.getAccessTokenForIntent(n);if(i){const s=new kd(this._config,this._logger,this._rateLimiter,i.userId);return await r(s)}}throw new Error(`Intents [${e.join(", ")}] not found in auth provider`)}async withoutUser(e){const r=new Ly(this._config,this._logger,this._rateLimiter);return await e(r)}};By=C([$("api","ApiClient")],By);class zj{constructor(e="",r=""){Rr(this,"_clientId",oy.twitch.clientId);Rr(this,"_scopes",oy.twitch.scopes);Rr(this,"_accessToken");Rr(this,"_key");this._accessToken={accessToken:e,refreshToken:null,scope:this._scopes,expiresIn:null,obtainmentTimestamp:Date.now()},this._key=r}get clientId(){return this._clientId}getCurrentScopesForUser(){return this._scopes}async getAccessTokenForUser(e,...r){return this._getAccessToken(r)}async getAnyAccessToken(){return this._getAccessToken()}async refreshAccessTokenForUser(){const e=await cP("twitch",this._key);return this._accessToken.accessToken=e,this._accessToken.obtainmentTimestamp=Date.now(),this._getAccessToken()}async _getAccessToken(e){this._checkScopes(e);const{[h]:{expires_in:r},userId:n}=await us(this._accessToken.accessToken,this._clientId);return this._accessToken.expiresIn=r||null,{...this._accessToken,userId:n}}_checkScopes(e){if(e!=null&&e.length){const r=new Set(this._scopes);e.forEach(n=>{if(!(!n||!n.length)&&n.every(i=>!r.has(i)))throw new Wj(n)})}}}class Wj extends Error{constructor(e){const r=`This token does not have one of the requested scopes: [${e.join(", ")}]`;super(r),this.name="MissingScopesError"}}function Fo(){const{data:t}=rw("twitch"),{keys:e}=vn(),r=new zj(t,e.twitch);return new By({authProvider:r})}function Ti(){const{data:t}=rw("twitch"),e=Fo();return bi({enabled:!!t,queryKey:["twitch","broadcaster",t||null],queryFn:async()=>{const{clientId:r}=oy.twitch,{userId:n}=await us(t,r);if(!n)throw Error("Twitch broadcaster not found");const i=await e.users.getUserById(n);if(!i)throw Error("Twitch broadcaster not found");return{id:i.id,userName:i.name,displayName:i.displayName,image:i.profilePictureUrl,url:`https://www.twitch.tv/${i.name}`}},...ps})}function vP(){const{data:t}=Ti(),e=Fo();return bi({enabled:!!t,queryKey:["twitch","channelPointRewards",t==null?void 0:t.id],queryFn:async()=>{const r=new Map;return(await e.channelPoints.getCustomRewards(t.id).catch(()=>[])).forEach(i=>{r.set(i.id,i)}),r},...ps})}function jf(){const{data:t}=Ti(),e=Fo();return bi({enabled:!!t,queryKey:["twitch","cheermotes",t==null?void 0:t.id],queryFn:async()=>{const r=await e.bits.getCheermotes(t.id);return new Gj(r)},...ps})}class Gj{constructor(e){Rr(this,"cheermoteList");this.cheermoteList=e}getAllNames(){return this.cheermoteList.getPossibleNames()}get(e,r){return{name:e,amount:r,color:this.cheerColor(e,r),images:{default:this.buildCheermoteUrls(e,r),static:this.buildCheermoteUrls(e,r,!0)}}}cheerColor(e,r){return this.cheermoteList.getCheermoteDisplayInfo(e,r,{background:"light",scale:"1",state:"static"}).color}buildCheermoteUrls(e,r,n=!1){const i=this.cheermoteList;function s(o){return i.getCheermoteDisplayInfo(e,r,{background:"light",scale:o,state:n?"static":"animated"}).url}return{x1:s("1"),x2:s("2"),x4:s("4")}}}function Vj(){const{data:t}=jf();function e(r,n){const{name:i,amount:s,position:o,length:a}=r;return{type:"cheer",text:n.slice(o,o+a),cheer:t.get(i,s)}}return e}const Qj=Nf.create({baseURL:"https://api.betterttv.net/3/cached"});async function Kj(t,e){const r=new Map,n=await Qj.get(`/users/${t}/${e}`).then(a=>a.data).catch(()=>null);if(!n)return r;const{channelEmotes:i,sharedEmotes:s}=n;if(!i||!s)return r;function o(a){a.forEach(l=>{r.set(l.code,{id:l.id,name:l.code,images:{default:Cx(l.id),static:Cx(l.id,!0)},source:"betterttv"})})}return o(i),o(s),r}function Cx(t,e=!1){function r(n){return`https://cdn.betterttv.net/emote/${t}${e?"/static":""}/${n}x`}return{x1:r(1),x2:r(2),x4:r(3)}}const Yj=Nf.create({baseURL:"https://api.frankerfacez.com/v1"});async function Xj(t,e){const r=new Map,n=await Yj.get(`/room/${Jj(t)}/${e}`).then(s=>s.data).catch(()=>null);if(!n)return r;const{sets:i}=n;return i&&Object.keys(i).forEach(s=>{i[s].emoticons.forEach(o=>{r.set(o.name,{id:o.id.toString(),name:o.name,images:{default:Ex(o),static:Ex(o,!0)},source:"frankerfacez"})})}),r}function Ex(t,e=!1){let r=t.urls[1],n=t.urls[2]||r,i=t.urls[4]||n;return!e&&t.animated&&(r=t.animated[1],n=t.animated[2]||r,i=t.animated[4]||n),{x1:r,x2:n,x4:i}}function Jj(t){switch(t){case"twitch":return"id";case"youtube":return"yt";default:throw Error(`Unhandled platform "${t}" in FFZ Platform URL Transformer`)}}function Lf(){const{data:t}=Ti();return bi({enabled:!!t,queryKey:["twitch","thirdPartyEmotes",t==null?void 0:t.id],queryFn:async()=>{const e=new Map;return(await Promise.all([Kj("twitch",t.id),Xj("twitch",t.id)])).forEach(n=>{n.forEach((i,s)=>{e.set(s,i)})}),e},retry:1,retryOnMount:!1,gcTime:1/0,staleTime:1/0,refetchOnMount:!1,refetchOnWindowFocus:!1,refetchOnReconnect:!1})}function Zj(){const{data:t}=Lf();function e(r,n){const{position:i,length:s,id:o,name:a}=r,l=n.slice(i,i+s),u=t.get(l);return u?{type:"emote",text:l,emote:u}:{type:"emote",text:l,emote:{id:o,name:a,images:{default:Tx(o),static:Tx(o,!0)},source:"twitch"}}}return e}function Tx(t,e=!1){function r(n){return Hk(t,{animationSettings:e?"static":"default",backgroundType:"light",size:n})}return{x1:r("1.0"),x2:r("2.0"),x4:r("3.0")}}function e8(){const{data:t}=Lf();function e(r){const n=[],{text:i}=r,s=t8(Array.from(t.keys()));return i.split(s).forEach(o=>{if(o==="")return;const a=t.get(o);a?n.push({type:"emote",text:o,emote:a}):n.push({type:"text",text:o})}),n}return e}function t8(t){const e=t.map(r8).join("|"),r=String.raw`(?<=\s|[.,!]|^)(${e})(?=\s|[.,!]|$)`;return new RegExp(r,"g")}function r8(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function n8(){const{data:t}=jf(),e=e8(),r=Vj(),n=Zj();function i(s,o,a=!1){if(!s)return[];const l=H6(s,o,a?t.getAllNames():void 0),u=[];return l.forEach(c=>{switch(c.type){default:case"text":u.push(...e(c));break;case"cheer":u.push(r(c,s));break;case"emote":u.push(n(c,s));break}}),u}return i}function nw(){const{data:t}=Ti(),e=Fo();return bi({enabled:!!t,queryKey:["twitch","badges",t==null?void 0:t.id],queryFn:async()=>{const[r,n]=await Promise.all([e.chat.getGlobalBadges(),e.chat.getChannelBadges(t.id)]);return new i8(r,n)},...ps})}class i8{constructor(e,r){Rr(this,"badgeMap",new Map);this.set(e),this.set(r)}transform(e){const r=[];return e.forEach((n,i)=>{const s=this.get(i,n);s&&r.push(s)}),r}get(e,r=e==="subscriber"||e==="founder"?"0":"1"){var i,s;const n=(s=(i=this.badgeMap.get(e))==null?void 0:i.get(r))==null?void 0:s.getImageUrl(4);if(n)return{id:e,image:n}}set(e){e.forEach(r=>{const n=new Map;r.versions.forEach(i=>{n.set(i.id,i)}),this.badgeMap.set(r.id,n)})}}function s8(){const{data:t}=Ti(),e=Fo(),r=Vd();async function n(i){return t?await r.fetchQuery({queryKey:["twitch","followDate",i],queryFn:async()=>{if(i===t.id)return new Date(0);const s=await e.channels.getChannelFollowers(t.id,i),[o]=s.data;return o?o.followDate:null},staleTime:1*60*60*1e3,gcTime:2*60*60*1e3,retry:1}):null}return{getFollowDate:n}}function o8(){const{data:t}=iw(),e=Vd();async function r(n){return t?await e.fetchQuery({queryKey:["twitch","pronouns","user",n],queryFn:async()=>{const i=await a8(n);return i?t.get(i):null},staleTime:5*60*1e3,gcTime:1*60*60*1e3,retry:0}):null}return{getPronouns:r}}function iw(){return bi({queryKey:["twitch","pronouns","all"],queryFn:async()=>l8(),...ps})}const wP=Nf.create({baseURL:"https://pronouns.alejo.io/api"});async function a8(t){const e=await wP.get(`/users/${t}`).then(n=>n.data).catch(()=>null);if(!e)return null;const[r]=e;return r?r.pronoun_id:null}async function l8(){const t=new Map;return(await wP.get("/pronouns").then(r=>r.data)).forEach(({name:r,display:n})=>{t.set(r,n)}),t}class qe{static number(e,r){return Math.random()*(r-e)+e}static integer(e,r){return Math.floor(Math.random()*(r-e+1))+e}static chance(e){return Math.random()<e/100}static boolean(){return this.chance(50)}static index(e){return Math.floor(Math.random()*e.length)}static item(e){return e[this.index(e)]}}function _P(){const t=Vd();async function e(r,n){return await t.fetchQuery({queryKey:["twitch","user",r,"color"],queryFn:()=>n||qe.item(u8),staleTime:1/0,gcTime:1/0})}return e}const u8=["red","blue","green","firebrick","coral","yellowgreen","orangered","seagreen","goldenrod","chocolate","cadetblue","dodgerblue","hotpink","blueviolet","springgreen"];function c8(){const{getPronouns:t}=o8(),{getFollowDate:e}=s8(),{data:r}=nw(),n=_P();async function i(s){const{userId:o,userName:a,displayName:l,badges:u,color:c,isBroadcaster:f,isMod:d,isArtist:g,isVip:v,isFounder:b,isSubscriber:w}=s;return{id:o,userName:a,displayName:l,pronouns:await t(a),badges:r.transform(u),color:await n(o,c),roles:{broadcaster:f,moderator:d,artist:g,vip:v,founder:b,subscriber:w},followDate:await e(o)}}return i}function d8(){const{data:t}=vP(),e=n8(),r=c8();async function n(i,s,o){if(s instanceof Pf&&(o=s.text),!o)return;const{type:a}=i,l={id:s.id,first:s.tags.get("first-msg")==="1",date:s.date,text:o,parts:e(o,s.emoteOffsets,a==="cheer"),user:await r(s.userInfo),tags:s.tags,...i};if(a!=="basic")return l;if(s.tags.get("msg-id")==="highlighted-message")return{...l,type:"highlight"};const u=s.tags.get("custom-reward-id");if(u){const d=t.get(u);if(d){const g={id:d.id,name:d.title,cost:d.cost,image:d.getImageUrl(4),color:d.backgroundColor};return{...l,type:"redeem",redeem:g}}}function c(d){return s.tags.get(`reply-parent-${d}`)||""}const f=c("msg-id");if(f){const d={id:f,text:c("msg-body"),user:{id:c("user-id"),userName:c("user-login"),displayName:c("display-name")}};return{...l,type:"reply",reply:d}}return l}return n}const Lu="twitch";function f8(){const{data:t}=Ti(),{isPlatformReady:e}=mf(),r=vn(),{addEvent:n,removeEvent:i,removeUser:s,removeMessages:o}=bv(),a=d8(),l=I.useRef(new nd),u=e("twitch");I.useEffect(()=>{if(!u)return;const c=l.current;!c.isConnected&&!c.isConnecting&&(c.connect(),c.join(t.userName));function f(w){w&&n({type:"message",id:w.id,userId:w.user.id,message:w,source:Lu})}function d(w){i("message",w),r.sendEvent({type:"remove-message",messageId:w,source:Lu})}function g(){o(),r.sendEvent({type:"clear-messages",source:Lu})}function v(w){w&&(s(w),r.sendEvent({type:"remove-user",userId:w,source:Lu}))}const b=[];return b.push(c.onMessage(async(w,m,p,y)=>{const{bits:x}=y,k=await a(x?{type:"cheer",cheer:{amount:x}}:{type:"basic"},y,p);f(k)}),c.onAction(async(w,m,p,y)=>{const x=await a({type:"action"},y,p);f(x)}),c.onResub(async(w,m,p,y)=>{const x={type:"resub",resub:{months:p.months,tier:p.plan}},S=await a(x,y);f(S)}),c.onAnnouncement(async(w,m,p,y)=>{const x={type:"announcement",announcement:{color:p.color}},S=await a(x,y);f(S)}),c.onChatClear(()=>{g()}),c.onTimeout((w,m,p,y)=>{v(y.targetUserId)}),c.onBan((w,m,p)=>{v(p.targetUserId)}),c.onMessageRemove((w,m)=>{d(m)})),()=>{b.forEach(w=>{w&&c.removeListener(w)})}},[u,r,n,i,s,o,a,t])}function bP(){const{data:t}=Ti(),e=Fo();return bi({enabled:!!t,queryKey:["twitch","channelEmotes",t==null?void 0:t.id],queryFn:async()=>(await e.chat.getChannelEmotes(t.id)).map(n=>{const{id:i,name:s}=n;return{id:i,name:s,images:{default:kx(i),static:kx(i,!0)},source:"twitch"}}),...ps})}function kx(t,e=!1){function r(n){return Hk(t,{animationSettings:e?"static":"default",backgroundType:"light",size:n})}return{x1:r("1.0"),x2:r("2.0"),x4:r("3.0")}}function h8(){const{data:t,status:e}=Ti(),{status:r}=nw(),{status:n}=bP(),{status:i}=vP(),{status:s}=jf(),{status:o}=iw(),{status:a}=Lf(),{isPlatformReady:l}=mf(),{setPlatformReady:u}=C4();f8();const c=[e,r,n,i,s,o,a].some(f=>f==="pending");return I.useEffect(()=>{c||u("twitch")},[c]),l("twitch")?_.jsx(x4,{broadcaster:t,platform:"twitch",staticPosition:!0}):_.jsx(R5,{staticPosition:!0,message:"Key verified! Loading Twitch data...",items:[{message:"Loading broadcaster...",status:e},{message:"Loading badges...",status:r},{message:"Loading channel emotes...",status:n},{message:"Loading channel point rewards...",status:i},{message:"Loading cheermotes...",status:s},{message:"Loading pronouns...",status:o},{message:"Loading third party emotes...",status:a}]})}function Mt(t){return new Promise((e,r)=>{t.oncomplete=t.onsuccess=()=>e(t.result),t.onabort=t.onerror=()=>r(t.error)})}function xP(t,e){const r=indexedDB.open(t);r.onupgradeneeded=()=>r.result.createObjectStore(e);const n=Mt(r);return(i,s)=>n.then(o=>s(o.transaction(e,i).objectStore(e)))}let Sm;function Ir(){return Sm||(Sm=xP("keyval-store","keyval")),Sm}function p8(t,e=Ir()){return e("readonly",r=>Mt(r.get(t)))}function m8(t,e,r=Ir()){return r("readwrite",n=>(n.put(e,t),Mt(n.transaction)))}function g8(t,e=Ir()){return e("readwrite",r=>(t.forEach(n=>r.put(n[1],n[0])),Mt(r.transaction)))}function y8(t,e=Ir()){return e("readonly",r=>Promise.all(t.map(n=>Mt(r.get(n)))))}function v8(t,e,r=Ir()){return r("readwrite",n=>new Promise((i,s)=>{n.get(t).onsuccess=function(){try{n.put(e(this.result),t),i(Mt(n.transaction))}catch(o){s(o)}}}))}function w8(t,e=Ir()){return e("readwrite",r=>(r.delete(t),Mt(r.transaction)))}function _8(t,e=Ir()){return e("readwrite",r=>(t.forEach(n=>r.delete(n)),Mt(r.transaction)))}function b8(t=Ir()){return t("readwrite",e=>(e.clear(),Mt(e.transaction)))}function sw(t,e){return t.openCursor().onsuccess=function(){this.result&&(e(this.result),this.result.continue())},Mt(t.transaction)}function x8(t=Ir()){return t("readonly",e=>{if(e.getAllKeys)return Mt(e.getAllKeys());const r=[];return sw(e,n=>r.push(n.key)).then(()=>r)})}function S8(t=Ir()){return t("readonly",e=>{if(e.getAll)return Mt(e.getAll());const r=[];return sw(e,n=>r.push(n.value)).then(()=>r)})}function C8(t=Ir()){return t("readonly",e=>{if(e.getAll&&e.getAllKeys)return Promise.all([Mt(e.getAllKeys()),Mt(e.getAll())]).then(([n,i])=>n.map((s,o)=>[s,i[o]]));const r=[];return t("readonly",n=>sw(n,i=>r.push([i.key,i.value])).then(()=>r))})}class E8{constructor(e){Rr(this,"_store");e&&this._createStore(e)}use(e){if(!e)throw new k8;this._createStore(`widget-${e}`)}get(e){return this._throwIfStoreMissing(),p8(e,this._store)}getMany(e){return this._throwIfStoreMissing(),y8(e,this._store)}set(e,r){return this._throwIfStoreMissing(),m8(e,r,this._store)}setMany(e){return this._throwIfStoreMissing(),g8(e,this._store)}update(e,r){return this._throwIfStoreMissing(),v8(e,r,this._store)}del(e){return this._throwIfStoreMissing(),w8(e,this._store)}delMany(e){return this._throwIfStoreMissing(),_8(e,this._store)}clear(){return this._throwIfStoreMissing(),b8(this._store)}keys(){return this._throwIfStoreMissing(),x8(this._store)}values(){return this._throwIfStoreMissing(),S8(this._store)}entries(){return this._throwIfStoreMissing(),C8(this._store)}_createStore(e){this._store=xP(`slime2-${e}-db`,`slime2-${e}-store`)}_throwIfStoreMissing(){if(!this._store)throw new P8}}const T8=new E8;class k8 extends Error{constructor(){const e="Parameters missing from slime2.storage.create()";super(e),this.name="CreateStorageError"}}class P8 extends Error{constructor(){const e="Storage must be created using slime2.storage.create('storage-name') before use.";super(e),this.name="MissingStorageError"}}function A8(){const{status:t,error:e}=rw("twitch"),r=I.useRef(!1),n=I.useRef(null),{onEvent:i,setKey:s,setPlatform:o,setMaxEvents:a,setEventDelay:l,setEventExpiration:u,createWidgetSettings:c}=WO(),{loadValues:f}=df(),d=gv(),{platforms:g}=vn(),v=I.useCallback((w,m)=>{if(!Array.isArray(w))return d;const p=Oi(d,w);return typeof m!="string"?p:(p==null?void 0:p[m])||null},[d]);if(I.useEffect(()=>{r.current||(globalThis.slime2={onEvent:i,setKey:s,setMaxEvents:a,setEventDelay:l,setEventExpiration:u,storage:T8,color:el,random:qe,cloneTemplate:UO,widget:{loadSettings:(w,m)=>(c(w,m),new Promise(p=>{n.current=p})),loadPlatform:o,setData:w=>{f(w)},getData:v}},dispatchEvent(new CustomEvent("slime2:ready")),r.current=!0)},[]),I.useEffect(()=>{if(Object.keys(d).length){const w=n.current;w&&(globalThis.slime2.widget.getData=v,w(),dispatchEvent(new CustomEvent("slime2:widget-data-update")))}},[d,v]),g.includes("twitch")){if(e instanceof dP)return _.jsx(v1,{message:"Twitch key not found."});if(e instanceof fP)return _.jsx(v1,{message:"Twitch key expired."})}return!!g.length&&[t].some(w=>w==="pending")?_.jsx(R5,{message:"Verifying Key..."}):_.jsx("div",{className:"absolute inset-x-0",children:t==="success"&&_.jsx(h8,{})})}var SP={exports:{}},Cm={exports:{}},Px;function I8(){return Px||(Px=1,function(t){(function(e,r){t.exports?t.exports=r():e.EvEmitter=r()})(typeof window<"u"?window:zd,function(){function e(){}let r=e.prototype;return r.on=function(n,i){if(!n||!i)return this;let s=this._events=this._events||{},o=s[n]=s[n]||[];return o.includes(i)||o.push(i),this},r.once=function(n,i){if(!n||!i)return this;this.on(n,i);let s=this._onceEvents=this._onceEvents||{},o=s[n]=s[n]||{};return o[i]=!0,this},r.off=function(n,i){let s=this._events&&this._events[n];if(!s||!s.length)return this;let o=s.indexOf(i);return o!=-1&&s.splice(o,1),this},r.emitEvent=function(n,i){let s=this._events&&this._events[n];if(!s||!s.length)return this;s=s.slice(0),i=i||[];let o=this._onceEvents&&this._onceEvents[n];for(let a of s)o&&o[a]&&(this.off(n,a),delete o[a]),a.apply(this,i);return this},r.allOff=function(){return delete this._events,delete this._onceEvents,this},e})}(Cm)),Cm.exports}/*!
 * imagesLoaded v5.0.0
 * JavaScript is all like "You images are done yet or what?"
 * MIT License
 */(function(t){(function(e,r){t.exports?t.exports=r(e,I8()):e.imagesLoaded=r(e,e.EvEmitter)})(typeof window<"u"?window:zd,function(r,n){let i=r.jQuery,s=r.console;function o(d){return Array.isArray(d)?d:typeof d=="object"&&typeof d.length=="number"?[...d]:[d]}function a(d,g,v){if(!(this instanceof a))return new a(d,g,v);let b=d;if(typeof d=="string"&&(b=document.querySelectorAll(d)),!b){s.error(`Bad element for imagesLoaded ${b||d}`);return}this.elements=o(b),this.options={},typeof g=="function"?v=g:Object.assign(this.options,g),v&&this.on("always",v),this.getImages(),i&&(this.jqDeferred=new i.Deferred),setTimeout(this.check.bind(this))}a.prototype=Object.create(n.prototype),a.prototype.getImages=function(){this.images=[],this.elements.forEach(this.addElementImages,this)};const l=[1,9,11];a.prototype.addElementImages=function(d){d.nodeName==="IMG"&&this.addImage(d),this.options.background===!0&&this.addElementBackgroundImages(d);let{nodeType:g}=d;if(!g||!l.includes(g))return;let v=d.querySelectorAll("img");for(let b of v)this.addImage(b);if(typeof this.options.background=="string"){let b=d.querySelectorAll(this.options.background);for(let w of b)this.addElementBackgroundImages(w)}};const u=/url\((['"])?(.*?)\1\)/gi;a.prototype.addElementBackgroundImages=function(d){let g=getComputedStyle(d);if(!g)return;let v=u.exec(g.backgroundImage);for(;v!==null;){let b=v&&v[2];b&&this.addBackground(b,d),v=u.exec(g.backgroundImage)}},a.prototype.addImage=function(d){let g=new c(d);this.images.push(g)},a.prototype.addBackground=function(d,g){let v=new f(d,g);this.images.push(v)},a.prototype.check=function(){if(this.progressedCount=0,this.hasAnyBroken=!1,!this.images.length){this.complete();return}let d=(g,v,b)=>{setTimeout(()=>{this.progress(g,v,b)})};this.images.forEach(function(g){g.once("progress",d),g.check()})},a.prototype.progress=function(d,g,v){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!d.isLoaded,this.emitEvent("progress",[this,d,g]),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,d),this.progressedCount===this.images.length&&this.complete(),this.options.debug&&s&&s.log(`progress: ${v}`,d,g)},a.prototype.complete=function(){let d=this.hasAnyBroken?"fail":"done";if(this.isComplete=!0,this.emitEvent(d,[this]),this.emitEvent("always",[this]),this.jqDeferred){let g=this.hasAnyBroken?"reject":"resolve";this.jqDeferred[g](this)}};function c(d){this.img=d}c.prototype=Object.create(n.prototype),c.prototype.check=function(){if(this.getIsImageComplete()){this.confirm(this.img.naturalWidth!==0,"naturalWidth");return}this.proxyImage=new Image,this.img.crossOrigin&&(this.proxyImage.crossOrigin=this.img.crossOrigin),this.proxyImage.addEventListener("load",this),this.proxyImage.addEventListener("error",this),this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.proxyImage.src=this.img.currentSrc||this.img.src},c.prototype.getIsImageComplete=function(){return this.img.complete&&this.img.naturalWidth},c.prototype.confirm=function(d,g){this.isLoaded=d;let{parentNode:v}=this.img,b=v.nodeName==="PICTURE"?v:this.img;this.emitEvent("progress",[this,b,g])},c.prototype.handleEvent=function(d){let g="on"+d.type;this[g]&&this[g](d)},c.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},c.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},c.prototype.unbindEvents=function(){this.proxyImage.removeEventListener("load",this),this.proxyImage.removeEventListener("error",this),this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)};function f(d,g){this.url=d,this.element=g,this.img=new Image}return f.prototype=Object.create(c.prototype),f.prototype.check=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.img.src=this.url,this.getIsImageComplete()&&(this.confirm(this.img.naturalWidth!==0,"naturalWidth"),this.unbindEvents())},f.prototype.unbindEvents=function(){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},f.prototype.confirm=function(d,g){this.isLoaded=d,this.emitEvent("progress",[this,this.element,g])},a.makeJQueryPlugin=function(d){d=d||r.jQuery,d&&(i=d,i.fn.imagesLoaded=function(g,v){return new a(this,g,v).jqDeferred.promise(i(this))})},a.makeJQueryPlugin(),a})})(SP);var O8=SP.exports;const R8=gn(O8);function M8(t){const e=vn(),{removeEvent:r}=bv(),n=I.useRef(null),i=I.useRef(),s=I.useRef(!1),[o,a]=I.useState();function l(){r(t.type,t.id)}return I.useEffect(()=>{if(s.current)return;async function u(){s.current=!0;const c=await e.sendEvent({...t});i.current=c||{};const{fragment:f}=i.current;a(f?$O(f):"")}u()},[]),I.useEffect(()=>{if(!n.current||!i.current||!o)return;const u=n.current.firstElementChild,{callback:c}=i.current;function f(d,g){setTimeout(()=>{if(!g||!g.animationTime)l();else{const{animationTime:v,animationClass:b,animationFunction:w}=g;b&&u.classList.add(b),w&&w(u),setTimeout(l,v)}},d)}R8(u,()=>{c&&c(u);const{eventExpiration:d,eventExpirationOptions:g}=e;d&&f(d,g)})},[o]),o===""&&l(),o?_.jsx("div",{className:"slime2-event","data-event-id":t.id,"data-event-type":t.type,"data-event-user-id":t.userId,"data-event-source":t.source,dangerouslySetInnerHTML:{__html:o},ref:n}):null}const N8=I.memo(M8);function D8(){const t=gE();function e(){return t.map(r=>{const n=`${r.type}-${r.id}`;return _.jsx(N8,{...r},n)})}return _.jsx("div",{id:"slime2-event-list",children:e()})}function j8(){return I.useContext(CP)}function tu(){const t=I.useContext(EP),{getMousePosition:e}=L8();function r(s,o){t({type:"add",window:{...s,initialMousePosition:o||e()}}),t({type:"top",id:s.id})}function n(s){t({type:"remove",id:s})}function i(s){t({type:"top",id:s})}return{openWindow:r,closeWindow:n,sendWindowToTop:i}}function L8(){const[t,e]=I.useState({x:0,y:0});I.useEffect(()=>{function n(i){e({x:i.clientX,y:i.clientY})}return addEventListener("mousemove",n),()=>{removeEventListener("mousemove",n)}},[]);function r(){return t}return{getMousePosition:r}}const B8=[],CP=I.createContext(B8),EP=I.createContext(ms);function $8(t,e){switch(e.type){case"add":return!!t.find(n=>n.id===e.window.id)?t:[...t,e.window];case"remove":return t.filter(r=>r.id!==e.id);case"top":{const r=t.findIndex(n=>n.id===e.id);return r===-1||r===t.length-1?t:[...t.filter(n=>n.id!==e.id),t[r]]}}}var Bf={exports:{}},TP={},kP={exports:{}},U8="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",F8=U8,q8=F8;function PP(){}function AP(){}AP.resetWarningCache=PP;var H8=function(){function t(n,i,s,o,a,l){if(l!==q8){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:AP,resetWarningCache:PP};return r.PropTypes=r,r};kP.exports=H8();var ow=kP.exports;const z=gn(ow);function IP(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(r=IP(t[e]))&&(n&&(n+=" "),n+=r);else for(e in t)t[e]&&(n&&(n+=" "),n+=e);return n}function Ax(){for(var t,e,r=0,n="";r<arguments.length;)(t=arguments[r++])&&(e=IP(t))&&(n&&(n+=" "),n+=e);return n}const z8=Object.freeze(Object.defineProperty({__proto__:null,clsx:Ax,default:Ax},Symbol.toStringTag,{value:"Module"})),W8=sS(z8);var $e={},en={};Object.defineProperty(en,"__esModule",{value:!0});en.dontSetMe=Y8;en.findInArray=G8;en.int=K8;en.isFunction=V8;en.isNum=Q8;function G8(t,e){for(let r=0,n=t.length;r<n;r++)if(e.apply(e,[t[r],r,t]))return t[r]}function V8(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Function]"}function Q8(t){return typeof t=="number"&&!isNaN(t)}function K8(t){return parseInt(t,10)}function Y8(t,e,r){if(t[e])return new Error("Invalid prop ".concat(e," passed to ").concat(r," - do not set this, set it on the child."))}var ys={};Object.defineProperty(ys,"__esModule",{value:!0});ys.browserPrefixToKey=RP;ys.browserPrefixToStyle=X8;ys.default=void 0;ys.getPrefix=OP;const Em=["Moz","Webkit","O","ms"];function OP(){var t;let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";const r=(t=window.document)===null||t===void 0||(t=t.documentElement)===null||t===void 0?void 0:t.style;if(!r||e in r)return"";for(let n=0;n<Em.length;n++)if(RP(e,Em[n])in r)return Em[n];return""}function RP(t,e){return e?"".concat(e).concat(J8(t)):t}function X8(t,e){return e?"-".concat(e.toLowerCase(),"-").concat(t):t}function J8(t){let e="",r=!0;for(let n=0;n<t.length;n++)r?(e+=t[n].toUpperCase(),r=!1):t[n]==="-"?r=!0:e+=t[n];return e}ys.default=OP();Object.defineProperty($e,"__esModule",{value:!0});$e.addClassName=DP;$e.addEvent=tL;$e.addUserSelectStyles=fL;$e.createCSSTransform=lL;$e.createSVGTransform=uL;$e.getTouch=cL;$e.getTouchIdentifier=dL;$e.getTranslation=aw;$e.innerHeight=sL;$e.innerWidth=oL;$e.matchesSelector=NP;$e.matchesSelectorAndParentsTo=eL;$e.offsetXYFromParent=aL;$e.outerHeight=nL;$e.outerWidth=iL;$e.removeClassName=jP;$e.removeEvent=rL;$e.removeUserSelectStyles=hL;var zt=en,Ix=Z8(ys);function MP(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,r=new WeakMap;return(MP=function(n){return n?r:e})(t)}function Z8(t,e){if(!e&&t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var r=MP(e);if(r&&r.has(t))return r.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(s!=="default"&&Object.prototype.hasOwnProperty.call(t,s)){var o=i?Object.getOwnPropertyDescriptor(t,s):null;o&&(o.get||o.set)?Object.defineProperty(n,s,o):n[s]=t[s]}return n.default=t,r&&r.set(t,n),n}let Bu="";function NP(t,e){return Bu||(Bu=(0,zt.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(r){return(0,zt.isFunction)(t[r])})),(0,zt.isFunction)(t[Bu])?t[Bu](e):!1}function eL(t,e,r){let n=t;do{if(NP(n,e))return!0;if(n===r)return!1;n=n.parentNode}while(n);return!1}function tL(t,e,r,n){if(!t)return;const i={capture:!0,...n};t.addEventListener?t.addEventListener(e,r,i):t.attachEvent?t.attachEvent("on"+e,r):t["on"+e]=r}function rL(t,e,r,n){if(!t)return;const i={capture:!0,...n};t.removeEventListener?t.removeEventListener(e,r,i):t.detachEvent?t.detachEvent("on"+e,r):t["on"+e]=null}function nL(t){let e=t.clientHeight;const r=t.ownerDocument.defaultView.getComputedStyle(t);return e+=(0,zt.int)(r.borderTopWidth),e+=(0,zt.int)(r.borderBottomWidth),e}function iL(t){let e=t.clientWidth;const r=t.ownerDocument.defaultView.getComputedStyle(t);return e+=(0,zt.int)(r.borderLeftWidth),e+=(0,zt.int)(r.borderRightWidth),e}function sL(t){let e=t.clientHeight;const r=t.ownerDocument.defaultView.getComputedStyle(t);return e-=(0,zt.int)(r.paddingTop),e-=(0,zt.int)(r.paddingBottom),e}function oL(t){let e=t.clientWidth;const r=t.ownerDocument.defaultView.getComputedStyle(t);return e-=(0,zt.int)(r.paddingLeft),e-=(0,zt.int)(r.paddingRight),e}function aL(t,e,r){const i=e===e.ownerDocument.body?{left:0,top:0}:e.getBoundingClientRect(),s=(t.clientX+e.scrollLeft-i.left)/r,o=(t.clientY+e.scrollTop-i.top)/r;return{x:s,y:o}}function lL(t,e){const r=aw(t,e,"px");return{[(0,Ix.browserPrefixToKey)("transform",Ix.default)]:r}}function uL(t,e){return aw(t,e,"")}function aw(t,e,r){let{x:n,y:i}=t,s="translate(".concat(n).concat(r,",").concat(i).concat(r,")");if(e){const o="".concat(typeof e.x=="string"?e.x:e.x+r),a="".concat(typeof e.y=="string"?e.y:e.y+r);s="translate(".concat(o,", ").concat(a,")")+s}return s}function cL(t,e){return t.targetTouches&&(0,zt.findInArray)(t.targetTouches,r=>e===r.identifier)||t.changedTouches&&(0,zt.findInArray)(t.changedTouches,r=>e===r.identifier)}function dL(t){if(t.targetTouches&&t.targetTouches[0])return t.targetTouches[0].identifier;if(t.changedTouches&&t.changedTouches[0])return t.changedTouches[0].identifier}function fL(t){if(!t)return;let e=t.getElementById("react-draggable-style-el");e||(e=t.createElement("style"),e.type="text/css",e.id="react-draggable-style-el",e.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,e.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,t.getElementsByTagName("head")[0].appendChild(e)),t.body&&DP(t.body,"react-draggable-transparent-selection")}function hL(t){if(t)try{if(t.body&&jP(t.body,"react-draggable-transparent-selection"),t.selection)t.selection.empty();else{const e=(t.defaultView||window).getSelection();e&&e.type!=="Caret"&&e.removeAllRanges()}}catch{}}function DP(t,e){t.classList?t.classList.add(e):t.className.match(new RegExp("(?:^|\\s)".concat(e,"(?!\\S)")))||(t.className+=" ".concat(e))}function jP(t,e){t.classList?t.classList.remove(e):t.className=t.className.replace(new RegExp("(?:^|\\s)".concat(e,"(?!\\S)"),"g"),"")}var tn={};Object.defineProperty(tn,"__esModule",{value:!0});tn.canDragX=gL;tn.canDragY=yL;tn.createCoreData=wL;tn.createDraggableData=_L;tn.getBoundPosition=pL;tn.getControlPosition=vL;tn.snapToGrid=mL;var jt=en,Hs=$e;function pL(t,e,r){if(!t.props.bounds)return[e,r];let{bounds:n}=t.props;n=typeof n=="string"?n:bL(n);const i=lw(t);if(typeof n=="string"){const{ownerDocument:s}=i,o=s.defaultView;let a;if(n==="parent"?a=i.parentNode:a=s.querySelector(n),!(a instanceof o.HTMLElement))throw new Error('Bounds selector "'+n+'" could not find an element.');const l=a,u=o.getComputedStyle(i),c=o.getComputedStyle(l);n={left:-i.offsetLeft+(0,jt.int)(c.paddingLeft)+(0,jt.int)(u.marginLeft),top:-i.offsetTop+(0,jt.int)(c.paddingTop)+(0,jt.int)(u.marginTop),right:(0,Hs.innerWidth)(l)-(0,Hs.outerWidth)(i)-i.offsetLeft+(0,jt.int)(c.paddingRight)-(0,jt.int)(u.marginRight),bottom:(0,Hs.innerHeight)(l)-(0,Hs.outerHeight)(i)-i.offsetTop+(0,jt.int)(c.paddingBottom)-(0,jt.int)(u.marginBottom)}}return(0,jt.isNum)(n.right)&&(e=Math.min(e,n.right)),(0,jt.isNum)(n.bottom)&&(r=Math.min(r,n.bottom)),(0,jt.isNum)(n.left)&&(e=Math.max(e,n.left)),(0,jt.isNum)(n.top)&&(r=Math.max(r,n.top)),[e,r]}function mL(t,e,r){const n=Math.round(e/t[0])*t[0],i=Math.round(r/t[1])*t[1];return[n,i]}function gL(t){return t.props.axis==="both"||t.props.axis==="x"}function yL(t){return t.props.axis==="both"||t.props.axis==="y"}function vL(t,e,r){const n=typeof e=="number"?(0,Hs.getTouch)(t,e):null;if(typeof e=="number"&&!n)return null;const i=lw(r),s=r.props.offsetParent||i.offsetParent||i.ownerDocument.body;return(0,Hs.offsetXYFromParent)(n||t,s,r.props.scale)}function wL(t,e,r){const n=!(0,jt.isNum)(t.lastX),i=lw(t);return n?{node:i,deltaX:0,deltaY:0,lastX:e,lastY:r,x:e,y:r}:{node:i,deltaX:e-t.lastX,deltaY:r-t.lastY,lastX:t.lastX,lastY:t.lastY,x:e,y:r}}function _L(t,e){const r=t.props.scale;return{node:e.node,x:t.state.x+e.deltaX/r,y:t.state.y+e.deltaY/r,deltaX:e.deltaX/r,deltaY:e.deltaY/r,lastX:t.state.x,lastY:t.state.y}}function bL(t){return{left:t.left,top:t.top,right:t.right,bottom:t.bottom}}function lw(t){const e=t.findDOMNode();if(!e)throw new Error("<DraggableCore>: Unmounted during event!");return e}var $f={},Uf={};Object.defineProperty(Uf,"__esModule",{value:!0});Uf.default=xL;function xL(){}Object.defineProperty($f,"__esModule",{value:!0});$f.default=void 0;var Tm=CL(I),Tt=uw(ow),SL=uw(hv),dt=$e,Rn=tn,km=en,na=uw(Uf);function uw(t){return t&&t.__esModule?t:{default:t}}function LP(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,r=new WeakMap;return(LP=function(n){return n?r:e})(t)}function CL(t,e){if(!e&&t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var r=LP(e);if(r&&r.has(t))return r.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(s!=="default"&&Object.prototype.hasOwnProperty.call(t,s)){var o=i?Object.getOwnPropertyDescriptor(t,s):null;o&&(o.get||o.set)?Object.defineProperty(n,s,o):n[s]=t[s]}return n.default=t,r&&r.set(t,n),n}function wt(t,e,r){return e=EL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function EL(t){var e=TL(t,"string");return typeof e=="symbol"?e:String(e)}function TL(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}const wr={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}};let Mn=wr.mouse,Ff=class extends Tm.Component{constructor(){super(...arguments),wt(this,"dragging",!1),wt(this,"lastX",NaN),wt(this,"lastY",NaN),wt(this,"touchIdentifier",null),wt(this,"mounted",!1),wt(this,"handleDragStart",e=>{if(this.props.onMouseDown(e),!this.props.allowAnyClick&&typeof e.button=="number"&&e.button!==0)return!1;const r=this.findDOMNode();if(!r||!r.ownerDocument||!r.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");const{ownerDocument:n}=r;if(this.props.disabled||!(e.target instanceof n.defaultView.Node)||this.props.handle&&!(0,dt.matchesSelectorAndParentsTo)(e.target,this.props.handle,r)||this.props.cancel&&(0,dt.matchesSelectorAndParentsTo)(e.target,this.props.cancel,r))return;e.type==="touchstart"&&e.preventDefault();const i=(0,dt.getTouchIdentifier)(e);this.touchIdentifier=i;const s=(0,Rn.getControlPosition)(e,i,this);if(s==null)return;const{x:o,y:a}=s,l=(0,Rn.createCoreData)(this,o,a);(0,na.default)("DraggableCore: handleDragStart: %j",l),(0,na.default)("calling",this.props.onStart),!(this.props.onStart(e,l)===!1||this.mounted===!1)&&(this.props.enableUserSelectHack&&(0,dt.addUserSelectStyles)(n),this.dragging=!0,this.lastX=o,this.lastY=a,(0,dt.addEvent)(n,Mn.move,this.handleDrag),(0,dt.addEvent)(n,Mn.stop,this.handleDragStop))}),wt(this,"handleDrag",e=>{const r=(0,Rn.getControlPosition)(e,this.touchIdentifier,this);if(r==null)return;let{x:n,y:i}=r;if(Array.isArray(this.props.grid)){let a=n-this.lastX,l=i-this.lastY;if([a,l]=(0,Rn.snapToGrid)(this.props.grid,a,l),!a&&!l)return;n=this.lastX+a,i=this.lastY+l}const s=(0,Rn.createCoreData)(this,n,i);if((0,na.default)("DraggableCore: handleDrag: %j",s),this.props.onDrag(e,s)===!1||this.mounted===!1){try{this.handleDragStop(new MouseEvent("mouseup"))}catch{const l=document.createEvent("MouseEvents");l.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(l)}return}this.lastX=n,this.lastY=i}),wt(this,"handleDragStop",e=>{if(!this.dragging)return;const r=(0,Rn.getControlPosition)(e,this.touchIdentifier,this);if(r==null)return;let{x:n,y:i}=r;if(Array.isArray(this.props.grid)){let l=n-this.lastX||0,u=i-this.lastY||0;[l,u]=(0,Rn.snapToGrid)(this.props.grid,l,u),n=this.lastX+l,i=this.lastY+u}const s=(0,Rn.createCoreData)(this,n,i);if(this.props.onStop(e,s)===!1||this.mounted===!1)return!1;const a=this.findDOMNode();a&&this.props.enableUserSelectHack&&(0,dt.removeUserSelectStyles)(a.ownerDocument),(0,na.default)("DraggableCore: handleDragStop: %j",s),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,a&&((0,na.default)("DraggableCore: Removing handlers"),(0,dt.removeEvent)(a.ownerDocument,Mn.move,this.handleDrag),(0,dt.removeEvent)(a.ownerDocument,Mn.stop,this.handleDragStop))}),wt(this,"onMouseDown",e=>(Mn=wr.mouse,this.handleDragStart(e))),wt(this,"onMouseUp",e=>(Mn=wr.mouse,this.handleDragStop(e))),wt(this,"onTouchStart",e=>(Mn=wr.touch,this.handleDragStart(e))),wt(this,"onTouchEnd",e=>(Mn=wr.touch,this.handleDragStop(e)))}componentDidMount(){this.mounted=!0;const e=this.findDOMNode();e&&(0,dt.addEvent)(e,wr.touch.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;const e=this.findDOMNode();if(e){const{ownerDocument:r}=e;(0,dt.removeEvent)(r,wr.mouse.move,this.handleDrag),(0,dt.removeEvent)(r,wr.touch.move,this.handleDrag),(0,dt.removeEvent)(r,wr.mouse.stop,this.handleDragStop),(0,dt.removeEvent)(r,wr.touch.stop,this.handleDragStop),(0,dt.removeEvent)(e,wr.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,dt.removeUserSelectStyles)(r)}}findDOMNode(){var e,r;return(e=this.props)!==null&&e!==void 0&&e.nodeRef?(r=this.props)===null||r===void 0||(r=r.nodeRef)===null||r===void 0?void 0:r.current:SL.default.findDOMNode(this)}render(){return Tm.cloneElement(Tm.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}};$f.default=Ff;wt(Ff,"displayName","DraggableCore");wt(Ff,"propTypes",{allowAnyClick:Tt.default.bool,children:Tt.default.node.isRequired,disabled:Tt.default.bool,enableUserSelectHack:Tt.default.bool,offsetParent:function(t,e){if(t[e]&&t[e].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:Tt.default.arrayOf(Tt.default.number),handle:Tt.default.string,cancel:Tt.default.string,nodeRef:Tt.default.object,onStart:Tt.default.func,onDrag:Tt.default.func,onStop:Tt.default.func,onMouseDown:Tt.default.func,scale:Tt.default.number,className:km.dontSetMe,style:km.dontSetMe,transform:km.dontSetMe});wt(Ff,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1});(function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"DraggableCore",{enumerable:!0,get:function(){return l.default}}),t.default=void 0;var e=d(I),r=c(ow),n=c(hv),i=c(W8),s=$e,o=tn,a=en,l=c($f),u=c(Uf);function c(p){return p&&p.__esModule?p:{default:p}}function f(p){if(typeof WeakMap!="function")return null;var y=new WeakMap,x=new WeakMap;return(f=function(S){return S?x:y})(p)}function d(p,y){if(!y&&p&&p.__esModule)return p;if(p===null||typeof p!="object"&&typeof p!="function")return{default:p};var x=f(y);if(x&&x.has(p))return x.get(p);var S={},k=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var R in p)if(R!=="default"&&Object.prototype.hasOwnProperty.call(p,R)){var O=k?Object.getOwnPropertyDescriptor(p,R):null;O&&(O.get||O.set)?Object.defineProperty(S,R,O):S[R]=p[R]}return S.default=p,x&&x.set(p,S),S}function g(){return g=Object.assign?Object.assign.bind():function(p){for(var y=1;y<arguments.length;y++){var x=arguments[y];for(var S in x)Object.prototype.hasOwnProperty.call(x,S)&&(p[S]=x[S])}return p},g.apply(this,arguments)}function v(p,y,x){return y=b(y),y in p?Object.defineProperty(p,y,{value:x,enumerable:!0,configurable:!0,writable:!0}):p[y]=x,p}function b(p){var y=w(p,"string");return typeof y=="symbol"?y:String(y)}function w(p,y){if(typeof p!="object"||p===null)return p;var x=p[Symbol.toPrimitive];if(x!==void 0){var S=x.call(p,y||"default");if(typeof S!="object")return S;throw new TypeError("@@toPrimitive must return a primitive value.")}return(y==="string"?String:Number)(p)}class m extends e.Component{static getDerivedStateFromProps(y,x){let{position:S}=y,{prevPropsPosition:k}=x;return S&&(!k||S.x!==k.x||S.y!==k.y)?((0,u.default)("Draggable: getDerivedStateFromProps %j",{position:S,prevPropsPosition:k}),{x:S.x,y:S.y,prevPropsPosition:{...S}}):null}constructor(y){super(y),v(this,"onDragStart",(x,S)=>{if((0,u.default)("Draggable: onDragStart: %j",S),this.props.onStart(x,(0,o.createDraggableData)(this,S))===!1)return!1;this.setState({dragging:!0,dragged:!0})}),v(this,"onDrag",(x,S)=>{if(!this.state.dragging)return!1;(0,u.default)("Draggable: onDrag: %j",S);const k=(0,o.createDraggableData)(this,S),R={x:k.x,y:k.y,slackX:0,slackY:0};if(this.props.bounds){const{x:U,y:G}=R;R.x+=this.state.slackX,R.y+=this.state.slackY;const[ee,ne]=(0,o.getBoundPosition)(this,R.x,R.y);R.x=ee,R.y=ne,R.slackX=this.state.slackX+(U-R.x),R.slackY=this.state.slackY+(G-R.y),k.x=R.x,k.y=R.y,k.deltaX=R.x-this.state.x,k.deltaY=R.y-this.state.y}if(this.props.onDrag(x,k)===!1)return!1;this.setState(R)}),v(this,"onDragStop",(x,S)=>{if(!this.state.dragging||this.props.onStop(x,(0,o.createDraggableData)(this,S))===!1)return!1;(0,u.default)("Draggable: onDragStop: %j",S);const R={dragging:!1,slackX:0,slackY:0};if(!!this.props.position){const{x:U,y:G}=this.props.position;R.x=U,R.y=G}this.setState(R)}),this.state={dragging:!1,dragged:!1,x:y.position?y.position.x:y.defaultPosition.x,y:y.position?y.position.y:y.defaultPosition.y,prevPropsPosition:{...y.position},slackX:0,slackY:0,isElementSVG:!1},y.position&&!(y.onDrag||y.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.setState({dragging:!1})}findDOMNode(){var y,x;return(y=(x=this.props)===null||x===void 0||(x=x.nodeRef)===null||x===void 0?void 0:x.current)!==null&&y!==void 0?y:n.default.findDOMNode(this)}render(){const{axis:y,bounds:x,children:S,defaultPosition:k,defaultClassName:R,defaultClassNameDragging:O,defaultClassNameDragged:U,position:G,positionOffset:ee,scale:ne,...Z}=this.props;let P={},N=null;const ie=!!!G||this.state.dragging,L=G||k,B={x:(0,o.canDragX)(this)&&ie?this.state.x:L.x,y:(0,o.canDragY)(this)&&ie?this.state.y:L.y};this.state.isElementSVG?N=(0,s.createSVGTransform)(B,ee):P=(0,s.createCSSTransform)(B,ee);const K=(0,i.default)(S.props.className||"",R,{[O]:this.state.dragging,[U]:this.state.dragged});return e.createElement(l.default,g({},Z,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),e.cloneElement(e.Children.only(S),{className:K,style:{...S.props.style,...P},transform:N}))}}t.default=m,v(m,"displayName","Draggable"),v(m,"propTypes",{...l.default.propTypes,axis:r.default.oneOf(["both","x","y","none"]),bounds:r.default.oneOfType([r.default.shape({left:r.default.number,right:r.default.number,top:r.default.number,bottom:r.default.number}),r.default.string,r.default.oneOf([!1])]),defaultClassName:r.default.string,defaultClassNameDragging:r.default.string,defaultClassNameDragged:r.default.string,defaultPosition:r.default.shape({x:r.default.number,y:r.default.number}),positionOffset:r.default.shape({x:r.default.oneOfType([r.default.number,r.default.string]),y:r.default.oneOfType([r.default.number,r.default.string])}),position:r.default.shape({x:r.default.number,y:r.default.number}),className:a.dontSetMe,style:a.dontSetMe,transform:a.dontSetMe}),v(m,"defaultProps",{...l.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})})(TP);const{default:BP,DraggableCore:kL}=TP;Bf.exports=BP;Bf.exports.default=BP;Bf.exports.DraggableCore=kL;var PL=Bf.exports;const AL=gn(PL);function $y(){return $y=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},$y.apply(this,arguments)}function IL(t,e){if(t==null)return{};var r=OL(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function OL(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,s;for(s=0;s<n.length;s++)i=n[s],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}var cw=I.forwardRef(function(t,e){var r=t.color,n=r===void 0?"currentColor":r,i=t.size,s=i===void 0?24:i,o=IL(t,["color","size"]);return H.createElement("svg",$y({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),H.createElement("path",{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"}),H.createElement("line",{x1:"12",y1:"9",x2:"12",y2:"13"}),H.createElement("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"}))});cw.propTypes={color:z.string,size:z.oneOfType([z.string,z.number])};cw.displayName="AlertTriangle";const RL=cw;function Uy(){return Uy=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Uy.apply(this,arguments)}function ML(t,e){if(t==null)return{};var r=NL(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function NL(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,s;for(s=0;s<n.length;s++)i=n[s],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}var dw=I.forwardRef(function(t,e){var r=t.color,n=r===void 0?"currentColor":r,i=t.size,s=i===void 0?24:i,o=ML(t,["color","size"]);return H.createElement("svg",Uy({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),H.createElement("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),H.createElement("polyline",{points:"19 12 12 19 5 12"}))});dw.propTypes={color:z.string,size:z.oneOfType([z.string,z.number])};dw.displayName="ArrowDown";const DL=dw;function Fy(){return Fy=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Fy.apply(this,arguments)}function jL(t,e){if(t==null)return{};var r=LL(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function LL(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,s;for(s=0;s<n.length;s++)i=n[s],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}var fw=I.forwardRef(function(t,e){var r=t.color,n=r===void 0?"currentColor":r,i=t.size,s=i===void 0?24:i,o=jL(t,["color","size"]);return H.createElement("svg",Fy({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),H.createElement("line",{x1:"12",y1:"19",x2:"12",y2:"5"}),H.createElement("polyline",{points:"5 12 12 5 19 12"}))});fw.propTypes={color:z.string,size:z.oneOfType([z.string,z.number])};fw.displayName="ArrowUp";const BL=fw;function qy(){return qy=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},qy.apply(this,arguments)}function $L(t,e){if(t==null)return{};var r=UL(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function UL(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,s;for(s=0;s<n.length;s++)i=n[s],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}var hw=I.forwardRef(function(t,e){var r=t.color,n=r===void 0?"currentColor":r,i=t.size,s=i===void 0?24:i,o=$L(t,["color","size"]);return H.createElement("svg",qy({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),H.createElement("polyline",{points:"20 6 9 17 4 12"}))});hw.propTypes={color:z.string,size:z.oneOfType([z.string,z.number])};hw.displayName="Check";const FL=hw;function Hy(){return Hy=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Hy.apply(this,arguments)}function qL(t,e){if(t==null)return{};var r=HL(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function HL(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,s;for(s=0;s<n.length;s++)i=n[s],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}var pw=I.forwardRef(function(t,e){var r=t.color,n=r===void 0?"currentColor":r,i=t.size,s=i===void 0?24:i,o=qL(t,["color","size"]);return H.createElement("svg",Hy({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),H.createElement("polyline",{points:"9 18 15 12 9 6"}))});pw.propTypes={color:z.string,size:z.oneOfType([z.string,z.number])};pw.displayName="ChevronRight";const $P=pw;function zy(){return zy=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},zy.apply(this,arguments)}function zL(t,e){if(t==null)return{};var r=WL(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function WL(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,s;for(s=0;s<n.length;s++)i=n[s],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}var mw=I.forwardRef(function(t,e){var r=t.color,n=r===void 0?"currentColor":r,i=t.size,s=i===void 0?24:i,o=zL(t,["color","size"]);return H.createElement("svg",zy({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),H.createElement("polyline",{points:"13 17 18 12 13 7"}),H.createElement("polyline",{points:"6 17 11 12 6 7"}))});mw.propTypes={color:z.string,size:z.oneOfType([z.string,z.number])};mw.displayName="ChevronsRight";const GL=mw;function Wy(){return Wy=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Wy.apply(this,arguments)}function VL(t,e){if(t==null)return{};var r=QL(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function QL(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,s;for(s=0;s<n.length;s++)i=n[s],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}var gw=I.forwardRef(function(t,e){var r=t.color,n=r===void 0?"currentColor":r,i=t.size,s=i===void 0?24:i,o=VL(t,["color","size"]);return H.createElement("svg",Wy({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),H.createElement("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),H.createElement("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"}))});gw.propTypes={color:z.string,size:z.oneOfType([z.string,z.number])};gw.displayName="Copy";const KL=gw;function Gy(){return Gy=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Gy.apply(this,arguments)}function YL(t,e){if(t==null)return{};var r=XL(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function XL(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,s;for(s=0;s<n.length;s++)i=n[s],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}var yw=I.forwardRef(function(t,e){var r=t.color,n=r===void 0?"currentColor":r,i=t.size,s=i===void 0?24:i,o=YL(t,["color","size"]);return H.createElement("svg",Gy({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),H.createElement("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),H.createElement("polyline",{points:"7 10 12 15 17 10"}),H.createElement("line",{x1:"12",y1:"15",x2:"12",y2:"3"}))});yw.propTypes={color:z.string,size:z.oneOfType([z.string,z.number])};yw.displayName="Download";const JL=yw;function Vy(){return Vy=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Vy.apply(this,arguments)}function ZL(t,e){if(t==null)return{};var r=eB(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function eB(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,s;for(s=0;s<n.length;s++)i=n[s],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}var vw=I.forwardRef(function(t,e){var r=t.color,n=r===void 0?"currentColor":r,i=t.size,s=i===void 0?24:i,o=ZL(t,["color","size"]);return H.createElement("svg",Vy({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),H.createElement("path",{d:"M12 2.69l5.66 5.66a8 8 0 1 1-11.31 0z"}))});vw.propTypes={color:z.string,size:z.oneOfType([z.string,z.number])};vw.displayName="Droplet";const tB=vw;function Qy(){return Qy=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Qy.apply(this,arguments)}function rB(t,e){if(t==null)return{};var r=nB(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function nB(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,s;for(s=0;s<n.length;s++)i=n[s],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}var ww=I.forwardRef(function(t,e){var r=t.color,n=r===void 0?"currentColor":r,i=t.size,s=i===void 0?24:i,o=rB(t,["color","size"]);return H.createElement("svg",Qy({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),H.createElement("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),H.createElement("polyline",{points:"14 2 14 8 20 8"}),H.createElement("line",{x1:"9",y1:"15",x2:"15",y2:"15"}))});ww.propTypes={color:z.string,size:z.oneOfType([z.string,z.number])};ww.displayName="FileMinus";const iB=ww;function Ky(){return Ky=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ky.apply(this,arguments)}function sB(t,e){if(t==null)return{};var r=oB(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function oB(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,s;for(s=0;s<n.length;s++)i=n[s],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}var _w=I.forwardRef(function(t,e){var r=t.color,n=r===void 0?"currentColor":r,i=t.size,s=i===void 0?24:i,o=sB(t,["color","size"]);return H.createElement("svg",Ky({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),H.createElement("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),H.createElement("polyline",{points:"14 2 14 8 20 8"}),H.createElement("line",{x1:"12",y1:"18",x2:"12",y2:"12"}),H.createElement("line",{x1:"9",y1:"15",x2:"15",y2:"15"}))});_w.propTypes={color:z.string,size:z.oneOfType([z.string,z.number])};_w.displayName="FilePlus";const aB=_w;function Yy(){return Yy=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Yy.apply(this,arguments)}function lB(t,e){if(t==null)return{};var r=uB(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function uB(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,s;for(s=0;s<n.length;s++)i=n[s],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}var bw=I.forwardRef(function(t,e){var r=t.color,n=r===void 0?"currentColor":r,i=t.size,s=i===void 0?24:i,o=lB(t,["color","size"]);return H.createElement("svg",Yy({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),H.createElement("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),H.createElement("polyline",{points:"14 2 14 8 20 8"}),H.createElement("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),H.createElement("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),H.createElement("polyline",{points:"10 9 9 9 8 9"}))});bw.propTypes={color:z.string,size:z.oneOfType([z.string,z.number])};bw.displayName="FileText";const cB=bw;function Xy(){return Xy=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Xy.apply(this,arguments)}function dB(t,e){if(t==null)return{};var r=fB(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function fB(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,s;for(s=0;s<n.length;s++)i=n[s],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}var xw=I.forwardRef(function(t,e){var r=t.color,n=r===void 0?"currentColor":r,i=t.size,s=i===void 0?24:i,o=dB(t,["color","size"]);return H.createElement("svg",Xy({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),H.createElement("rect",{x:"3",y:"3",width:"7",height:"7"}),H.createElement("rect",{x:"14",y:"3",width:"7",height:"7"}),H.createElement("rect",{x:"14",y:"14",width:"7",height:"7"}),H.createElement("rect",{x:"3",y:"14",width:"7",height:"7"}))});xw.propTypes={color:z.string,size:z.oneOfType([z.string,z.number])};xw.displayName="Grid";const Sw=xw;function Jy(){return Jy=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Jy.apply(this,arguments)}function hB(t,e){if(t==null)return{};var r=pB(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function pB(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,s;for(s=0;s<n.length;s++)i=n[s],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}var Cw=I.forwardRef(function(t,e){var r=t.color,n=r===void 0?"currentColor":r,i=t.size,s=i===void 0?24:i,o=hB(t,["color","size"]);return H.createElement("svg",Jy({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),H.createElement("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),H.createElement("circle",{cx:"8.5",cy:"8.5",r:"1.5"}),H.createElement("polyline",{points:"21 15 16 10 5 21"}))});Cw.propTypes={color:z.string,size:z.oneOfType([z.string,z.number])};Cw.displayName="Image";const mB=Cw;function Zy(){return Zy=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Zy.apply(this,arguments)}function gB(t,e){if(t==null)return{};var r=yB(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function yB(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,s;for(s=0;s<n.length;s++)i=n[s],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}var Ew=I.forwardRef(function(t,e){var r=t.color,n=r===void 0?"currentColor":r,i=t.size,s=i===void 0?24:i,o=gB(t,["color","size"]);return H.createElement("svg",Zy({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),H.createElement("path",{d:"M9 18V5l12-2v13"}),H.createElement("circle",{cx:"6",cy:"18",r:"3"}),H.createElement("circle",{cx:"18",cy:"16",r:"3"}))});Ew.propTypes={color:z.string,size:z.oneOfType([z.string,z.number])};Ew.displayName="Music";const vB=Ew;function e0(){return e0=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},e0.apply(this,arguments)}function wB(t,e){if(t==null)return{};var r=_B(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function _B(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,s;for(s=0;s<n.length;s++)i=n[s],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}var Tw=I.forwardRef(function(t,e){var r=t.color,n=r===void 0?"currentColor":r,i=t.size,s=i===void 0?24:i,o=wB(t,["color","size"]);return H.createElement("svg",e0({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),H.createElement("polygon",{points:"5 3 19 12 5 21 5 3"}))});Tw.propTypes={color:z.string,size:z.oneOfType([z.string,z.number])};Tw.displayName="Play";const UP=Tw;function t0(){return t0=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},t0.apply(this,arguments)}function bB(t,e){if(t==null)return{};var r=xB(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function xB(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,s;for(s=0;s<n.length;s++)i=n[s],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}var kw=I.forwardRef(function(t,e){var r=t.color,n=r===void 0?"currentColor":r,i=t.size,s=i===void 0?24:i,o=bB(t,["color","size"]);return H.createElement("svg",t0({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),H.createElement("circle",{cx:"12",cy:"12",r:"3"}),H.createElement("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"}))});kw.propTypes={color:z.string,size:z.oneOfType([z.string,z.number])};kw.displayName="Settings";const SB=kw;function r0(){return r0=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},r0.apply(this,arguments)}function CB(t,e){if(t==null)return{};var r=EB(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function EB(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,s;for(s=0;s<n.length;s++)i=n[s],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}var Pw=I.forwardRef(function(t,e){var r=t.color,n=r===void 0?"currentColor":r,i=t.size,s=i===void 0?24:i,o=CB(t,["color","size"]);return H.createElement("svg",r0({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),H.createElement("path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"}))});Pw.propTypes={color:z.string,size:z.oneOfType([z.string,z.number])};Pw.displayName="Tool";const TB=Pw;function n0(){return n0=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},n0.apply(this,arguments)}function kB(t,e){if(t==null)return{};var r=PB(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function PB(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,s;for(s=0;s<n.length;s++)i=n[s],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}var Aw=I.forwardRef(function(t,e){var r=t.color,n=r===void 0?"currentColor":r,i=t.size,s=i===void 0?24:i,o=kB(t,["color","size"]);return H.createElement("svg",n0({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),H.createElement("polygon",{points:"23 7 16 12 23 17 23 7"}),H.createElement("rect",{x:"1",y:"5",width:"15",height:"14",rx:"2",ry:"2"}))});Aw.propTypes={color:z.string,size:z.oneOfType([z.string,z.number])};Aw.displayName="Video";const AB=Aw;function i0(){return i0=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},i0.apply(this,arguments)}function IB(t,e){if(t==null)return{};var r=OB(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function OB(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,s;for(s=0;s<n.length;s++)i=n[s],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}var Iw=I.forwardRef(function(t,e){var r=t.color,n=r===void 0?"currentColor":r,i=t.size,s=i===void 0?24:i,o=IB(t,["color","size"]);return H.createElement("svg",i0({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),H.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),H.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))});Iw.propTypes={color:z.string,size:z.oneOfType([z.string,z.number])};Iw.displayName="X";const qo=Iw;function RB({id:t,title:e,children:r,header:n,footer:i,className:s,initialMousePosition:o,icon:a}){const{closeWindow:l,sendWindowToTop:u}=tu(),c=I.useRef(null),f=I.useRef(null),d=o?{x:Math.floor(Math.min(o.x+20,window.innerWidth*.5)),y:Math.floor(Math.min(o.y-100,window.innerHeight*.2))}:{x:40,y:40};function g(){l(t)}function v(){var w;const b=(w=f.current)==null?void 0:w.scrollTop;u(t),setTimeout(()=>{var m;b&&((m=f.current)==null||m.scrollTo(0,b))},0)}return _.jsx(AL,{handle:".draggable-handle",cancel:".draggable-cancel",defaultPosition:d,nodeRef:c,onStart:v,bounds:"parent",children:_.jsxs("div",{id:t,ref:c,onClick:v,className:le("slime2-window-shadow pointer-events-auto !fixed z-[999] flex max-h-[80%] min-h-[100px] min-w-[350px] max-w-[90%] flex-col overflow-hidden rounded-md border-2 border-emerald-800 bg-lime-100 font-fredoka text-sm opacity-90 last:opacity-100 only:opacity-100 hover:opacity-100",s),children:[_.jsx(MB,{icon:a,close:o?g:void 0,children:e}),n,_.jsx(NB,{ref:f,children:r}),i]})})}function MB({icon:t,children:e,close:r}){return _.jsxs("div",{className:"title-shadow-i pointer-events-none flex divide-x divide-emerald-800 rounded-t-sm",children:[_.jsx("div",{className:"draggable-handle pointer-events-auto flex-1 cursor-move items-center gap-2 rounded-tl-sm bg-gradient-to-b from-lime-600 to-emerald-700 py-1 pl-[8px] pr-1 text-lime-100",children:_.jsxs("p",{className:"-mt-0.5 font-medium text-shadow text-shadow-c-black/75 text-shadow-y-px",children:[t&&_.jsx(t,{className:"-mt-0.5 mr-1 inline drop-shadow drop-shadow-c-black/75 drop-shadow-y-px",size:24}),e]})}),r&&_.jsx("button",{className:"draggable-cancel pointer-events-auto flex items-center justify-center border-l border-l-emerald-800 bg-gradient-to-b from-lime-600 to-emerald-700 px-[8px] py-px text-white hover:from-rose-600 hover:to-red-900 focus:from-rose-600 focus:to-red-900 focus:outline-none",onClick:n=>{r(),n.stopPropagation()},children:_.jsx(qo,{size:24,strokeWidth:3,className:"drop-shadow drop-shadow-c-black/75 drop-shadow-y-px"})})]})}const NB=I.forwardRef(function(e,r){return _.jsx("div",{...e,className:le("draggable-cancel m-1 flex-1 overflow-auto font-radiocanada scrollbar-thin scrollbar-track-emerald-800/25 scrollbar-thumb-emerald-800 scrollbar-track-rounded-full scrollbar-thumb-rounded-full hover:scrollbar-thumb-emerald-700 active:scrollbar-thumb-emerald-600",e.className),ref:r})});function DB(){const[t,e]=I.useState(),r=j8();return I.useEffect(()=>{let n;function i(){clearTimeout(n),e(!1)}function s(){clearTimeout(n),n=setTimeout(()=>{e(!0)},1e3)}return document.addEventListener("mousemove",i),document.addEventListener("mouseleave",s),()=>{clearTimeout(n),document.removeEventListener("mousemove",i),document.removeEventListener("mouseleave",s)}},[]),t===void 0?null:_.jsx("div",{id:"slime2-windows",className:le(t?"slime2-window-exit":"slime2-window-enter","pointer-events-none absolute left-0 top-0 h-screen w-screen p-2"),children:r.map(n=>I.createElement(RB,{...n,key:n.id}))})}function jB({children:t}){const[e,r]=I.useReducer(GO,L5);return _.jsx(B5.Provider,{value:e,children:_.jsx($5.Provider,{value:r,children:t})})}function LB({children:t}){const[e,r]=I.useReducer(T4,yE);return _.jsx(vE.Provider,{value:e,children:_.jsx(wE.Provider,{value:r,children:t})})}function BB({children:t}){const[e,r]=I.useReducer(E4,hE);return _.jsx(pE.Provider,{value:e,children:_.jsx(mE.Provider,{value:r,children:t})})}function $B({children:t}){const[e,r]=I.useState(!1);return _.jsx(M5.Provider,{value:{unsavedChanges:e,setUnsavedChanges:r},children:t})}function UB({children:t}){const[e,r]=I.useReducer(qO,N5);return _.jsx(D5.Provider,{value:e,children:_.jsx(j5.Provider,{value:r,children:t})})}function FB(){const{addEvent:t}=bv(),{data:e}=Lf(),{data:r}=bP(),{data:n}=jf(),{data:i}=nw(),{data:s}=iw(),{isPlatformReady:o}=mf(),a=_P();async function l(){if(!o("twitch"))return;const u=Array.from(s.values()),c=[...r,...Array.from(e.values())],f=new Date,d=qe.chance(5),g="test message",v=`long test message${" long test message".repeat(5)}`,b="LongTestMessage".repeat(7);let w=g;qe.chance(5)&&(w=v),qe.chance(5)&&(w=b),w=`${w}${qe.item(VB)}`;let m=w;d&&(w=`${w} (first time chat)`);const p=[],y={id:`test-user-${f.getTime()}`,userName:"testuser",displayName:"testUser",pronouns:qe.boolean()?null:qe.item(u),badges:[],color:await a("testuser"),roles:{broadcaster:!1,moderator:!1,artist:!1,vip:!1,founder:!1,subscriber:!1},followDate:new Date(0)},x=qe.boolean()?"user":qe.item(qB),S=i.get(x==="artist"?"artist-badge":x);x!=="user"&&S&&(y.badges=[S],y.roles[x]=!0,(x==="founder"||x==="broadcaster")&&(y.roles.subscriber=!0),y.userName=`test${x}`,y.displayName=`test${x.charAt(0).toUpperCase()}${x.slice(1)}`,y.color=await a(y.userName));let k={type:"basic"};if(qe.boolean()){const O=qe.item(HB);switch(O){case"action":w=`${w} (/me action message)`,m=w,k={type:O};break;case"highlight":w=`${w} (highlighted message)`,m=w,k={type:O};break;case"cheer":{const U=qe.item(GB),G="Cheer";k={type:O,cheer:{amount:U}};const ee=`${G}${U}`;m=`${w} (cheer message)`,w=`${ee} ${m}`,p.unshift({type:"text",text:" "}),p.unshift({type:"cheer",text:ee,cheer:n.get(G,U)})}break;case"reply":k={type:O,reply:{id:`test-reply-${f.getTime()}`,text:"test message being replied to",user:{id:`test-user-reply-${f.getTime()}`,userName:"testreplyuser",displayName:"testReplyUser"}}},w=`${w} (reply message)`,m=w;break;case"redeem":k={type:O,redeem:{id:`test-redeem-${f.getTime()}`,name:"Test Redeem",image:"https://static-cdn.jtvnw.net/custom-reward-images/default-4.png",color:"#FFC6FF",cost:qe.integer(1,1e4)}},w=`${w} (channel point redemption requiring text)`,m=w;break;case"resub":k={type:O,resub:{months:qe.integer(1,24),tier:qe.item(zB)}},w=`${w} (resub message)`,m=w;break;case"announcement":(x==="broadcaster"||x==="moderator")&&(k={type:O,announcement:{color:qe.item(WB)}},w=`${w} (announcement message)`,m=w);break}}if(qe.boolean()&&c.length){const O=qe.item(c);p.unshift({type:"text",text:" "}),p.unshift({type:"emote",emote:O,text:O.name}),w=`${O.name} ${w}`}k.type==="basic"&&qe.chance(20)&&(w="hi",m=w),p.push({type:"text",text:m});const R={...k,id:`test-message-${f.getTime()}`,first:d,date:f,user:y,text:w,parts:p,tags:new Map([["test","1"]])};t({type:"message",id:R.id,userId:R.user.id,message:R,source:"twitch",emulated:!0})}return l}const qB=["broadcaster","moderator","artist","vip","founder","subscriber"],HB=["action","highlight","cheer","reply","redeem","resub","announcement"],zB=["1000","2000","3000","Prime"],WB=["PRIMARY","BLUE","GREEN","ORANGE","PURPLE"],GB=[1,5,10,50,100,500,1e3,5e3,1e4],VB=["",".","...","!","?","!!","!?","?!"];function _n(t){return _.jsx("button",{...t,type:"button",className:le("btn-shadow-i flex items-center gap-2 rounded-md border-2 border-emerald-800 bg-gradient-to-b from-lime-600 to-emerald-700 px-3 py-1 text-center hover:from-lime-400 hover:to-emerald-600 focus:from-lime-400 focus:to-emerald-600 focus:outline-none active:from-lime-400/90 active:to-emerald-600/90",t.className)})}function bn(t){return _.jsx("span",{...t,className:le("font-display font-semibold text-lime-100 drop-shadow drop-shadow-c-black/75 drop-shadow-y-px",t.className)})}function Xr(t){return _.jsx("span",{...t,className:le("-mb-px font-grandstander text-base font-semibold text-lime-100 text-shadow text-shadow-c-black/75 text-shadow-y-px",t.className)})}function QB(){const t=FB(),{isPlatformReady:e}=mf(),r=e("twitch");return r?_.jsxs(_n,{onClick:t,className:"justify-center",disabled:!r,children:[_.jsx(bn,{children:_.jsx(UP,{strokeWidth:3,size:24,className:"-mt-0.5"})}),_.jsx(Xr,{children:"Send Test Message"})]}):_.jsx("div",{className:"flex items-center justify-center",children:_.jsx("p",{children:"Loading Twitch Tools..."})})}function FP(){const{setUnsavedChanges:t}=cf(),e=gv(),{widgetDataFileName:r}=vn(),{closeWindow:n}=tu(),[i,s]=I.useState(!1);function o(){s(!0),setTimeout(()=>{t(!1)},2e3),n("slime2window.unsavedChanges");const a=`slime2.widget.setData(${JSON.stringify(e,null,2)})`,l=new Blob([a],{type:"text/javascript"}),u=document.createElement("a");u.href=URL.createObjectURL(l),u.download=r,u.style.display="none",document.body.appendChild(u),u.click(),document.body.removeChild(u)}return _.jsx(_n,{onClick:o,className:"w-full justify-center outline outline-2 outline-lime-100 focus:outline focus:outline-2 focus:outline-offset-0 focus:outline-lime-100",disabled:i,children:i?_.jsx(Xr,{children:"Saved!"}):_.jsxs(_.Fragment,{children:[_.jsx(Xr,{children:"Save Widget Data"}),_.jsx(bn,{children:_.jsx(JL,{strokeWidth:3,size:28})})]})})}function qP(){return I.useContext(HP)}const HP=I.createContext([]);function it(){var c;const t=I.useContext(zP),e=qP(),r=gv(),{update:n}=df(),s=`${e.reduce((f,{id:d,index:g})=>`${f}.${d}${g===void 0?"":`[${g}]`}`,"slime2widget")}.${t==null?void 0:t.id}`,o=t&&"description"in t&&t.description?`${s}.description`:void 0;let a=null;t&&(a=(c=Oi(r,e))==null?void 0:c[t.id]);const l=a===null||typeof a=="boolean"||typeof a=="string"||typeof a=="number"||Array.isArray(a)?a:null;function u(f){t&&n(e,t.id,f)}return{setting:t,idString:s,descriptionIdString:o,value:l,setValue:u,groupId:e}}const zP=I.createContext(null);function qf({value:t,children:e}){return _.jsx(zP.Provider,{value:t,children:e})}function Ow(t){return _.jsx("div",{...t,className:le("slime2-group-shadow overflow-hidden rounded border-2 border-emerald-800 bg-green-700 focus-within:border-emerald-600 focus-within:bg-emerald-600 focus-within:ring-2 focus-within:ring-emerald-600",t.className)})}const KB="aaa1rp3barth4b0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0faromeo7ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4vianca6w0s2x0a2z0ure5ba0by2idu3namex3narepublic11d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2ntley5rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re2s2c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y0eats7k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0cast4mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking0channel11l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dabur3d1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t0isalat7u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0at2delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d0network8tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntdoor4ier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0ardian6cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5gtv3iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0eles2s3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6logistics9properties14fh2g1h1i0a1ds2m1nder2le4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3ncaster5ia3d0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4de2k2psy3ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0cys3drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7serati6ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic3tual5v1w1x1y1z2na0b1goya4me2tura4vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rthwesternmutual14on4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9dnavy5lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3ssagens7y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0america6xi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cher3ks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0a1b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp2w2ell3ia1ksha5oes2p0ping5uji3w0time7i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ffany5ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0channel7ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lkswagen7vo3te1ing3o2yage5u0elos6wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4finity6ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",YB="1213426321653223333353565455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222",ds=(t,e)=>{for(const r in e)t[r]=e[r];return t},s0="numeric",o0="ascii",a0="alpha",fc="asciinumeric",$u="alphanumeric",l0="domain",WP="emoji",XB="scheme",JB="slashscheme",Ox="whitespace";function ZB(t,e){return t in e||(e[t]=[]),e[t]}function Ui(t,e,r){e[s0]&&(e[fc]=!0,e[$u]=!0),e[o0]&&(e[fc]=!0,e[a0]=!0),e[fc]&&(e[$u]=!0),e[a0]&&(e[$u]=!0),e[$u]&&(e[l0]=!0),e[WP]&&(e[l0]=!0);for(const n in e){const i=ZB(n,r);i.indexOf(t)<0&&i.push(t)}}function e$(t,e){const r={};for(const n in e)e[n].indexOf(t)>=0&&(r[n]=!0);return r}function Ut(t){t===void 0&&(t=null),this.j={},this.jr=[],this.jd=null,this.t=t}Ut.groups={};Ut.prototype={accepts(){return!!this.t},go(t){const e=this,r=e.j[t];if(r)return r;for(let n=0;n<e.jr.length;n++){const i=e.jr[n][0],s=e.jr[n][1];if(s&&i.test(t))return s}return e.jd},has(t,e){return e===void 0&&(e=!1),e?t in this.j:!!this.go(t)},ta(t,e,r,n){for(let i=0;i<t.length;i++)this.tt(t[i],e,r,n)},tr(t,e,r,n){n=n||Ut.groups;let i;return e&&e.j?i=e:(i=new Ut(e),r&&n&&Ui(e,r,n)),this.jr.push([t,i]),i},ts(t,e,r,n){let i=this;const s=t.length;if(!s)return i;for(let o=0;o<s-1;o++)i=i.tt(t[o]);return i.tt(t[s-1],e,r,n)},tt(t,e,r,n){n=n||Ut.groups;const i=this;if(e&&e.j)return i.j[t]=e,e;const s=e;let o,a=i.go(t);if(a?(o=new Ut,ds(o.j,a.j),o.jr.push.apply(o.jr,a.jr),o.jd=a.jd,o.t=a.t):o=new Ut,s){if(n)if(o.t&&typeof o.t=="string"){const l=ds(e$(o.t,n),r);Ui(s,l,n)}else r&&Ui(s,r,n);o.t=s}return i.j[t]=o,o}};const J=(t,e,r,n,i)=>t.ta(e,r,n,i),Qt=(t,e,r,n,i)=>t.tr(e,r,n,i),Rx=(t,e,r,n,i)=>t.ts(e,r,n,i),q=(t,e,r,n,i)=>t.tt(e,r,n,i),nn="WORD",u0="UWORD",Pl="LOCALHOST",c0="TLD",d0="UTLD",hc="SCHEME",Ps="SLASH_SCHEME",Rw="NUM",GP="WS",Mw="NL",zs="OPENBRACE",ka="OPENBRACKET",Pa="OPENANGLEBRACKET",Aa="OPENPAREN",Ri="CLOSEBRACE",Ws="CLOSEBRACKET",Gs="CLOSEANGLEBRACKET",Mi="CLOSEPAREN",Pd="AMPERSAND",Ad="APOSTROPHE",Id="ASTERISK",Bn="AT",Od="BACKSLASH",Rd="BACKTICK",Md="CARET",Hn="COLON",Nw="COMMA",Nd="DOLLAR",jr="DOT",Dd="EQUALS",Dw="EXCLAMATION",Lr="HYPHEN",jd="PERCENT",Ld="PIPE",Bd="PLUS",$d="POUND",Ud="QUERY",jw="QUOTE",Lw="SEMI",Br="SLASH",Ia="TILDE",Fd="UNDERSCORE",VP="EMOJI",qd="SYM";var QP=Object.freeze({__proto__:null,WORD:nn,UWORD:u0,LOCALHOST:Pl,TLD:c0,UTLD:d0,SCHEME:hc,SLASH_SCHEME:Ps,NUM:Rw,WS:GP,NL:Mw,OPENBRACE:zs,OPENBRACKET:ka,OPENANGLEBRACKET:Pa,OPENPAREN:Aa,CLOSEBRACE:Ri,CLOSEBRACKET:Ws,CLOSEANGLEBRACKET:Gs,CLOSEPAREN:Mi,AMPERSAND:Pd,APOSTROPHE:Ad,ASTERISK:Id,AT:Bn,BACKSLASH:Od,BACKTICK:Rd,CARET:Md,COLON:Hn,COMMA:Nw,DOLLAR:Nd,DOT:jr,EQUALS:Dd,EXCLAMATION:Dw,HYPHEN:Lr,PERCENT:jd,PIPE:Ld,PLUS:Bd,POUND:$d,QUERY:Ud,QUOTE:jw,SEMI:Lw,SLASH:Br,TILDE:Ia,UNDERSCORE:Fd,EMOJI:VP,SYM:qd});const Cs=/[a-z]/,Pm=/\p{L}/u,Am=/\p{Emoji}/u,Im=/\d/,Mx=/\s/,Nx=`
`,t$="",r$="";let Uu=null,Fu=null;function n$(t){t===void 0&&(t=[]);const e={};Ut.groups=e;const r=new Ut;Uu==null&&(Uu=Dx(KB)),Fu==null&&(Fu=Dx(YB)),q(r,"'",Ad),q(r,"{",zs),q(r,"[",ka),q(r,"<",Pa),q(r,"(",Aa),q(r,"}",Ri),q(r,"]",Ws),q(r,">",Gs),q(r,")",Mi),q(r,"&",Pd),q(r,"*",Id),q(r,"@",Bn),q(r,"`",Rd),q(r,"^",Md),q(r,":",Hn),q(r,",",Nw),q(r,"$",Nd),q(r,".",jr),q(r,"=",Dd),q(r,"!",Dw),q(r,"-",Lr),q(r,"%",jd),q(r,"|",Ld),q(r,"+",Bd),q(r,"#",$d),q(r,"?",Ud),q(r,'"',jw),q(r,"/",Br),q(r,";",Lw),q(r,"~",Ia),q(r,"_",Fd),q(r,"\\",Od);const n=Qt(r,Im,Rw,{[s0]:!0});Qt(n,Im,n);const i=Qt(r,Cs,nn,{[o0]:!0});Qt(i,Cs,i);const s=Qt(r,Pm,u0,{[a0]:!0});Qt(s,Cs),Qt(s,Pm,s);const o=Qt(r,Mx,GP,{[Ox]:!0});q(r,Nx,Mw,{[Ox]:!0}),q(o,Nx),Qt(o,Mx,o);const a=Qt(r,Am,VP,{[WP]:!0});Qt(a,Am,a),q(a,t$,a);const l=q(a,r$);Qt(l,Am,a);const u=[[Cs,i]],c=[[Cs,null],[Pm,s]];for(let f=0;f<Uu.length;f++)Nn(r,Uu[f],c0,nn,u);for(let f=0;f<Fu.length;f++)Nn(r,Fu[f],d0,u0,c);Ui(c0,{tld:!0,ascii:!0},e),Ui(d0,{utld:!0,alpha:!0},e),Nn(r,"file",hc,nn,u),Nn(r,"mailto",hc,nn,u),Nn(r,"http",Ps,nn,u),Nn(r,"https",Ps,nn,u),Nn(r,"ftp",Ps,nn,u),Nn(r,"ftps",Ps,nn,u),Ui(hc,{scheme:!0,ascii:!0},e),Ui(Ps,{slashscheme:!0,ascii:!0},e),t=t.sort((f,d)=>f[0]>d[0]?1:-1);for(let f=0;f<t.length;f++){const d=t[f][0],v=t[f][1]?{[XB]:!0}:{[JB]:!0};d.indexOf("-")>=0?v[l0]=!0:Cs.test(d)?Im.test(d)?v[fc]=!0:v[o0]=!0:v[s0]=!0,Rx(r,d,d,v)}return Rx(r,"localhost",Pl,{ascii:!0}),r.jd=new Ut(qd),{start:r,tokens:ds({groups:e},QP)}}function i$(t,e){const r=s$(e.replace(/[A-Z]/g,a=>a.toLowerCase())),n=r.length,i=[];let s=0,o=0;for(;o<n;){let a=t,l=null,u=0,c=null,f=-1,d=-1;for(;o<n&&(l=a.go(r[o]));)a=l,a.accepts()?(f=0,d=0,c=a):f>=0&&(f+=r[o].length,d++),u+=r[o].length,s+=r[o].length,o++;s-=f,o-=d,u-=f,i.push({t:c.t,v:e.slice(s-u,s),s:s-u,e:s})}return i}function s$(t){const e=[],r=t.length;let n=0;for(;n<r;){let i=t.charCodeAt(n),s,o=i<55296||i>56319||n+1===r||(s=t.charCodeAt(n+1))<56320||s>57343?t[n]:t.slice(n,n+2);e.push(o),n+=o.length}return e}function Nn(t,e,r,n,i){let s;const o=e.length;for(let a=0;a<o-1;a++){const l=e[a];t.j[l]?s=t.j[l]:(s=new Ut(n),s.jr=i.slice(),t.j[l]=s),t=s}return s=new Ut(r),s.jr=i.slice(),t.j[e[o-1]]=s,s}function Dx(t){const e=[],r=[];let n=0,i="0123456789";for(;n<t.length;){let s=0;for(;i.indexOf(t[n+s])>=0;)s++;if(s>0){e.push(r.join(""));for(let o=parseInt(t.substring(n,n+s),10);o>0;o--)r.pop();n+=s}else r.push(t[n]),n++}return e}const Oo={defaultProtocol:"http",events:null,format:jx,formatHref:jx,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function Hf(t,e){e===void 0&&(e=null);let r=ds({},Oo);t&&(r=ds(r,t instanceof Hf?t.o:t));const n=r.ignoreTags,i=[];for(let s=0;s<n.length;s++)i.push(n[s].toUpperCase());this.o=r,e&&(this.defaultRender=e),this.ignoreTags=i}Hf.prototype={o:Oo,ignoreTags:[],defaultRender(t){return t},check(t){return this.get("validate",t.toString(),t)},get(t,e,r){const n=e!=null;let i=this.o[t];return i&&(typeof i=="object"?(i=r.t in i?i[r.t]:Oo[t],typeof i=="function"&&n&&(i=i(e,r))):typeof i=="function"&&n&&(i=i(e,r.t,r)),i)},getObj(t,e,r){let n=this.o[t];return typeof n=="function"&&e!=null&&(n=n(e,r.t,r)),n},render(t){const e=t.render(this);return(this.get("render",null,t)||this.defaultRender)(e,t.t,t)}};function jx(t){return t}var KP=Object.freeze({__proto__:null,defaults:Oo,Options:Hf,assign:ds});function YP(t,e){this.t="token",this.v=t,this.tk=e}YP.prototype={isLink:!1,toString(){return this.v},toHref(t){return this.toString()},toFormattedString(t){const e=this.toString(),r=t.get("truncate",e,this),n=t.get("format",e,this);return r&&n.length>r?n.substring(0,r)+"":n},toFormattedHref(t){return t.get("formatHref",this.toHref(t.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(t){return t===void 0&&(t=Oo.defaultProtocol),{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(t),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(t){return{type:this.t,value:this.toFormattedString(t),isLink:this.isLink,href:this.toFormattedHref(t),start:this.startIndex(),end:this.endIndex()}},validate(t){return t.get("validate",this.toString(),this)},render(t){const e=this,r=this.toHref(t.get("defaultProtocol")),n=t.get("formatHref",r,this),i=t.get("tagName",r,e),s=this.toFormattedString(t),o={},a=t.get("className",r,e),l=t.get("target",r,e),u=t.get("rel",r,e),c=t.getObj("attributes",r,e),f=t.getObj("events",r,e);return o.href=n,a&&(o.class=a),l&&(o.target=l),u&&(o.rel=u),c&&ds(o,c),{tagName:i,attributes:o,content:s,eventListeners:f}}};function zf(t,e){class r extends YP{constructor(i,s){super(i,s),this.t=t}}for(const n in e)r.prototype[n]=e[n];return r.t=t,r}const Lx=zf("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),Bx=zf("text"),o$=zf("nl"),Pi=zf("url",{isLink:!0,toHref(t){return t===void 0&&(t=Oo.defaultProtocol),this.hasProtocol()?this.v:`${t}://${this.v}`},hasProtocol(){const t=this.tk;return t.length>=2&&t[0].t!==Pl&&t[1].t===Hn}}),Ze=t=>new Ut(t);function a$(t){let{groups:e}=t;const r=e.domain.concat([Pd,Id,Bn,Od,Rd,Md,Nd,Dd,Lr,Rw,jd,Ld,Bd,$d,Br,qd,Ia,Fd]),n=[Ad,Gs,Ri,Ws,Mi,Hn,Nw,jr,Dw,Pa,zs,ka,Aa,Ud,jw,Lw],i=[Pd,Ad,Id,Od,Rd,Md,Ri,Nd,Dd,Lr,zs,jd,Ld,Bd,$d,Ud,Br,qd,Ia,Fd],s=Ze(),o=q(s,Ia);J(o,i,o),J(o,e.domain,o);const a=Ze(),l=Ze(),u=Ze();J(s,e.domain,a),J(s,e.scheme,l),J(s,e.slashscheme,u),J(a,i,o),J(a,e.domain,a);const c=q(a,Bn);q(o,Bn,c),q(l,Bn,c),q(u,Bn,c);const f=q(o,jr);J(f,i,o),J(f,e.domain,o);const d=Ze();J(c,e.domain,d),J(d,e.domain,d);const g=q(d,jr);J(g,e.domain,d);const v=Ze(Lx);J(g,e.tld,v),J(g,e.utld,v),q(c,Pl,v);const b=q(d,Lr);J(b,e.domain,d),J(v,e.domain,d),q(v,jr,g),q(v,Lr,b);const w=q(v,Hn);J(w,e.numeric,Lx);const m=q(a,Lr),p=q(a,jr);J(m,e.domain,a),J(p,i,o),J(p,e.domain,a);const y=Ze(Pi);J(p,e.tld,y),J(p,e.utld,y),J(y,e.domain,a),J(y,i,o),q(y,jr,p),q(y,Lr,m),q(y,Bn,c);const x=q(y,Hn),S=Ze(Pi);J(x,e.numeric,S);const k=Ze(Pi),R=Ze();J(k,r,k),J(k,n,R),J(R,r,k),J(R,n,R),q(y,Br,k),q(S,Br,k);const O=q(l,Hn),U=q(u,Hn),G=q(U,Br),ee=q(G,Br);J(l,e.domain,a),q(l,jr,p),q(l,Lr,m),J(u,e.domain,a),q(u,jr,p),q(u,Lr,m),J(O,e.domain,k),q(O,Br,k),J(ee,e.domain,k),J(ee,r,k),q(ee,Br,k);const ne=q(k,zs),Z=q(k,ka),P=q(k,Pa),N=q(k,Aa);q(R,zs,ne),q(R,ka,Z),q(R,Pa,P),q(R,Aa,N),q(ne,Ri,k),q(Z,Ws,k),q(P,Gs,k),q(N,Mi,k),q(ne,Ri,k);const W=Ze(Pi),ie=Ze(Pi),L=Ze(Pi),B=Ze(Pi);J(ne,r,W),J(Z,r,ie),J(P,r,L),J(N,r,B);const K=Ze(),ae=Ze(),de=Ze(),Qe=Ze();return J(ne,n),J(Z,n),J(P,n),J(N,n),J(W,r,W),J(ie,r,ie),J(L,r,L),J(B,r,B),J(W,n,W),J(ie,n,ie),J(L,n,L),J(B,n,B),J(K,r,K),J(ae,r,ie),J(de,r,L),J(Qe,r,B),J(K,n,K),J(ae,n,ae),J(de,n,de),J(Qe,n,Qe),q(ie,Ws,k),q(L,Gs,k),q(B,Mi,k),q(W,Ri,k),q(ae,Ws,k),q(de,Gs,k),q(Qe,Mi,k),q(K,Mi,k),q(s,Pl,y),q(s,Mw,o$),{start:s,tokens:QP}}function l$(t,e,r){let n=r.length,i=0,s=[],o=[];for(;i<n;){let a=t,l=null,u=null,c=0,f=null,d=-1;for(;i<n&&!(l=a.go(r[i].t));)o.push(r[i++]);for(;i<n&&(u=l||a.go(r[i].t));)l=null,a=u,a.accepts()?(d=0,f=a):d>=0&&d++,i++,c++;if(d<0)i-=c,i<n&&(o.push(r[i]),i++);else{o.length>0&&(s.push(Om(Bx,e,o)),o=[]),i-=d,c-=d;const g=f.t,v=r.slice(i-c,i);s.push(Om(g,e,v))}}return o.length>0&&s.push(Om(Bx,e,o)),s}function Om(t,e,r){const n=r[0].s,i=r[r.length-1].e,s=e.slice(n,i);return new t(s,r)}const _t={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function u$(){_t.scanner=n$(_t.customSchemes);for(let t=0;t<_t.tokenQueue.length;t++)_t.tokenQueue[t][1]({scanner:_t.scanner});_t.parser=a$(_t.scanner.tokens);for(let t=0;t<_t.pluginQueue.length;t++)_t.pluginQueue[t][1]({scanner:_t.scanner,parser:_t.parser});_t.initialized=!0}function c$(t){return _t.initialized||u$(),l$(_t.parser.start,t,i$(_t.scanner.start,t))}function d$(t,e,r){const n=c$(t),i=[];for(let s=0;s<n.length;s++){const o=n[s];if(o.t==="nl"&&e.get("nl2br")){const a=`__linkify-el-${r.elementId++}`;i.push(I.createElement("br",{key:a}))}else if(!o.isLink||!e.check(o))i.push(o.toString());else{let a=e.render(o);if(!("key"in a.props)){const l=`__linkify-el-${r.elementId++}`,u=KP.assign({key:l},a.props);a=I.cloneElement(a,u)}i.push(a)}}return i}function XP(t,e,r){if(I.Children.count(t.props.children)===0)return t;const n=[];I.Children.forEach(t.props.children,o=>{typeof o=="string"?n.push.apply(n,d$(o,e,r)):I.isValidElement(o)?typeof o.type=="string"&&e.ignoreTags.indexOf(o.type.toUpperCase())>=0?n.push(o):n.push(XP(o,e,r)):n.push(o)});const i=`__linkify-el-${r.elementId++}`,s=KP.assign({key:i},t.props);return I.cloneElement(t,s,n)}const f$=t=>{let e=0;const r=l=>{let{tagName:u,attributes:c,content:f}=l;return c.key=`__linkify-lnk-${e++}`,c.class&&(c.className=c.class,delete c.class),I.createElement(u,c,f)},n={key:"__linkify-wrapper"};for(const l in t)l!=="options"&&l!=="as"&&l!=="tagName"&&l!=="children"&&(n[l]=t[l]);const i=new Hf(t.options,r),s=t.as||t.tagName||I.Fragment||"span",o=t.children,a=I.createElement(s,n,o);return XP(a,i,{elementId:0})};function JP(t){const{linkClassName:e,...r}=t;return _.jsx(f$,{...r,className:le("break-words",t.className),as:"p",options:{target:"_blank",className:le("inline rounded-[2px] underline outline-none focus:border-none focus:ring-2",e),nl2br:!0}})}function Bw(t){if(t.children)return _.jsx(JP,{...t,className:le("border-t border-emerald-800 bg-emerald-50 px-2 py-0.5  text-xs text-emerald-700",t.className),linkClassName:"text-emerald-500 focus:ring-emerald-500 focus:ring-offset-2 focus:ring-offset-white"})}function ZP(t){return t.children?_.jsx("label",{...t,className:le("-mt-0.5 block w-full px-2 py-0.5 font-medium text-white text-shadow text-shadow-c-black/75 text-shadow-y-px",t.className)}):null}function Or({children:t}){const{setting:e,idString:r,descriptionIdString:n}=it();if(!e)return null;switch(e.type){case"text-input":case"number-input":case"boolean-input":case"font-input":case"color-input":case"select-input":case"dropdown-input":case"image-input":case"video-input":case"audio-input":return _.jsxs(Ow,{children:[_.jsx(ZP,{htmlFor:r,children:e.label}),t,_.jsx(Bw,{id:n,children:e.description})]});default:return null}}function h$(){const{setting:t,idString:e,descriptionIdString:r,value:n,setValue:i}=it(),s=I.useRef(null);if(!t||t.type!=="audio-input")return null;function o(d){if(!(!t||!d))if("multiple"in t&&t.multiple){const g=Array.isArray(n)?n:[],v=d.filter(b=>!g.includes(b));v.length&&i([...g,...v])}else i(d[0])}function a(d){if(!(!t||!d))if("multiple"in t&&t.multiple){const g=Array.isArray(n)?n:[];i(g.filter(v=>v!==d))}else i(null)}function l(d){const{files:g}=d.target;if(!g||!g.length)return;const v=[];for(const b of g)v.push(`assets/${b.name}`);o(v),d.target.value=""}function u(){return t?"multiple"in t&&t.multiple?(Array.isArray(n)?n:[]).map(g=>_.jsx($x,{src:g,onRemove:a},g)):typeof f!="string"?null:[f].map(d=>_.jsx($x,{src:d,onRemove:a},d)):null}function c(){var d;(d=s.current)==null||d.click()}const f="multiple"in t&&t.multiple?Array.isArray(n)?n:[]:typeof n=="string"?n:null;return _.jsx(Or,{children:_.jsxs("div",{className:"bg-white",children:[_.jsx("div",{className:"border-b border-emerald-800 p-2",children:_.jsxs(_n,{className:"w-full justify-center !px-1 !py-3",onClick:c,children:[_.jsx(Xr,{className:"text-xs",children:`Choose ${Array.isArray(n)?"Sounds":"a Sound"} from the Widget Assets Folder`}),_.jsx(bn,{children:Array.isArray(n)?_.jsx(Sw,{size:22,strokeWidth:2.5,className:"-mt-0.5"}):_.jsx(vB,{size:22,strokeWidth:2.5,className:"-mt-0.5"})})]})}),_.jsx("input",{className:"hidden",id:`${e}.chooseFile`,type:"file",multiple:"multiple"in t&&t.multiple,accept:"audio/*",onChange:l,ref:s,"aria-describedby":r}),(Array.isArray(n)&&n.length||typeof n=="string")&&_.jsx("div",{className:le("grid grid-cols-1 gap-2 border-t border-emerald-800 bg-white p-2"),children:u()})]})})}function $x({onRemove:t,...e}){var r;return _.jsxs("div",{className:"slime2-group-shadow overflow-hidden rounded border-2 border-emerald-800",children:[_.jsxs("div",{className:"title-shadow-i pointer-events-none flex rounded-t-sm font-fredoka text-white",children:[_.jsx("p",{className:"-mt-0.5 flex-1 overflow-hidden text-ellipsis whitespace-nowrap bg-gradient-to-b from-lime-600 to-emerald-700 px-2 py-0.5 text-xs font-medium text-shadow text-shadow-c-black/75 text-shadow-y-px",children:(r=e.src)==null?void 0:r.split("/").pop()}),_.jsx("button",{className:"pointer-events-auto rounded-tr-sm bg-rose-700 p-0.5 text-white hover:bg-rose-500 focus:bg-rose-500 focus:outline-none",onClick:()=>t(e.src),children:_.jsx(qo,{className:"drop-shadow drop-shadow-c-black/75 drop-shadow-y-px",size:20,strokeWidth:3})})]}),_.jsx("div",{className:"flex max-h-32 flex-col items-center justify-center bg-white",children:_.jsx(p$,{...e})})]})}function p$(t){const[e,r]=I.useState(!1);return e?_.jsx("div",{className:"flex items-center justify-center p-1 pr-3",children:_.jsx("p",{className:"text-xs font-bold",children:"Sound not found in assets folder!"})}):_.jsx("audio",{controls:!0,className:"w-full rounded-none",...t,onError:()=>r(!0),onLoad:()=>r(!1)})}function m$(){const{setting:t,idString:e,descriptionIdString:r,value:n,setValue:i}=it();if(!t||t.type!=="boolean-input")return null;function s(o){i(o.target.checked)}return _.jsxs(Ow,{className:le(!n&&"border-slate-700 bg-slate-300 focus-within:border-slate-400 focus-within:bg-slate-300 focus-within:ring-slate-400"),children:[_.jsxs(ZP,{htmlFor:e,className:le("flex items-center justify-between py-1 pr-1"),children:[_.jsx("span",{className:le("flex-1 pr-2",!n&&"text-shadow-none text-slate-600"),children:t.label}),_.jsx("input",{id:e,name:e,className:"appearance-none",type:"checkbox",onChange:s,checked:!!n,"aria-describedby":r}),_.jsx("div",{className:le("mt-0.5 flex items-center justify-center rounded-sm bg-white px-px",!n&&"bg-slate-100"),children:n?_.jsx(FL,{size:30,strokeWidth:3,className:"text-emerald-600"}):_.jsx(qo,{size:30,strokeWidth:3,className:"text-slate-300"})})]}),_.jsx(Bw,{className:le(!n&&"border-slate-400 bg-slate-100 text-slate-600"),id:r,children:t.description})]})}function $w({groupId:t=[],children:e}){return _.jsx(HP.Provider,{value:t,children:e})}function Wf(){return(Wf=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function eA(t,e){if(t==null)return{};var r,n,i={},s=Object.keys(t);for(n=0;n<s.length;n++)e.indexOf(r=s[n])>=0||(i[r]=t[r]);return i}function f0(t){var e=I.useRef(t),r=I.useRef(function(n){e.current&&e.current(n)});return e.current=t,r.current}var Ro=function(t,e,r){return e===void 0&&(e=0),r===void 0&&(r=1),t>r?r:t<e?e:t},Oa=function(t){return"touches"in t},h0=function(t){return t&&t.ownerDocument.defaultView||self},Ux=function(t,e,r){var n=t.getBoundingClientRect(),i=Oa(e)?function(s,o){for(var a=0;a<s.length;a++)if(s[a].identifier===o)return s[a];return s[0]}(e.touches,r):e;return{left:Ro((i.pageX-(n.left+h0(t).pageXOffset))/n.width),top:Ro((i.pageY-(n.top+h0(t).pageYOffset))/n.height)}},Fx=function(t){!Oa(t)&&t.preventDefault()},Uw=H.memo(function(t){var e=t.onMove,r=t.onKey,n=eA(t,["onMove","onKey"]),i=I.useRef(null),s=f0(e),o=f0(r),a=I.useRef(null),l=I.useRef(!1),u=I.useMemo(function(){var g=function(w){Fx(w),(Oa(w)?w.touches.length>0:w.buttons>0)&&i.current?s(Ux(i.current,w,a.current)):b(!1)},v=function(){return b(!1)};function b(w){var m=l.current,p=h0(i.current),y=w?p.addEventListener:p.removeEventListener;y(m?"touchmove":"mousemove",g),y(m?"touchend":"mouseup",v)}return[function(w){var m=w.nativeEvent,p=i.current;if(p&&(Fx(m),!function(x,S){return S&&!Oa(x)}(m,l.current)&&p)){if(Oa(m)){l.current=!0;var y=m.changedTouches||[];y.length&&(a.current=y[0].identifier)}p.focus(),s(Ux(p,m,a.current)),b(!0)}},function(w){var m=w.which||w.keyCode;m<37||m>40||(w.preventDefault(),o({left:m===39?.05:m===37?-.05:0,top:m===40?.05:m===38?-.05:0}))},b]},[o,s]),c=u[0],f=u[1],d=u[2];return I.useEffect(function(){return d},[d]),H.createElement("div",Wf({},n,{onTouchStart:c,onMouseDown:c,className:"react-colorful__interactive",ref:i,onKeyDown:f,tabIndex:0,role:"slider"}))}),Gf=function(t){return t.filter(Boolean).join(" ")},Fw=function(t){var e=t.color,r=t.left,n=t.top,i=n===void 0?.5:n,s=Gf(["react-colorful__pointer",t.className]);return H.createElement("div",{className:s,style:{top:100*i+"%",left:100*r+"%"}},H.createElement("div",{className:"react-colorful__pointer-fill",style:{backgroundColor:e}}))},rt=function(t,e,r){return e===void 0&&(e=0),r===void 0&&(r=Math.pow(10,e)),Math.round(r*t)/r},g$=function(t){return _$(p0(t))},p0=function(t){return t[0]==="#"&&(t=t.substring(1)),t.length<6?{r:parseInt(t[0]+t[0],16),g:parseInt(t[1]+t[1],16),b:parseInt(t[2]+t[2],16),a:t.length===4?rt(parseInt(t[3]+t[3],16)/255,2):1}:{r:parseInt(t.substring(0,2),16),g:parseInt(t.substring(2,4),16),b:parseInt(t.substring(4,6),16),a:t.length===8?rt(parseInt(t.substring(6,8),16)/255,2):1}},y$=function(t){return w$(v$(t))},tA=function(t){var e=t.s,r=t.v,n=t.a,i=(200-e)*r/100;return{h:rt(t.h),s:rt(i>0&&i<200?e*r/100/(i<=100?i:200-i)*100:0),l:rt(i/2),a:rt(n,2)}},m0=function(t){var e=tA(t);return"hsl("+e.h+", "+e.s+"%, "+e.l+"%)"},Rm=function(t){var e=tA(t);return"hsla("+e.h+", "+e.s+"%, "+e.l+"%, "+e.a+")"},v$=function(t){var e=t.h,r=t.s,n=t.v,i=t.a;e=e/360*6,r/=100,n/=100;var s=Math.floor(e),o=n*(1-r),a=n*(1-(e-s)*r),l=n*(1-(1-e+s)*r),u=s%6;return{r:rt(255*[n,a,o,o,l,n][u]),g:rt(255*[l,n,n,a,o,o][u]),b:rt(255*[o,o,l,n,n,a][u]),a:rt(i,2)}},qu=function(t){var e=t.toString(16);return e.length<2?"0"+e:e},w$=function(t){var e=t.r,r=t.g,n=t.b,i=t.a,s=i<1?qu(rt(255*i)):"";return"#"+qu(e)+qu(r)+qu(n)+s},_$=function(t){var e=t.r,r=t.g,n=t.b,i=t.a,s=Math.max(e,r,n),o=s-Math.min(e,r,n),a=o?s===e?(r-n)/o:s===r?2+(n-e)/o:4+(e-r)/o:0;return{h:rt(60*(a<0?a+6:a)),s:rt(s?o/s*100:0),v:rt(s/255*100),a:i}},b$=H.memo(function(t){var e=t.hue,r=t.onChange,n=Gf(["react-colorful__hue",t.className]);return H.createElement("div",{className:n},H.createElement(Uw,{onMove:function(i){r({h:360*i.left})},onKey:function(i){r({h:Ro(e+360*i.left,0,360)})},"aria-label":"Hue","aria-valuenow":rt(e),"aria-valuemax":"360","aria-valuemin":"0"},H.createElement(Fw,{className:"react-colorful__hue-pointer",left:e/360,color:m0({h:e,s:100,v:100,a:1})})))}),x$=H.memo(function(t){var e=t.hsva,r=t.onChange,n={backgroundColor:m0({h:e.h,s:100,v:100,a:1})};return H.createElement("div",{className:"react-colorful__saturation",style:n},H.createElement(Uw,{onMove:function(i){r({s:100*i.left,v:100-100*i.top})},onKey:function(i){r({s:Ro(e.s+100*i.left,0,100),v:Ro(e.v-100*i.top,0,100)})},"aria-label":"Color","aria-valuetext":"Saturation "+rt(e.s)+"%, Brightness "+rt(e.v)+"%"},H.createElement(Fw,{className:"react-colorful__saturation-pointer",top:1-e.v/100,left:e.s/100,color:m0(e)})))}),rA=function(t,e){if(t===e)return!0;for(var r in t)if(t[r]!==e[r])return!1;return!0},S$=function(t,e){return t.toLowerCase()===e.toLowerCase()||rA(p0(t),p0(e))};function C$(t,e,r){var n=f0(r),i=I.useState(function(){return t.toHsva(e)}),s=i[0],o=i[1],a=I.useRef({color:e,hsva:s});I.useEffect(function(){if(!t.equal(e,a.current.color)){var u=t.toHsva(e);a.current={hsva:u,color:e},o(u)}},[e,t]),I.useEffect(function(){var u;rA(s,a.current.hsva)||t.equal(u=t.fromHsva(s),a.current.color)||(a.current={hsva:s,color:u},n(u))},[s,t,n]);var l=I.useCallback(function(u){o(function(c){return Object.assign({},c,u)})},[]);return[s,l]}var E$=typeof window<"u"?I.useLayoutEffect:I.useEffect,T$=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:void 0},qx=new Map,k$=function(t){E$(function(){var e=t.current?t.current.ownerDocument:document;if(e!==void 0&&!qx.has(e)){var r=e.createElement("style");r.innerHTML=`.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:"";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}`,qx.set(e,r);var n=T$();n&&r.setAttribute("nonce",n),e.head.appendChild(r)}},[])},P$=function(t){var e=t.className,r=t.hsva,n=t.onChange,i={backgroundImage:"linear-gradient(90deg, "+Rm(Object.assign({},r,{a:0}))+", "+Rm(Object.assign({},r,{a:1}))+")"},s=Gf(["react-colorful__alpha",e]),o=rt(100*r.a);return H.createElement("div",{className:s},H.createElement("div",{className:"react-colorful__alpha-gradient",style:i}),H.createElement(Uw,{onMove:function(a){n({a:a.left})},onKey:function(a){n({a:Ro(r.a+a.left)})},"aria-label":"Alpha","aria-valuetext":o+"%","aria-valuenow":o,"aria-valuemin":"0","aria-valuemax":"100"},H.createElement(Fw,{className:"react-colorful__alpha-pointer",left:r.a,color:Rm(r)})))},A$=function(t){var e=t.className,r=t.colorModel,n=t.color,i=n===void 0?r.defaultColor:n,s=t.onChange,o=eA(t,["className","colorModel","color","onChange"]),a=I.useRef(null);k$(a);var l=C$(r,i,s),u=l[0],c=l[1],f=Gf(["react-colorful",e]);return H.createElement("div",Wf({},o,{ref:a,className:f}),H.createElement(x$,{hsva:u,onChange:c}),H.createElement(b$,{hue:u.h,onChange:c}),H.createElement(P$,{hsva:u,onChange:c,className:"react-colorful__last-control"}))},I$={defaultColor:"0001",toHsva:g$,fromHsva:y$,equal:S$},O$=function(t){return H.createElement(A$,Wf({},t,{colorModel:I$}))};const cr="block w-full bg-white px-2 py-0.5 outline-none font-radiocanada text-xs";function R$(){const{setting:t,value:e,setValue:r}=it();if(!t||t.type!=="color-input")return null;function n(a){r(a.target.value)}const i=typeof e=="string"?e:"",s=N$(i),o=M$(i);return _.jsx("div",{className:"slime2-group-shadow m-2 overflow-hidden rounded border-2 border-emerald-800 bg-white",children:_.jsxs("div",{className:"flex flex-col justify-center gap-2 divide-y divide-black pt-2",style:{backgroundColor:s},children:[_.jsx(O$,{color:s,className:"self-center drop-shadow drop-shadow-c-black/25 drop-shadow-x-0.5 drop-shadow-y-0.5",onChange:a=>r(a)}),_.jsx("div",{className:"slime2-alpha-background",children:_.jsx("input",{className:le(cr,"text-center font-bold"),style:{backgroundColor:s,color:o},placeholder:t.placeholder,type:"text",value:i,onChange:n})})]})})}function M$(t){try{return new el(t).alpha<.5?"black":el.accessibleForeground(t||"white")}catch{return"black"}}function N$(t){try{return new el(t).toString({format:"hex"})}catch{return"#00000000"}}function D$(){const{setting:t,idString:e,descriptionIdString:r,value:n,setValue:i,groupId:s}=it(),{openWindow:o}=tu();if(!t||t.type!=="color-input")return null;function a(u){i(u.target.value)}const l=typeof n=="string"?n:"";return _.jsx(Or,{children:_.jsxs("div",{className:"flex bg-white",children:[_.jsx("input",{id:e,name:e,className:le(cr,"flex-1"),placeholder:t.placeholder,type:"text",value:l,"aria-describedby":r,onChange:a}),_.jsx("button",{className:"flex w-44 items-stretch p-0.5",title:"Open Color Picker",onClick:u=>{o({id:`slime2window.${e}`,title:"Color Picker",icon:tB,children:_.jsx($w,{groupId:s,children:_.jsx(qf,{value:t,children:_.jsx(R$,{})})})}),u.stopPropagation()},children:_.jsx("div",{className:"slime2-alpha-background flex-1 rounded-sm border-2 border-black",children:_.jsx("div",{className:"btn-shadow-i h-full w-full",style:{backgroundColor:j$(l)},children:_.jsx("span",{className:"sr-only",children:"Open Color Picker"})})})})]})})}function j$(t){try{return new el(t).toString({format:"hex"})}catch{return"#00000000"}}function L$(){var a;const{setting:t,idString:e,descriptionIdString:r,value:n,setValue:i}=it();if(!t||t.type!=="dropdown-input")return null;function s(l){if(!t||t.type!=="dropdown-input")return null;const u=t.options.find(c=>c.label===l.target.value);i(u?u.value:null)}const o=(a=t.options.find(l=>l.value===n))==null?void 0:a.label;return _.jsx(Or,{children:_.jsx("div",{className:"bg-white px-1",children:_.jsxs("select",{id:e,"aria-describedby":r,value:o,name:e,onChange:s,className:le(cr,"pl-0",!n&&"text-gray-400"),children:[_.jsx("option",{value:"",className:"text-gray-400",children:t.placeholder?t.placeholder:"Choose an option"}),t.options.map(l=>{const{label:u}=l;return _.jsx("option",{value:u,className:"text-black",children:u},u)})]})})})}function g0(){return g0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},g0.apply(this,arguments)}function B$(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,s;for(s=0;s<n.length;s++)i=n[s],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}var $$=I.useLayoutEffect,U$=function(e){var r=I.useRef(e);return $$(function(){r.current=e}),r},Hx=function(e,r){if(typeof e=="function"){e(r);return}e.current=r},F$=function(e,r){var n=I.useRef();return I.useCallback(function(i){e.current=i,n.current&&Hx(n.current,null),n.current=r,r&&Hx(r,i)},[r])},zx={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},q$=function(e){Object.keys(zx).forEach(function(r){e.style.setProperty(r,zx[r],"important")})},Wx=q$,vt=null,Gx=function(e,r){var n=e.scrollHeight;return r.sizingStyle.boxSizing==="border-box"?n+r.borderSize:n-r.paddingSize};function H$(t,e,r,n){r===void 0&&(r=1),n===void 0&&(n=1/0),vt||(vt=document.createElement("textarea"),vt.setAttribute("tabindex","-1"),vt.setAttribute("aria-hidden","true"),Wx(vt)),vt.parentNode===null&&document.body.appendChild(vt);var i=t.paddingSize,s=t.borderSize,o=t.sizingStyle,a=o.boxSizing;Object.keys(o).forEach(function(d){var g=d;vt.style[g]=o[g]}),Wx(vt),vt.value=e;var l=Gx(vt,t);vt.value=e,l=Gx(vt,t),vt.value="x";var u=vt.scrollHeight-i,c=u*r;a==="border-box"&&(c=c+i+s),l=Math.max(c,l);var f=u*n;return a==="border-box"&&(f=f+i+s),l=Math.min(f,l),[l,u]}var Vx=function(){},z$=function(e,r){return e.reduce(function(n,i){return n[i]=r[i],n},{})},W$=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak"],G$=!!document.documentElement.currentStyle,V$=function(e){var r=window.getComputedStyle(e);if(r===null)return null;var n=z$(W$,r),i=n.boxSizing;if(i==="")return null;G$&&i==="border-box"&&(n.width=parseFloat(n.width)+parseFloat(n.borderRightWidth)+parseFloat(n.borderLeftWidth)+parseFloat(n.paddingRight)+parseFloat(n.paddingLeft)+"px");var s=parseFloat(n.paddingBottom)+parseFloat(n.paddingTop),o=parseFloat(n.borderBottomWidth)+parseFloat(n.borderTopWidth);return{sizingStyle:n,paddingSize:s,borderSize:o}},Q$=V$;function nA(t,e,r){var n=U$(r);I.useLayoutEffect(function(){var i=function(o){return n.current(o)};if(t)return t.addEventListener(e,i),function(){return t.removeEventListener(e,i)}},[])}var K$=function(e){nA(window,"resize",e)},Y$=function(e){nA(document.fonts,"loadingdone",e)},X$=["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"],J$=function(e,r){var n=e.cacheMeasurements,i=e.maxRows,s=e.minRows,o=e.onChange,a=o===void 0?Vx:o,l=e.onHeightChange,u=l===void 0?Vx:l,c=B$(e,X$),f=c.value!==void 0,d=I.useRef(null),g=F$(d,r),v=I.useRef(0),b=I.useRef(),w=function(){var y=d.current,x=n&&b.current?b.current:Q$(y);if(x){b.current=x;var S=H$(x,y.value||y.placeholder||"x",s,i),k=S[0],R=S[1];v.current!==k&&(v.current=k,y.style.setProperty("height",k+"px","important"),u(k,{rowHeight:R}))}},m=function(y){f||w(),a(y)};return I.useLayoutEffect(w),K$(w),Y$(w),I.createElement("textarea",g0({},c,{onChange:m,ref:g}))},iA=I.forwardRef(J$);function Z$(){const{setting:t,idString:e,descriptionIdString:r,value:n,setValue:i}=it(),[s,o]=I.useState("");if(!t||t.type!=="font-input")return null;function a(u){i(u.target.value)}const l=typeof n=="string"?n:"";return _.jsx(Or,{children:_.jsxs("div",{className:"flex flex-col divide-y divide-emerald-800 bg-white",children:[_.jsxs("div",{className:"flex divide-x divide-emerald-800 ",children:[_.jsx("input",{type:"text",id:e,name:e,className:le(cr,"flex-1"),placeholder:"Type in a font name","aria-describedby":r,value:l,onChange:a}),_.jsx("div",{className:"flex-1 pl-1",children:_.jsxs("select",{className:le(cr,"!px-0 text-[16px]",(!s||!Mm.includes(l))&&"text-gray-400"),onChange:u=>{o(u.target.value),i(u.target.value)},value:l,style:{fontFamily:Mm.includes(l)?l:"Radio Canada"},children:[_.jsx("option",{value:"",className:"font-radiocanada text-gray-400",children:"Font Selector"}),Mm.map(u=>_.jsx("option",{value:u,className:"text-base text-black",style:{fontFamily:u},children:u},u))]})})]}),_.jsx(iA,{className:le(cr,"resize-none overflow-auto scrollbar-thin scrollbar-track-emerald-800/25 scrollbar-thumb-emerald-800 scrollbar-track-rounded-none scrollbar-thumb-rounded-none hover:scrollbar-thumb-emerald-700 active:scrollbar-thumb-emerald-600"),defaultValue:"Font Preview: The quick brown fox jumps over the lazy dog",style:{fontFamily:l}})]})})}const Mm=["Al Bayan","American Typewriter","Andal Mono","Apple Casual","Apple Chancery","Apple Garamond","Apple Gothic","Apple LiGothic","Apple LiSung","Apple Myungjo","AquaKana","Arial","Arial Black","Arial Hebrew","Avant Garde","Ayuthaya","Baghdad","Bahnschrift","Baskerville","Beijing","BiauKai","Bookman","Big Caslon","Browallia New","BrowalliaUPC","Brush Script","Calibri","Cambria","Cambria Math","Candara","Cascadia Code","Cascadia Mono","Century Gothic","Chalkboard","Chalkduster","Charcoal","Charcoal CY","Chicago","Cochin","Comic Sans","Comic Sans MS","Consolas","Constantia","Cooper","Copperplate","Corbel","Corsiva Hebrew","Courier","Courier New","DecoType Naskh","Devanagari","Didot","Ebrima","Euphemia UCAS","Franklin Gothic Medium","Futura","Gabriola","Gadget","Gadugi","Garamond","Geeza Pro","Geezah","Geneva","Geneva CY","Georgia","Gill Sans","Gujarati","Gung Seoche","Gurmukhi","Hangangche","HeadlineA","Hei","Helvetica","Helvetica CY","Helvetica Neue","Herculanum","Hiragino Kaku Gothic Pro","Hiragino Kaku Gothic ProN","Hiragino Kaku Gothic Std","Hiragino Kaku Gothic StdN","Hiragino Maru Gothic Pro","Hiragino Maru Gothic ProN","Hiragino Mincho Pro","Hiragino Mincho ProN","Hoefler Text","Inai Mathi","Impact","Ink Free","Javanese Text","Jung Gothic","Kai","Keyboard","Krungthep","KufiStandard GK","Kuenstler Script","LastResort","Leelawadee UI","LiHei Pro","LiSong Pro","Lucida","Lucida Console","Lucida Grande","Lucida Sans","Lucida Sans Unicode","Malgun Gothic","Marker Felt","Menlo","Microsoft Himalaya","Microsoft JhengHei","Microsoft New Tai Lue","Microsoft PhagsPa","Microsoft Sans Serif","Microsoft Tai Le","Microsoft YaHei","Microsoft Yi Baiti","MingLiU-ExtB","Monaco","Monaco CY","Mongolian Baiti","MS Gothic","MS Serif","Mshtakan","MV Boli","Myanmar Text","Nadeem","New Peninim","New York","Nirmala UI","NISC GB18030","Noto Sans","Optima","Osaka","Palatino","Palatino Linotype","Papyrus","PC Myungjo","Pilgiche","Plantagenet Cherokee","Raanana","Rockwell","San Francisco","Sand","Sathu","Segoe Print","Segoe Script","Segoe UI","Seoul","SimSun","Sitka","Shin Myungjo Neue","Silom","Skia","Snell Roundhand","ST FangSong","ST FangSong 2","ST Heiti","ST Kaiti","ST Song","Sylfaen","Tae Graphic","Tahoma","Taipei","Techno","Textile","Thonburi","Times","Times CY","Times New Roman","Trebuchet MS","Verdana","Yu Gothic","Zapf Chancery","Zapfino"];function sA(){const{setting:t,idString:e}=it();return!t||t.type!=="text-display"||!t.label?null:_.jsx("div",{className:"slime2-group-shadow -mx-1 rounded border-2 border-emerald-800 bg-green-700 px-2 py-1 font-medium text-white text-shadow text-shadow-c-black/75 text-shadow-y-px",children:_.jsx(JP,{id:e,linkClassName:"text-lime-200 focus:ring-lime-200 focus:ring-offset-2 focus:ring-offset-green-700",children:t.label})})}function e9(){const{setting:t,value:e,groupId:r}=it(),{addGroupMultiple:n,copyGroupMultiple:i,removeGroupMultiple:s,moveGroupMultiple:o}=df(),a=I.useRef();function l(){return a.current||(a.current=new Map),a.current}function u(c,f){const g=l().get(e[c].__id),v=g==null?void 0:g.getElementsByClassName(f).item(0);v==null||v.focus()}return!t||t.type!=="group"||!("multiple"in t&&t.multiple)||!Array.isArray(e)?null:_.jsxs("div",{className:"flex flex-col gap-3 p-2",children:[t.description&&_.jsx(qf,{value:{type:"text-display",id:`${t.id}.description`,label:t.description},children:_.jsx(sA,{})}),e.map((c,f)=>{const d=f===0,g=f===e.length-1,{__id:v}=c;return _.jsxs("div",{className:"slime2-group-shadow rounded border-2 border-green-700 bg-lime-200",ref:b=>{const w=l();b?w.set(v,b):w.delete(v)},children:[_.jsxs("div",{className:"title-shadow-i pointer-events-none flex justify-between overflow-hidden rounded-t-sm font-fredoka text-white",children:[_.jsxs("button",{className:"pointer-events-auto flex items-center gap-1 border-r border-r-emerald-800 bg-gradient-to-b from-lime-600 to-emerald-700 px-2 py-[8px] hover:from-lime-400 hover:to-emerald-600 focus:from-lime-400 focus:to-emerald-600 focus:outline-none active:from-lime-500/90 active:to-emerald-600/90",onClick:()=>{i(r,t.id,f)},children:[_.jsx(KL,{size:20,strokeWidth:2.5,className:"-mt-0.5 drop-shadow drop-shadow-c-black/75 drop-shadow-y-px"}),_.jsx("p",{className:"-mt-1 text-xs font-medium text-shadow text-shadow-c-black/75 text-shadow-y-px",children:"Copy"})]}),_.jsx("div",{className:"flex-1 bg-gradient-to-b from-lime-600 to-emerald-700"}),_.jsx("button",{className:le(!d&&"pointer-events-auto border-x border-x-emerald-800 hover:from-lime-400 hover:to-emerald-600 focus:from-lime-400 focus:to-emerald-600 active:from-lime-500/90 active:to-emerald-600/90","slime2-move-up flex items-center gap-1  bg-gradient-to-b from-lime-600 to-emerald-700 px-2 py-[8px]  focus:outline-none"),disabled:d,onClick:()=>{o(r,t.id,f,f-1),u(f-1,"slime2-move-up")},children:_.jsx(BL,{size:20,strokeWidth:2.5,className:le("-mt-0.5 drop-shadow drop-shadow-c-black/75 drop-shadow-y-px",d&&"opacity-0")})}),_.jsx("div",{className:"flex items-center bg-gradient-to-b from-lime-600 to-emerald-700 px-2 py-[8px]",children:_.jsx("p",{className:le("-mt-1 text-xs font-medium text-shadow text-shadow-c-black/75 text-shadow-y-px",e.length<2&&"opacity-0"),children:"Move"})}),_.jsx("button",{className:le(!g&&"pointer-events-auto border-x border-x-emerald-800 hover:from-lime-400 hover:to-emerald-600 focus:from-lime-400 focus:to-emerald-600 active:from-lime-500/90 active:to-emerald-600/90","slime2-move-down flex items-center gap-1 bg-gradient-to-b from-lime-600 to-emerald-700 px-2 py-[8px] focus:outline-none"),disabled:g,onClick:()=>{o(r,t.id,f,f+1),u(f+1,"slime2-move-down")},children:_.jsx(DL,{size:20,strokeWidth:2.5,className:le("-mt-0.5 drop-shadow drop-shadow-c-black/75 drop-shadow-y-px",g&&"opacity-0")})}),_.jsx("div",{className:"flex-1 bg-gradient-to-b from-lime-600 to-emerald-700"}),_.jsxs("button",{className:"pointer-events-auto flex items-center gap-1 border-l border-l-emerald-800 bg-gradient-to-b from-lime-600 to-emerald-700 px-2 py-[8px] hover:from-rose-600 hover:to-red-900 focus:from-rose-600 focus:to-red-900 focus:outline-none",onClick:()=>{confirm("Are you sure you want to delete this?")&&s(r,t.id,f)},children:[_.jsx("p",{className:"-mt-1 text-xs font-medium text-shadow text-shadow-c-black/75 text-shadow-y-px",children:"Delete"}),_.jsx(iB,{size:20,strokeWidth:2.5,className:"-mt-0.5 drop-shadow drop-shadow-c-black/75 drop-shadow-y-px"})]})]}),_.jsx($w,{groupId:[...r,{id:t.id,index:f}],children:_.jsx(qw,{settings:t.settings})})]},v)}),_.jsxs(_n,{onClick:()=>{n(r,t.id,t.settings)},className:"justify-center",children:[_.jsx(Xr,{children:"Add New"}),_.jsx(bn,{children:_.jsx(aB,{className:"-mt-0.5"})})]})]})}function t9(){const t=qP(),{openWindow:e}=tu(),{setting:r,idString:n}=it();if(!r||r.type!=="group")return null;const i="multiple"in r&&r.multiple,s={strokeWidth:3,size:30,className:"-mt-0.5"};return _.jsxs(_n,{id:n,className:"-my-0.5 w-full justify-between py-2",onClick:o=>{e({id:`slime2window.${n}`,icon:cB,title:r.label||"",className:"w-96",children:_.jsx($w,{groupId:i?t:[...t,{id:r.id}],children:i?_.jsx(qf,{value:r,children:_.jsx(e9,{})}):_.jsx(qw,{settings:r.settings})})}),o.stopPropagation()},children:[_.jsx(Xr,{children:r.label}),_.jsx(bn,{children:i?_.jsx(GL,{...s}):_.jsx($P,{...s})})]})}function oA(t){const[e,r]=I.useState(!1);if(e){const n=!t.src||t.src.startsWith("http://")||t.src.startsWith("https://");return _.jsx("div",{className:"flex items-center justify-center p-1 pr-3",children:_.jsx("p",{className:"text-xs font-bold",children:n?"Image failed to load!":"Image not found in assets folder!"})})}return _.jsx("img",{...t,onError:()=>r(!0),onLoad:()=>r(!1)})}function r9(){const{setting:t,idString:e,descriptionIdString:r}=it();return!t||t.type!=="image-display"||!t.url?null:_.jsxs("div",{className:"slime2-group-shadow flex flex-col items-center justify-center overflow-hidden rounded border-2 border-emerald-800 bg-white",children:[t.label&&_.jsx("p",{id:r,className:"-mt-0.5 block w-full bg-green-700 px-2 py-0.5 font-medium text-white text-shadow text-shadow-c-black/75 text-shadow-y-px",children:t.label}),_.jsx(oA,{className:"max-h-96",src:t.url,alt:t.alt,title:t.alt,id:e,"aria-describedby":r})]})}function n9(){const{setting:t,idString:e,descriptionIdString:r,value:n,setValue:i}=it(),[s,o]=I.useState(""),a=I.useRef(null);if(!t||t.type!=="image-input")return null;function l(){t&&s&&(o(""),u([s.trim()]))}function u(m){if(!t||!m)return;const p=m.map(y=>y.startsWith("http://")||y.startsWith("https://")?y:`assets/${y}`);if("multiple"in t&&t.multiple){const y=Array.isArray(n)?n:[],x=p.filter(S=>!y.includes(S));x.length&&i([...y,...x])}else p[0]&&i(p[0])}function c(m){if(!(!t||!m))if("multiple"in t&&t.multiple){const p=Array.isArray(n)?n:[];i(p.filter(y=>y!==m))}else i(null)}function f(m){m.nativeEvent.isComposing||m.keyCode===229||m.key==="Enter"&&l()}function d(m){o(m.target.value)}function g(m){const{files:p}=m.target;if(!p||!p.length)return;const y=[];for(const x of p)y.push(x.name);u(y),m.target.value=""}function v(){return t?"multiple"in t&&t.multiple?(Array.isArray(n)?n:[]).map(p=>_.jsx(Qx,{src:p,onRemove:c},p)):typeof w!="string"?null:[w].map(m=>_.jsx(Qx,{src:m,onRemove:c},m)):null}function b(){var m;(m=a.current)==null||m.click()}const w="multiple"in t&&t.multiple?Array.isArray(n)?n:[]:typeof n=="string"?n:null;return _.jsx(Or,{children:_.jsxs("div",{className:"bg-white",children:[_.jsx("div",{className:"border-b border-emerald-800 p-2",children:_.jsxs(_n,{className:"w-full justify-center !px-1 !py-3",onClick:b,children:[_.jsx(Xr,{className:"text-xs",children:`Choose ${Array.isArray(n)?"Images":"an Image"} from the Widget Assets Folder`}),_.jsx(bn,{children:Array.isArray(n)?_.jsx(Sw,{size:22,strokeWidth:2.5,className:"-mt-0.5"}):_.jsx(mB,{size:22,strokeWidth:2.5,className:"-mt-0.5"})})]})}),_.jsx("input",{id:e,value:s,className:le(cr,"text-center"),"aria-describedby":r,placeholder:"...or paste in a remote image URL and press enter",type:"text",onChange:d,onKeyDown:f}),_.jsx("input",{className:"hidden",id:`${e}.chooseFile`,type:"file",multiple:"multiple"in t&&t.multiple,accept:"image/*",onChange:g,ref:a}),(Array.isArray(n)&&n.length||typeof n=="string")&&_.jsx("div",{className:le("grid grid-cols-1 gap-2 border-t border-emerald-800 bg-white p-2",Array.isArray(n)&&{"grid-cols-3":n.length>2,"grid-cols-2":n.length===2}),children:v()})]})})}function Qx({onRemove:t,...e}){var r;return _.jsxs("div",{className:"slime2-group-shadow flex flex-col overflow-hidden rounded border-2 border-emerald-800",children:[_.jsxs("div",{className:"title-shadow-i pointer-events-none flex rounded-t-sm font-fredoka text-white",children:[_.jsx("p",{className:"-mt-0.5 flex-1 overflow-hidden text-ellipsis whitespace-nowrap bg-gradient-to-b from-lime-600 to-emerald-700 px-2 py-0.5 text-xs font-medium text-shadow text-shadow-c-black/75 text-shadow-y-px",children:(r=e.src)==null?void 0:r.split("/").pop()}),_.jsx("button",{className:"pointer-events-auto rounded-tr-sm bg-rose-700 p-0.5 text-white hover:bg-rose-500 focus:bg-rose-500 focus:outline-none",onClick:()=>t(e.src),children:_.jsx(qo,{className:"drop-shadow drop-shadow-c-black/75 drop-shadow-y-px",size:20,strokeWidth:3})})]}),_.jsx("div",{className:"flex flex-1 flex-col items-center justify-center bg-white",children:_.jsx(oA,{...e,className:"max-h-32"})})]})}function i9(){const{setting:t,idString:e,descriptionIdString:r,value:n,setValue:i}=it();if(!t||t.type!=="number-input")return null;function s(o){const a=Number.parseInt(o.target.value);i(Number.isNaN(a)?null:a)}return t.slider?_.jsx(s9,{}):_.jsx(Or,{children:_.jsx("input",{id:e,name:e,className:cr,type:"number",onChange:s,value:typeof n=="number"?n.toString():"",min:t.min,max:t.max,step:t.step,placeholder:t.placeholder,"aria-describedby":r})})}function s9(){const{setting:t,idString:e,descriptionIdString:r,value:n,setValue:i}=it();if(!t||t.type!=="number-input")return null;function s(u){const c=Number.parseFloat(u.target.value);i(Number.isNaN(c)?null:c)}const o=typeof n=="number"?n:"",a=typeof t.min=="number"?t.min:0,l=typeof t.max=="number"?t.max:100;return _.jsx(Or,{children:_.jsxs("div",{className:"flex divide-x divide-emerald-800",children:[_.jsxs("div",{className:le(cr,"flex flex-1 py-1"),children:[_.jsx("p",{children:a}),_.jsx("input",{id:e,name:e,className:"mx-1 flex-1 focus:outline-offset-2 focus:outline-emerald-600",type:"range",onChange:s,value:o.toString(),min:a,max:l,step:t.step,"aria-describedby":r}),_.jsx("p",{children:l})]}),_.jsx("input",{id:`${e}.numberSliderOutput`,name:`${e}.numberSliderOutput`,className:le(cr,"!w-16 pr-0.5 text-center"),type:"number",onChange:s,value:o.toString(),min:a,max:l,step:t.step,placeholder:t.placeholder,"aria-describedby":r})]})})}function o9(){const{setting:t,idString:e,descriptionIdString:r,value:n,setValue:i}=it();if(!t||t.type!=="select-input")return null;function s(o){if(!t||t.type!=="select-input")return null;const a=t.options.find(l=>l.label===o.target.value);if(a)if("multiple"in t&&t.multiple){const l=Array.isArray(n)?n:[];o.target.checked?l.includes(a.value)||i([...l,a.value]):i(l.filter(u=>u!==a.value))}else i(a.value)}return _.jsxs(Ow,{children:[_.jsxs("fieldset",{"aria-describedby":r,children:[_.jsx("legend",{className:le("-mt-0.5 block w-full px-2 py-0.5 font-medium text-white text-shadow text-shadow-c-black/75 text-shadow-y-px"),children:t.label}),_.jsx("div",{className:le(cr,"pb-0 pt-2"),children:t.options.map(o=>{const a=`${e}.${o.label}`,l="multiple"in t&&t.multiple?(Array.isArray(n)?n:[]).includes(o.value):n===o.value;return _.jsxs("label",{htmlFor:a,className:"",children:[_.jsx("input",{id:a,value:o.label,name:e,onChange:s,className:"peer appearance-none",checked:l,type:"multiple"in t&&t.multiple?"checkbox":"radio"}),_.jsx("span",{className:le(" mb-2 mr-2 inline-block rounded border-2 p-1 peer-focus:outline peer-focus:outline-2 peer-focus:outline-offset-2 peer-focus:outline-emerald-800 hover:outline hover:outline-2 hover:outline-offset-2 hover:outline-emerald-800",!l&&"border-slate-400 text-slate-500",l&&"slime2-tag-shadow border-emerald-800 bg-green-700 text-white"),children:o.label})]},a)})})]}),_.jsx(Bw,{id:r,children:t.description})]})}function a9(){const{setting:t,idString:e,descriptionIdString:r,value:n,setValue:i}=it();if(!t||t.type!=="text-input")return null;function s(l){i(l.target.value)}const o={id:e,name:e,className:cr,onChange:s,placeholder:t.placeholder,"aria-describedby":r},a=typeof n=="string"?n:"";return"multiple"in t&&t.multiple?_.jsx(u9,{...o,value:Array.isArray(n)?n:[],setValue:i}):t.multiline?_.jsx(l9,{...o,value:a}):_.jsx(Or,{children:_.jsx("input",{...o,type:"text",value:a})})}function l9(t){const{style:e,ref:r,className:n,...i}=t;return _.jsx(Or,{children:_.jsx(iA,{...i,className:le("resize-none overflow-auto border-none scrollbar-thin scrollbar-track-emerald-800/25 scrollbar-thumb-emerald-800 scrollbar-track-rounded-none scrollbar-thumb-rounded-none hover:scrollbar-thumb-emerald-700 active:scrollbar-thumb-emerald-600",n),minRows:4})})}function u9(t){const{value:e,setValue:r,...n}=t,i=Array.isArray(e)?e:[],[s,o]=I.useState("");function a(){if(s&&!i.includes(s)){o("");const f=s.trim();f&&r([...e,f])}}function l(f){r(e.filter(d=>d!==f))}function u(f){f.nativeEvent.isComposing||f.keyCode===229||f.key==="Enter"&&a()}function c(f){o(f.target.value)}return _.jsx(Or,{children:_.jsxs("div",{className:"bg-white",children:[_.jsx("input",{...n,type:"text",onKeyDown:u,onBlur:a,value:s,onChange:c}),_.jsx("div",{className:le("flex flex-wrap gap-1 border-t border-emerald-800 p-1 text-[16px] font-semibold",!i.length&&"hidden"),children:i.map(f=>_.jsxs("div",{className:"slime2-tag-shadow flex items-center gap-1 rounded-sm border-2 border-emerald-800 bg-green-700 px-1 text-white text-shadow text-shadow-c-black/75 text-shadow-y-px",children:[_.jsx("p",{children:f}),_.jsx("button",{className:"my-1 rounded-sm bg-green-500/50 hover:bg-rose-500  focus:bg-rose-500 focus:outline-none",onClick:()=>l(f),children:_.jsx(qo,{className:"drop-shadow drop-shadow-c-black/50 drop-shadow-y-px",size:18,strokeWidth:3})})]},f))})]})})}function c9(){const{setting:t,idString:e,descriptionIdString:r,value:n,setValue:i}=it(),s=I.useRef(null);if(!t||t.type!=="video-input")return null;function o(d){if(!(!t||!d))if("multiple"in t&&t.multiple){const g=Array.isArray(n)?n:[],v=d.filter(b=>!g.includes(b));v.length&&i([...g,...v])}else i(d[0])}function a(d){if(!(!t||!d))if("multiple"in t&&t.multiple){const g=Array.isArray(n)?n:[];i(g.filter(v=>v!==d))}else i(null)}function l(d){const{files:g}=d.target;if(!g||!g.length)return;const v=[];for(const b of g)v.push(`assets/${b.name}`);o(v),d.target.value=""}function u(){return t?"multiple"in t&&t.multiple?(Array.isArray(n)?n:[]).map(g=>_.jsx(Kx,{src:g,onRemove:a},g)):typeof f!="string"?null:[f].map(d=>_.jsx(Kx,{src:d,onRemove:a},d)):null}function c(){var d;(d=s.current)==null||d.click()}const f="multiple"in t&&t.multiple?Array.isArray(n)?n:[]:typeof n=="string"?n:null;return _.jsx(Or,{children:_.jsxs("div",{className:"bg-white",children:[_.jsx("div",{className:"border-b border-emerald-800 p-2",children:_.jsxs(_n,{className:"w-full justify-center !px-1 !py-3",onClick:c,children:[_.jsx(Xr,{className:"text-xs",children:`Choose ${Array.isArray(n)?"Videos":"a Video"} from the Widget Assets Folder`}),_.jsx(bn,{children:Array.isArray(n)?_.jsx(Sw,{size:22,strokeWidth:2.5,className:"-mt-0.5"}):_.jsx(AB,{size:22,strokeWidth:2.5,className:"-mt-0.5"})})]})}),_.jsx("input",{className:"hidden",id:`${e}.chooseFile`,type:"file",multiple:"multiple"in t&&t.multiple,accept:"video/*",onChange:l,ref:s,"aria-describedby":r}),(Array.isArray(n)&&n.length||typeof n=="string")&&_.jsx("div",{className:le("grid grid-cols-1 gap-2 border-t border-emerald-800 bg-white p-2",Array.isArray(n)&&{"grid-cols-2":n.length>1}),children:u()})]})})}function Kx({onRemove:t,...e}){var r;return _.jsxs("div",{className:"slime2-group-shadow flex flex-col overflow-hidden rounded border-2 border-emerald-800",children:[_.jsxs("div",{className:"title-shadow-i pointer-events-none flex rounded-t-sm font-fredoka text-white",children:[_.jsx("p",{className:"-mt-0.5 flex-1 overflow-hidden text-ellipsis whitespace-nowrap bg-gradient-to-b from-lime-600 to-emerald-700 px-2 py-0.5 text-xs font-medium text-shadow text-shadow-c-black/75 text-shadow-y-px",children:(r=e.src)==null?void 0:r.split("/").pop()}),_.jsx("button",{className:"pointer-events-auto rounded-tr-sm bg-rose-700 p-0.5 text-white hover:bg-rose-500 focus:bg-rose-500 focus:outline-none",onClick:()=>t(e.src),children:_.jsx(qo,{className:"drop-shadow drop-shadow-c-black/75 drop-shadow-y-px",size:20,strokeWidth:3})})]}),_.jsx("div",{className:"flex flex-1 flex-col items-center justify-center",children:_.jsx(d9,{...e})})]})}function d9(t){const[e,r]=I.useState(!1);return e?_.jsx("div",{className:"flex items-center justify-center p-1 pr-3",children:_.jsx("p",{className:"text-xs font-bold",children:"Video not found in assets folder!"})}):_.jsx("video",{controls:!0,className:"max-h-60",children:_.jsx("source",{...t,onError:()=>r(!0),onLoad:()=>r(!1)})})}function f9(){const{setting:t,idString:e,groupId:r}=it();return!t||t.type!=="button"?null:_.jsxs(_n,{id:e,onClick:()=>t.onClick(r,t.id),className:"justify-center",children:[_.jsx(bn,{children:_.jsx(UP,{strokeWidth:3,size:24,className:"-mt-0.5"})}),_.jsx(Xr,{children:t.label})]})}function h9(t){function e(){switch(t.type){case"group":return _.jsx(t9,{});case"button":return _.jsx(f9,{});case"text-input":return _.jsx(a9,{});case"number-input":return _.jsx(i9,{});case"boolean-input":return _.jsx(m$,{});case"color-input":return _.jsx(D$,{});case"font-input":return _.jsx(Z$,{});case"image-input":return _.jsx(n9,{});case"video-input":return _.jsx(c9,{});case"audio-input":return _.jsx(h$,{});case"select-input":return _.jsx(o9,{});case"dropdown-input":return _.jsx(L$,{});case"text-display":return _.jsx(sA,{});case"image-display":return _.jsx(r9,{});default:return null}}return _.jsx(qf,{value:t,children:e()})}function qw({settings:t}){return _.jsx("div",{className:"flex flex-col gap-2 p-2",children:t.map(e=>_.jsx(h9,{...e},e.id))})}function p9(){const{unsavedChanges:t}=cf();return t?_.jsxs("div",{className:"flex flex-col items-center gap-2 border-t-2 border-t-emerald-800 bg-green-700 p-2",children:[_.jsx("p",{className:"font-radiocanada text-xs font-semibold text-white",children:"You have some unsaved changes."}),_.jsx(FP,{})]}):null}function m9(){const{openWindow:t}=tu(),{unsavedChanges:e}=cf(),{widgetSettings:r}=vn();return I.useEffect(()=>{function n(i){e&&(i.preventDefault(),i.returnValue=!0,t({id:"slime2window.unsavedChanges",icon:RL,title:"You have unsaved changes!",className:"w-80",children:_.jsxs("div",{className:"flex flex-col gap-3 p-2",children:[_.jsxs("p",{className:"font-radiocanada text-sm",children:["To see your changes in ",_.jsx("span",{className:"font-bold",children:"OBS"})," ","(or other streaming software),"," ",_.jsx("span",{className:"font-bold",children:"download and save your widget data!"})]}),_.jsx(FP,{})]})},{x:window.innerWidth/3,y:window.innerHeight/2}))}return addEventListener("beforeunload",n),()=>{removeEventListener("beforeunload",n)}},[e,t]),!r||!r.length?null:_.jsxs(_n,{onClick:n=>{t({id:"widget-settings",icon:SB,title:"Widget Settings",className:"w-96",children:_.jsx(qw,{settings:r}),footer:_.jsx(p9,{})}),n.stopPropagation()},className:"justify-between",children:[_.jsx(Xr,{children:"Widget Settings"}),_.jsx(bn,{children:_.jsx($P,{strokeWidth:3,size:30,className:"-mt-0.5"})})]})}function g9(){const{platforms:t}=vn();return _.jsxs("div",{className:"flex flex-col justify-center gap-2 p-3",children:[_.jsx(m9,{}),t.includes("twitch")&&_.jsx(QB,{})]})}function y9({children:t}){const e=[{id:"slime2window.tools",icon:TB,title:"Tools",children:_.jsx(g9,{})}],[r,n]=I.useReducer($8,e);return _.jsx(CP.Provider,{value:r,children:_.jsx(EP.Provider,{value:n,children:t})})}const v9=Gm.createRoot(document.getElementById("slime2-root")),w9=new lI;v9.render(_.jsx(H.StrictMode,{children:_.jsx(jB,{children:_.jsx(fI,{client:w9,children:_.jsx(UB,{children:_.jsx(y9,{children:_.jsx($B,{children:_.jsx(BB,{children:_.jsxs(LB,{children:[_.jsx(D8,{}),_.jsx(A8,{}),_.jsx(DB,{})]})})})})})})})}));
