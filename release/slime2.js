var sE=Object.defineProperty;var oE=(t,e,r)=>e in t?sE(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var Fa=(t,e,r)=>(oE(t,typeof e!="symbol"?e+"":e,r),r),Nc=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)};var b=(t,e,r)=>(Nc(t,e,"read from private field"),r?r.call(t):e.get(t)),z=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},q=(t,e,r,n)=>(Nc(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r);var La=(t,e,r,n)=>({set _(i){q(t,e,i,r)},get _(){return b(t,e,n)}}),Z=(t,e,r)=>(Nc(t,e,"access private method"),r);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var Lu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function li(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function aE(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var nw={exports:{}},qu={},iw={exports:{}},re={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xa=Symbol.for("react.element"),lE=Symbol.for("react.portal"),uE=Symbol.for("react.fragment"),cE=Symbol.for("react.strict_mode"),dE=Symbol.for("react.profiler"),hE=Symbol.for("react.provider"),fE=Symbol.for("react.context"),pE=Symbol.for("react.forward_ref"),mE=Symbol.for("react.suspense"),gE=Symbol.for("react.memo"),yE=Symbol.for("react.lazy"),Vg=Symbol.iterator;function vE(t){return t===null||typeof t!="object"?null:(t=Vg&&t[Vg]||t["@@iterator"],typeof t=="function"?t:null)}var sw={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ow=Object.assign,aw={};function bs(t,e,r){this.props=t,this.context=e,this.refs=aw,this.updater=r||sw}bs.prototype.isReactComponent={};bs.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};bs.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function lw(){}lw.prototype=bs.prototype;function Jp(t,e,r){this.props=t,this.context=e,this.refs=aw,this.updater=r||sw}var Yp=Jp.prototype=new lw;Yp.constructor=Jp;ow(Yp,bs.prototype);Yp.isPureReactComponent=!0;var Qg=Array.isArray,uw=Object.prototype.hasOwnProperty,Xp={current:null},cw={key:!0,ref:!0,__self:!0,__source:!0};function dw(t,e,r){var n,i={},s=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)uw.call(e,n)&&!cw.hasOwnProperty(n)&&(i[n]=e[n]);var a=arguments.length-2;if(a===1)i.children=r;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(n in a=t.defaultProps,a)i[n]===void 0&&(i[n]=a[n]);return{$$typeof:xa,type:t,key:s,ref:o,props:i,_owner:Xp.current}}function _E(t,e){return{$$typeof:xa,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Zp(t){return typeof t=="object"&&t!==null&&t.$$typeof===xa}function wE(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var Kg=/\/+/g;function Dc(t,e){return typeof t=="object"&&t!==null&&t.key!=null?wE(""+t.key):e.toString(36)}function ll(t,e,r,n,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case xa:case lE:o=!0}}if(o)return o=t,i=i(o),t=n===""?"."+Dc(o,0):n,Qg(i)?(r="",t!=null&&(r=t.replace(Kg,"$&/")+"/"),ll(i,e,r,"",function(u){return u})):i!=null&&(Zp(i)&&(i=_E(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Kg,"$&/")+"/")+t)),e.push(i)),1;if(o=0,n=n===""?".":n+":",Qg(t))for(var a=0;a<t.length;a++){s=t[a];var l=n+Dc(s,a);o+=ll(s,e,r,l,i)}else if(l=vE(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=n+Dc(s,a++),o+=ll(s,e,r,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function qa(t,e,r){if(t==null)return t;var n=[],i=0;return ll(t,n,"","",function(s){return e.call(r,s,i++)}),n}function SE(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var it={current:null},ul={transition:null},xE={ReactCurrentDispatcher:it,ReactCurrentBatchConfig:ul,ReactCurrentOwner:Xp};re.Children={map:qa,forEach:function(t,e,r){qa(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return qa(t,function(){e++}),e},toArray:function(t){return qa(t,function(e){return e})||[]},only:function(t){if(!Zp(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};re.Component=bs;re.Fragment=uE;re.Profiler=dE;re.PureComponent=Jp;re.StrictMode=cE;re.Suspense=mE;re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xE;re.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=ow({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Xp.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)uw.call(e,l)&&!cw.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];n.children=a}return{$$typeof:xa,type:t.type,key:i,ref:s,props:n,_owner:o}};re.createContext=function(t){return t={$$typeof:fE,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:hE,_context:t},t.Consumer=t};re.createElement=dw;re.createFactory=function(t){var e=dw.bind(null,t);return e.type=t,e};re.createRef=function(){return{current:null}};re.forwardRef=function(t){return{$$typeof:pE,render:t}};re.isValidElement=Zp;re.lazy=function(t){return{$$typeof:yE,_payload:{_status:-1,_result:t},_init:SE}};re.memo=function(t,e){return{$$typeof:gE,type:t,compare:e===void 0?null:e}};re.startTransition=function(t){var e=ul.transition;ul.transition={};try{t()}finally{ul.transition=e}};re.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};re.useCallback=function(t,e){return it.current.useCallback(t,e)};re.useContext=function(t){return it.current.useContext(t)};re.useDebugValue=function(){};re.useDeferredValue=function(t){return it.current.useDeferredValue(t)};re.useEffect=function(t,e){return it.current.useEffect(t,e)};re.useId=function(){return it.current.useId()};re.useImperativeHandle=function(t,e,r){return it.current.useImperativeHandle(t,e,r)};re.useInsertionEffect=function(t,e){return it.current.useInsertionEffect(t,e)};re.useLayoutEffect=function(t,e){return it.current.useLayoutEffect(t,e)};re.useMemo=function(t,e){return it.current.useMemo(t,e)};re.useReducer=function(t,e,r){return it.current.useReducer(t,e,r)};re.useRef=function(t){return it.current.useRef(t)};re.useState=function(t){return it.current.useState(t)};re.useSyncExternalStore=function(t,e,r){return it.current.useSyncExternalStore(t,e,r)};re.useTransition=function(){return it.current.useTransition()};re.version="18.2.0";iw.exports=re;var G=iw.exports;const CE=li(G);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bE=G,EE=Symbol.for("react.element"),TE=Symbol.for("react.fragment"),IE=Object.prototype.hasOwnProperty,AE=bE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,PE={key:!0,ref:!0,__self:!0,__source:!0};function hw(t,e,r){var n,i={},s=null,o=null;r!==void 0&&(s=""+r),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)IE.call(e,n)&&!PE.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:EE,type:t,key:s,ref:o,props:i,_owner:AE.current}}qu.Fragment=TE;qu.jsx=hw;qu.jsxs=hw;nw.exports=qu;var Q=nw.exports,Ca=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},cs=typeof window>"u"||"Deno"in window;function Tt(){}function kE(t,e){return typeof t=="function"?t(e):t}function Kh(t){return typeof t=="number"&&t>=0&&t!==1/0}function fw(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Jg(t,e){const{type:r="all",exact:n,fetchStatus:i,predicate:s,queryKey:o,stale:a}=t;if(o){if(n){if(e.queryHash!==em(o,e.options))return!1}else if(!yo(e.queryKey,o))return!1}if(r!=="all"){const l=e.isActive();if(r==="active"&&!l||r==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||typeof i<"u"&&i!==e.state.fetchStatus||s&&!s(e))}function Yg(t,e){const{exact:r,status:n,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(r){if(go(e.options.mutationKey)!==go(s))return!1}else if(!yo(e.options.mutationKey,s))return!1}return!(n&&e.state.status!==n||i&&!i(e))}function em(t,e){return((e==null?void 0:e.queryKeyHashFn)||go)(t)}function go(t){return JSON.stringify(t,(e,r)=>Yh(r)?Object.keys(r).sort().reduce((n,i)=>(n[i]=r[i],n),{}):r)}function yo(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(r=>!yo(t[r],e[r])):!1}function pw(t,e){if(t===e)return t;const r=Xg(t)&&Xg(e);if(r||Yh(t)&&Yh(e)){const n=r?t.length:Object.keys(t).length,i=r?e:Object.keys(e),s=i.length,o=r?[]:{};let a=0;for(let l=0;l<s;l++){const u=r?l:i[l];o[u]=pw(t[u],e[u]),o[u]===t[u]&&a++}return n===s&&a===n?t:o}return e}function Jh(t,e){if(t&&!e||e&&!t)return!1;for(const r in t)if(t[r]!==e[r])return!1;return!0}function Xg(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Yh(t){if(!Zg(t))return!1;const e=t.constructor;if(typeof e>"u")return!0;const r=e.prototype;return!(!Zg(r)||!r.hasOwnProperty("isPrototypeOf"))}function Zg(t){return Object.prototype.toString.call(t)==="[object Object]"}function mw(t){return new Promise(e=>{setTimeout(e,t)})}function ey(t){mw(0).then(t)}function Xh(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?pw(t,e):e}function RE(t,e,r=0){const n=[...t,e];return r&&n.length>r?n.slice(1):n}function OE(t,e,r=0){const n=[e,...t];return r&&n.length>r?n.slice(0,-1):n}var Un,Kr,Ki,Q0,ME=(Q0=class extends Ca{constructor(){super();z(this,Un,void 0);z(this,Kr,void 0);z(this,Ki,void 0);q(this,Ki,e=>{if(!cs&&window.addEventListener){const r=()=>e();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){b(this,Kr)||this.setEventListener(b(this,Ki))}onUnsubscribe(){var e;this.hasListeners()||((e=b(this,Kr))==null||e.call(this),q(this,Kr,void 0))}setEventListener(e){var r;q(this,Ki,e),(r=b(this,Kr))==null||r.call(this),q(this,Kr,e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(e){b(this,Un)!==e&&(q(this,Un,e),this.onFocus())}onFocus(){this.listeners.forEach(e=>{e()})}isFocused(){var e;return typeof b(this,Un)=="boolean"?b(this,Un):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Un=new WeakMap,Kr=new WeakMap,Ki=new WeakMap,Q0),kl=new ME,Ji,Jr,Yi,K0,NE=(K0=class extends Ca{constructor(){super();z(this,Ji,!0);z(this,Jr,void 0);z(this,Yi,void 0);q(this,Yi,e=>{if(!cs&&window.addEventListener){const r=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){b(this,Jr)||this.setEventListener(b(this,Yi))}onUnsubscribe(){var e;this.hasListeners()||((e=b(this,Jr))==null||e.call(this),q(this,Jr,void 0))}setEventListener(e){var r;q(this,Yi,e),(r=b(this,Jr))==null||r.call(this),q(this,Jr,e(this.setOnline.bind(this)))}setOnline(e){b(this,Ji)!==e&&(q(this,Ji,e),this.listeners.forEach(n=>{n(e)}))}isOnline(){return b(this,Ji)}},Ji=new WeakMap,Jr=new WeakMap,Yi=new WeakMap,K0),Rl=new NE;function DE(t){return Math.min(1e3*2**t,3e4)}function $u(t){return(t??"online")==="online"?Rl.isOnline():!0}var gw=class{constructor(t){this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Bc(t){return t instanceof gw}function yw(t){let e=!1,r=0,n=!1,i,s,o;const a=new Promise((w,p)=>{s=w,o=p}),l=w=>{var p;n||(v(new gw(w)),(p=t.abort)==null||p.call(t))},u=()=>{e=!0},c=()=>{e=!1},f=()=>!kl.isFocused()||t.networkMode!=="always"&&!Rl.isOnline(),h=w=>{var p;n||(n=!0,(p=t.onSuccess)==null||p.call(t,w),i==null||i(),s(w))},v=w=>{var p;n||(n=!0,(p=t.onError)==null||p.call(t,w),i==null||i(),o(w))},g=()=>new Promise(w=>{var p;i=m=>{const y=n||!f();return y&&w(m),y},(p=t.onPause)==null||p.call(t)}).then(()=>{var w;i=void 0,n||(w=t.onContinue)==null||w.call(t)}),_=()=>{if(n)return;let w;try{w=t.fn()}catch(p){w=Promise.reject(p)}Promise.resolve(w).then(h).catch(p=>{var O;if(n)return;const m=t.retry??(cs?0:3),y=t.retryDelay??DE,C=typeof y=="function"?y(r,p):y,E=m===!0||typeof m=="number"&&r<m||typeof m=="function"&&m(r,p);if(e||!E){v(p);return}r++,(O=t.onFail)==null||O.call(t,r,p),mw(C).then(()=>{if(f())return g()}).then(()=>{e?v(p):_()})})};return $u(t.networkMode)?_():g().then(_),{promise:a,cancel:l,continue:()=>(i==null?void 0:i())?a:Promise.resolve(),cancelRetry:u,continueRetry:c}}function BE(){let t=[],e=0,r=c=>{c()},n=c=>{c()};const i=c=>{let f;e++;try{f=c()}finally{e--,e||a()}return f},s=c=>{e?t.push(c):ey(()=>{r(c)})},o=c=>(...f)=>{s(()=>{c(...f)})},a=()=>{const c=t;t=[],c.length&&ey(()=>{n(()=>{c.forEach(f=>{r(f)})})})};return{batch:i,batchCalls:o,schedule:s,setNotifyFunction:c=>{r=c},setBatchNotifyFunction:c=>{n=c}}}var Ve=BE(),Fn,J0,vw=(J0=class{constructor(){z(this,Fn,void 0)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Kh(this.gcTime)&&q(this,Fn,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(cs?1/0:5*60*1e3))}clearGcTimeout(){b(this,Fn)&&(clearTimeout(b(this,Fn)),q(this,Fn,void 0))}},Fn=new WeakMap,J0),Xi,Zi,Ct,Yr,bt,je,da,Ln,es,cl,zt,gr,Y0,UE=(Y0=class extends vw{constructor(e){super();z(this,es);z(this,zt);z(this,Xi,void 0);z(this,Zi,void 0);z(this,Ct,void 0);z(this,Yr,void 0);z(this,bt,void 0);z(this,je,void 0);z(this,da,void 0);z(this,Ln,void 0);q(this,Ln,!1),q(this,da,e.defaultOptions),Z(this,es,cl).call(this,e.options),q(this,je,[]),q(this,Ct,e.cache),this.queryKey=e.queryKey,this.queryHash=e.queryHash,q(this,Xi,e.state||FE(this.options)),this.state=b(this,Xi),this.scheduleGc()}get meta(){return this.options.meta}optionalRemove(){!b(this,je).length&&this.state.fetchStatus==="idle"&&b(this,Ct).remove(this)}setData(e,r){const n=Xh(this.state.data,e,this.options);return Z(this,zt,gr).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(e,r){Z(this,zt,gr).call(this,{type:"setState",state:e,setStateOptions:r})}cancel(e){var n;const r=b(this,Yr);return(n=b(this,bt))==null||n.cancel(e),r?r.then(Tt).catch(Tt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(b(this,Xi))}isActive(){return b(this,je).some(e=>e.options.enabled!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated||!this.state.dataUpdatedAt||b(this,je).some(e=>e.getCurrentResult().isStale)}isStaleByTime(e=0){return this.state.isInvalidated||!this.state.dataUpdatedAt||!fw(this.state.dataUpdatedAt,e)}onFocus(){var r;const e=b(this,je).find(n=>n.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(r=b(this,bt))==null||r.continue()}onOnline(){var r;const e=b(this,je).find(n=>n.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(r=b(this,bt))==null||r.continue()}addObserver(e){b(this,je).includes(e)||(b(this,je).push(e),this.clearGcTimeout(),b(this,Ct).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){b(this,je).includes(e)&&(q(this,je,b(this,je).filter(r=>r!==e)),b(this,je).length||(b(this,bt)&&(b(this,Ln)?b(this,bt).cancel({revert:!0}):b(this,bt).cancelRetry()),this.scheduleGc()),b(this,Ct).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return b(this,je).length}invalidate(){this.state.isInvalidated||Z(this,zt,gr).call(this,{type:"invalidate"})}fetch(e,r){var u,c,f,h;if(this.state.fetchStatus!=="idle"){if(this.state.dataUpdatedAt&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(b(this,Yr))return(u=b(this,bt))==null||u.continueRetry(),b(this,Yr)}if(e&&Z(this,es,cl).call(this,e),!this.options.queryFn){const v=b(this,je).find(g=>g.options.queryFn);v&&Z(this,es,cl).call(this,v.options)}const n=new AbortController,i={queryKey:this.queryKey,meta:this.meta},s=v=>{Object.defineProperty(v,"signal",{enumerable:!0,get:()=>(q(this,Ln,!0),n.signal)})};s(i);const o=()=>this.options.queryFn?(q(this,Ln,!1),this.options.persister?this.options.persister(this.options.queryFn,i,this):this.options.queryFn(i)):Promise.reject(new Error(`Missing queryFn: '${this.options.queryHash}'`)),a={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};s(a),(c=this.options.behavior)==null||c.onFetch(a,this),q(this,Zi,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((f=a.fetchOptions)==null?void 0:f.meta))&&Z(this,zt,gr).call(this,{type:"fetch",meta:(h=a.fetchOptions)==null?void 0:h.meta});const l=v=>{var g,_,w,p;Bc(v)&&v.silent||Z(this,zt,gr).call(this,{type:"error",error:v}),Bc(v)||((_=(g=b(this,Ct).config).onError)==null||_.call(g,v,this),(p=(w=b(this,Ct).config).onSettled)==null||p.call(w,this.state.data,v,this)),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return q(this,bt,yw({fn:a.fetchFn,abort:n.abort.bind(n),onSuccess:v=>{var g,_,w,p;if(typeof v>"u"){l(new Error(`${this.queryHash} data is undefined`));return}this.setData(v),(_=(g=b(this,Ct).config).onSuccess)==null||_.call(g,v,this),(p=(w=b(this,Ct).config).onSettled)==null||p.call(w,v,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:l,onFail:(v,g)=>{Z(this,zt,gr).call(this,{type:"failed",failureCount:v,error:g})},onPause:()=>{Z(this,zt,gr).call(this,{type:"pause"})},onContinue:()=>{Z(this,zt,gr).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode})),q(this,Yr,b(this,bt).promise),b(this,Yr)}},Xi=new WeakMap,Zi=new WeakMap,Ct=new WeakMap,Yr=new WeakMap,bt=new WeakMap,je=new WeakMap,da=new WeakMap,Ln=new WeakMap,es=new WeakSet,cl=function(e){this.options={...b(this,da),...e},this.updateGcTime(this.options.gcTime)},zt=new WeakSet,gr=function(e){const r=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:e.meta??null,fetchStatus:$u(this.options.networkMode)?"fetching":"paused",...!n.dataUpdatedAt&&{error:null,status:"pending"}};case"success":return{...n,data:e.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=e.error;return Bc(i)&&i.revert&&b(this,Zi)?{...b(this,Zi),fetchStatus:"idle"}:{...n,error:i,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=r(this.state),Ve.batch(()=>{b(this,je).forEach(n=>{n.onQueryUpdate()}),b(this,Ct).notify({query:this,type:"updated",action:e})})},Y0);function FE(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=typeof e<"u",n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var ir,X0,LE=(X0=class extends Ca{constructor(e={}){super();z(this,ir,void 0);this.config=e,q(this,ir,new Map)}build(e,r,n){const i=r.queryKey,s=r.queryHash??em(i,r);let o=this.get(s);return o||(o=new UE({cache:this,queryKey:i,queryHash:s,options:e.defaultQueryOptions(r),state:n,defaultOptions:e.getQueryDefaults(i)}),this.add(o)),o}add(e){b(this,ir).has(e.queryHash)||(b(this,ir).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const r=b(this,ir).get(e.queryHash);r&&(e.destroy(),r===e&&b(this,ir).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Ve.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return b(this,ir).get(e)}getAll(){return[...b(this,ir).values()]}find(e){const r={exact:!0,...e};return this.getAll().find(n=>Jg(r,n))}findAll(e={}){const r=this.getAll();return Object.keys(e).length>0?r.filter(n=>Jg(e,n)):r}notify(e){Ve.batch(()=>{this.listeners.forEach(r=>{r(e)})})}onFocus(){Ve.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Ve.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},ir=new WeakMap,X0),sr,ha,mt,ts,or,jr,Z0,qE=(Z0=class extends vw{constructor(e){super();z(this,or);z(this,sr,void 0);z(this,ha,void 0);z(this,mt,void 0);z(this,ts,void 0);this.mutationId=e.mutationId,q(this,ha,e.defaultOptions),q(this,mt,e.mutationCache),q(this,sr,[]),this.state=e.state||$E(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options={...b(this,ha),...e},this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){b(this,sr).includes(e)||(b(this,sr).push(e),this.clearGcTimeout(),b(this,mt).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){q(this,sr,b(this,sr).filter(r=>r!==e)),this.scheduleGc(),b(this,mt).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){b(this,sr).length||(this.state.status==="pending"?this.scheduleGc():b(this,mt).remove(this))}continue(){var e;return((e=b(this,ts))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var i,s,o,a,l,u,c,f,h,v,g,_,w,p,m,y,C,E,O,M;const r=()=>(q(this,ts,yw({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(P,F)=>{Z(this,or,jr).call(this,{type:"failed",failureCount:P,error:F})},onPause:()=>{Z(this,or,jr).call(this,{type:"pause"})},onContinue:()=>{Z(this,or,jr).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode})),b(this,ts).promise),n=this.state.status==="pending";try{if(!n){Z(this,or,jr).call(this,{type:"pending",variables:e}),await((s=(i=b(this,mt).config).onMutate)==null?void 0:s.call(i,e,this));const F=await((a=(o=this.options).onMutate)==null?void 0:a.call(o,e));F!==this.state.context&&Z(this,or,jr).call(this,{type:"pending",context:F,variables:e})}const P=await r();return await((u=(l=b(this,mt).config).onSuccess)==null?void 0:u.call(l,P,e,this.state.context,this)),await((f=(c=this.options).onSuccess)==null?void 0:f.call(c,P,e,this.state.context)),await((v=(h=b(this,mt).config).onSettled)==null?void 0:v.call(h,P,null,this.state.variables,this.state.context,this)),await((_=(g=this.options).onSettled)==null?void 0:_.call(g,P,null,e,this.state.context)),Z(this,or,jr).call(this,{type:"success",data:P}),P}catch(P){try{throw await((p=(w=b(this,mt).config).onError)==null?void 0:p.call(w,P,e,this.state.context,this)),await((y=(m=this.options).onError)==null?void 0:y.call(m,P,e,this.state.context)),await((E=(C=b(this,mt).config).onSettled)==null?void 0:E.call(C,void 0,P,this.state.variables,this.state.context,this)),await((M=(O=this.options).onSettled)==null?void 0:M.call(O,void 0,P,e,this.state.context)),P}finally{Z(this,or,jr).call(this,{type:"error",error:P})}}}},sr=new WeakMap,ha=new WeakMap,mt=new WeakMap,ts=new WeakMap,or=new WeakSet,jr=function(e){const r=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:!$u(this.options.networkMode),status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Ve.batch(()=>{b(this,sr).forEach(n=>{n.onMutationUpdate(e)}),b(this,mt).notify({mutation:this,type:"updated",action:e})})},Z0);function $E(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Et,fa,qn,ew,jE=(ew=class extends Ca{constructor(e={}){super();z(this,Et,void 0);z(this,fa,void 0);z(this,qn,void 0);this.config=e,q(this,Et,[]),q(this,fa,0)}build(e,r,n){const i=new qE({mutationCache:this,mutationId:++La(this,fa)._,options:e.defaultMutationOptions(r),state:n});return this.add(i),i}add(e){b(this,Et).push(e),this.notify({type:"added",mutation:e})}remove(e){q(this,Et,b(this,Et).filter(r=>r!==e)),this.notify({type:"removed",mutation:e})}clear(){Ve.batch(()=>{b(this,Et).forEach(e=>{this.remove(e)})})}getAll(){return b(this,Et)}find(e){const r={exact:!0,...e};return b(this,Et).find(n=>Yg(r,n))}findAll(e={}){return b(this,Et).filter(r=>Yg(e,r))}notify(e){Ve.batch(()=>{this.listeners.forEach(r=>{r(e)})})}resumePausedMutations(){return q(this,qn,(b(this,qn)??Promise.resolve()).then(()=>{const e=b(this,Et).filter(r=>r.state.isPaused);return Ve.batch(()=>e.reduce((r,n)=>r.then(()=>n.continue().catch(Tt)),Promise.resolve()))}).then(()=>{q(this,qn,void 0)})),b(this,qn)}},Et=new WeakMap,fa=new WeakMap,qn=new WeakMap,ew);function HE(t){return{onFetch:(e,r)=>{const n=async()=>{var g,_,w,p,m;const i=e.options,s=(w=(_=(g=e.fetchOptions)==null?void 0:g.meta)==null?void 0:_.fetchMore)==null?void 0:w.direction,o=((p=e.state.data)==null?void 0:p.pages)||[],a=((m=e.state.data)==null?void 0:m.pageParams)||[],l={pages:[],pageParams:[]};let u=!1;const c=y=>{Object.defineProperty(y,"signal",{enumerable:!0,get:()=>(e.signal.aborted?u=!0:e.signal.addEventListener("abort",()=>{u=!0}),e.signal)})},f=e.options.queryFn||(()=>Promise.reject(new Error(`Missing queryFn: '${e.options.queryHash}'`))),h=async(y,C,E)=>{if(u)return Promise.reject();if(C==null&&y.pages.length)return Promise.resolve(y);const O={queryKey:e.queryKey,pageParam:C,direction:E?"backward":"forward",meta:e.options.meta};c(O);const M=await f(O),{maxPages:P}=e.options,F=E?OE:RE;return{pages:F(y.pages,M,P),pageParams:F(y.pageParams,C,P)}};let v;if(s&&o.length){const y=s==="backward",C=y?zE:ty,E={pages:o,pageParams:a},O=C(i,E);v=await h(E,O,y)}else{v=await h(l,a[0]??i.initialPageParam);const y=t??o.length;for(let C=1;C<y;C++){const E=ty(i,v);v=await h(v,E)}}return v};e.options.persister?e.fetchFn=()=>{var i,s;return(s=(i=e.options).persister)==null?void 0:s.call(i,n,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r)}:e.fetchFn=n}}}function ty(t,{pages:e,pageParams:r}){const n=e.length-1;return t.getNextPageParam(e[n],e,r[n],r)}function zE(t,{pages:e,pageParams:r}){var n;return(n=t.getPreviousPageParam)==null?void 0:n.call(t,e[0],e,r[0],r)}var Fe,Xr,Zr,rs,ns,en,is,ss,tw,GE=(tw=class{constructor(t={}){z(this,Fe,void 0);z(this,Xr,void 0);z(this,Zr,void 0);z(this,rs,void 0);z(this,ns,void 0);z(this,en,void 0);z(this,is,void 0);z(this,ss,void 0);q(this,Fe,t.queryCache||new LE),q(this,Xr,t.mutationCache||new jE),q(this,Zr,t.defaultOptions||{}),q(this,rs,new Map),q(this,ns,new Map),q(this,en,0)}mount(){La(this,en)._++,b(this,en)===1&&(q(this,is,kl.subscribe(()=>{kl.isFocused()&&(this.resumePausedMutations(),b(this,Fe).onFocus())})),q(this,ss,Rl.subscribe(()=>{Rl.isOnline()&&(this.resumePausedMutations(),b(this,Fe).onOnline())})))}unmount(){var t,e;La(this,en)._--,b(this,en)===0&&((t=b(this,is))==null||t.call(this),q(this,is,void 0),(e=b(this,ss))==null||e.call(this),q(this,ss,void 0))}isFetching(t){return b(this,Fe).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return b(this,Xr).findAll({...t,status:"pending"}).length}getQueryData(t){var e;return(e=b(this,Fe).find({queryKey:t}))==null?void 0:e.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);return e?Promise.resolve(e):this.fetchQuery(t)}getQueriesData(t){return this.getQueryCache().findAll(t).map(({queryKey:e,state:r})=>{const n=r.data;return[e,n]})}setQueryData(t,e,r){const n=b(this,Fe).find({queryKey:t}),i=n==null?void 0:n.state.data,s=kE(e,i);if(typeof s>"u")return;const o=this.defaultQueryOptions({queryKey:t});return b(this,Fe).build(this,o).setData(s,{...r,manual:!0})}setQueriesData(t,e,r){return Ve.batch(()=>this.getQueryCache().findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,r)]))}getQueryState(t){var e;return(e=b(this,Fe).find({queryKey:t}))==null?void 0:e.state}removeQueries(t){const e=b(this,Fe);Ve.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=b(this,Fe),n={type:"active",...t};return Ve.batch(()=>(r.findAll(t).forEach(i=>{i.reset()}),this.refetchQueries(n,e)))}cancelQueries(t={},e={}){const r={revert:!0,...e},n=Ve.batch(()=>b(this,Fe).findAll(t).map(i=>i.cancel(r)));return Promise.all(n).then(Tt).catch(Tt)}invalidateQueries(t={},e={}){return Ve.batch(()=>{if(b(this,Fe).findAll(t).forEach(n=>{n.invalidate()}),t.refetchType==="none")return Promise.resolve();const r={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(r,e)})}refetchQueries(t={},e){const r={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},n=Ve.batch(()=>b(this,Fe).findAll(t).filter(i=>!i.isDisabled()).map(i=>{let s=i.fetch(void 0,r);return r.throwOnError||(s=s.catch(Tt)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(n).then(Tt)}fetchQuery(t){const e=this.defaultQueryOptions(t);typeof e.retry>"u"&&(e.retry=!1);const r=b(this,Fe).build(this,e);return r.isStaleByTime(e.staleTime)?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Tt).catch(Tt)}fetchInfiniteQuery(t){return t.behavior=HE(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Tt).catch(Tt)}resumePausedMutations(){return b(this,Xr).resumePausedMutations()}getQueryCache(){return b(this,Fe)}getMutationCache(){return b(this,Xr)}getDefaultOptions(){return b(this,Zr)}setDefaultOptions(t){q(this,Zr,t)}setQueryDefaults(t,e){b(this,rs).set(go(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...b(this,rs).values()];let r={};return e.forEach(n=>{yo(t,n.queryKey)&&(r={...r,...n.defaultOptions})}),r}setMutationDefaults(t,e){b(this,ns).set(go(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...b(this,ns).values()];let r={};return e.forEach(n=>{yo(t,n.mutationKey)&&(r={...r,...n.defaultOptions})}),r}defaultQueryOptions(t){if(t!=null&&t._defaulted)return t;const e={...b(this,Zr).queries,...(t==null?void 0:t.queryKey)&&this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=em(e.queryKey,e)),typeof e.refetchOnReconnect>"u"&&(e.refetchOnReconnect=e.networkMode!=="always"),typeof e.throwOnError>"u"&&(e.throwOnError=!!e.suspense),typeof e.networkMode>"u"&&e.persister&&(e.networkMode="offlineFirst"),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...b(this,Zr).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){b(this,Fe).clear(),b(this,Xr).clear()}},Fe=new WeakMap,Xr=new WeakMap,Zr=new WeakMap,rs=new WeakMap,ns=new WeakMap,en=new WeakMap,is=new WeakMap,ss=new WeakMap,tw),at,me,os,Ze,$n,as,ar,pa,ls,us,jn,Hn,tn,zn,Gn,Qs,ma,Zh,ga,ef,ya,tf,va,rf,_a,nf,wa,sf,Sa,of,Fu,_w,rw,WE=(rw=class extends Ca{constructor(e,r){super();z(this,Gn);z(this,ma);z(this,ga);z(this,ya);z(this,va);z(this,_a);z(this,wa);z(this,Sa);z(this,Fu);z(this,at,void 0);z(this,me,void 0);z(this,os,void 0);z(this,Ze,void 0);z(this,$n,void 0);z(this,as,void 0);z(this,ar,void 0);z(this,pa,void 0);z(this,ls,void 0);z(this,us,void 0);z(this,jn,void 0);z(this,Hn,void 0);z(this,tn,void 0);z(this,zn,void 0);q(this,me,void 0),q(this,os,void 0),q(this,Ze,void 0),q(this,zn,new Set),q(this,at,e),this.options=r,q(this,ar,null),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(b(this,me).addObserver(this),ry(b(this,me),this.options)&&Z(this,Gn,Qs).call(this),Z(this,va,rf).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return af(b(this,me),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return af(b(this,me),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Z(this,_a,nf).call(this),Z(this,wa,sf).call(this),b(this,me).removeObserver(this)}setOptions(e,r){const n=this.options,i=b(this,me);if(this.options=b(this,at).defaultQueryOptions(e),Jh(n,this.options)||b(this,at).getQueryCache().notify({type:"observerOptionsUpdated",query:b(this,me),observer:this}),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=n.queryKey),Z(this,Sa,of).call(this);const s=this.hasListeners();s&&ny(b(this,me),i,this.options,n)&&Z(this,Gn,Qs).call(this),this.updateResult(r),s&&(b(this,me)!==i||this.options.enabled!==n.enabled||this.options.staleTime!==n.staleTime)&&Z(this,ma,Zh).call(this);const o=Z(this,ga,ef).call(this);s&&(b(this,me)!==i||this.options.enabled!==n.enabled||o!==b(this,tn))&&Z(this,ya,tf).call(this,o)}getOptimisticResult(e){const r=b(this,at).getQueryCache().build(b(this,at),e),n=this.createResult(r,e);return QE(this,n)&&(q(this,Ze,n),q(this,as,this.options),q(this,$n,b(this,me).state)),n}getCurrentResult(){return b(this,Ze)}trackResult(e){const r={};return Object.keys(e).forEach(n=>{Object.defineProperty(r,n,{configurable:!1,enumerable:!0,get:()=>(b(this,zn).add(n),e[n])})}),r}getCurrentQuery(){return b(this,me)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const r=b(this,at).defaultQueryOptions(e),n=b(this,at).getQueryCache().build(b(this,at),r);return n.isFetchingOptimistic=!0,n.fetch().then(()=>this.createResult(n,r))}fetch(e){return Z(this,Gn,Qs).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),b(this,Ze)))}createResult(e,r){var O;const n=b(this,me),i=this.options,s=b(this,Ze),o=b(this,$n),a=b(this,as),u=e!==n?e.state:b(this,os),{state:c}=e;let{error:f,errorUpdatedAt:h,fetchStatus:v,status:g}=c,_=!1,w;if(r._optimisticResults){const M=this.hasListeners(),P=!M&&ry(e,r),F=M&&ny(e,n,r,i);(P||F)&&(v=$u(e.options.networkMode)?"fetching":"paused",c.dataUpdatedAt||(g="pending")),r._optimisticResults==="isRestoring"&&(v="idle")}if(r.select&&typeof c.data<"u")if(s&&c.data===(o==null?void 0:o.data)&&r.select===b(this,pa))w=b(this,ls);else try{q(this,pa,r.select),w=r.select(c.data),w=Xh(s==null?void 0:s.data,w,r),q(this,ls,w),q(this,ar,null)}catch(M){q(this,ar,M)}else w=c.data;if(typeof r.placeholderData<"u"&&typeof w>"u"&&g==="pending"){let M;if(s!=null&&s.isPlaceholderData&&r.placeholderData===(a==null?void 0:a.placeholderData))M=s.data;else if(M=typeof r.placeholderData=="function"?r.placeholderData((O=b(this,us))==null?void 0:O.state.data,b(this,us)):r.placeholderData,r.select&&typeof M<"u")try{M=r.select(M),q(this,ar,null)}catch(P){q(this,ar,P)}typeof M<"u"&&(g="success",w=Xh(s==null?void 0:s.data,M,r),_=!0)}b(this,ar)&&(f=b(this,ar),w=b(this,ls),h=Date.now(),g="error");const p=v==="fetching",m=g==="pending",y=g==="error",C=m&&p;return{status:g,fetchStatus:v,isPending:m,isSuccess:g==="success",isError:y,isInitialLoading:C,isLoading:C,data:w,dataUpdatedAt:c.dataUpdatedAt,error:f,errorUpdatedAt:h,failureCount:c.fetchFailureCount,failureReason:c.fetchFailureReason,errorUpdateCount:c.errorUpdateCount,isFetched:c.dataUpdateCount>0||c.errorUpdateCount>0,isFetchedAfterMount:c.dataUpdateCount>u.dataUpdateCount||c.errorUpdateCount>u.errorUpdateCount,isFetching:p,isRefetching:p&&!m,isLoadingError:y&&c.dataUpdatedAt===0,isPaused:v==="paused",isPlaceholderData:_,isRefetchError:y&&c.dataUpdatedAt!==0,isStale:tm(e,r),refetch:this.refetch}}updateResult(e){const r=b(this,Ze),n=this.createResult(b(this,me),this.options);if(q(this,$n,b(this,me).state),q(this,as,this.options),Jh(n,r))return;b(this,$n).data!==void 0&&q(this,us,b(this,me)),q(this,Ze,n);const i={},s=()=>{if(!r)return!0;const{notifyOnChangeProps:o}=this.options,a=typeof o=="function"?o():o;if(a==="all"||!a&&!b(this,zn).size)return!0;const l=new Set(a??b(this,zn));return this.options.throwOnError&&l.add("error"),Object.keys(b(this,Ze)).some(u=>{const c=u;return b(this,Ze)[c]!==r[c]&&l.has(c)})};(e==null?void 0:e.listeners)!==!1&&s()&&(i.listeners=!0),Z(this,Fu,_w).call(this,{...i,...e})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Z(this,va,rf).call(this)}},at=new WeakMap,me=new WeakMap,os=new WeakMap,Ze=new WeakMap,$n=new WeakMap,as=new WeakMap,ar=new WeakMap,pa=new WeakMap,ls=new WeakMap,us=new WeakMap,jn=new WeakMap,Hn=new WeakMap,tn=new WeakMap,zn=new WeakMap,Gn=new WeakSet,Qs=function(e){Z(this,Sa,of).call(this);let r=b(this,me).fetch(this.options,e);return e!=null&&e.throwOnError||(r=r.catch(Tt)),r},ma=new WeakSet,Zh=function(){if(Z(this,_a,nf).call(this),cs||b(this,Ze).isStale||!Kh(this.options.staleTime))return;const r=fw(b(this,Ze).dataUpdatedAt,this.options.staleTime)+1;q(this,jn,setTimeout(()=>{b(this,Ze).isStale||this.updateResult()},r))},ga=new WeakSet,ef=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(b(this,me)):this.options.refetchInterval)??!1},ya=new WeakSet,tf=function(e){Z(this,wa,sf).call(this),q(this,tn,e),!(cs||this.options.enabled===!1||!Kh(b(this,tn))||b(this,tn)===0)&&q(this,Hn,setInterval(()=>{(this.options.refetchIntervalInBackground||kl.isFocused())&&Z(this,Gn,Qs).call(this)},b(this,tn)))},va=new WeakSet,rf=function(){Z(this,ma,Zh).call(this),Z(this,ya,tf).call(this,Z(this,ga,ef).call(this))},_a=new WeakSet,nf=function(){b(this,jn)&&(clearTimeout(b(this,jn)),q(this,jn,void 0))},wa=new WeakSet,sf=function(){b(this,Hn)&&(clearInterval(b(this,Hn)),q(this,Hn,void 0))},Sa=new WeakSet,of=function(){const e=b(this,at).getQueryCache().build(b(this,at),this.options);if(e===b(this,me))return;const r=b(this,me);q(this,me,e),q(this,os,e.state),this.hasListeners()&&(r==null||r.removeObserver(this),e.addObserver(this))},Fu=new WeakSet,_w=function(e){Ve.batch(()=>{e.listeners&&this.listeners.forEach(r=>{r(b(this,Ze))}),b(this,at).getQueryCache().notify({query:b(this,me),type:"observerResultsUpdated"})})},rw);function VE(t,e){return e.enabled!==!1&&!t.state.dataUpdatedAt&&!(t.state.status==="error"&&e.retryOnMount===!1)}function ry(t,e){return VE(t,e)||t.state.dataUpdatedAt>0&&af(t,e,e.refetchOnMount)}function af(t,e,r){if(e.enabled!==!1){const n=typeof r=="function"?r(t):r;return n==="always"||n!==!1&&tm(t,e)}return!1}function ny(t,e,r,n){return r.enabled!==!1&&(t!==e||n.enabled===!1)&&(!r.suspense||t.state.status!=="error")&&tm(t,r)}function tm(t,e){return t.isStaleByTime(e.staleTime)}function QE(t,e){return!Jh(t.getCurrentResult(),e)}var ww=G.createContext(void 0),rm=t=>{const e=G.useContext(ww);if(t)return t;if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},KE=({client:t,children:e})=>(G.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),G.createElement(ww.Provider,{value:t},e)),Sw=G.createContext(!1),JE=()=>G.useContext(Sw);Sw.Provider;function YE(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var XE=G.createContext(YE()),ZE=()=>G.useContext(XE);function eT(t,e){return typeof t=="function"?t(...e):!!t}var tT=(t,e)=>{(t.suspense||t.throwOnError)&&(e.isReset()||(t.retryOnMount=!1))},rT=t=>{G.useEffect(()=>{t.clearReset()},[t])},nT=({result:t,errorResetBoundary:e,throwOnError:r,query:n})=>t.isError&&!e.isReset()&&!t.isFetching&&eT(r,[t.error,n]),iT=t=>{t.suspense&&typeof t.staleTime!="number"&&(t.staleTime=1e3)},sT=(t,e)=>t.isLoading&&t.isFetching&&!e,oT=(t,e,r)=>(t==null?void 0:t.suspense)&&sT(e,r),aT=(t,e,r)=>e.fetchOptimistic(t).catch(()=>{r.clearReset()});function lT(t,e,r){const n=rm(r),i=JE(),s=ZE(),o=n.defaultQueryOptions(t);o._optimisticResults=i?"isRestoring":"optimistic",iT(o),tT(o,s),rT(s);const[a]=G.useState(()=>new e(n,o)),l=a.getOptimisticResult(o);if(G.useSyncExternalStore(G.useCallback(u=>{const c=i?()=>{}:a.subscribe(Ve.batchCalls(u));return a.updateResult(),c},[a,i]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),G.useEffect(()=>{a.setOptions(o,{listeners:!1})},[o,a]),oT(o,l,i))throw aT(o,a,s);if(nT({result:l,errorResetBoundary:s,throwOnError:o.throwOnError,query:a.getCurrentQuery()}))throw l.error;return o.notifyOnChangeProps?l:a.trackResult(l)}function xn(t,e){return lT(t,WE,e)}var lf={},xw={exports:{}},wt={},Cw={exports:{}},bw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(U,L){var K=U.length;U.push(L);e:for(;0<K;){var ce=K-1>>>1,_e=U[ce];if(0<i(_e,L))U[ce]=L,U[K]=_e,K=ce;else break e}}function r(U){return U.length===0?null:U[0]}function n(U){if(U.length===0)return null;var L=U[0],K=U.pop();if(K!==L){U[0]=K;e:for(var ce=0,_e=U.length,fi=_e>>>1;ce<fi;){var qt=2*(ce+1)-1,Ms=U[qt],Zt=qt+1,pi=U[Zt];if(0>i(Ms,K))Zt<_e&&0>i(pi,Ms)?(U[ce]=pi,U[Zt]=K,ce=Zt):(U[ce]=Ms,U[qt]=K,ce=qt);else if(Zt<_e&&0>i(pi,K))U[ce]=pi,U[Zt]=K,ce=Zt;else break e}}return L}function i(U,L){var K=U.sortIndex-L.sortIndex;return K!==0?K:U.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,f=null,h=3,v=!1,g=!1,_=!1,w=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(U){for(var L=r(u);L!==null;){if(L.callback===null)n(u);else if(L.startTime<=U)n(u),L.sortIndex=L.expirationTime,e(l,L);else break;L=r(u)}}function C(U){if(_=!1,y(U),!g)if(r(l)!==null)g=!0,J(E);else{var L=r(u);L!==null&&Ee(C,L.startTime-U)}}function E(U,L){g=!1,_&&(_=!1,p(P),P=-1),v=!0;var K=h;try{for(y(L),f=r(l);f!==null&&(!(f.expirationTime>L)||U&&!ee());){var ce=f.callback;if(typeof ce=="function"){f.callback=null,h=f.priorityLevel;var _e=ce(f.expirationTime<=L);L=t.unstable_now(),typeof _e=="function"?f.callback=_e:f===r(l)&&n(l),y(L)}else n(l);f=r(l)}if(f!==null)var fi=!0;else{var qt=r(u);qt!==null&&Ee(C,qt.startTime-L),fi=!1}return fi}finally{f=null,h=K,v=!1}}var O=!1,M=null,P=-1,F=5,H=-1;function ee(){return!(t.unstable_now()-H<F)}function Pe(){if(M!==null){var U=t.unstable_now();H=U;var L=!0;try{L=M(!0,U)}finally{L?ve():(O=!1,M=null)}}else O=!1}var ve;if(typeof m=="function")ve=function(){m(Pe)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,D=I.port2;I.port1.onmessage=Pe,ve=function(){D.postMessage(null)}}else ve=function(){w(Pe,0)};function J(U){M=U,O||(O=!0,ve())}function Ee(U,L){P=w(function(){U(t.unstable_now())},L)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(U){U.callback=null},t.unstable_continueExecution=function(){g||v||(g=!0,J(E))},t.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<U?Math.floor(1e3/U):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(U){switch(h){case 1:case 2:case 3:var L=3;break;default:L=h}var K=h;h=L;try{return U()}finally{h=K}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(U,L){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var K=h;h=U;try{return L()}finally{h=K}},t.unstable_scheduleCallback=function(U,L,K){var ce=t.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?ce+K:ce):K=ce,U){case 1:var _e=-1;break;case 2:_e=250;break;case 5:_e=1073741823;break;case 4:_e=1e4;break;default:_e=5e3}return _e=K+_e,U={id:c++,callback:L,priorityLevel:U,startTime:K,expirationTime:_e,sortIndex:-1},K>ce?(U.sortIndex=K,e(u,U),r(l)===null&&U===r(u)&&(_?(p(P),P=-1):_=!0,Ee(C,K-ce))):(U.sortIndex=_e,e(l,U),g||v||(g=!0,J(E))),U},t.unstable_shouldYield=ee,t.unstable_wrapCallback=function(U){var L=h;return function(){var K=h;h=L;try{return U.apply(this,arguments)}finally{h=K}}}})(bw);Cw.exports=bw;var uT=Cw.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ew=G,_t=uT;function B(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Tw=new Set,vo={};function ui(t,e){ds(t,e),ds(t+"Capture",e)}function ds(t,e){for(vo[t]=e,t=0;t<e.length;t++)Tw.add(e[t])}var br=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),uf=Object.prototype.hasOwnProperty,cT=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,iy={},sy={};function dT(t){return uf.call(sy,t)?!0:uf.call(iy,t)?!1:cT.test(t)?sy[t]=!0:(iy[t]=!0,!1)}function hT(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function fT(t,e,r,n){if(e===null||typeof e>"u"||hT(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function st(t,e,r,n,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Ke={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ke[t]=new st(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ke[e]=new st(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ke[t]=new st(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ke[t]=new st(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ke[t]=new st(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ke[t]=new st(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ke[t]=new st(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ke[t]=new st(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ke[t]=new st(t,5,!1,t.toLowerCase(),null,!1,!1)});var nm=/[\-:]([a-z])/g;function im(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(nm,im);Ke[e]=new st(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(nm,im);Ke[e]=new st(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(nm,im);Ke[e]=new st(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ke[t]=new st(t,1,!1,t.toLowerCase(),null,!1,!1)});Ke.xlinkHref=new st("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ke[t]=new st(t,1,!1,t.toLowerCase(),null,!0,!0)});function sm(t,e,r,n){var i=Ke.hasOwnProperty(e)?Ke[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(fT(e,r,i,n)&&(r=null),n||i===null?dT(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Ar=Ew.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,$a=Symbol.for("react.element"),bi=Symbol.for("react.portal"),Ei=Symbol.for("react.fragment"),om=Symbol.for("react.strict_mode"),cf=Symbol.for("react.profiler"),Iw=Symbol.for("react.provider"),Aw=Symbol.for("react.context"),am=Symbol.for("react.forward_ref"),df=Symbol.for("react.suspense"),hf=Symbol.for("react.suspense_list"),lm=Symbol.for("react.memo"),Hr=Symbol.for("react.lazy"),Pw=Symbol.for("react.offscreen"),oy=Symbol.iterator;function Bs(t){return t===null||typeof t!="object"?null:(t=oy&&t[oy]||t["@@iterator"],typeof t=="function"?t:null)}var Ae=Object.assign,Uc;function Ks(t){if(Uc===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Uc=e&&e[1]||""}return`
`+Uc+t}var Fc=!1;function Lc(t,e){if(!t||Fc)return"";Fc=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=n.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Fc=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Ks(t):""}function pT(t){switch(t.tag){case 5:return Ks(t.type);case 16:return Ks("Lazy");case 13:return Ks("Suspense");case 19:return Ks("SuspenseList");case 0:case 2:case 15:return t=Lc(t.type,!1),t;case 11:return t=Lc(t.type.render,!1),t;case 1:return t=Lc(t.type,!0),t;default:return""}}function ff(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ei:return"Fragment";case bi:return"Portal";case cf:return"Profiler";case om:return"StrictMode";case df:return"Suspense";case hf:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Aw:return(t.displayName||"Context")+".Consumer";case Iw:return(t._context.displayName||"Context")+".Provider";case am:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case lm:return e=t.displayName||null,e!==null?e:ff(t.type)||"Memo";case Hr:e=t._payload,t=t._init;try{return ff(t(e))}catch{}}return null}function mT(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ff(e);case 8:return e===om?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function gn(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function kw(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function gT(t){var e=kw(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ja(t){t._valueTracker||(t._valueTracker=gT(t))}function Rw(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=kw(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Ol(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function pf(t,e){var r=e.checked;return Ae({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function ay(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=gn(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Ow(t,e){e=e.checked,e!=null&&sm(t,"checked",e,!1)}function mf(t,e){Ow(t,e);var r=gn(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?gf(t,e.type,r):e.hasOwnProperty("defaultValue")&&gf(t,e.type,gn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function ly(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function gf(t,e,r){(e!=="number"||Ol(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Js=Array.isArray;function Ui(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+gn(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function yf(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(B(91));return Ae({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function uy(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(B(92));if(Js(r)){if(1<r.length)throw Error(B(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:gn(r)}}function Mw(t,e){var r=gn(e.value),n=gn(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function cy(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Nw(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function vf(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Nw(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ha,Dw=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ha=Ha||document.createElement("div"),Ha.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ha.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function _o(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var eo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},yT=["Webkit","ms","Moz","O"];Object.keys(eo).forEach(function(t){yT.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),eo[e]=eo[t]})});function Bw(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||eo.hasOwnProperty(t)&&eo[t]?(""+e).trim():e+"px"}function Uw(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=Bw(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var vT=Ae({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _f(t,e){if(e){if(vT[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(B(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(B(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(B(61))}if(e.style!=null&&typeof e.style!="object")throw Error(B(62))}}function wf(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Sf=null;function um(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var xf=null,Fi=null,Li=null;function dy(t){if(t=Ta(t)){if(typeof xf!="function")throw Error(B(280));var e=t.stateNode;e&&(e=Wu(e),xf(t.stateNode,t.type,e))}}function Fw(t){Fi?Li?Li.push(t):Li=[t]:Fi=t}function Lw(){if(Fi){var t=Fi,e=Li;if(Li=Fi=null,dy(t),e)for(t=0;t<e.length;t++)dy(e[t])}}function qw(t,e){return t(e)}function $w(){}var qc=!1;function jw(t,e,r){if(qc)return t(e,r);qc=!0;try{return qw(t,e,r)}finally{qc=!1,(Fi!==null||Li!==null)&&($w(),Lw())}}function wo(t,e){var r=t.stateNode;if(r===null)return null;var n=Wu(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(B(231,e,typeof r));return r}var Cf=!1;if(br)try{var Us={};Object.defineProperty(Us,"passive",{get:function(){Cf=!0}}),window.addEventListener("test",Us,Us),window.removeEventListener("test",Us,Us)}catch{Cf=!1}function _T(t,e,r,n,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(c){this.onError(c)}}var to=!1,Ml=null,Nl=!1,bf=null,wT={onError:function(t){to=!0,Ml=t}};function ST(t,e,r,n,i,s,o,a,l){to=!1,Ml=null,_T.apply(wT,arguments)}function xT(t,e,r,n,i,s,o,a,l){if(ST.apply(this,arguments),to){if(to){var u=Ml;to=!1,Ml=null}else throw Error(B(198));Nl||(Nl=!0,bf=u)}}function ci(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function Hw(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function hy(t){if(ci(t)!==t)throw Error(B(188))}function CT(t){var e=t.alternate;if(!e){if(e=ci(t),e===null)throw Error(B(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return hy(i),t;if(s===n)return hy(i),e;s=s.sibling}throw Error(B(188))}if(r.return!==n.return)r=i,n=s;else{for(var o=!1,a=i.child;a;){if(a===r){o=!0,r=i,n=s;break}if(a===n){o=!0,n=i,r=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===r){o=!0,r=s,n=i;break}if(a===n){o=!0,n=s,r=i;break}a=a.sibling}if(!o)throw Error(B(189))}}if(r.alternate!==n)throw Error(B(190))}if(r.tag!==3)throw Error(B(188));return r.stateNode.current===r?t:e}function zw(t){return t=CT(t),t!==null?Gw(t):null}function Gw(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Gw(t);if(e!==null)return e;t=t.sibling}return null}var Ww=_t.unstable_scheduleCallback,fy=_t.unstable_cancelCallback,bT=_t.unstable_shouldYield,ET=_t.unstable_requestPaint,Oe=_t.unstable_now,TT=_t.unstable_getCurrentPriorityLevel,cm=_t.unstable_ImmediatePriority,Vw=_t.unstable_UserBlockingPriority,Dl=_t.unstable_NormalPriority,IT=_t.unstable_LowPriority,Qw=_t.unstable_IdlePriority,ju=null,dr=null;function AT(t){if(dr&&typeof dr.onCommitFiberRoot=="function")try{dr.onCommitFiberRoot(ju,t,void 0,(t.current.flags&128)===128)}catch{}}var Qt=Math.clz32?Math.clz32:RT,PT=Math.log,kT=Math.LN2;function RT(t){return t>>>=0,t===0?32:31-(PT(t)/kT|0)|0}var za=64,Ga=4194304;function Ys(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Bl(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,s=t.pingedLanes,o=r&268435455;if(o!==0){var a=o&~i;a!==0?n=Ys(a):(s&=o,s!==0&&(n=Ys(s)))}else o=r&~i,o!==0?n=Ys(o):s!==0&&(n=Ys(s));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Qt(e),i=1<<r,n|=t[r],e&=~i;return n}function OT(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function MT(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Qt(s),a=1<<o,l=i[o];l===-1?(!(a&r)||a&n)&&(i[o]=OT(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Ef(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Kw(){var t=za;return za<<=1,!(za&4194240)&&(za=64),t}function $c(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function ba(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Qt(e),t[e]=r}function NT(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-Qt(r),s=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~s}}function dm(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Qt(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var fe=0;function Jw(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Yw,hm,Xw,Zw,eS,Tf=!1,Wa=[],an=null,ln=null,un=null,So=new Map,xo=new Map,Gr=[],DT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function py(t,e){switch(t){case"focusin":case"focusout":an=null;break;case"dragenter":case"dragleave":ln=null;break;case"mouseover":case"mouseout":un=null;break;case"pointerover":case"pointerout":So.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":xo.delete(e.pointerId)}}function Fs(t,e,r,n,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Ta(e),e!==null&&hm(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function BT(t,e,r,n,i){switch(e){case"focusin":return an=Fs(an,t,e,r,n,i),!0;case"dragenter":return ln=Fs(ln,t,e,r,n,i),!0;case"mouseover":return un=Fs(un,t,e,r,n,i),!0;case"pointerover":var s=i.pointerId;return So.set(s,Fs(So.get(s)||null,t,e,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,xo.set(s,Fs(xo.get(s)||null,t,e,r,n,i)),!0}return!1}function tS(t){var e=Rn(t.target);if(e!==null){var r=ci(e);if(r!==null){if(e=r.tag,e===13){if(e=Hw(r),e!==null){t.blockedOn=e,eS(t.priority,function(){Xw(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function dl(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=If(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);Sf=n,r.target.dispatchEvent(n),Sf=null}else return e=Ta(r),e!==null&&hm(e),t.blockedOn=r,!1;e.shift()}return!0}function my(t,e,r){dl(t)&&r.delete(e)}function UT(){Tf=!1,an!==null&&dl(an)&&(an=null),ln!==null&&dl(ln)&&(ln=null),un!==null&&dl(un)&&(un=null),So.forEach(my),xo.forEach(my)}function Ls(t,e){t.blockedOn===e&&(t.blockedOn=null,Tf||(Tf=!0,_t.unstable_scheduleCallback(_t.unstable_NormalPriority,UT)))}function Co(t){function e(i){return Ls(i,t)}if(0<Wa.length){Ls(Wa[0],t);for(var r=1;r<Wa.length;r++){var n=Wa[r];n.blockedOn===t&&(n.blockedOn=null)}}for(an!==null&&Ls(an,t),ln!==null&&Ls(ln,t),un!==null&&Ls(un,t),So.forEach(e),xo.forEach(e),r=0;r<Gr.length;r++)n=Gr[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Gr.length&&(r=Gr[0],r.blockedOn===null);)tS(r),r.blockedOn===null&&Gr.shift()}var qi=Ar.ReactCurrentBatchConfig,Ul=!0;function FT(t,e,r,n){var i=fe,s=qi.transition;qi.transition=null;try{fe=1,fm(t,e,r,n)}finally{fe=i,qi.transition=s}}function LT(t,e,r,n){var i=fe,s=qi.transition;qi.transition=null;try{fe=4,fm(t,e,r,n)}finally{fe=i,qi.transition=s}}function fm(t,e,r,n){if(Ul){var i=If(t,e,r,n);if(i===null)Yc(t,e,n,Fl,r),py(t,n);else if(BT(i,t,e,r,n))n.stopPropagation();else if(py(t,n),e&4&&-1<DT.indexOf(t)){for(;i!==null;){var s=Ta(i);if(s!==null&&Yw(s),s=If(t,e,r,n),s===null&&Yc(t,e,n,Fl,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else Yc(t,e,n,null,r)}}var Fl=null;function If(t,e,r,n){if(Fl=null,t=um(n),t=Rn(t),t!==null)if(e=ci(t),e===null)t=null;else if(r=e.tag,r===13){if(t=Hw(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Fl=t,null}function rS(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(TT()){case cm:return 1;case Vw:return 4;case Dl:case IT:return 16;case Qw:return 536870912;default:return 16}default:return 16}}var rn=null,pm=null,hl=null;function nS(){if(hl)return hl;var t,e=pm,r=e.length,n,i="value"in rn?rn.value:rn.textContent,s=i.length;for(t=0;t<r&&e[t]===i[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===i[s-n];n++);return hl=i.slice(t,1<n?1-n:void 0)}function fl(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Va(){return!0}function gy(){return!1}function St(t){function e(r,n,i,s,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(r=t[a],this[a]=r?r(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Va:gy,this.isPropagationStopped=gy,this}return Ae(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Va)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Va)},persist:function(){},isPersistent:Va}),e}var Es={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mm=St(Es),Ea=Ae({},Es,{view:0,detail:0}),qT=St(Ea),jc,Hc,qs,Hu=Ae({},Ea,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gm,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==qs&&(qs&&t.type==="mousemove"?(jc=t.screenX-qs.screenX,Hc=t.screenY-qs.screenY):Hc=jc=0,qs=t),jc)},movementY:function(t){return"movementY"in t?t.movementY:Hc}}),yy=St(Hu),$T=Ae({},Hu,{dataTransfer:0}),jT=St($T),HT=Ae({},Ea,{relatedTarget:0}),zc=St(HT),zT=Ae({},Es,{animationName:0,elapsedTime:0,pseudoElement:0}),GT=St(zT),WT=Ae({},Es,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),VT=St(WT),QT=Ae({},Es,{data:0}),vy=St(QT),KT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},JT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},YT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function XT(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=YT[t])?!!e[t]:!1}function gm(){return XT}var ZT=Ae({},Ea,{key:function(t){if(t.key){var e=KT[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=fl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?JT[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gm,charCode:function(t){return t.type==="keypress"?fl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?fl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),eI=St(ZT),tI=Ae({},Hu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_y=St(tI),rI=Ae({},Ea,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gm}),nI=St(rI),iI=Ae({},Es,{propertyName:0,elapsedTime:0,pseudoElement:0}),sI=St(iI),oI=Ae({},Hu,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),aI=St(oI),lI=[9,13,27,32],ym=br&&"CompositionEvent"in window,ro=null;br&&"documentMode"in document&&(ro=document.documentMode);var uI=br&&"TextEvent"in window&&!ro,iS=br&&(!ym||ro&&8<ro&&11>=ro),wy=String.fromCharCode(32),Sy=!1;function sS(t,e){switch(t){case"keyup":return lI.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function oS(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ti=!1;function cI(t,e){switch(t){case"compositionend":return oS(e);case"keypress":return e.which!==32?null:(Sy=!0,wy);case"textInput":return t=e.data,t===wy&&Sy?null:t;default:return null}}function dI(t,e){if(Ti)return t==="compositionend"||!ym&&sS(t,e)?(t=nS(),hl=pm=rn=null,Ti=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return iS&&e.locale!=="ko"?null:e.data;default:return null}}var hI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!hI[t.type]:e==="textarea"}function aS(t,e,r,n){Fw(n),e=Ll(e,"onChange"),0<e.length&&(r=new mm("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var no=null,bo=null;function fI(t){vS(t,0)}function zu(t){var e=Pi(t);if(Rw(e))return t}function pI(t,e){if(t==="change")return e}var lS=!1;if(br){var Gc;if(br){var Wc="oninput"in document;if(!Wc){var Cy=document.createElement("div");Cy.setAttribute("oninput","return;"),Wc=typeof Cy.oninput=="function"}Gc=Wc}else Gc=!1;lS=Gc&&(!document.documentMode||9<document.documentMode)}function by(){no&&(no.detachEvent("onpropertychange",uS),bo=no=null)}function uS(t){if(t.propertyName==="value"&&zu(bo)){var e=[];aS(e,bo,t,um(t)),jw(fI,e)}}function mI(t,e,r){t==="focusin"?(by(),no=e,bo=r,no.attachEvent("onpropertychange",uS)):t==="focusout"&&by()}function gI(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return zu(bo)}function yI(t,e){if(t==="click")return zu(e)}function vI(t,e){if(t==="input"||t==="change")return zu(e)}function _I(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Yt=typeof Object.is=="function"?Object.is:_I;function Eo(t,e){if(Yt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!uf.call(e,i)||!Yt(t[i],e[i]))return!1}return!0}function Ey(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ty(t,e){var r=Ey(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Ey(r)}}function cS(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?cS(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function dS(){for(var t=window,e=Ol();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Ol(t.document)}return e}function vm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function wI(t){var e=dS(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&cS(r.ownerDocument.documentElement,r)){if(n!==null&&vm(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!t.extend&&s>n&&(i=n,n=s,s=i),i=Ty(r,s);var o=Ty(r,n);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var SI=br&&"documentMode"in document&&11>=document.documentMode,Ii=null,Af=null,io=null,Pf=!1;function Iy(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Pf||Ii==null||Ii!==Ol(n)||(n=Ii,"selectionStart"in n&&vm(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),io&&Eo(io,n)||(io=n,n=Ll(Af,"onSelect"),0<n.length&&(e=new mm("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Ii)))}function Qa(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Ai={animationend:Qa("Animation","AnimationEnd"),animationiteration:Qa("Animation","AnimationIteration"),animationstart:Qa("Animation","AnimationStart"),transitionend:Qa("Transition","TransitionEnd")},Vc={},hS={};br&&(hS=document.createElement("div").style,"AnimationEvent"in window||(delete Ai.animationend.animation,delete Ai.animationiteration.animation,delete Ai.animationstart.animation),"TransitionEvent"in window||delete Ai.transitionend.transition);function Gu(t){if(Vc[t])return Vc[t];if(!Ai[t])return t;var e=Ai[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in hS)return Vc[t]=e[r];return t}var fS=Gu("animationend"),pS=Gu("animationiteration"),mS=Gu("animationstart"),gS=Gu("transitionend"),yS=new Map,Ay="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Cn(t,e){yS.set(t,e),ui(e,[t])}for(var Qc=0;Qc<Ay.length;Qc++){var Kc=Ay[Qc],xI=Kc.toLowerCase(),CI=Kc[0].toUpperCase()+Kc.slice(1);Cn(xI,"on"+CI)}Cn(fS,"onAnimationEnd");Cn(pS,"onAnimationIteration");Cn(mS,"onAnimationStart");Cn("dblclick","onDoubleClick");Cn("focusin","onFocus");Cn("focusout","onBlur");Cn(gS,"onTransitionEnd");ds("onMouseEnter",["mouseout","mouseover"]);ds("onMouseLeave",["mouseout","mouseover"]);ds("onPointerEnter",["pointerout","pointerover"]);ds("onPointerLeave",["pointerout","pointerover"]);ui("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ui("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ui("onBeforeInput",["compositionend","keypress","textInput","paste"]);ui("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ui("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ui("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bI=new Set("cancel close invalid load scroll toggle".split(" ").concat(Xs));function Py(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,xT(n,e,void 0,t),t.currentTarget=null}function vS(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var s=void 0;if(e)for(var o=n.length-1;0<=o;o--){var a=n[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;Py(i,a,u),s=l}else for(o=0;o<n.length;o++){if(a=n[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;Py(i,a,u),s=l}}}if(Nl)throw t=bf,Nl=!1,bf=null,t}function Se(t,e){var r=e[Nf];r===void 0&&(r=e[Nf]=new Set);var n=t+"__bubble";r.has(n)||(_S(e,t,2,!1),r.add(n))}function Jc(t,e,r){var n=0;e&&(n|=4),_S(r,t,n,e)}var Ka="_reactListening"+Math.random().toString(36).slice(2);function To(t){if(!t[Ka]){t[Ka]=!0,Tw.forEach(function(r){r!=="selectionchange"&&(bI.has(r)||Jc(r,!1,t),Jc(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ka]||(e[Ka]=!0,Jc("selectionchange",!1,e))}}function _S(t,e,r,n){switch(rS(e)){case 1:var i=FT;break;case 4:i=LT;break;default:i=fm}r=i.bind(null,e,r,t),i=void 0,!Cf||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function Yc(t,e,r,n,i){var s=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var a=n.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Rn(a),o===null)return;if(l=o.tag,l===5||l===6){n=s=o;continue e}a=a.parentNode}}n=n.return}jw(function(){var u=s,c=um(r),f=[];e:{var h=yS.get(t);if(h!==void 0){var v=mm,g=t;switch(t){case"keypress":if(fl(r)===0)break e;case"keydown":case"keyup":v=eI;break;case"focusin":g="focus",v=zc;break;case"focusout":g="blur",v=zc;break;case"beforeblur":case"afterblur":v=zc;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=yy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=jT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=nI;break;case fS:case pS:case mS:v=GT;break;case gS:v=sI;break;case"scroll":v=qT;break;case"wheel":v=aI;break;case"copy":case"cut":case"paste":v=VT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=_y}var _=(e&4)!==0,w=!_&&t==="scroll",p=_?h!==null?h+"Capture":null:h;_=[];for(var m=u,y;m!==null;){y=m;var C=y.stateNode;if(y.tag===5&&C!==null&&(y=C,p!==null&&(C=wo(m,p),C!=null&&_.push(Io(m,C,y)))),w)break;m=m.return}0<_.length&&(h=new v(h,g,null,r,c),f.push({event:h,listeners:_}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",h&&r!==Sf&&(g=r.relatedTarget||r.fromElement)&&(Rn(g)||g[Er]))break e;if((v||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,v?(g=r.relatedTarget||r.toElement,v=u,g=g?Rn(g):null,g!==null&&(w=ci(g),g!==w||g.tag!==5&&g.tag!==6)&&(g=null)):(v=null,g=u),v!==g)){if(_=yy,C="onMouseLeave",p="onMouseEnter",m="mouse",(t==="pointerout"||t==="pointerover")&&(_=_y,C="onPointerLeave",p="onPointerEnter",m="pointer"),w=v==null?h:Pi(v),y=g==null?h:Pi(g),h=new _(C,m+"leave",v,r,c),h.target=w,h.relatedTarget=y,C=null,Rn(c)===u&&(_=new _(p,m+"enter",g,r,c),_.target=y,_.relatedTarget=w,C=_),w=C,v&&g)t:{for(_=v,p=g,m=0,y=_;y;y=yi(y))m++;for(y=0,C=p;C;C=yi(C))y++;for(;0<m-y;)_=yi(_),m--;for(;0<y-m;)p=yi(p),y--;for(;m--;){if(_===p||p!==null&&_===p.alternate)break t;_=yi(_),p=yi(p)}_=null}else _=null;v!==null&&ky(f,h,v,_,!1),g!==null&&w!==null&&ky(f,w,g,_,!0)}}e:{if(h=u?Pi(u):window,v=h.nodeName&&h.nodeName.toLowerCase(),v==="select"||v==="input"&&h.type==="file")var E=pI;else if(xy(h))if(lS)E=vI;else{E=gI;var O=mI}else(v=h.nodeName)&&v.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(E=yI);if(E&&(E=E(t,u))){aS(f,E,r,c);break e}O&&O(t,h,u),t==="focusout"&&(O=h._wrapperState)&&O.controlled&&h.type==="number"&&gf(h,"number",h.value)}switch(O=u?Pi(u):window,t){case"focusin":(xy(O)||O.contentEditable==="true")&&(Ii=O,Af=u,io=null);break;case"focusout":io=Af=Ii=null;break;case"mousedown":Pf=!0;break;case"contextmenu":case"mouseup":case"dragend":Pf=!1,Iy(f,r,c);break;case"selectionchange":if(SI)break;case"keydown":case"keyup":Iy(f,r,c)}var M;if(ym)e:{switch(t){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else Ti?sS(t,r)&&(P="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(P="onCompositionStart");P&&(iS&&r.locale!=="ko"&&(Ti||P!=="onCompositionStart"?P==="onCompositionEnd"&&Ti&&(M=nS()):(rn=c,pm="value"in rn?rn.value:rn.textContent,Ti=!0)),O=Ll(u,P),0<O.length&&(P=new vy(P,t,null,r,c),f.push({event:P,listeners:O}),M?P.data=M:(M=oS(r),M!==null&&(P.data=M)))),(M=uI?cI(t,r):dI(t,r))&&(u=Ll(u,"onBeforeInput"),0<u.length&&(c=new vy("onBeforeInput","beforeinput",null,r,c),f.push({event:c,listeners:u}),c.data=M))}vS(f,e)})}function Io(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Ll(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=wo(t,r),s!=null&&n.unshift(Io(t,s,i)),s=wo(t,e),s!=null&&n.push(Io(t,s,i))),t=t.return}return n}function yi(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function ky(t,e,r,n,i){for(var s=e._reactName,o=[];r!==null&&r!==n;){var a=r,l=a.alternate,u=a.stateNode;if(l!==null&&l===n)break;a.tag===5&&u!==null&&(a=u,i?(l=wo(r,s),l!=null&&o.unshift(Io(r,l,a))):i||(l=wo(r,s),l!=null&&o.push(Io(r,l,a)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var EI=/\r\n?/g,TI=/\u0000|\uFFFD/g;function Ry(t){return(typeof t=="string"?t:""+t).replace(EI,`
`).replace(TI,"")}function Ja(t,e,r){if(e=Ry(e),Ry(t)!==e&&r)throw Error(B(425))}function ql(){}var kf=null,Rf=null;function Of(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Mf=typeof setTimeout=="function"?setTimeout:void 0,II=typeof clearTimeout=="function"?clearTimeout:void 0,Oy=typeof Promise=="function"?Promise:void 0,AI=typeof queueMicrotask=="function"?queueMicrotask:typeof Oy<"u"?function(t){return Oy.resolve(null).then(t).catch(PI)}:Mf;function PI(t){setTimeout(function(){throw t})}function Xc(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),Co(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Co(e)}function cn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function My(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Ts=Math.random().toString(36).slice(2),lr="__reactFiber$"+Ts,Ao="__reactProps$"+Ts,Er="__reactContainer$"+Ts,Nf="__reactEvents$"+Ts,kI="__reactListeners$"+Ts,RI="__reactHandles$"+Ts;function Rn(t){var e=t[lr];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Er]||r[lr]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=My(t);t!==null;){if(r=t[lr])return r;t=My(t)}return e}t=r,r=t.parentNode}return null}function Ta(t){return t=t[lr]||t[Er],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Pi(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(B(33))}function Wu(t){return t[Ao]||null}var Df=[],ki=-1;function bn(t){return{current:t}}function xe(t){0>ki||(t.current=Df[ki],Df[ki]=null,ki--)}function ge(t,e){ki++,Df[ki]=t.current,t.current=e}var yn={},tt=bn(yn),ct=bn(!1),ei=yn;function hs(t,e){var r=t.type.contextTypes;if(!r)return yn;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=e[s];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function dt(t){return t=t.childContextTypes,t!=null}function $l(){xe(ct),xe(tt)}function Ny(t,e,r){if(tt.current!==yn)throw Error(B(168));ge(tt,e),ge(ct,r)}function wS(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(B(108,mT(t)||"Unknown",i));return Ae({},r,n)}function jl(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||yn,ei=tt.current,ge(tt,t),ge(ct,ct.current),!0}function Dy(t,e,r){var n=t.stateNode;if(!n)throw Error(B(169));r?(t=wS(t,e,ei),n.__reactInternalMemoizedMergedChildContext=t,xe(ct),xe(tt),ge(tt,t)):xe(ct),ge(ct,r)}var vr=null,Vu=!1,Zc=!1;function SS(t){vr===null?vr=[t]:vr.push(t)}function OI(t){Vu=!0,SS(t)}function En(){if(!Zc&&vr!==null){Zc=!0;var t=0,e=fe;try{var r=vr;for(fe=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}vr=null,Vu=!1}catch(i){throw vr!==null&&(vr=vr.slice(t+1)),Ww(cm,En),i}finally{fe=e,Zc=!1}}return null}var Ri=[],Oi=0,Hl=null,zl=0,It=[],At=0,ti=null,wr=1,Sr="";function Pn(t,e){Ri[Oi++]=zl,Ri[Oi++]=Hl,Hl=t,zl=e}function xS(t,e,r){It[At++]=wr,It[At++]=Sr,It[At++]=ti,ti=t;var n=wr;t=Sr;var i=32-Qt(n)-1;n&=~(1<<i),r+=1;var s=32-Qt(e)+i;if(30<s){var o=i-i%5;s=(n&(1<<o)-1).toString(32),n>>=o,i-=o,wr=1<<32-Qt(e)+i|r<<i|n,Sr=s+t}else wr=1<<s|r<<i|n,Sr=t}function _m(t){t.return!==null&&(Pn(t,1),xS(t,1,0))}function wm(t){for(;t===Hl;)Hl=Ri[--Oi],Ri[Oi]=null,zl=Ri[--Oi],Ri[Oi]=null;for(;t===ti;)ti=It[--At],It[At]=null,Sr=It[--At],It[At]=null,wr=It[--At],It[At]=null}var vt=null,yt=null,be=!1,Wt=null;function CS(t,e){var r=kt(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function By(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,vt=t,yt=cn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,vt=t,yt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=ti!==null?{id:wr,overflow:Sr}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=kt(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,vt=t,yt=null,!0):!1;default:return!1}}function Bf(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Uf(t){if(be){var e=yt;if(e){var r=e;if(!By(t,e)){if(Bf(t))throw Error(B(418));e=cn(r.nextSibling);var n=vt;e&&By(t,e)?CS(n,r):(t.flags=t.flags&-4097|2,be=!1,vt=t)}}else{if(Bf(t))throw Error(B(418));t.flags=t.flags&-4097|2,be=!1,vt=t}}}function Uy(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;vt=t}function Ya(t){if(t!==vt)return!1;if(!be)return Uy(t),be=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Of(t.type,t.memoizedProps)),e&&(e=yt)){if(Bf(t))throw bS(),Error(B(418));for(;e;)CS(t,e),e=cn(e.nextSibling)}if(Uy(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(B(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){yt=cn(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}yt=null}}else yt=vt?cn(t.stateNode.nextSibling):null;return!0}function bS(){for(var t=yt;t;)t=cn(t.nextSibling)}function fs(){yt=vt=null,be=!1}function Sm(t){Wt===null?Wt=[t]:Wt.push(t)}var MI=Ar.ReactCurrentBatchConfig;function Ht(t,e){if(t&&t.defaultProps){e=Ae({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}var Gl=bn(null),Wl=null,Mi=null,xm=null;function Cm(){xm=Mi=Wl=null}function bm(t){var e=Gl.current;xe(Gl),t._currentValue=e}function Ff(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function $i(t,e){Wl=t,xm=Mi=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(ut=!0),t.firstContext=null)}function Dt(t){var e=t._currentValue;if(xm!==t)if(t={context:t,memoizedValue:e,next:null},Mi===null){if(Wl===null)throw Error(B(308));Mi=t,Wl.dependencies={lanes:0,firstContext:t}}else Mi=Mi.next=t;return e}var On=null;function Em(t){On===null?On=[t]:On.push(t)}function ES(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,Em(e)):(r.next=i.next,i.next=r),e.interleaved=r,Tr(t,n)}function Tr(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var zr=!1;function Tm(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function TS(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function xr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function dn(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,oe&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,Tr(t,r)}return i=n.interleaved,i===null?(e.next=e,Em(n)):(e.next=i.next,i.next=e),n.interleaved=e,Tr(t,r)}function pl(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,dm(t,r)}}function Fy(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=o:s=s.next=o,r=r.next}while(r!==null);s===null?i=s=e:s=s.next=e}else i=s=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Vl(t,e,r,n){var i=t.updateQueue;zr=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var f=i.baseState;o=0,c=u=l=null,a=s;do{var h=a.lane,v=a.eventTime;if((n&h)===h){c!==null&&(c=c.next={eventTime:v,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=t,_=a;switch(h=e,v=r,_.tag){case 1:if(g=_.payload,typeof g=="function"){f=g.call(v,f,h);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=_.payload,h=typeof g=="function"?g.call(v,f,h):g,h==null)break e;f=Ae({},f,h);break e;case 2:zr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else v={eventTime:v,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=v,l=f):c=c.next=v,o|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(1);if(c===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);ni|=o,t.lanes=o,t.memoizedState=f}}function Ly(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(B(191,i));i.call(n)}}}var IS=new Ew.Component().refs;function Lf(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:Ae({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Qu={isMounted:function(t){return(t=t._reactInternals)?ci(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=nt(),i=fn(t),s=xr(n,i);s.payload=e,r!=null&&(s.callback=r),e=dn(t,s,i),e!==null&&(Kt(e,t,i,n),pl(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=nt(),i=fn(t),s=xr(n,i);s.tag=1,s.payload=e,r!=null&&(s.callback=r),e=dn(t,s,i),e!==null&&(Kt(e,t,i,n),pl(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=nt(),n=fn(t),i=xr(r,n);i.tag=2,e!=null&&(i.callback=e),e=dn(t,i,n),e!==null&&(Kt(e,t,n,r),pl(e,t,n))}};function qy(t,e,r,n,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,s,o):e.prototype&&e.prototype.isPureReactComponent?!Eo(r,n)||!Eo(i,s):!0}function AS(t,e,r){var n=!1,i=yn,s=e.contextType;return typeof s=="object"&&s!==null?s=Dt(s):(i=dt(e)?ei:tt.current,n=e.contextTypes,s=(n=n!=null)?hs(t,i):yn),e=new e(r,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Qu,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function $y(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&Qu.enqueueReplaceState(e,e.state,null)}function qf(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs=IS,Tm(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Dt(s):(s=dt(e)?ei:tt.current,i.context=hs(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Lf(t,e,s,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Qu.enqueueReplaceState(i,i.state,null),Vl(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function $s(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(B(309));var n=r.stateNode}if(!n)throw Error(B(147,t));var i=n,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===IS&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(B(284));if(!r._owner)throw Error(B(290,t))}return t}function Xa(t,e){throw t=Object.prototype.toString.call(e),Error(B(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function jy(t){var e=t._init;return e(t._payload)}function PS(t){function e(p,m){if(t){var y=p.deletions;y===null?(p.deletions=[m],p.flags|=16):y.push(m)}}function r(p,m){if(!t)return null;for(;m!==null;)e(p,m),m=m.sibling;return null}function n(p,m){for(p=new Map;m!==null;)m.key!==null?p.set(m.key,m):p.set(m.index,m),m=m.sibling;return p}function i(p,m){return p=pn(p,m),p.index=0,p.sibling=null,p}function s(p,m,y){return p.index=y,t?(y=p.alternate,y!==null?(y=y.index,y<m?(p.flags|=2,m):y):(p.flags|=2,m)):(p.flags|=1048576,m)}function o(p){return t&&p.alternate===null&&(p.flags|=2),p}function a(p,m,y,C){return m===null||m.tag!==6?(m=od(y,p.mode,C),m.return=p,m):(m=i(m,y),m.return=p,m)}function l(p,m,y,C){var E=y.type;return E===Ei?c(p,m,y.props.children,C,y.key):m!==null&&(m.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Hr&&jy(E)===m.type)?(C=i(m,y.props),C.ref=$s(p,m,y),C.return=p,C):(C=wl(y.type,y.key,y.props,null,p.mode,C),C.ref=$s(p,m,y),C.return=p,C)}function u(p,m,y,C){return m===null||m.tag!==4||m.stateNode.containerInfo!==y.containerInfo||m.stateNode.implementation!==y.implementation?(m=ad(y,p.mode,C),m.return=p,m):(m=i(m,y.children||[]),m.return=p,m)}function c(p,m,y,C,E){return m===null||m.tag!==7?(m=Vn(y,p.mode,C,E),m.return=p,m):(m=i(m,y),m.return=p,m)}function f(p,m,y){if(typeof m=="string"&&m!==""||typeof m=="number")return m=od(""+m,p.mode,y),m.return=p,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case $a:return y=wl(m.type,m.key,m.props,null,p.mode,y),y.ref=$s(p,null,m),y.return=p,y;case bi:return m=ad(m,p.mode,y),m.return=p,m;case Hr:var C=m._init;return f(p,C(m._payload),y)}if(Js(m)||Bs(m))return m=Vn(m,p.mode,y,null),m.return=p,m;Xa(p,m)}return null}function h(p,m,y,C){var E=m!==null?m.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return E!==null?null:a(p,m,""+y,C);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case $a:return y.key===E?l(p,m,y,C):null;case bi:return y.key===E?u(p,m,y,C):null;case Hr:return E=y._init,h(p,m,E(y._payload),C)}if(Js(y)||Bs(y))return E!==null?null:c(p,m,y,C,null);Xa(p,y)}return null}function v(p,m,y,C,E){if(typeof C=="string"&&C!==""||typeof C=="number")return p=p.get(y)||null,a(m,p,""+C,E);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case $a:return p=p.get(C.key===null?y:C.key)||null,l(m,p,C,E);case bi:return p=p.get(C.key===null?y:C.key)||null,u(m,p,C,E);case Hr:var O=C._init;return v(p,m,y,O(C._payload),E)}if(Js(C)||Bs(C))return p=p.get(y)||null,c(m,p,C,E,null);Xa(m,C)}return null}function g(p,m,y,C){for(var E=null,O=null,M=m,P=m=0,F=null;M!==null&&P<y.length;P++){M.index>P?(F=M,M=null):F=M.sibling;var H=h(p,M,y[P],C);if(H===null){M===null&&(M=F);break}t&&M&&H.alternate===null&&e(p,M),m=s(H,m,P),O===null?E=H:O.sibling=H,O=H,M=F}if(P===y.length)return r(p,M),be&&Pn(p,P),E;if(M===null){for(;P<y.length;P++)M=f(p,y[P],C),M!==null&&(m=s(M,m,P),O===null?E=M:O.sibling=M,O=M);return be&&Pn(p,P),E}for(M=n(p,M);P<y.length;P++)F=v(M,p,P,y[P],C),F!==null&&(t&&F.alternate!==null&&M.delete(F.key===null?P:F.key),m=s(F,m,P),O===null?E=F:O.sibling=F,O=F);return t&&M.forEach(function(ee){return e(p,ee)}),be&&Pn(p,P),E}function _(p,m,y,C){var E=Bs(y);if(typeof E!="function")throw Error(B(150));if(y=E.call(y),y==null)throw Error(B(151));for(var O=E=null,M=m,P=m=0,F=null,H=y.next();M!==null&&!H.done;P++,H=y.next()){M.index>P?(F=M,M=null):F=M.sibling;var ee=h(p,M,H.value,C);if(ee===null){M===null&&(M=F);break}t&&M&&ee.alternate===null&&e(p,M),m=s(ee,m,P),O===null?E=ee:O.sibling=ee,O=ee,M=F}if(H.done)return r(p,M),be&&Pn(p,P),E;if(M===null){for(;!H.done;P++,H=y.next())H=f(p,H.value,C),H!==null&&(m=s(H,m,P),O===null?E=H:O.sibling=H,O=H);return be&&Pn(p,P),E}for(M=n(p,M);!H.done;P++,H=y.next())H=v(M,p,P,H.value,C),H!==null&&(t&&H.alternate!==null&&M.delete(H.key===null?P:H.key),m=s(H,m,P),O===null?E=H:O.sibling=H,O=H);return t&&M.forEach(function(Pe){return e(p,Pe)}),be&&Pn(p,P),E}function w(p,m,y,C){if(typeof y=="object"&&y!==null&&y.type===Ei&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case $a:e:{for(var E=y.key,O=m;O!==null;){if(O.key===E){if(E=y.type,E===Ei){if(O.tag===7){r(p,O.sibling),m=i(O,y.props.children),m.return=p,p=m;break e}}else if(O.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Hr&&jy(E)===O.type){r(p,O.sibling),m=i(O,y.props),m.ref=$s(p,O,y),m.return=p,p=m;break e}r(p,O);break}else e(p,O);O=O.sibling}y.type===Ei?(m=Vn(y.props.children,p.mode,C,y.key),m.return=p,p=m):(C=wl(y.type,y.key,y.props,null,p.mode,C),C.ref=$s(p,m,y),C.return=p,p=C)}return o(p);case bi:e:{for(O=y.key;m!==null;){if(m.key===O)if(m.tag===4&&m.stateNode.containerInfo===y.containerInfo&&m.stateNode.implementation===y.implementation){r(p,m.sibling),m=i(m,y.children||[]),m.return=p,p=m;break e}else{r(p,m);break}else e(p,m);m=m.sibling}m=ad(y,p.mode,C),m.return=p,p=m}return o(p);case Hr:return O=y._init,w(p,m,O(y._payload),C)}if(Js(y))return g(p,m,y,C);if(Bs(y))return _(p,m,y,C);Xa(p,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,m!==null&&m.tag===6?(r(p,m.sibling),m=i(m,y),m.return=p,p=m):(r(p,m),m=od(y,p.mode,C),m.return=p,p=m),o(p)):r(p,m)}return w}var ps=PS(!0),kS=PS(!1),Ia={},hr=bn(Ia),Po=bn(Ia),ko=bn(Ia);function Mn(t){if(t===Ia)throw Error(B(174));return t}function Im(t,e){switch(ge(ko,e),ge(Po,t),ge(hr,Ia),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:vf(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=vf(e,t)}xe(hr),ge(hr,e)}function ms(){xe(hr),xe(Po),xe(ko)}function RS(t){Mn(ko.current);var e=Mn(hr.current),r=vf(e,t.type);e!==r&&(ge(Po,t),ge(hr,r))}function Am(t){Po.current===t&&(xe(hr),xe(Po))}var Te=bn(0);function Ql(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ed=[];function Pm(){for(var t=0;t<ed.length;t++)ed[t]._workInProgressVersionPrimary=null;ed.length=0}var ml=Ar.ReactCurrentDispatcher,td=Ar.ReactCurrentBatchConfig,ri=0,Ie=null,Le=null,ze=null,Kl=!1,so=!1,Ro=0,NI=0;function Je(){throw Error(B(321))}function km(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Yt(t[r],e[r]))return!1;return!0}function Rm(t,e,r,n,i,s){if(ri=s,Ie=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ml.current=t===null||t.memoizedState===null?FI:LI,t=r(n,i),so){s=0;do{if(so=!1,Ro=0,25<=s)throw Error(B(301));s+=1,ze=Le=null,e.updateQueue=null,ml.current=qI,t=r(n,i)}while(so)}if(ml.current=Jl,e=Le!==null&&Le.next!==null,ri=0,ze=Le=Ie=null,Kl=!1,e)throw Error(B(300));return t}function Om(){var t=Ro!==0;return Ro=0,t}function rr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ze===null?Ie.memoizedState=ze=t:ze=ze.next=t,ze}function Bt(){if(Le===null){var t=Ie.alternate;t=t!==null?t.memoizedState:null}else t=Le.next;var e=ze===null?Ie.memoizedState:ze.next;if(e!==null)ze=e,Le=t;else{if(t===null)throw Error(B(310));Le=t,t={memoizedState:Le.memoizedState,baseState:Le.baseState,baseQueue:Le.baseQueue,queue:Le.queue,next:null},ze===null?Ie.memoizedState=ze=t:ze=ze.next=t}return ze}function Oo(t,e){return typeof e=="function"?e(t):e}function rd(t){var e=Bt(),r=e.queue;if(r===null)throw Error(B(311));r.lastRenderedReducer=t;var n=Le,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((ri&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=f,o=n):l=l.next=f,Ie.lanes|=c,ni|=c}u=u.next}while(u!==null&&u!==s);l===null?o=n:l.next=a,Yt(n,e.memoizedState)||(ut=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do s=i.lane,Ie.lanes|=s,ni|=s,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function nd(t){var e=Bt(),r=e.queue;if(r===null)throw Error(B(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,s=e.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Yt(s,e.memoizedState)||(ut=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),r.lastRenderedState=s}return[s,n]}function OS(){}function MS(t,e){var r=Ie,n=Bt(),i=e(),s=!Yt(n.memoizedState,i);if(s&&(n.memoizedState=i,ut=!0),n=n.queue,Mm(BS.bind(null,r,n,t),[t]),n.getSnapshot!==e||s||ze!==null&&ze.memoizedState.tag&1){if(r.flags|=2048,Mo(9,DS.bind(null,r,n,i,e),void 0,null),Ge===null)throw Error(B(349));ri&30||NS(r,e,i)}return i}function NS(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=Ie.updateQueue,e===null?(e={lastEffect:null,stores:null},Ie.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function DS(t,e,r,n){e.value=r,e.getSnapshot=n,US(e)&&FS(t)}function BS(t,e,r){return r(function(){US(e)&&FS(t)})}function US(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Yt(t,r)}catch{return!0}}function FS(t){var e=Tr(t,1);e!==null&&Kt(e,t,1,-1)}function Hy(t){var e=rr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Oo,lastRenderedState:t},e.queue=t,t=t.dispatch=UI.bind(null,Ie,t),[e.memoizedState,t]}function Mo(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=Ie.updateQueue,e===null?(e={lastEffect:null,stores:null},Ie.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function LS(){return Bt().memoizedState}function gl(t,e,r,n){var i=rr();Ie.flags|=t,i.memoizedState=Mo(1|e,r,void 0,n===void 0?null:n)}function Ku(t,e,r,n){var i=Bt();n=n===void 0?null:n;var s=void 0;if(Le!==null){var o=Le.memoizedState;if(s=o.destroy,n!==null&&km(n,o.deps)){i.memoizedState=Mo(e,r,s,n);return}}Ie.flags|=t,i.memoizedState=Mo(1|e,r,s,n)}function zy(t,e){return gl(8390656,8,t,e)}function Mm(t,e){return Ku(2048,8,t,e)}function qS(t,e){return Ku(4,2,t,e)}function $S(t,e){return Ku(4,4,t,e)}function jS(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function HS(t,e,r){return r=r!=null?r.concat([t]):null,Ku(4,4,jS.bind(null,e,t),r)}function Nm(){}function zS(t,e){var r=Bt();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&km(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function GS(t,e){var r=Bt();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&km(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function WS(t,e,r){return ri&21?(Yt(r,e)||(r=Kw(),Ie.lanes|=r,ni|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,ut=!0),t.memoizedState=r)}function DI(t,e){var r=fe;fe=r!==0&&4>r?r:4,t(!0);var n=td.transition;td.transition={};try{t(!1),e()}finally{fe=r,td.transition=n}}function VS(){return Bt().memoizedState}function BI(t,e,r){var n=fn(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},QS(t))KS(e,r);else if(r=ES(t,e,r,n),r!==null){var i=nt();Kt(r,t,n,i),JS(r,e,n)}}function UI(t,e,r){var n=fn(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(QS(t))KS(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,r);if(i.hasEagerState=!0,i.eagerState=a,Yt(a,o)){var l=e.interleaved;l===null?(i.next=i,Em(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}r=ES(t,e,i,n),r!==null&&(i=nt(),Kt(r,t,n,i),JS(r,e,n))}}function QS(t){var e=t.alternate;return t===Ie||e!==null&&e===Ie}function KS(t,e){so=Kl=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function JS(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,dm(t,r)}}var Jl={readContext:Dt,useCallback:Je,useContext:Je,useEffect:Je,useImperativeHandle:Je,useInsertionEffect:Je,useLayoutEffect:Je,useMemo:Je,useReducer:Je,useRef:Je,useState:Je,useDebugValue:Je,useDeferredValue:Je,useTransition:Je,useMutableSource:Je,useSyncExternalStore:Je,useId:Je,unstable_isNewReconciler:!1},FI={readContext:Dt,useCallback:function(t,e){return rr().memoizedState=[t,e===void 0?null:e],t},useContext:Dt,useEffect:zy,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,gl(4194308,4,jS.bind(null,e,t),r)},useLayoutEffect:function(t,e){return gl(4194308,4,t,e)},useInsertionEffect:function(t,e){return gl(4,2,t,e)},useMemo:function(t,e){var r=rr();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=rr();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=BI.bind(null,Ie,t),[n.memoizedState,t]},useRef:function(t){var e=rr();return t={current:t},e.memoizedState=t},useState:Hy,useDebugValue:Nm,useDeferredValue:function(t){return rr().memoizedState=t},useTransition:function(){var t=Hy(!1),e=t[0];return t=DI.bind(null,t[1]),rr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=Ie,i=rr();if(be){if(r===void 0)throw Error(B(407));r=r()}else{if(r=e(),Ge===null)throw Error(B(349));ri&30||NS(n,e,r)}i.memoizedState=r;var s={value:r,getSnapshot:e};return i.queue=s,zy(BS.bind(null,n,s,t),[t]),n.flags|=2048,Mo(9,DS.bind(null,n,s,r,e),void 0,null),r},useId:function(){var t=rr(),e=Ge.identifierPrefix;if(be){var r=Sr,n=wr;r=(n&~(1<<32-Qt(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Ro++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=NI++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},LI={readContext:Dt,useCallback:zS,useContext:Dt,useEffect:Mm,useImperativeHandle:HS,useInsertionEffect:qS,useLayoutEffect:$S,useMemo:GS,useReducer:rd,useRef:LS,useState:function(){return rd(Oo)},useDebugValue:Nm,useDeferredValue:function(t){var e=Bt();return WS(e,Le.memoizedState,t)},useTransition:function(){var t=rd(Oo)[0],e=Bt().memoizedState;return[t,e]},useMutableSource:OS,useSyncExternalStore:MS,useId:VS,unstable_isNewReconciler:!1},qI={readContext:Dt,useCallback:zS,useContext:Dt,useEffect:Mm,useImperativeHandle:HS,useInsertionEffect:qS,useLayoutEffect:$S,useMemo:GS,useReducer:nd,useRef:LS,useState:function(){return nd(Oo)},useDebugValue:Nm,useDeferredValue:function(t){var e=Bt();return Le===null?e.memoizedState=t:WS(e,Le.memoizedState,t)},useTransition:function(){var t=nd(Oo)[0],e=Bt().memoizedState;return[t,e]},useMutableSource:OS,useSyncExternalStore:MS,useId:VS,unstable_isNewReconciler:!1};function gs(t,e){try{var r="",n=e;do r+=pT(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function id(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function $f(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var $I=typeof WeakMap=="function"?WeakMap:Map;function YS(t,e,r){r=xr(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Xl||(Xl=!0,Yf=n),$f(t,e)},r}function XS(t,e,r){r=xr(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){$f(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){$f(t,e),typeof n!="function"&&(hn===null?hn=new Set([this]):hn.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function Gy(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new $I;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=tA.bind(null,t,e,r),e.then(t,t))}function Wy(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Vy(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=xr(-1,1),e.tag=2,dn(r,e,1))),r.lanes|=1),t)}var jI=Ar.ReactCurrentOwner,ut=!1;function rt(t,e,r,n){e.child=t===null?kS(e,null,r,n):ps(e,t.child,r,n)}function Qy(t,e,r,n,i){r=r.render;var s=e.ref;return $i(e,i),n=Rm(t,e,r,n,s,i),r=Om(),t!==null&&!ut?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ir(t,e,i)):(be&&r&&_m(e),e.flags|=1,rt(t,e,n,i),e.child)}function Ky(t,e,r,n,i){if(t===null){var s=r.type;return typeof s=="function"&&!jm(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=s,ZS(t,e,s,n,i)):(t=wl(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(r=r.compare,r=r!==null?r:Eo,r(o,n)&&t.ref===e.ref)return Ir(t,e,i)}return e.flags|=1,t=pn(s,n),t.ref=e.ref,t.return=e,e.child=t}function ZS(t,e,r,n,i){if(t!==null){var s=t.memoizedProps;if(Eo(s,n)&&t.ref===e.ref)if(ut=!1,e.pendingProps=n=s,(t.lanes&i)!==0)t.flags&131072&&(ut=!0);else return e.lanes=t.lanes,Ir(t,e,i)}return jf(t,e,r,n,i)}function ex(t,e,r){var n=e.pendingProps,i=n.children,s=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ge(Di,gt),gt|=r;else{if(!(r&1073741824))return t=s!==null?s.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ge(Di,gt),gt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,ge(Di,gt),gt|=n}else s!==null?(n=s.baseLanes|r,e.memoizedState=null):n=r,ge(Di,gt),gt|=n;return rt(t,e,i,r),e.child}function tx(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function jf(t,e,r,n,i){var s=dt(r)?ei:tt.current;return s=hs(e,s),$i(e,i),r=Rm(t,e,r,n,s,i),n=Om(),t!==null&&!ut?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ir(t,e,i)):(be&&n&&_m(e),e.flags|=1,rt(t,e,r,i),e.child)}function Jy(t,e,r,n,i){if(dt(r)){var s=!0;jl(e)}else s=!1;if($i(e,i),e.stateNode===null)yl(t,e),AS(e,r,n),qf(e,r,n,i),n=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=Dt(u):(u=dt(r)?ei:tt.current,u=hs(e,u));var c=r.getDerivedStateFromProps,f=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==n||l!==u)&&$y(e,o,n,u),zr=!1;var h=e.memoizedState;o.state=h,Vl(e,n,o,i),l=e.memoizedState,a!==n||h!==l||ct.current||zr?(typeof c=="function"&&(Lf(e,r,c,n),l=e.memoizedState),(a=zr||qy(e,r,a,n,h,l,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),o.props=n,o.state=l,o.context=u,n=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,TS(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Ht(e.type,a),o.props=u,f=e.pendingProps,h=o.context,l=r.contextType,typeof l=="object"&&l!==null?l=Dt(l):(l=dt(r)?ei:tt.current,l=hs(e,l));var v=r.getDerivedStateFromProps;(c=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||h!==l)&&$y(e,o,n,l),zr=!1,h=e.memoizedState,o.state=h,Vl(e,n,o,i);var g=e.memoizedState;a!==f||h!==g||ct.current||zr?(typeof v=="function"&&(Lf(e,r,v,n),g=e.memoizedState),(u=zr||qy(e,r,u,n,h,g,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,g,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=g),o.props=n,o.state=g,o.context=l,n=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),n=!1)}return Hf(t,e,r,n,s,i)}function Hf(t,e,r,n,i,s){tx(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return i&&Dy(e,r,!1),Ir(t,e,s);n=e.stateNode,jI.current=e;var a=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=ps(e,t.child,null,s),e.child=ps(e,null,a,s)):rt(t,e,a,s),e.memoizedState=n.state,i&&Dy(e,r,!0),e.child}function rx(t){var e=t.stateNode;e.pendingContext?Ny(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Ny(t,e.context,!1),Im(t,e.containerInfo)}function Yy(t,e,r,n,i){return fs(),Sm(i),e.flags|=256,rt(t,e,r,n),e.child}var zf={dehydrated:null,treeContext:null,retryLane:0};function Gf(t){return{baseLanes:t,cachePool:null,transitions:null}}function nx(t,e,r){var n=e.pendingProps,i=Te.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),ge(Te,i&1),t===null)return Uf(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,s?(n=e.mode,s=e.child,o={mode:"hidden",children:o},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Xu(o,n,0,null),t=Vn(t,n,r,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Gf(r),e.memoizedState=zf,t):Dm(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return HI(t,e,o,n,a,i,r);if(s){s=n.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:n.children};return!(o&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=pn(i,l),n.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=pn(a,s):(s=Vn(s,o,r,null),s.flags|=2),s.return=e,n.return=e,n.sibling=s,e.child=n,n=s,s=e.child,o=t.child.memoizedState,o=o===null?Gf(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~r,e.memoizedState=zf,n}return s=t.child,t=s.sibling,n=pn(s,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function Dm(t,e){return e=Xu({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Za(t,e,r,n){return n!==null&&Sm(n),ps(e,t.child,null,r),t=Dm(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function HI(t,e,r,n,i,s,o){if(r)return e.flags&256?(e.flags&=-257,n=id(Error(B(422))),Za(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=n.fallback,i=e.mode,n=Xu({mode:"visible",children:n.children},i,0,null),s=Vn(s,i,o,null),s.flags|=2,n.return=e,s.return=e,n.sibling=s,e.child=n,e.mode&1&&ps(e,t.child,null,o),e.child.memoizedState=Gf(o),e.memoizedState=zf,s);if(!(e.mode&1))return Za(t,e,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var a=n.dgst;return n=a,s=Error(B(419)),n=id(s,n,void 0),Za(t,e,o,n)}if(a=(o&t.childLanes)!==0,ut||a){if(n=Ge,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Tr(t,i),Kt(n,t,i,-1))}return $m(),n=id(Error(B(421))),Za(t,e,o,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=rA.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,yt=cn(i.nextSibling),vt=e,be=!0,Wt=null,t!==null&&(It[At++]=wr,It[At++]=Sr,It[At++]=ti,wr=t.id,Sr=t.overflow,ti=e),e=Dm(e,n.children),e.flags|=4096,e)}function Xy(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),Ff(t.return,e,r)}function sd(t,e,r,n,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function ix(t,e,r){var n=e.pendingProps,i=n.revealOrder,s=n.tail;if(rt(t,e,n.children,r),n=Te.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Xy(t,r,e);else if(t.tag===19)Xy(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(ge(Te,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&Ql(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),sd(e,!1,i,r,s);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Ql(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}sd(e,!0,r,null,s);break;case"together":sd(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function yl(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ir(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),ni|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(B(153));if(e.child!==null){for(t=e.child,r=pn(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=pn(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function zI(t,e,r){switch(e.tag){case 3:rx(e),fs();break;case 5:RS(e);break;case 1:dt(e.type)&&jl(e);break;case 4:Im(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;ge(Gl,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(ge(Te,Te.current&1),e.flags|=128,null):r&e.child.childLanes?nx(t,e,r):(ge(Te,Te.current&1),t=Ir(t,e,r),t!==null?t.sibling:null);ge(Te,Te.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return ix(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ge(Te,Te.current),n)break;return null;case 22:case 23:return e.lanes=0,ex(t,e,r)}return Ir(t,e,r)}var sx,Wf,ox,ax;sx=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Wf=function(){};ox=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,Mn(hr.current);var s=null;switch(r){case"input":i=pf(t,i),n=pf(t,n),s=[];break;case"select":i=Ae({},i,{value:void 0}),n=Ae({},n,{value:void 0}),s=[];break;case"textarea":i=yf(t,i),n=yf(t,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=ql)}_f(r,n);var o;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(vo.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in n){var l=n[u];if(a=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(s||(s=[]),s.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(vo.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Se("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}r&&(s=s||[]).push("style",r);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};ax=function(t,e,r,n){r!==n&&(e.flags|=4)};function js(t,e){if(!be)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Ye(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function GI(t,e,r){var n=e.pendingProps;switch(wm(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ye(e),null;case 1:return dt(e.type)&&$l(),Ye(e),null;case 3:return n=e.stateNode,ms(),xe(ct),xe(tt),Pm(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Ya(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Wt!==null&&(ep(Wt),Wt=null))),Wf(t,e),Ye(e),null;case 5:Am(e);var i=Mn(ko.current);if(r=e.type,t!==null&&e.stateNode!=null)ox(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(B(166));return Ye(e),null}if(t=Mn(hr.current),Ya(e)){n=e.stateNode,r=e.type;var s=e.memoizedProps;switch(n[lr]=e,n[Ao]=s,t=(e.mode&1)!==0,r){case"dialog":Se("cancel",n),Se("close",n);break;case"iframe":case"object":case"embed":Se("load",n);break;case"video":case"audio":for(i=0;i<Xs.length;i++)Se(Xs[i],n);break;case"source":Se("error",n);break;case"img":case"image":case"link":Se("error",n),Se("load",n);break;case"details":Se("toggle",n);break;case"input":ay(n,s),Se("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},Se("invalid",n);break;case"textarea":uy(n,s),Se("invalid",n)}_f(r,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?n.textContent!==a&&(s.suppressHydrationWarning!==!0&&Ja(n.textContent,a,t),i=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Ja(n.textContent,a,t),i=["children",""+a]):vo.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Se("scroll",n)}switch(r){case"input":ja(n),ly(n,s,!0);break;case"textarea":ja(n),cy(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=ql)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Nw(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[lr]=e,t[Ao]=n,sx(t,e,!1,!1),e.stateNode=t;e:{switch(o=wf(r,n),r){case"dialog":Se("cancel",t),Se("close",t),i=n;break;case"iframe":case"object":case"embed":Se("load",t),i=n;break;case"video":case"audio":for(i=0;i<Xs.length;i++)Se(Xs[i],t);i=n;break;case"source":Se("error",t),i=n;break;case"img":case"image":case"link":Se("error",t),Se("load",t),i=n;break;case"details":Se("toggle",t),i=n;break;case"input":ay(t,n),i=pf(t,n),Se("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=Ae({},n,{value:void 0}),Se("invalid",t);break;case"textarea":uy(t,n),i=yf(t,n),Se("invalid",t);break;default:i=n}_f(r,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?Uw(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Dw(t,l)):s==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&_o(t,l):typeof l=="number"&&_o(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(vo.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Se("scroll",t):l!=null&&sm(t,s,l,o))}switch(r){case"input":ja(t),ly(t,n,!1);break;case"textarea":ja(t),cy(t);break;case"option":n.value!=null&&t.setAttribute("value",""+gn(n.value));break;case"select":t.multiple=!!n.multiple,s=n.value,s!=null?Ui(t,!!n.multiple,s,!1):n.defaultValue!=null&&Ui(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=ql)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ye(e),null;case 6:if(t&&e.stateNode!=null)ax(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(B(166));if(r=Mn(ko.current),Mn(hr.current),Ya(e)){if(n=e.stateNode,r=e.memoizedProps,n[lr]=e,(s=n.nodeValue!==r)&&(t=vt,t!==null))switch(t.tag){case 3:Ja(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ja(n.nodeValue,r,(t.mode&1)!==0)}s&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[lr]=e,e.stateNode=n}return Ye(e),null;case 13:if(xe(Te),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(be&&yt!==null&&e.mode&1&&!(e.flags&128))bS(),fs(),e.flags|=98560,s=!1;else if(s=Ya(e),n!==null&&n.dehydrated!==null){if(t===null){if(!s)throw Error(B(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(B(317));s[lr]=e}else fs(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ye(e),s=!1}else Wt!==null&&(ep(Wt),Wt=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||Te.current&1?qe===0&&(qe=3):$m())),e.updateQueue!==null&&(e.flags|=4),Ye(e),null);case 4:return ms(),Wf(t,e),t===null&&To(e.stateNode.containerInfo),Ye(e),null;case 10:return bm(e.type._context),Ye(e),null;case 17:return dt(e.type)&&$l(),Ye(e),null;case 19:if(xe(Te),s=e.memoizedState,s===null)return Ye(e),null;if(n=(e.flags&128)!==0,o=s.rendering,o===null)if(n)js(s,!1);else{if(qe!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Ql(t),o!==null){for(e.flags|=128,js(s,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)s=r,t=n,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return ge(Te,Te.current&1|2),e.child}t=t.sibling}s.tail!==null&&Oe()>ys&&(e.flags|=128,n=!0,js(s,!1),e.lanes=4194304)}else{if(!n)if(t=Ql(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),js(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!be)return Ye(e),null}else 2*Oe()-s.renderingStartTime>ys&&r!==1073741824&&(e.flags|=128,n=!0,js(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(r=s.last,r!==null?r.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Oe(),e.sibling=null,r=Te.current,ge(Te,n?r&1|2:r&1),e):(Ye(e),null);case 22:case 23:return qm(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?gt&1073741824&&(Ye(e),e.subtreeFlags&6&&(e.flags|=8192)):Ye(e),null;case 24:return null;case 25:return null}throw Error(B(156,e.tag))}function WI(t,e){switch(wm(e),e.tag){case 1:return dt(e.type)&&$l(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ms(),xe(ct),xe(tt),Pm(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Am(e),null;case 13:if(xe(Te),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(B(340));fs()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return xe(Te),null;case 4:return ms(),null;case 10:return bm(e.type._context),null;case 22:case 23:return qm(),null;case 24:return null;default:return null}}var el=!1,et=!1,VI=typeof WeakSet=="function"?WeakSet:Set,$=null;function Ni(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){ke(t,e,n)}else r.current=null}function Vf(t,e,r){try{r()}catch(n){ke(t,e,n)}}var Zy=!1;function QI(t,e){if(kf=Ul,t=dS(),vm(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var o=0,a=-1,l=-1,u=0,c=0,f=t,h=null;t:for(;;){for(var v;f!==r||i!==0&&f.nodeType!==3||(a=o+i),f!==s||n!==0&&f.nodeType!==3||(l=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(v=f.firstChild)!==null;)h=f,f=v;for(;;){if(f===t)break t;if(h===r&&++u===i&&(a=o),h===s&&++c===n&&(l=o),(v=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=v}r=a===-1||l===-1?null:{start:a,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(Rf={focusedElem:t,selectionRange:r},Ul=!1,$=e;$!==null;)if(e=$,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,$=t;else for(;$!==null;){e=$;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var _=g.memoizedProps,w=g.memoizedState,p=e.stateNode,m=p.getSnapshotBeforeUpdate(e.elementType===e.type?_:Ht(e.type,_),w);p.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var y=e.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(B(163))}}catch(C){ke(e,e.return,C)}if(t=e.sibling,t!==null){t.return=e.return,$=t;break}$=e.return}return g=Zy,Zy=!1,g}function oo(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Vf(e,r,s)}i=i.next}while(i!==n)}}function Ju(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function Qf(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function lx(t){var e=t.alternate;e!==null&&(t.alternate=null,lx(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[lr],delete e[Ao],delete e[Nf],delete e[kI],delete e[RI])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function ux(t){return t.tag===5||t.tag===3||t.tag===4}function ev(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||ux(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Kf(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=ql));else if(n!==4&&(t=t.child,t!==null))for(Kf(t,e,r),t=t.sibling;t!==null;)Kf(t,e,r),t=t.sibling}function Jf(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Jf(t,e,r),t=t.sibling;t!==null;)Jf(t,e,r),t=t.sibling}var We=null,Gt=!1;function Nr(t,e,r){for(r=r.child;r!==null;)cx(t,e,r),r=r.sibling}function cx(t,e,r){if(dr&&typeof dr.onCommitFiberUnmount=="function")try{dr.onCommitFiberUnmount(ju,r)}catch{}switch(r.tag){case 5:et||Ni(r,e);case 6:var n=We,i=Gt;We=null,Nr(t,e,r),We=n,Gt=i,We!==null&&(Gt?(t=We,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):We.removeChild(r.stateNode));break;case 18:We!==null&&(Gt?(t=We,r=r.stateNode,t.nodeType===8?Xc(t.parentNode,r):t.nodeType===1&&Xc(t,r),Co(t)):Xc(We,r.stateNode));break;case 4:n=We,i=Gt,We=r.stateNode.containerInfo,Gt=!0,Nr(t,e,r),We=n,Gt=i;break;case 0:case 11:case 14:case 15:if(!et&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Vf(r,e,o),i=i.next}while(i!==n)}Nr(t,e,r);break;case 1:if(!et&&(Ni(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){ke(r,e,a)}Nr(t,e,r);break;case 21:Nr(t,e,r);break;case 22:r.mode&1?(et=(n=et)||r.memoizedState!==null,Nr(t,e,r),et=n):Nr(t,e,r);break;default:Nr(t,e,r)}}function tv(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new VI),e.forEach(function(n){var i=nA.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function jt(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:We=a.stateNode,Gt=!1;break e;case 3:We=a.stateNode.containerInfo,Gt=!0;break e;case 4:We=a.stateNode.containerInfo,Gt=!0;break e}a=a.return}if(We===null)throw Error(B(160));cx(s,o,i),We=null,Gt=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){ke(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)dx(e,t),e=e.sibling}function dx(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(jt(e,t),er(t),n&4){try{oo(3,t,t.return),Ju(3,t)}catch(_){ke(t,t.return,_)}try{oo(5,t,t.return)}catch(_){ke(t,t.return,_)}}break;case 1:jt(e,t),er(t),n&512&&r!==null&&Ni(r,r.return);break;case 5:if(jt(e,t),er(t),n&512&&r!==null&&Ni(r,r.return),t.flags&32){var i=t.stateNode;try{_o(i,"")}catch(_){ke(t,t.return,_)}}if(n&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=r!==null?r.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&Ow(i,s),wf(a,o);var u=wf(a,s);for(o=0;o<l.length;o+=2){var c=l[o],f=l[o+1];c==="style"?Uw(i,f):c==="dangerouslySetInnerHTML"?Dw(i,f):c==="children"?_o(i,f):sm(i,c,f,u)}switch(a){case"input":mf(i,s);break;case"textarea":Mw(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var v=s.value;v!=null?Ui(i,!!s.multiple,v,!1):h!==!!s.multiple&&(s.defaultValue!=null?Ui(i,!!s.multiple,s.defaultValue,!0):Ui(i,!!s.multiple,s.multiple?[]:"",!1))}i[Ao]=s}catch(_){ke(t,t.return,_)}}break;case 6:if(jt(e,t),er(t),n&4){if(t.stateNode===null)throw Error(B(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(_){ke(t,t.return,_)}}break;case 3:if(jt(e,t),er(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Co(e.containerInfo)}catch(_){ke(t,t.return,_)}break;case 4:jt(e,t),er(t);break;case 13:jt(e,t),er(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Fm=Oe())),n&4&&tv(t);break;case 22:if(c=r!==null&&r.memoizedState!==null,t.mode&1?(et=(u=et)||c,jt(e,t),et=u):jt(e,t),er(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for($=t,c=t.child;c!==null;){for(f=$=c;$!==null;){switch(h=$,v=h.child,h.tag){case 0:case 11:case 14:case 15:oo(4,h,h.return);break;case 1:Ni(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){n=h,r=h.return;try{e=n,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(_){ke(n,r,_)}}break;case 5:Ni(h,h.return);break;case 22:if(h.memoizedState!==null){nv(f);continue}}v!==null?(v.return=h,$=v):nv(f)}c=c.sibling}e:for(c=null,f=t;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Bw("display",o))}catch(_){ke(t,t.return,_)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(_){ke(t,t.return,_)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:jt(e,t),er(t),n&4&&tv(t);break;case 21:break;default:jt(e,t),er(t)}}function er(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(ux(r)){var n=r;break e}r=r.return}throw Error(B(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(_o(i,""),n.flags&=-33);var s=ev(t);Jf(t,s,i);break;case 3:case 4:var o=n.stateNode.containerInfo,a=ev(t);Kf(t,a,o);break;default:throw Error(B(161))}}catch(l){ke(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function KI(t,e,r){$=t,hx(t)}function hx(t,e,r){for(var n=(t.mode&1)!==0;$!==null;){var i=$,s=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||el;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||et;a=el;var u=et;if(el=o,(et=l)&&!u)for($=i;$!==null;)o=$,l=o.child,o.tag===22&&o.memoizedState!==null?iv(i):l!==null?(l.return=o,$=l):iv(i);for(;s!==null;)$=s,hx(s),s=s.sibling;$=i,el=a,et=u}rv(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,$=s):rv(t)}}function rv(t){for(;$!==null;){var e=$;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:et||Ju(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!et)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:Ht(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Ly(e,s,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}Ly(e,o,r)}break;case 5:var a=e.stateNode;if(r===null&&e.flags&4){r=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&Co(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(B(163))}et||e.flags&512&&Qf(e)}catch(h){ke(e,e.return,h)}}if(e===t){$=null;break}if(r=e.sibling,r!==null){r.return=e.return,$=r;break}$=e.return}}function nv(t){for(;$!==null;){var e=$;if(e===t){$=null;break}var r=e.sibling;if(r!==null){r.return=e.return,$=r;break}$=e.return}}function iv(t){for(;$!==null;){var e=$;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Ju(4,e)}catch(l){ke(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(l){ke(e,i,l)}}var s=e.return;try{Qf(e)}catch(l){ke(e,s,l)}break;case 5:var o=e.return;try{Qf(e)}catch(l){ke(e,o,l)}}}catch(l){ke(e,e.return,l)}if(e===t){$=null;break}var a=e.sibling;if(a!==null){a.return=e.return,$=a;break}$=e.return}}var JI=Math.ceil,Yl=Ar.ReactCurrentDispatcher,Bm=Ar.ReactCurrentOwner,Rt=Ar.ReactCurrentBatchConfig,oe=0,Ge=null,Ne=null,Qe=0,gt=0,Di=bn(0),qe=0,No=null,ni=0,Yu=0,Um=0,ao=null,lt=null,Fm=0,ys=1/0,yr=null,Xl=!1,Yf=null,hn=null,tl=!1,nn=null,Zl=0,lo=0,Xf=null,vl=-1,_l=0;function nt(){return oe&6?Oe():vl!==-1?vl:vl=Oe()}function fn(t){return t.mode&1?oe&2&&Qe!==0?Qe&-Qe:MI.transition!==null?(_l===0&&(_l=Kw()),_l):(t=fe,t!==0||(t=window.event,t=t===void 0?16:rS(t.type)),t):1}function Kt(t,e,r,n){if(50<lo)throw lo=0,Xf=null,Error(B(185));ba(t,r,n),(!(oe&2)||t!==Ge)&&(t===Ge&&(!(oe&2)&&(Yu|=r),qe===4&&Wr(t,Qe)),ht(t,n),r===1&&oe===0&&!(e.mode&1)&&(ys=Oe()+500,Vu&&En()))}function ht(t,e){var r=t.callbackNode;MT(t,e);var n=Bl(t,t===Ge?Qe:0);if(n===0)r!==null&&fy(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&fy(r),e===1)t.tag===0?OI(sv.bind(null,t)):SS(sv.bind(null,t)),AI(function(){!(oe&6)&&En()}),r=null;else{switch(Jw(n)){case 1:r=cm;break;case 4:r=Vw;break;case 16:r=Dl;break;case 536870912:r=Qw;break;default:r=Dl}r=wx(r,fx.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function fx(t,e){if(vl=-1,_l=0,oe&6)throw Error(B(327));var r=t.callbackNode;if(ji()&&t.callbackNode!==r)return null;var n=Bl(t,t===Ge?Qe:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=eu(t,n);else{e=n;var i=oe;oe|=2;var s=mx();(Ge!==t||Qe!==e)&&(yr=null,ys=Oe()+500,Wn(t,e));do try{ZI();break}catch(a){px(t,a)}while(1);Cm(),Yl.current=s,oe=i,Ne!==null?e=0:(Ge=null,Qe=0,e=qe)}if(e!==0){if(e===2&&(i=Ef(t),i!==0&&(n=i,e=Zf(t,i))),e===1)throw r=No,Wn(t,0),Wr(t,n),ht(t,Oe()),r;if(e===6)Wr(t,n);else{if(i=t.current.alternate,!(n&30)&&!YI(i)&&(e=eu(t,n),e===2&&(s=Ef(t),s!==0&&(n=s,e=Zf(t,s))),e===1))throw r=No,Wn(t,0),Wr(t,n),ht(t,Oe()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(B(345));case 2:kn(t,lt,yr);break;case 3:if(Wr(t,n),(n&130023424)===n&&(e=Fm+500-Oe(),10<e)){if(Bl(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){nt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Mf(kn.bind(null,t,lt,yr),e);break}kn(t,lt,yr);break;case 4:if(Wr(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var o=31-Qt(n);s=1<<o,o=e[o],o>i&&(i=o),n&=~s}if(n=i,n=Oe()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*JI(n/1960))-n,10<n){t.timeoutHandle=Mf(kn.bind(null,t,lt,yr),n);break}kn(t,lt,yr);break;case 5:kn(t,lt,yr);break;default:throw Error(B(329))}}}return ht(t,Oe()),t.callbackNode===r?fx.bind(null,t):null}function Zf(t,e){var r=ao;return t.current.memoizedState.isDehydrated&&(Wn(t,e).flags|=256),t=eu(t,e),t!==2&&(e=lt,lt=r,e!==null&&ep(e)),t}function ep(t){lt===null?lt=t:lt.push.apply(lt,t)}function YI(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!Yt(s(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Wr(t,e){for(e&=~Um,e&=~Yu,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Qt(e),n=1<<r;t[r]=-1,e&=~n}}function sv(t){if(oe&6)throw Error(B(327));ji();var e=Bl(t,0);if(!(e&1))return ht(t,Oe()),null;var r=eu(t,e);if(t.tag!==0&&r===2){var n=Ef(t);n!==0&&(e=n,r=Zf(t,n))}if(r===1)throw r=No,Wn(t,0),Wr(t,e),ht(t,Oe()),r;if(r===6)throw Error(B(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,kn(t,lt,yr),ht(t,Oe()),null}function Lm(t,e){var r=oe;oe|=1;try{return t(e)}finally{oe=r,oe===0&&(ys=Oe()+500,Vu&&En())}}function ii(t){nn!==null&&nn.tag===0&&!(oe&6)&&ji();var e=oe;oe|=1;var r=Rt.transition,n=fe;try{if(Rt.transition=null,fe=1,t)return t()}finally{fe=n,Rt.transition=r,oe=e,!(oe&6)&&En()}}function qm(){gt=Di.current,xe(Di)}function Wn(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,II(r)),Ne!==null)for(r=Ne.return;r!==null;){var n=r;switch(wm(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&$l();break;case 3:ms(),xe(ct),xe(tt),Pm();break;case 5:Am(n);break;case 4:ms();break;case 13:xe(Te);break;case 19:xe(Te);break;case 10:bm(n.type._context);break;case 22:case 23:qm()}r=r.return}if(Ge=t,Ne=t=pn(t.current,null),Qe=gt=e,qe=0,No=null,Um=Yu=ni=0,lt=ao=null,On!==null){for(e=0;e<On.length;e++)if(r=On[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var o=s.next;s.next=i,n.next=o}r.pending=n}On=null}return t}function px(t,e){do{var r=Ne;try{if(Cm(),ml.current=Jl,Kl){for(var n=Ie.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Kl=!1}if(ri=0,ze=Le=Ie=null,so=!1,Ro=0,Bm.current=null,r===null||r.return===null){qe=1,No=e,Ne=null;break}e:{var s=t,o=r.return,a=r,l=e;if(e=Qe,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var v=Wy(o);if(v!==null){v.flags&=-257,Vy(v,o,a,s,e),v.mode&1&&Gy(s,u,e),e=v,l=u;var g=e.updateQueue;if(g===null){var _=new Set;_.add(l),e.updateQueue=_}else g.add(l);break e}else{if(!(e&1)){Gy(s,u,e),$m();break e}l=Error(B(426))}}else if(be&&a.mode&1){var w=Wy(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),Vy(w,o,a,s,e),Sm(gs(l,a));break e}}s=l=gs(l,a),qe!==4&&(qe=2),ao===null?ao=[s]:ao.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var p=YS(s,l,e);Fy(s,p);break e;case 1:a=l;var m=s.type,y=s.stateNode;if(!(s.flags&128)&&(typeof m.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(hn===null||!hn.has(y)))){s.flags|=65536,e&=-e,s.lanes|=e;var C=XS(s,a,e);Fy(s,C);break e}}s=s.return}while(s!==null)}yx(r)}catch(E){e=E,Ne===r&&r!==null&&(Ne=r=r.return);continue}break}while(1)}function mx(){var t=Yl.current;return Yl.current=Jl,t===null?Jl:t}function $m(){(qe===0||qe===3||qe===2)&&(qe=4),Ge===null||!(ni&268435455)&&!(Yu&268435455)||Wr(Ge,Qe)}function eu(t,e){var r=oe;oe|=2;var n=mx();(Ge!==t||Qe!==e)&&(yr=null,Wn(t,e));do try{XI();break}catch(i){px(t,i)}while(1);if(Cm(),oe=r,Yl.current=n,Ne!==null)throw Error(B(261));return Ge=null,Qe=0,qe}function XI(){for(;Ne!==null;)gx(Ne)}function ZI(){for(;Ne!==null&&!bT();)gx(Ne)}function gx(t){var e=_x(t.alternate,t,gt);t.memoizedProps=t.pendingProps,e===null?yx(t):Ne=e,Bm.current=null}function yx(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=WI(r,e),r!==null){r.flags&=32767,Ne=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{qe=6,Ne=null;return}}else if(r=GI(r,e,gt),r!==null){Ne=r;return}if(e=e.sibling,e!==null){Ne=e;return}Ne=e=t}while(e!==null);qe===0&&(qe=5)}function kn(t,e,r){var n=fe,i=Rt.transition;try{Rt.transition=null,fe=1,eA(t,e,r,n)}finally{Rt.transition=i,fe=n}return null}function eA(t,e,r,n){do ji();while(nn!==null);if(oe&6)throw Error(B(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(B(177));t.callbackNode=null,t.callbackPriority=0;var s=r.lanes|r.childLanes;if(NT(t,s),t===Ge&&(Ne=Ge=null,Qe=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||tl||(tl=!0,wx(Dl,function(){return ji(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=Rt.transition,Rt.transition=null;var o=fe;fe=1;var a=oe;oe|=4,Bm.current=null,QI(t,r),dx(r,t),wI(Rf),Ul=!!kf,Rf=kf=null,t.current=r,KI(r),ET(),oe=a,fe=o,Rt.transition=s}else t.current=r;if(tl&&(tl=!1,nn=t,Zl=i),s=t.pendingLanes,s===0&&(hn=null),AT(r.stateNode),ht(t,Oe()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Xl)throw Xl=!1,t=Yf,Yf=null,t;return Zl&1&&t.tag!==0&&ji(),s=t.pendingLanes,s&1?t===Xf?lo++:(lo=0,Xf=t):lo=0,En(),null}function ji(){if(nn!==null){var t=Jw(Zl),e=Rt.transition,r=fe;try{if(Rt.transition=null,fe=16>t?16:t,nn===null)var n=!1;else{if(t=nn,nn=null,Zl=0,oe&6)throw Error(B(331));var i=oe;for(oe|=4,$=t.current;$!==null;){var s=$,o=s.child;if($.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for($=u;$!==null;){var c=$;switch(c.tag){case 0:case 11:case 15:oo(8,c,s)}var f=c.child;if(f!==null)f.return=c,$=f;else for(;$!==null;){c=$;var h=c.sibling,v=c.return;if(lx(c),c===u){$=null;break}if(h!==null){h.return=v,$=h;break}$=v}}}var g=s.alternate;if(g!==null){var _=g.child;if(_!==null){g.child=null;do{var w=_.sibling;_.sibling=null,_=w}while(_!==null)}}$=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,$=o;else e:for(;$!==null;){if(s=$,s.flags&2048)switch(s.tag){case 0:case 11:case 15:oo(9,s,s.return)}var p=s.sibling;if(p!==null){p.return=s.return,$=p;break e}$=s.return}}var m=t.current;for($=m;$!==null;){o=$;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,$=y;else e:for(o=m;$!==null;){if(a=$,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Ju(9,a)}}catch(E){ke(a,a.return,E)}if(a===o){$=null;break e}var C=a.sibling;if(C!==null){C.return=a.return,$=C;break e}$=a.return}}if(oe=i,En(),dr&&typeof dr.onPostCommitFiberRoot=="function")try{dr.onPostCommitFiberRoot(ju,t)}catch{}n=!0}return n}finally{fe=r,Rt.transition=e}}return!1}function ov(t,e,r){e=gs(r,e),e=YS(t,e,1),t=dn(t,e,1),e=nt(),t!==null&&(ba(t,1,e),ht(t,e))}function ke(t,e,r){if(t.tag===3)ov(t,t,r);else for(;e!==null;){if(e.tag===3){ov(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(hn===null||!hn.has(n))){t=gs(r,t),t=XS(e,t,1),e=dn(e,t,1),t=nt(),e!==null&&(ba(e,1,t),ht(e,t));break}}e=e.return}}function tA(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=nt(),t.pingedLanes|=t.suspendedLanes&r,Ge===t&&(Qe&r)===r&&(qe===4||qe===3&&(Qe&130023424)===Qe&&500>Oe()-Fm?Wn(t,0):Um|=r),ht(t,e)}function vx(t,e){e===0&&(t.mode&1?(e=Ga,Ga<<=1,!(Ga&130023424)&&(Ga=4194304)):e=1);var r=nt();t=Tr(t,e),t!==null&&(ba(t,e,r),ht(t,r))}function rA(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),vx(t,r)}function nA(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(B(314))}n!==null&&n.delete(e),vx(t,r)}var _x;_x=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||ct.current)ut=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return ut=!1,zI(t,e,r);ut=!!(t.flags&131072)}else ut=!1,be&&e.flags&1048576&&xS(e,zl,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;yl(t,e),t=e.pendingProps;var i=hs(e,tt.current);$i(e,r),i=Rm(null,e,n,t,i,r);var s=Om();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,dt(n)?(s=!0,jl(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Tm(e),i.updater=Qu,e.stateNode=i,i._reactInternals=e,qf(e,n,t,r),e=Hf(null,e,n,!0,s,r)):(e.tag=0,be&&s&&_m(e),rt(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(yl(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=sA(n),t=Ht(n,t),i){case 0:e=jf(null,e,n,t,r);break e;case 1:e=Jy(null,e,n,t,r);break e;case 11:e=Qy(null,e,n,t,r);break e;case 14:e=Ky(null,e,n,Ht(n.type,t),r);break e}throw Error(B(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Ht(n,i),jf(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Ht(n,i),Jy(t,e,n,i,r);case 3:e:{if(rx(e),t===null)throw Error(B(387));n=e.pendingProps,s=e.memoizedState,i=s.element,TS(t,e),Vl(e,n,null,r);var o=e.memoizedState;if(n=o.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=gs(Error(B(423)),e),e=Yy(t,e,n,r,i);break e}else if(n!==i){i=gs(Error(B(424)),e),e=Yy(t,e,n,r,i);break e}else for(yt=cn(e.stateNode.containerInfo.firstChild),vt=e,be=!0,Wt=null,r=kS(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(fs(),n===i){e=Ir(t,e,r);break e}rt(t,e,n,r)}e=e.child}return e;case 5:return RS(e),t===null&&Uf(e),n=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Of(n,i)?o=null:s!==null&&Of(n,s)&&(e.flags|=32),tx(t,e),rt(t,e,o,r),e.child;case 6:return t===null&&Uf(e),null;case 13:return nx(t,e,r);case 4:return Im(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=ps(e,null,n,r):rt(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Ht(n,i),Qy(t,e,n,i,r);case 7:return rt(t,e,e.pendingProps,r),e.child;case 8:return rt(t,e,e.pendingProps.children,r),e.child;case 12:return rt(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,ge(Gl,n._currentValue),n._currentValue=o,s!==null)if(Yt(s.value,o)){if(s.children===i.children&&!ct.current){e=Ir(t,e,r);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===n){if(s.tag===1){l=xr(-1,r&-r),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=r,l=s.alternate,l!==null&&(l.lanes|=r),Ff(s.return,r,e),a.lanes|=r;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(B(341));o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),Ff(o,r,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}rt(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,$i(e,r),i=Dt(i),n=n(i),e.flags|=1,rt(t,e,n,r),e.child;case 14:return n=e.type,i=Ht(n,e.pendingProps),i=Ht(n.type,i),Ky(t,e,n,i,r);case 15:return ZS(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Ht(n,i),yl(t,e),e.tag=1,dt(n)?(t=!0,jl(e)):t=!1,$i(e,r),AS(e,n,i),qf(e,n,i,r),Hf(null,e,n,!0,t,r);case 19:return ix(t,e,r);case 22:return ex(t,e,r)}throw Error(B(156,e.tag))};function wx(t,e){return Ww(t,e)}function iA(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kt(t,e,r,n){return new iA(t,e,r,n)}function jm(t){return t=t.prototype,!(!t||!t.isReactComponent)}function sA(t){if(typeof t=="function")return jm(t)?1:0;if(t!=null){if(t=t.$$typeof,t===am)return 11;if(t===lm)return 14}return 2}function pn(t,e){var r=t.alternate;return r===null?(r=kt(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function wl(t,e,r,n,i,s){var o=2;if(n=t,typeof t=="function")jm(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Ei:return Vn(r.children,i,s,e);case om:o=8,i|=8;break;case cf:return t=kt(12,r,e,i|2),t.elementType=cf,t.lanes=s,t;case df:return t=kt(13,r,e,i),t.elementType=df,t.lanes=s,t;case hf:return t=kt(19,r,e,i),t.elementType=hf,t.lanes=s,t;case Pw:return Xu(r,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Iw:o=10;break e;case Aw:o=9;break e;case am:o=11;break e;case lm:o=14;break e;case Hr:o=16,n=null;break e}throw Error(B(130,t==null?t:typeof t,""))}return e=kt(o,r,e,i),e.elementType=t,e.type=n,e.lanes=s,e}function Vn(t,e,r,n){return t=kt(7,t,n,e),t.lanes=r,t}function Xu(t,e,r,n){return t=kt(22,t,n,e),t.elementType=Pw,t.lanes=r,t.stateNode={isHidden:!1},t}function od(t,e,r){return t=kt(6,t,null,e),t.lanes=r,t}function ad(t,e,r){return e=kt(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function oA(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=$c(0),this.expirationTimes=$c(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$c(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Hm(t,e,r,n,i,s,o,a,l){return t=new oA(t,e,r,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=kt(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Tm(s),t}function aA(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:bi,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function Sx(t){if(!t)return yn;t=t._reactInternals;e:{if(ci(t)!==t||t.tag!==1)throw Error(B(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(dt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(B(171))}if(t.tag===1){var r=t.type;if(dt(r))return wS(t,r,e)}return e}function xx(t,e,r,n,i,s,o,a,l){return t=Hm(r,n,!0,t,i,s,o,a,l),t.context=Sx(null),r=t.current,n=nt(),i=fn(r),s=xr(n,i),s.callback=e??null,dn(r,s,i),t.current.lanes=i,ba(t,i,n),ht(t,n),t}function Zu(t,e,r,n){var i=e.current,s=nt(),o=fn(i);return r=Sx(r),e.context===null?e.context=r:e.pendingContext=r,e=xr(s,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=dn(i,e,o),t!==null&&(Kt(t,i,o,s),pl(t,i,o)),o}function tu(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function av(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function zm(t,e){av(t,e),(t=t.alternate)&&av(t,e)}function lA(){return null}var Cx=typeof reportError=="function"?reportError:function(t){console.error(t)};function Gm(t){this._internalRoot=t}ec.prototype.render=Gm.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(B(409));Zu(t,e,null,null)};ec.prototype.unmount=Gm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ii(function(){Zu(null,t,null,null)}),e[Er]=null}};function ec(t){this._internalRoot=t}ec.prototype.unstable_scheduleHydration=function(t){if(t){var e=Zw();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Gr.length&&e!==0&&e<Gr[r].priority;r++);Gr.splice(r,0,t),r===0&&tS(t)}};function Wm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function tc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function lv(){}function uA(t,e,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var u=tu(o);s.call(u)}}var o=xx(e,n,t,0,null,!1,!1,"",lv);return t._reactRootContainer=o,t[Er]=o.current,To(t.nodeType===8?t.parentNode:t),ii(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var a=n;n=function(){var u=tu(l);a.call(u)}}var l=Hm(t,0,!1,null,null,!1,!1,"",lv);return t._reactRootContainer=l,t[Er]=l.current,To(t.nodeType===8?t.parentNode:t),ii(function(){Zu(e,l,r,n)}),l}function rc(t,e,r,n,i){var s=r._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=tu(o);a.call(l)}}Zu(e,o,t,i)}else o=uA(r,e,t,i,n);return tu(o)}Yw=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Ys(e.pendingLanes);r!==0&&(dm(e,r|1),ht(e,Oe()),!(oe&6)&&(ys=Oe()+500,En()))}break;case 13:ii(function(){var n=Tr(t,1);if(n!==null){var i=nt();Kt(n,t,1,i)}}),zm(t,1)}};hm=function(t){if(t.tag===13){var e=Tr(t,134217728);if(e!==null){var r=nt();Kt(e,t,134217728,r)}zm(t,134217728)}};Xw=function(t){if(t.tag===13){var e=fn(t),r=Tr(t,e);if(r!==null){var n=nt();Kt(r,t,e,n)}zm(t,e)}};Zw=function(){return fe};eS=function(t,e){var r=fe;try{return fe=t,e()}finally{fe=r}};xf=function(t,e,r){switch(e){case"input":if(mf(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=Wu(n);if(!i)throw Error(B(90));Rw(n),mf(n,i)}}}break;case"textarea":Mw(t,r);break;case"select":e=r.value,e!=null&&Ui(t,!!r.multiple,e,!1)}};qw=Lm;$w=ii;var cA={usingClientEntryPoint:!1,Events:[Ta,Pi,Wu,Fw,Lw,Lm]},Hs={findFiberByHostInstance:Rn,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},dA={bundleType:Hs.bundleType,version:Hs.version,rendererPackageName:Hs.rendererPackageName,rendererConfig:Hs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ar.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=zw(t),t===null?null:t.stateNode},findFiberByHostInstance:Hs.findFiberByHostInstance||lA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var rl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rl.isDisabled&&rl.supportsFiber)try{ju=rl.inject(dA),dr=rl}catch{}}wt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cA;wt.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Wm(e))throw Error(B(200));return aA(t,e,null,r)};wt.createRoot=function(t,e){if(!Wm(t))throw Error(B(299));var r=!1,n="",i=Cx;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Hm(t,1,!1,null,null,r,!1,n,i),t[Er]=e.current,To(t.nodeType===8?t.parentNode:t),new Gm(e)};wt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(B(188)):(t=Object.keys(t).join(","),Error(B(268,t)));return t=zw(e),t=t===null?null:t.stateNode,t};wt.flushSync=function(t){return ii(t)};wt.hydrate=function(t,e,r){if(!tc(e))throw Error(B(200));return rc(null,t,e,!0,r)};wt.hydrateRoot=function(t,e,r){if(!Wm(t))throw Error(B(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",o=Cx;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=xx(e,null,t,1,r??null,i,!1,s,o),t[Er]=e.current,To(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new ec(e)};wt.render=function(t,e,r){if(!tc(e))throw Error(B(200));return rc(null,t,e,!1,r)};wt.unmountComponentAtNode=function(t){if(!tc(t))throw Error(B(40));return t._reactRootContainer?(ii(function(){rc(null,null,t,!1,function(){t._reactRootContainer=null,t[Er]=null})}),!0):!1};wt.unstable_batchedUpdates=Lm;wt.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!tc(r))throw Error(B(200));if(t==null||t._reactInternals===void 0)throw Error(B(38));return rc(t,e,r,!1,n)};wt.version="18.2.0-next-9e3b772b8-20220608";function bx(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(bx)}catch(t){console.error(t)}}bx(),xw.exports=wt;var hA=xw.exports,uv=hA;lf.createRoot=uv.createRoot,lf.hydrateRoot=uv.hydrateRoot;function Do(){}function fA(){return G.useContext(Ex)}function Vm(){return G.useContext(Tx)}const Qm=[],Ex=G.createContext(Qm),Tx=G.createContext(Do);function pA(t,e){switch(e.type){case"add":{const r=[...t];return r.push(e.payload),r}case"clear":return e.payload?t.filter(n=>n.user.id!==e.payload):Qm;case"remove":return t.filter(n=>n.id!==e.payload)}}function Ix(t){const e=G.useContext(Px),r=G.useContext(kx);function n(){r({type:t})}return[!!e[t],n]}const Ax={},Px=G.createContext(Ax),kx=G.createContext(Do);function mA(t,e){switch(e.type){case"twitch":return{...t,twitch:!0};case"youtube":return{...t,youtube:!0}}}const Bo={twitch:{clientId:"xrjkdmui65qd33jdx8itfslt61qys8",scopes:["chat:read","channel:read:redemptions","moderator:read:followers"]},google:{clientId:"932208815805-oq2sevf3ida5idi4k84tlsh03nqc35cs.apps.googleusercontent.com",scopes:["https://www.googleapis.com/auth/youtube.readonly"]}},di={gcTime:1/0,staleTime:1/0,retry:1,retryOnMount:!1,refetchOnMount:!1,refetchOnWindowFocus:!1,refetchOnReconnect:!1};function Km(){return G.useContext(Ox)}function gA(){return G.useContext(Mx)}const Rx={onEvent:Do,onModMessageDelete:Do,key:{twitch:"twitch_sI1x_CMJJYfXAQZ-CV7Vb85074694",google:{}.VITE_GOOGLE_KEY}},Ox=G.createContext(Rx),Mx=G.createContext(Do);function yA(t,e){switch(e.type){case"event":return{...t,onEvent:e.setFunction};case"modMessageDelete":return{...t,onModMessageDelete:e.setFunction};case"key":return{...t,key:{...t.key,[e.authProvider]:e.key}}}}function Nx(t,e){return function(){return t.apply(e,arguments)}}const{toString:vA}=Object.prototype,{getPrototypeOf:Jm}=Object,nc=(t=>e=>{const r=vA.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),pr=t=>(t=t.toLowerCase(),e=>nc(e)===t),ic=t=>e=>typeof e===t,{isArray:Is}=Array,Uo=ic("undefined");function _A(t){return t!==null&&!Uo(t)&&t.constructor!==null&&!Uo(t.constructor)&&Ot(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const Dx=pr("ArrayBuffer");function wA(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&Dx(t.buffer),e}const SA=ic("string"),Ot=ic("function"),Bx=ic("number"),sc=t=>t!==null&&typeof t=="object",xA=t=>t===!0||t===!1,Sl=t=>{if(nc(t)!=="object")return!1;const e=Jm(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},CA=pr("Date"),bA=pr("File"),EA=pr("Blob"),TA=pr("FileList"),IA=t=>sc(t)&&Ot(t.pipe),AA=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Ot(t.append)&&((e=nc(t))==="formdata"||e==="object"&&Ot(t.toString)&&t.toString()==="[object FormData]"))},PA=pr("URLSearchParams"),kA=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Aa(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let n,i;if(typeof t!="object"&&(t=[t]),Is(t))for(n=0,i=t.length;n<i;n++)e.call(null,t[n],n,t);else{const s=r?Object.getOwnPropertyNames(t):Object.keys(t),o=s.length;let a;for(n=0;n<o;n++)a=s[n],e.call(null,t[a],a,t)}}function Ux(t,e){e=e.toLowerCase();const r=Object.keys(t);let n=r.length,i;for(;n-- >0;)if(i=r[n],e===i.toLowerCase())return i;return null}const Fx=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),Lx=t=>!Uo(t)&&t!==Fx;function tp(){const{caseless:t}=Lx(this)&&this||{},e={},r=(n,i)=>{const s=t&&Ux(e,i)||i;Sl(e[s])&&Sl(n)?e[s]=tp(e[s],n):Sl(n)?e[s]=tp({},n):Is(n)?e[s]=n.slice():e[s]=n};for(let n=0,i=arguments.length;n<i;n++)arguments[n]&&Aa(arguments[n],r);return e}const RA=(t,e,r,{allOwnKeys:n}={})=>(Aa(e,(i,s)=>{r&&Ot(i)?t[s]=Nx(i,r):t[s]=i},{allOwnKeys:n}),t),OA=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),MA=(t,e,r,n)=>{t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},NA=(t,e,r,n)=>{let i,s,o;const a={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)o=i[s],(!n||n(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=r!==!1&&Jm(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},DA=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;const n=t.indexOf(e,r);return n!==-1&&n===r},BA=t=>{if(!t)return null;if(Is(t))return t;let e=t.length;if(!Bx(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},UA=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Jm(Uint8Array)),FA=(t,e)=>{const n=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=n.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},LA=(t,e)=>{let r;const n=[];for(;(r=t.exec(e))!==null;)n.push(r);return n},qA=pr("HTMLFormElement"),$A=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,i){return n.toUpperCase()+i}),cv=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),jA=pr("RegExp"),qx=(t,e)=>{const r=Object.getOwnPropertyDescriptors(t),n={};Aa(r,(i,s)=>{let o;(o=e(i,s,t))!==!1&&(n[s]=o||i)}),Object.defineProperties(t,n)},HA=t=>{qx(t,(e,r)=>{if(Ot(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=t[r];if(Ot(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},zA=(t,e)=>{const r={},n=i=>{i.forEach(s=>{r[s]=!0})};return Is(t)?n(t):n(String(t).split(e)),r},GA=()=>{},WA=(t,e)=>(t=+t,Number.isFinite(t)?t:e),ld="abcdefghijklmnopqrstuvwxyz",dv="0123456789",$x={DIGIT:dv,ALPHA:ld,ALPHA_DIGIT:ld+ld.toUpperCase()+dv},VA=(t=16,e=$x.ALPHA_DIGIT)=>{let r="";const{length:n}=e;for(;t--;)r+=e[Math.random()*n|0];return r};function QA(t){return!!(t&&Ot(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const KA=t=>{const e=new Array(10),r=(n,i)=>{if(sc(n)){if(e.indexOf(n)>=0)return;if(!("toJSON"in n)){e[i]=n;const s=Is(n)?[]:{};return Aa(n,(o,a)=>{const l=r(o,i+1);!Uo(l)&&(s[a]=l)}),e[i]=void 0,s}}return n};return r(t,0)},JA=pr("AsyncFunction"),YA=t=>t&&(sc(t)||Ot(t))&&Ot(t.then)&&Ot(t.catch),k={isArray:Is,isArrayBuffer:Dx,isBuffer:_A,isFormData:AA,isArrayBufferView:wA,isString:SA,isNumber:Bx,isBoolean:xA,isObject:sc,isPlainObject:Sl,isUndefined:Uo,isDate:CA,isFile:bA,isBlob:EA,isRegExp:jA,isFunction:Ot,isStream:IA,isURLSearchParams:PA,isTypedArray:UA,isFileList:TA,forEach:Aa,merge:tp,extend:RA,trim:kA,stripBOM:OA,inherits:MA,toFlatObject:NA,kindOf:nc,kindOfTest:pr,endsWith:DA,toArray:BA,forEachEntry:FA,matchAll:LA,isHTMLForm:qA,hasOwnProperty:cv,hasOwnProp:cv,reduceDescriptors:qx,freezeMethods:HA,toObjectSet:zA,toCamelCase:$A,noop:GA,toFiniteNumber:WA,findKey:Ux,global:Fx,isContextDefined:Lx,ALPHABET:$x,generateString:VA,isSpecCompliantForm:QA,toJSONObject:KA,isAsyncFn:JA,isThenable:YA};function se(t,e,r,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i)}k.inherits(se,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:k.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const jx=se.prototype,Hx={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{Hx[t]={value:t}});Object.defineProperties(se,Hx);Object.defineProperty(jx,"isAxiosError",{value:!0});se.from=(t,e,r,n,i,s)=>{const o=Object.create(jx);return k.toFlatObject(t,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),se.call(o,t.message,e,r,n,i),o.cause=t,o.name=t.name,s&&Object.assign(o,s),o};const XA=null;function rp(t){return k.isPlainObject(t)||k.isArray(t)}function zx(t){return k.endsWith(t,"[]")?t.slice(0,-2):t}function hv(t,e,r){return t?t.concat(e).map(function(i,s){return i=zx(i),!r&&s?"["+i+"]":i}).join(r?".":""):e}function ZA(t){return k.isArray(t)&&!t.some(rp)}const eP=k.toFlatObject(k,{},null,function(e){return/^is[A-Z]/.test(e)});function oc(t,e,r){if(!k.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,r=k.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(_,w){return!k.isUndefined(w[_])});const n=r.metaTokens,i=r.visitor||c,s=r.dots,o=r.indexes,l=(r.Blob||typeof Blob<"u"&&Blob)&&k.isSpecCompliantForm(e);if(!k.isFunction(i))throw new TypeError("visitor must be a function");function u(g){if(g===null)return"";if(k.isDate(g))return g.toISOString();if(!l&&k.isBlob(g))throw new se("Blob is not supported. Use a Buffer instead.");return k.isArrayBuffer(g)||k.isTypedArray(g)?l&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function c(g,_,w){let p=g;if(g&&!w&&typeof g=="object"){if(k.endsWith(_,"{}"))_=n?_:_.slice(0,-2),g=JSON.stringify(g);else if(k.isArray(g)&&ZA(g)||(k.isFileList(g)||k.endsWith(_,"[]"))&&(p=k.toArray(g)))return _=zx(_),p.forEach(function(y,C){!(k.isUndefined(y)||y===null)&&e.append(o===!0?hv([_],C,s):o===null?_:_+"[]",u(y))}),!1}return rp(g)?!0:(e.append(hv(w,_,s),u(g)),!1)}const f=[],h=Object.assign(eP,{defaultVisitor:c,convertValue:u,isVisitable:rp});function v(g,_){if(!k.isUndefined(g)){if(f.indexOf(g)!==-1)throw Error("Circular reference detected in "+_.join("."));f.push(g),k.forEach(g,function(p,m){(!(k.isUndefined(p)||p===null)&&i.call(e,p,k.isString(m)?m.trim():m,_,h))===!0&&v(p,_?_.concat(m):[m])}),f.pop()}}if(!k.isObject(t))throw new TypeError("data must be an object");return v(t),e}function fv(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function Ym(t,e){this._pairs=[],t&&oc(t,this,e)}const Gx=Ym.prototype;Gx.append=function(e,r){this._pairs.push([e,r])};Gx.toString=function(e){const r=e?function(n){return e.call(this,n,fv)}:fv;return this._pairs.map(function(i){return r(i[0])+"="+r(i[1])},"").join("&")};function tP(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Wx(t,e,r){if(!e)return t;const n=r&&r.encode||tP,i=r&&r.serialize;let s;if(i?s=i(e,r):s=k.isURLSearchParams(e)?e.toString():new Ym(e,r).toString(n),s){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class rP{constructor(){this.handlers=[]}use(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){k.forEach(this.handlers,function(n){n!==null&&e(n)})}}const pv=rP,Vx={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},nP=typeof URLSearchParams<"u"?URLSearchParams:Ym,iP=typeof FormData<"u"?FormData:null,sP=typeof Blob<"u"?Blob:null,oP=(()=>{let t;return typeof navigator<"u"&&((t=navigator.product)==="ReactNative"||t==="NativeScript"||t==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),aP=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),cr={isBrowser:!0,classes:{URLSearchParams:nP,FormData:iP,Blob:sP},isStandardBrowserEnv:oP,isStandardBrowserWebWorkerEnv:aP,protocols:["http","https","file","blob","url","data"]};function lP(t,e){return oc(t,new cr.classes.URLSearchParams,Object.assign({visitor:function(r,n,i,s){return cr.isNode&&k.isBuffer(r)?(this.append(n,r.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function uP(t){return k.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function cP(t){const e={},r=Object.keys(t);let n;const i=r.length;let s;for(n=0;n<i;n++)s=r[n],e[s]=t[s];return e}function Qx(t){function e(r,n,i,s){let o=r[s++];const a=Number.isFinite(+o),l=s>=r.length;return o=!o&&k.isArray(i)?i.length:o,l?(k.hasOwnProp(i,o)?i[o]=[i[o],n]:i[o]=n,!a):((!i[o]||!k.isObject(i[o]))&&(i[o]=[]),e(r,n,i[o],s)&&k.isArray(i[o])&&(i[o]=cP(i[o])),!a)}if(k.isFormData(t)&&k.isFunction(t.entries)){const r={};return k.forEachEntry(t,(n,i)=>{e(uP(n),i,r,0)}),r}return null}function dP(t,e,r){if(k.isString(t))try{return(e||JSON.parse)(t),k.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(t)}const Xm={transitional:Vx,adapter:["xhr","http"],transformRequest:[function(e,r){const n=r.getContentType()||"",i=n.indexOf("application/json")>-1,s=k.isObject(e);if(s&&k.isHTMLForm(e)&&(e=new FormData(e)),k.isFormData(e))return i&&i?JSON.stringify(Qx(e)):e;if(k.isArrayBuffer(e)||k.isBuffer(e)||k.isStream(e)||k.isFile(e)||k.isBlob(e))return e;if(k.isArrayBufferView(e))return e.buffer;if(k.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return lP(e,this.formSerializer).toString();if((a=k.isFileList(e))||n.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return oc(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return s||i?(r.setContentType("application/json",!1),dP(e)):e}],transformResponse:[function(e){const r=this.transitional||Xm.transitional,n=r&&r.forcedJSONParsing,i=this.responseType==="json";if(e&&k.isString(e)&&(n&&!this.responseType||i)){const o=!(r&&r.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?se.from(a,se.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:cr.classes.FormData,Blob:cr.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};k.forEach(["delete","get","head","post","put","patch"],t=>{Xm.headers[t]={}});const Zm=Xm,hP=k.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),fP=t=>{const e={};let r,n,i;return t&&t.split(`
`).forEach(function(o){i=o.indexOf(":"),r=o.substring(0,i).trim().toLowerCase(),n=o.substring(i+1).trim(),!(!r||e[r]&&hP[r])&&(r==="set-cookie"?e[r]?e[r].push(n):e[r]=[n]:e[r]=e[r]?e[r]+", "+n:n)}),e},mv=Symbol("internals");function zs(t){return t&&String(t).trim().toLowerCase()}function xl(t){return t===!1||t==null?t:k.isArray(t)?t.map(xl):String(t)}function pP(t){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(t);)e[n[1]]=n[2];return e}const mP=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function ud(t,e,r,n,i){if(k.isFunction(n))return n.call(this,e,r);if(i&&(e=r),!!k.isString(e)){if(k.isString(n))return e.indexOf(n)!==-1;if(k.isRegExp(n))return n.test(e)}}function gP(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,n)=>r.toUpperCase()+n)}function yP(t,e){const r=k.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+r,{value:function(i,s,o){return this[n].call(this,e,i,s,o)},configurable:!0})})}class ac{constructor(e){e&&this.set(e)}set(e,r,n){const i=this;function s(a,l,u){const c=zs(l);if(!c)throw new Error("header name must be a non-empty string");const f=k.findKey(i,c);(!f||i[f]===void 0||u===!0||u===void 0&&i[f]!==!1)&&(i[f||l]=xl(a))}const o=(a,l)=>k.forEach(a,(u,c)=>s(u,c,l));return k.isPlainObject(e)||e instanceof this.constructor?o(e,r):k.isString(e)&&(e=e.trim())&&!mP(e)?o(fP(e),r):e!=null&&s(r,e,n),this}get(e,r){if(e=zs(e),e){const n=k.findKey(this,e);if(n){const i=this[n];if(!r)return i;if(r===!0)return pP(i);if(k.isFunction(r))return r.call(this,i,n);if(k.isRegExp(r))return r.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=zs(e),e){const n=k.findKey(this,e);return!!(n&&this[n]!==void 0&&(!r||ud(this,this[n],n,r)))}return!1}delete(e,r){const n=this;let i=!1;function s(o){if(o=zs(o),o){const a=k.findKey(n,o);a&&(!r||ud(n,n[a],a,r))&&(delete n[a],i=!0)}}return k.isArray(e)?e.forEach(s):s(e),i}clear(e){const r=Object.keys(this);let n=r.length,i=!1;for(;n--;){const s=r[n];(!e||ud(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const r=this,n={};return k.forEach(this,(i,s)=>{const o=k.findKey(n,s);if(o){r[o]=xl(i),delete r[s];return}const a=e?gP(s):String(s).trim();a!==s&&delete r[s],r[a]=xl(i),n[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const r=Object.create(null);return k.forEach(this,(n,i)=>{n!=null&&n!==!1&&(r[i]=e&&k.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){const n=new this(e);return r.forEach(i=>n.set(i)),n}static accessor(e){const n=(this[mv]=this[mv]={accessors:{}}).accessors,i=this.prototype;function s(o){const a=zs(o);n[a]||(yP(i,o),n[a]=!0)}return k.isArray(e)?e.forEach(s):s(e),this}}ac.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);k.reduceDescriptors(ac.prototype,({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(n){this[r]=n}}});k.freezeMethods(ac);const Cr=ac;function cd(t,e){const r=this||Zm,n=e||r,i=Cr.from(n.headers);let s=n.data;return k.forEach(t,function(a){s=a.call(r,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function Kx(t){return!!(t&&t.__CANCEL__)}function Pa(t,e,r){se.call(this,t??"canceled",se.ERR_CANCELED,e,r),this.name="CanceledError"}k.inherits(Pa,se,{__CANCEL__:!0});function vP(t,e,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?t(r):e(new se("Request failed with status code "+r.status,[se.ERR_BAD_REQUEST,se.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}const _P=cr.isStandardBrowserEnv?function(){return{write:function(r,n,i,s,o,a){const l=[];l.push(r+"="+encodeURIComponent(n)),k.isNumber(i)&&l.push("expires="+new Date(i).toGMTString()),k.isString(s)&&l.push("path="+s),k.isString(o)&&l.push("domain="+o),a===!0&&l.push("secure"),document.cookie=l.join("; ")},read:function(r){const n=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove:function(r){this.write(r,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function wP(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function SP(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}function Jx(t,e){return t&&!wP(e)?SP(t,e):e}const xP=cr.isStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");let n;function i(s){let o=s;return e&&(r.setAttribute("href",o),o=r.href),r.setAttribute("href",o),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return n=i(window.location.href),function(o){const a=k.isString(o)?i(o):o;return a.protocol===n.protocol&&a.host===n.host}}():function(){return function(){return!0}}();function CP(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function bP(t,e){t=t||10;const r=new Array(t),n=new Array(t);let i=0,s=0,o;return e=e!==void 0?e:1e3,function(l){const u=Date.now(),c=n[s];o||(o=u),r[i]=l,n[i]=u;let f=s,h=0;for(;f!==i;)h+=r[f++],f=f%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),u-o<e)return;const v=c&&u-c;return v?Math.round(h*1e3/v):void 0}}function gv(t,e){let r=0;const n=bP(50,250);return i=>{const s=i.loaded,o=i.lengthComputable?i.total:void 0,a=s-r,l=n(a),u=s<=o;r=s;const c={loaded:s,total:o,progress:o?s/o:void 0,bytes:a,rate:l||void 0,estimated:l&&o&&u?(o-s)/l:void 0,event:i};c[e?"download":"upload"]=!0,t(c)}}const EP=typeof XMLHttpRequest<"u",TP=EP&&function(t){return new Promise(function(r,n){let i=t.data;const s=Cr.from(t.headers).normalize(),o=t.responseType;let a;function l(){t.cancelToken&&t.cancelToken.unsubscribe(a),t.signal&&t.signal.removeEventListener("abort",a)}let u;k.isFormData(i)&&(cr.isStandardBrowserEnv||cr.isStandardBrowserWebWorkerEnv?s.setContentType(!1):s.getContentType(/^\s*multipart\/form-data/)?k.isString(u=s.getContentType())&&s.setContentType(u.replace(/^\s*(multipart\/form-data);+/,"$1")):s.setContentType("multipart/form-data"));let c=new XMLHttpRequest;if(t.auth){const g=t.auth.username||"",_=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";s.set("Authorization","Basic "+btoa(g+":"+_))}const f=Jx(t.baseURL,t.url);c.open(t.method.toUpperCase(),Wx(f,t.params,t.paramsSerializer),!0),c.timeout=t.timeout;function h(){if(!c)return;const g=Cr.from("getAllResponseHeaders"in c&&c.getAllResponseHeaders()),w={data:!o||o==="text"||o==="json"?c.responseText:c.response,status:c.status,statusText:c.statusText,headers:g,config:t,request:c};vP(function(m){r(m),l()},function(m){n(m),l()},w),c=null}if("onloadend"in c?c.onloadend=h:c.onreadystatechange=function(){!c||c.readyState!==4||c.status===0&&!(c.responseURL&&c.responseURL.indexOf("file:")===0)||setTimeout(h)},c.onabort=function(){c&&(n(new se("Request aborted",se.ECONNABORTED,t,c)),c=null)},c.onerror=function(){n(new se("Network Error",se.ERR_NETWORK,t,c)),c=null},c.ontimeout=function(){let _=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const w=t.transitional||Vx;t.timeoutErrorMessage&&(_=t.timeoutErrorMessage),n(new se(_,w.clarifyTimeoutError?se.ETIMEDOUT:se.ECONNABORTED,t,c)),c=null},cr.isStandardBrowserEnv){const g=(t.withCredentials||xP(f))&&t.xsrfCookieName&&_P.read(t.xsrfCookieName);g&&s.set(t.xsrfHeaderName,g)}i===void 0&&s.setContentType(null),"setRequestHeader"in c&&k.forEach(s.toJSON(),function(_,w){c.setRequestHeader(w,_)}),k.isUndefined(t.withCredentials)||(c.withCredentials=!!t.withCredentials),o&&o!=="json"&&(c.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&c.addEventListener("progress",gv(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&c.upload&&c.upload.addEventListener("progress",gv(t.onUploadProgress)),(t.cancelToken||t.signal)&&(a=g=>{c&&(n(!g||g.type?new Pa(null,t,c):g),c.abort(),c=null)},t.cancelToken&&t.cancelToken.subscribe(a),t.signal&&(t.signal.aborted?a():t.signal.addEventListener("abort",a)));const v=CP(f);if(v&&cr.protocols.indexOf(v)===-1){n(new se("Unsupported protocol "+v+":",se.ERR_BAD_REQUEST,t));return}c.send(i||null)})},np={http:XA,xhr:TP};k.forEach(np,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const yv=t=>`- ${t}`,IP=t=>k.isFunction(t)||t===null||t===!1,Yx={getAdapter:t=>{t=k.isArray(t)?t:[t];const{length:e}=t;let r,n;const i={};for(let s=0;s<e;s++){r=t[s];let o;if(n=r,!IP(r)&&(n=np[(o=String(r)).toLowerCase()],n===void 0))throw new se(`Unknown adapter '${o}'`);if(n)break;i[o||"#"+s]=n}if(!n){const s=Object.entries(i).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=e?s.length>1?`since :
`+s.map(yv).join(`
`):" "+yv(s[0]):"as no adapter specified";throw new se("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return n},adapters:np};function dd(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Pa(null,t)}function vv(t){return dd(t),t.headers=Cr.from(t.headers),t.data=cd.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),Yx.getAdapter(t.adapter||Zm.adapter)(t).then(function(n){return dd(t),n.data=cd.call(t,t.transformResponse,n),n.headers=Cr.from(n.headers),n},function(n){return Kx(n)||(dd(t),n&&n.response&&(n.response.data=cd.call(t,t.transformResponse,n.response),n.response.headers=Cr.from(n.response.headers))),Promise.reject(n)})}const _v=t=>t instanceof Cr?t.toJSON():t;function vs(t,e){e=e||{};const r={};function n(u,c,f){return k.isPlainObject(u)&&k.isPlainObject(c)?k.merge.call({caseless:f},u,c):k.isPlainObject(c)?k.merge({},c):k.isArray(c)?c.slice():c}function i(u,c,f){if(k.isUndefined(c)){if(!k.isUndefined(u))return n(void 0,u,f)}else return n(u,c,f)}function s(u,c){if(!k.isUndefined(c))return n(void 0,c)}function o(u,c){if(k.isUndefined(c)){if(!k.isUndefined(u))return n(void 0,u)}else return n(void 0,c)}function a(u,c,f){if(f in e)return n(u,c);if(f in t)return n(void 0,u)}const l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(u,c)=>i(_v(u),_v(c),!0)};return k.forEach(Object.keys(Object.assign({},t,e)),function(c){const f=l[c]||i,h=f(t[c],e[c],c);k.isUndefined(h)&&f!==a||(r[c]=h)}),r}const Xx="1.5.1",eg={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{eg[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});const wv={};eg.transitional=function(e,r,n){function i(s,o){return"[Axios v"+Xx+"] Transitional option '"+s+"'"+o+(n?". "+n:"")}return(s,o,a)=>{if(e===!1)throw new se(i(o," has been removed"+(r?" in "+r:"")),se.ERR_DEPRECATED);return r&&!wv[o]&&(wv[o]=!0,console.warn(i(o," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(s,o,a):!0}};function AP(t,e,r){if(typeof t!="object")throw new se("options must be an object",se.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let i=n.length;for(;i-- >0;){const s=n[i],o=e[s];if(o){const a=t[s],l=a===void 0||o(a,s,t);if(l!==!0)throw new se("option "+s+" must be "+l,se.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new se("Unknown option "+s,se.ERR_BAD_OPTION)}}const ip={assertOptions:AP,validators:eg},Dr=ip.validators;class ru{constructor(e){this.defaults=e,this.interceptors={request:new pv,response:new pv}}request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=vs(this.defaults,r);const{transitional:n,paramsSerializer:i,headers:s}=r;n!==void 0&&ip.assertOptions(n,{silentJSONParsing:Dr.transitional(Dr.boolean),forcedJSONParsing:Dr.transitional(Dr.boolean),clarifyTimeoutError:Dr.transitional(Dr.boolean)},!1),i!=null&&(k.isFunction(i)?r.paramsSerializer={serialize:i}:ip.assertOptions(i,{encode:Dr.function,serialize:Dr.function},!0)),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=s&&k.merge(s.common,s[r.method]);s&&k.forEach(["delete","get","head","post","put","patch","common"],g=>{delete s[g]}),r.headers=Cr.concat(o,s);const a=[];let l=!0;this.interceptors.request.forEach(function(_){typeof _.runWhen=="function"&&_.runWhen(r)===!1||(l=l&&_.synchronous,a.unshift(_.fulfilled,_.rejected))});const u=[];this.interceptors.response.forEach(function(_){u.push(_.fulfilled,_.rejected)});let c,f=0,h;if(!l){const g=[vv.bind(this),void 0];for(g.unshift.apply(g,a),g.push.apply(g,u),h=g.length,c=Promise.resolve(r);f<h;)c=c.then(g[f++],g[f++]);return c}h=a.length;let v=r;for(f=0;f<h;){const g=a[f++],_=a[f++];try{v=g(v)}catch(w){_.call(this,w);break}}try{c=vv.call(this,v)}catch(g){return Promise.reject(g)}for(f=0,h=u.length;f<h;)c=c.then(u[f++],u[f++]);return c}getUri(e){e=vs(this.defaults,e);const r=Jx(e.baseURL,e.url);return Wx(r,e.params,e.paramsSerializer)}}k.forEach(["delete","get","head","options"],function(e){ru.prototype[e]=function(r,n){return this.request(vs(n||{},{method:e,url:r,data:(n||{}).data}))}});k.forEach(["post","put","patch"],function(e){function r(n){return function(s,o,a){return this.request(vs(a||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}ru.prototype[e]=r(),ru.prototype[e+"Form"]=r(!0)});const Cl=ru;class tg{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(s){r=s});const n=this;this.promise.then(i=>{if(!n._listeners)return;let s=n._listeners.length;for(;s-- >0;)n._listeners[s](i);n._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(a=>{n.subscribe(a),s=a}).then(i);return o.cancel=function(){n.unsubscribe(s)},o},e(function(s,o,a){n.reason||(n.reason=new Pa(s,o,a),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}static source(){let e;return{token:new tg(function(i){e=i}),cancel:e}}}const PP=tg;function kP(t){return function(r){return t.apply(null,r)}}function RP(t){return k.isObject(t)&&t.isAxiosError===!0}const sp={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(sp).forEach(([t,e])=>{sp[e]=t});const OP=sp;function Zx(t){const e=new Cl(t),r=Nx(Cl.prototype.request,e);return k.extend(r,Cl.prototype,e,{allOwnKeys:!0}),k.extend(r,e,null,{allOwnKeys:!0}),r.create=function(i){return Zx(vs(t,i))},r}const Be=Zx(Zm);Be.Axios=Cl;Be.CanceledError=Pa;Be.CancelToken=PP;Be.isCancel=Kx;Be.VERSION=Xx;Be.toFormData=oc;Be.AxiosError=se;Be.Cancel=Be.CanceledError;Be.all=function(e){return Promise.all(e)};Be.spread=kP;Be.isAxiosError=RP;Be.mergeConfig=vs;Be.AxiosHeaders=Cr;Be.formToJSON=t=>Qx(k.isHTMLForm(t)?new FormData(t):t);Be.getAdapter=Yx.getAdapter;Be.HttpStatusCode=OP;Be.default=Be;const lc=Be,MP=lc.create({baseURL:"https://slime2.stream/api"});function Fo(t){const e=Km().key[t],[r,n]=G.useState(!1);return G.useEffect(()=>{function i(){n(!0)}return addEventListener("slime2:ready",i),()=>{removeEventListener("slime2:ready",i)}},[]),xn({enabled:r,queryKey:[t,"accessToken",e],queryFn:async()=>NP(t,e),...di})}async function NP(t,e){if(!e)throw new op(`Key not found for platform ${t}`);return MP.get(`/auth/${t}/token`,{headers:{Authorization:`Bearer ${e}`}}).then(r=>r.data.token).catch(r=>{const n=`Invalid key for platform ${t}, download a new one from https://slime2.stream/account`;throw console.error(n,r),new ap(`Invalid key for platform ${t}, download a new one from https://slime2.stream/account`,{cause:r})})}class op extends Error{constructor(e,r){super(e,r),this.name="KeyNotFoundError"}}class ap extends Error{constructor(e,r){super(e,r),this.name="KeyInvalidError"}}var lp=function(t,e){return lp=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},lp(t,e)};function As(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");lp(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var si=function(){return si=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},si.apply(this,arguments)};function S(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s}function Jt(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(c){try{u(n.next(c))}catch(f){o(f)}}function l(c){try{u(n.throw(c))}catch(f){o(f)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((n=n.apply(t,e||[])).next())})}function Mt(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(c){return l([u,c])}}function l(u){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(r=0)),r;)try{if(n=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){r.label=u[1];break}if(u[0]===6&&r.label<s[1]){r.label=s[1],s=u;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(u);break}s[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(c){u=[6,c],i=0}finally{n=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function bl(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Pr(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return s}function vn(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,s;n<i;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return t.concat(s||Array.prototype.slice.call(e))}const uc=Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]";var Br,V;(function(t){t[t.CRITICAL=0]="CRITICAL",t[t.ERROR=1]="ERROR",t[t.WARNING=2]="WARNING",t[t.INFO=3]="INFO",t[t.DEBUG=4]="DEBUG",t[t.TRACE=7]="TRACE"})(V||(V={}));function rg(t){if(typeof t=="number"){if(Object.prototype.hasOwnProperty.call(V,t))return t;var e=Object.keys(V).map(function(n){return parseInt(n,10)}).filter(function(n){return!isNaN(n)&&n<t});return e.length?Math.max.apply(Math,e):V.WARNING}var r=t.replace(/\d+$/,"").toUpperCase();if(!Object.prototype.hasOwnProperty.call(V,r))throw new Error("Unknown log level string: ".concat(t));return V[r]}var DP=uc?console.log.bind(console):console.debug.bind(console),e1=(Br={},Br[V.CRITICAL]=console.error.bind(console),Br[V.ERROR]=console.error.bind(console),Br[V.WARNING]=console.warn.bind(console),Br[V.INFO]=console.info.bind(console),Br[V.DEBUG]=DP.bind(console),Br[V.TRACE]=console.trace.bind(console),Br);function j(t){return t===void 0&&(t=!0),function(e,r){Object.defineProperty(e,r,{get:function(){},set:function(n){Object.defineProperty(this,r,{value:n,writable:!0,enumerable:t})},enumerable:t})}}function Sv(t){var e;return(e=[]).concat.apply(e,vn([],Pr(t),!1))}function up(t){return Jt(this,void 0,Promise,function(){return Mt(this,function(e){switch(e.label){case 0:return typeof t!="function"?[3,2]:[4,t()];case 1:return[2,e.sent()];case 2:return[2,t]}})})}function BP(t){return typeof t=="function"?t():t}function t1(t){var e,r,n;return Mt(this,function(i){switch(i.label){case 0:e=0,r=1,i.label=1;case 1:return e<t?[4,e]:[3,3];case 2:return i.sent(),n=Pr([r,e+r],2),e=n[0],r=n[1],[3,1];case 3:return[4,t];case 4:return i.sent(),[3,3];case 5:return[2]}})}function Zs(t,e){return Object.assign.apply(Object,vn([{}],Pr(t.map(e)),!1))}function cp(t,e){Object.entries(t).forEach(function(r){var n=Pr(r,2),i=n[0],s=n[1];return e(s,i)})}function r1(t,e){if(typeof e!="function"){var r=e;e=function(n){return n[r].toString()}}return Zs(t,function(n){var i;return i={},i[e(n)]=n,i})}function n1(t){return t==null}function Ut(t,e){return n1(t)?null:e(t)}function fr(t,e){return n1(t)?void 0:e(t)}function UP(t){return Jt(this,void 0,Promise,function(){return Mt(this,function(e){switch(e.label){case 0:return[4,new Promise(function(r){return setTimeout(r,t)})];case 1:return e.sent(),[2]}})})}function Lo(){var t,e,r=new Promise(function(n,i){t=n,e=i});return{promise:r,resolve:t,reject:e}}function FP(t,e,r){if(typeof t=="number"&&(t=t.toString()),e=e-t.length,e<=0)return t;r===void 0&&(r=" ");var n="";do(e&1)===1&&(n+=r),e>>=1,e&&(r+=r);while(e);return n+t}function Qn(t,e,r){var n=t.split(e);return n.length<=r?n:vn(vn([],Pr(n.slice(0,r-1)),!1),[n.slice(r-1).join(e)],!1)}function i1(t){return vn([],Pr(t),!1).length}function dp(t,e,r){return vn([],Pr(t),!1).slice(e,r).join("")}var hd,fd,nu=typeof process>"u"?[]:(fd=(hd={}.LOGGING)===null||hd===void 0?void 0:hd.split(";").map(function(t){var e=t.split("=",2),r=e[0],n=e[1];return n?[r==="default"?void 0:r.split(":"),rg(n)]:null}).filter(function(t){return!!t}).sort(function(t,e){var r,n,i=t[0],s=e[0];return((r=s==null?void 0:s.length)!==null&&r!==void 0?r:0)-((n=i==null?void 0:i.length)!==null&&n!==void 0?n:0)}))!==null&&fd!==void 0?fd:[],pd=nu.findIndex(function(t){var e=t[0];return!e}),s1=void 0;pd!==-1&&(s1=nu[pd][1],nu.splice(pd));function LP(t,e){return e.length<=t.length&&e.every(function(r,n){return r===t[n]})}function o1(t){for(var e=t.split(":"),r=0,n=nu;r<n.length;r++){var i=n[r],s=i[0],o=i[1];if(LP(e,s))return o}return s1}var a1=function(){function t(e){var r=e.name,n=e.minLevel,i=e.emoji,s=i===void 0?!1:i,o=e.colors,a=e.timestamps,l=a===void 0?uc:a,u,c;this._name=r,this._minLevel=(c=(u=fr(n,function(f){return rg(f)}))!==null&&u!==void 0?u:o1(r))!==null&&c!==void 0?c:V.WARNING,this._emoji=s,this._colors=o,this._timestamps=l}return t.prototype.crit=function(e){this.log(V.CRITICAL,e)},t.prototype.error=function(e){this.log(V.ERROR,e)},t.prototype.warn=function(e){this.log(V.WARNING,e)},t.prototype.info=function(e){this.log(V.INFO,e)},t.prototype.debug=function(e){this.log(V.DEBUG,e)},t.prototype.trace=function(e){this.log(V.TRACE,e)},t}(),qP=function(t){As(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.log=function(r,n){if(!(r>this._minLevel)){var i=e1[r],s="[".concat(this._name,"] ").concat(n);this._timestamps&&(s="[".concat(new Date().toISOString(),"] ").concat(n)),i(s)}},e}(a1),$P=function(){function t(e){var r=e.name,n=e.minLevel,i=e.custom,s;this._minLevel=(s=fr(n,function(o){return rg(o)}))!==null&&s!==void 0?s:o1(r),this._override=typeof i=="function"?{log:i}:i}return t.prototype.log=function(e,r){this._shouldLog(e)&&this._override.log(e,r)},t.prototype.crit=function(e){this._override.crit?this._shouldLog(V.CRITICAL)&&this._override.crit(e):this.log(V.CRITICAL,e)},t.prototype.error=function(e){this._override.error?this._shouldLog(V.ERROR)&&this._override.error(e):this.log(V.ERROR,e)},t.prototype.warn=function(e){this._override.warn?this._shouldLog(V.WARNING)&&this._override.warn(e):this.log(V.WARNING,e)},t.prototype.info=function(e){this._override.info?this._shouldLog(V.INFO)&&this._override.info(e):this.log(V.INFO,e)},t.prototype.debug=function(e){this._override.debug?this._shouldLog(V.DEBUG)&&this._override.debug(e):this.log(V.DEBUG,e)},t.prototype.trace=function(e){this._override.trace?this._shouldLog(V.TRACE)&&this._override.trace(e):this.log(V.TRACE,e)},t.prototype._shouldLog=function(e){return this._minLevel===void 0||this._minLevel>=e},t}(),Ur,Fr,Lr,jP=(Ur={},Ur[V.CRITICAL]="",Ur[V.ERROR]="",Ur[V.WARNING]=" ",Ur[V.INFO]=" ",Ur[V.DEBUG]="",Ur[V.TRACE]="",Ur),HP={black:30,red:31,green:32,yellow:33,blue:34,magenta:35,cyan:36,white:37,blackBright:90,redBright:91,greenBright:92,yellowBright:93,blueBright:94,magentaBright:95,cyanBright:96,whiteBright:97},zP={bgBlack:40,bgRed:41,bgGreen:42,bgYellow:43,bgBlue:44,bgMagenta:45,bgCyan:46,bgWhite:47,bgBlackBright:100,bgRedBright:101,bgGreenBright:102,bgYellowBright:103,bgBlueBright:104,bgMagentaBright:105,bgCyanBright:106,bgWhiteBright:107};function cc(t,e,r){return function(n){return"\x1B[".concat(t,"m").concat(r?r(n):n,"\x1B[").concat(e,"m")}}function ur(t){return cc(HP[t],39)}function Gs(t,e){return cc(zP[t],49,e)}var GP=(Fr={},Fr[V.CRITICAL]=ur("red"),Fr[V.ERROR]=ur("redBright"),Fr[V.WARNING]=ur("yellow"),Fr[V.INFO]=ur("blue"),Fr[V.DEBUG]=ur("magenta"),Fr[V.TRACE]=cc(0,0),Fr),xv=(Lr={},Lr[V.CRITICAL]=Gs("bgRed",ur("white")),Lr[V.ERROR]=Gs("bgRedBright",ur("white")),Lr[V.WARNING]=Gs("bgYellow",ur("black")),Lr[V.INFO]=Gs("bgBlue",ur("white")),Lr[V.DEBUG]=Gs("bgMagenta",ur("black")),Lr[V.TRACE]=cc(7,27),Lr),WP=function(t){As(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.log=function(r,n){var i,s,o;if(!(r>this._minLevel)){var a=e1[r],l="";if(this._timestamps&&(l+="[".concat(new Date().toISOString(),"] ")),this._emoji){var u=jP[r];l+="".concat(u," ")}var c=(o=(i=this._colors)!==null&&i!==void 0?i:(s=process.stdout)===null||s===void 0?void 0:s.isTTY)!==null&&o!==void 0?o:!0;c?l+="".concat(xv[r](this._name)," ").concat(xv[r](V[r])," ").concat(GP[r](n)):l+="[".concat(this._name,":").concat(V[r].toLowerCase(),"] ").concat(n),a(l)}},e}(a1);function Ps(t){return t.custom?new $P(t):uc?new WP(t):new qP(t)}var l1=function(t){As(e,t);function e(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var i=this.constructor,s=this,o;return s=t.apply(this,vn([],Pr(r),!1))||this,Object.setPrototypeOf(s,i.prototype),(o=Error.captureStackTrace)===null||o===void 0||o.call(Error,s,i.constructor),s}return Object.defineProperty(e.prototype,"name",{get:function(){return this.constructor.name},enumerable:!1,configurable:!0}),e}(Error),Cv=function(t){As(e,t);function e(r){var n=t.call(this,"Need to retry after ".concat(r," ms"))||this;return n._retryAt=Date.now()+r,n}return Object.defineProperty(e.prototype,"retryAt",{get:function(){return this._retryAt},enumerable:!1,configurable:!0}),e}(l1),ng=function(t){As(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(l1),u1={exports:{}},c1={exports:{}},VP="Function.prototype.bind called on incompatible ",QP=Object.prototype.toString,KP=Math.max,JP="[object Function]",bv=function(e,r){for(var n=[],i=0;i<e.length;i+=1)n[i]=e[i];for(var s=0;s<r.length;s+=1)n[s+e.length]=r[s];return n},YP=function(e,r){for(var n=[],i=r||0,s=0;i<e.length;i+=1,s+=1)n[s]=e[i];return n},XP=function(t,e){for(var r="",n=0;n<t.length;n+=1)r+=t[n],n+1<t.length&&(r+=e);return r},ZP=function(e){var r=this;if(typeof r!="function"||QP.apply(r)!==JP)throw new TypeError(VP+r);for(var n=YP(arguments,1),i,s=function(){if(this instanceof i){var c=r.apply(this,bv(n,arguments));return Object(c)===c?c:this}return r.apply(e,bv(n,arguments))},o=KP(0,r.length-n.length),a=[],l=0;l<o;l++)a[l]="$"+l;if(i=Function("binder","return function ("+XP(a,",")+"){ return binder.apply(this,arguments); }")(s),r.prototype){var u=function(){};u.prototype=r.prototype,i.prototype=new u,u.prototype=null}return i},ek=ZP,ig=Function.prototype.bind||ek,sg=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;e[r]=i;for(r in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var s=Object.getOwnPropertySymbols(e);if(s.length!==1||s[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var o=Object.getOwnPropertyDescriptor(e,r);if(o.value!==i||o.enumerable!==!0)return!1}return!0},Ev=typeof Symbol<"u"&&Symbol,tk=sg,og=function(){return typeof Ev!="function"||typeof Symbol!="function"||typeof Ev("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:tk()},Tv={foo:{}},rk=Object,d1=function(){return{__proto__:Tv}.foo===Tv.foo&&!({__proto__:null}instanceof rk)},nk=Function.prototype.call,ik=Object.prototype.hasOwnProperty,sk=ig,Tn=sk.call(nk,ik),te,_s=SyntaxError,h1=Function,Hi=TypeError,md=function(t){try{return h1('"use strict"; return ('+t+").constructor;")()}catch{}},Kn=Object.getOwnPropertyDescriptor;if(Kn)try{Kn({},"")}catch{Kn=null}var gd=function(){throw new Hi},ok=Kn?function(){try{return arguments.callee,gd}catch{try{return Kn(arguments,"callee").get}catch{return gd}}}():gd,vi=og(),ak=d1(),He=Object.getPrototypeOf||(ak?function(t){return t.__proto__}:null),wi={},lk=typeof Uint8Array>"u"||!He?te:He(Uint8Array),Jn={"%AggregateError%":typeof AggregateError>"u"?te:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?te:ArrayBuffer,"%ArrayIteratorPrototype%":vi&&He?He([][Symbol.iterator]()):te,"%AsyncFromSyncIteratorPrototype%":te,"%AsyncFunction%":wi,"%AsyncGenerator%":wi,"%AsyncGeneratorFunction%":wi,"%AsyncIteratorPrototype%":wi,"%Atomics%":typeof Atomics>"u"?te:Atomics,"%BigInt%":typeof BigInt>"u"?te:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?te:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?te:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?te:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?te:Float32Array,"%Float64Array%":typeof Float64Array>"u"?te:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?te:FinalizationRegistry,"%Function%":h1,"%GeneratorFunction%":wi,"%Int8Array%":typeof Int8Array>"u"?te:Int8Array,"%Int16Array%":typeof Int16Array>"u"?te:Int16Array,"%Int32Array%":typeof Int32Array>"u"?te:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":vi&&He?He(He([][Symbol.iterator]())):te,"%JSON%":typeof JSON=="object"?JSON:te,"%Map%":typeof Map>"u"?te:Map,"%MapIteratorPrototype%":typeof Map>"u"||!vi||!He?te:He(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?te:Promise,"%Proxy%":typeof Proxy>"u"?te:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?te:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?te:Set,"%SetIteratorPrototype%":typeof Set>"u"||!vi||!He?te:He(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?te:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":vi&&He?He(""[Symbol.iterator]()):te,"%Symbol%":vi?Symbol:te,"%SyntaxError%":_s,"%ThrowTypeError%":ok,"%TypedArray%":lk,"%TypeError%":Hi,"%Uint8Array%":typeof Uint8Array>"u"?te:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?te:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?te:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?te:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?te:WeakMap,"%WeakRef%":typeof WeakRef>"u"?te:WeakRef,"%WeakSet%":typeof WeakSet>"u"?te:WeakSet};if(He)try{null.error}catch(t){var uk=He(He(t));Jn["%Error.prototype%"]=uk}var ck=function t(e){var r;if(e==="%AsyncFunction%")r=md("async function () {}");else if(e==="%GeneratorFunction%")r=md("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=md("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&He&&(r=He(i.prototype))}return Jn[e]=r,r},Iv={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},ka=ig,iu=Tn,dk=ka.call(Function.call,Array.prototype.concat),hk=ka.call(Function.apply,Array.prototype.splice),Av=ka.call(Function.call,String.prototype.replace),su=ka.call(Function.call,String.prototype.slice),fk=ka.call(Function.call,RegExp.prototype.exec),pk=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,mk=/\\(\\)?/g,gk=function(e){var r=su(e,0,1),n=su(e,-1);if(r==="%"&&n!=="%")throw new _s("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new _s("invalid intrinsic syntax, expected opening `%`");var i=[];return Av(e,pk,function(s,o,a,l){i[i.length]=a?Av(l,mk,"$1"):o||s}),i},yk=function(e,r){var n=e,i;if(iu(Iv,n)&&(i=Iv[n],n="%"+i[0]+"%"),iu(Jn,n)){var s=Jn[n];if(s===wi&&(s=ck(n)),typeof s>"u"&&!r)throw new Hi("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:s}}throw new _s("intrinsic "+e+" does not exist!")},ne=function(e,r){if(typeof e!="string"||e.length===0)throw new Hi("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new Hi('"allowMissing" argument must be a boolean');if(fk(/^%?[^%]*%?$/,e)===null)throw new _s("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=gk(e),i=n.length>0?n[0]:"",s=yk("%"+i+"%",r),o=s.name,a=s.value,l=!1,u=s.alias;u&&(i=u[0],hk(n,dk([0,1],u)));for(var c=1,f=!0;c<n.length;c+=1){var h=n[c],v=su(h,0,1),g=su(h,-1);if((v==='"'||v==="'"||v==="`"||g==='"'||g==="'"||g==="`")&&v!==g)throw new _s("property names with quotes must have matching quotes");if((h==="constructor"||!f)&&(l=!0),i+="."+h,o="%"+i+"%",iu(Jn,o))a=Jn[o];else if(a!=null){if(!(h in a)){if(!r)throw new Hi("base intrinsic for "+e+" exists, but the property is not available.");return}if(Kn&&c+1>=n.length){var _=Kn(a,h);f=!!_,f&&"get"in _&&!("originalValue"in _.get)?a=_.get:a=a[h]}else f=iu(a,h),a=a[h];f&&!l&&(Jn[o]=a)}}return a},vk=ne,hp=vk("%Object.defineProperty%",!0),fp=function(){if(hp)try{return hp({},"a",{value:1}),!0}catch{return!1}return!1};fp.hasArrayLengthDefineBug=function(){if(!fp())return null;try{return hp([],"length",{value:1}).length!==1}catch{return!0}};var dc=fp,_k=ne,El=_k("%Object.getOwnPropertyDescriptor%",!0);if(El)try{El([],"length")}catch{El=null}var ag=El,wk=dc(),lg=ne,uo=wk&&lg("%Object.defineProperty%",!0);if(uo)try{uo({},"a",{value:1})}catch{uo=!1}var Sk=lg("%SyntaxError%"),_i=lg("%TypeError%"),Pv=ag,f1=function(e,r,n){if(!e||typeof e!="object"&&typeof e!="function")throw new _i("`obj` must be an object or a function`");if(typeof r!="string"&&typeof r!="symbol")throw new _i("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new _i("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new _i("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new _i("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new _i("`loose`, if provided, must be a boolean");var i=arguments.length>3?arguments[3]:null,s=arguments.length>4?arguments[4]:null,o=arguments.length>5?arguments[5]:null,a=arguments.length>6?arguments[6]:!1,l=!!Pv&&Pv(e,r);if(uo)uo(e,r,{configurable:o===null&&l?l.configurable:!o,enumerable:i===null&&l?l.enumerable:!i,value:n,writable:s===null&&l?l.writable:!s});else if(a||!i&&!s&&!o)e[r]=n;else throw new Sk("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},p1=ne,kv=f1,xk=dc(),Rv=ag,Ov=p1("%TypeError%"),Ck=p1("%Math.floor%"),bk=function(e,r){if(typeof e!="function")throw new Ov("`fn` is not a function");if(typeof r!="number"||r<0||r>4294967295||Ck(r)!==r)throw new Ov("`length` must be a positive 32-bit integer");var n=arguments.length>2&&!!arguments[2],i=!0,s=!0;if("length"in e&&Rv){var o=Rv(e,"length");o&&!o.configurable&&(i=!1),o&&!o.writable&&(s=!1)}return(i||s||!n)&&(xk?kv(e,"length",r,!0,!0):kv(e,"length",r)),e};(function(t){var e=ig,r=ne,n=bk,i=r("%TypeError%"),s=r("%Function.prototype.apply%"),o=r("%Function.prototype.call%"),a=r("%Reflect.apply%",!0)||e.call(o,s),l=r("%Object.defineProperty%",!0),u=r("%Math.max%");if(l)try{l({},"a",{value:1})}catch{l=null}t.exports=function(h){if(typeof h!="function")throw new i("a function is required");var v=a(e,o,arguments);return n(v,1+u(0,h.length-(arguments.length-1)),!0)};var c=function(){return a(e,s,arguments)};l?l(t.exports,"apply",{value:c}):t.exports.apply=c})(c1);var Ra=c1.exports,Mv=Object.prototype.toString,m1=function(e){var r=Mv.call(e),n=r==="[object Arguments]";return n||(n=r!=="[object Array]"&&e!==null&&typeof e=="object"&&typeof e.length=="number"&&e.length>=0&&Mv.call(e.callee)==="[object Function]"),n},yd,Nv;function Ek(){if(Nv)return yd;Nv=1;var t;if(!Object.keys){var e=Object.prototype.hasOwnProperty,r=Object.prototype.toString,n=m1,i=Object.prototype.propertyIsEnumerable,s=!i.call({toString:null},"toString"),o=i.call(function(){},"prototype"),a=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],l=function(h){var v=h.constructor;return v&&v.prototype===h},u={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},c=function(){if(typeof window>"u")return!1;for(var h in window)try{if(!u["$"+h]&&e.call(window,h)&&window[h]!==null&&typeof window[h]=="object")try{l(window[h])}catch{return!0}}catch{return!0}return!1}(),f=function(h){if(typeof window>"u"||!c)return l(h);try{return l(h)}catch{return!1}};t=function(v){var g=v!==null&&typeof v=="object",_=r.call(v)==="[object Function]",w=n(v),p=g&&r.call(v)==="[object String]",m=[];if(!g&&!_&&!w)throw new TypeError("Object.keys called on a non-object");var y=o&&_;if(p&&v.length>0&&!e.call(v,0))for(var C=0;C<v.length;++C)m.push(String(C));if(w&&v.length>0)for(var E=0;E<v.length;++E)m.push(String(E));else for(var O in v)!(y&&O==="prototype")&&e.call(v,O)&&m.push(String(O));if(s)for(var M=f(v),P=0;P<a.length;++P)!(M&&a[P]==="constructor")&&e.call(v,a[P])&&m.push(a[P]);return m}}return yd=t,yd}var Tk=Array.prototype.slice,Ik=m1,Dv=Object.keys,Tl=Dv?function(e){return Dv(e)}:Ek(),Bv=Object.keys;Tl.shim=function(){if(Object.keys){var e=function(){var r=Object.keys(arguments);return r&&r.length===arguments.length}(1,2);e||(Object.keys=function(n){return Ik(n)?Bv(Tk.call(n)):Bv(n)})}else Object.keys=Tl;return Object.keys||Tl};var Ak=Tl,Pk=Ak,kk=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",Rk=Object.prototype.toString,Ok=Array.prototype.concat,Uv=f1,Mk=function(t){return typeof t=="function"&&Rk.call(t)==="[object Function]"},g1=dc(),Nk=function(t,e,r,n){if(e in t){if(n===!0){if(t[e]===r)return}else if(!Mk(n)||!n())return}g1?Uv(t,e,r,!0):Uv(t,e,r)},y1=function(t,e){var r=arguments.length>2?arguments[2]:{},n=Pk(e);kk&&(n=Ok.call(n,Object.getOwnPropertySymbols(e)));for(var i=0;i<n.length;i+=1)Nk(t,n[i],e[n[i]],r[n[i]])};y1.supportsDescriptors=!!g1;var ks=y1,hc=function(){if(typeof Promise!="function")throw new TypeError("`Promise.allSettled` requires a global `Promise` be available.")},vd,Fv;function Dk(){if(Fv)return vd;Fv=1;var t=ne,e=Ra,r=t("%Promise.resolve%",!0),n=r&&e(r);return vd=function(s,o){if(!n)throw new SyntaxError("This environment does not support Promises.");return n(s,o)},vd}var _d,Lv;function v1(){return Lv||(Lv=1,_d=function(e){if(e===null)return"Null";if(typeof e>"u")return"Undefined";if(typeof e=="function"||typeof e=="object")return"Object";if(typeof e=="number")return"Number";if(typeof e=="boolean")return"Boolean";if(typeof e=="string")return"String"}),_d}var wd,qv;function Bk(){if(qv)return wd;qv=1;var t=v1();return wd=function(r){return typeof r=="symbol"?"Symbol":typeof r=="bigint"?"BigInt":t(r)},wd}var Ws={exports:{}},Sd,$v;function fc(){if($v)return Sd;$v=1;var t=sg;return Sd=function(){return t()&&!!Symbol.toStringTag},Sd}var xd,jv;function Lt(){if(jv)return xd;jv=1;var t=ne,e=Ra,r=e(t("String.prototype.indexOf"));return xd=function(i,s){var o=t(i,!!s);return typeof o=="function"&&r(i,".prototype.")>-1?e(o):o},xd}var Cd,Hv;function Uk(){if(Hv)return Cd;Hv=1;var t=fc()(),e=Lt(),r=e("Object.prototype.toString"),n=function(a){return t&&a&&typeof a=="object"&&Symbol.toStringTag in a?!1:r(a)==="[object Arguments]"},i=function(a){return n(a)?!0:a!==null&&typeof a=="object"&&typeof a.length=="number"&&a.length>=0&&r(a)!=="[object Array]"&&r(a.callee)==="[object Function]"},s=function(){return n(arguments)}();return n.isLegacyArguments=i,Cd=s?n:i,Cd}const Fk={},Lk=Object.freeze(Object.defineProperty({__proto__:null,default:Fk},Symbol.toStringTag,{value:"Module"})),qk=aE(Lk);var bd,zv;function _1(){if(zv)return bd;zv=1;var t=typeof Map=="function"&&Map.prototype,e=Object.getOwnPropertyDescriptor&&t?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,r=t&&e&&typeof e.get=="function"?e.get:null,n=t&&Map.prototype.forEach,i=typeof Set=="function"&&Set.prototype,s=Object.getOwnPropertyDescriptor&&i?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,o=i&&s&&typeof s.get=="function"?s.get:null,a=i&&Set.prototype.forEach,l=typeof WeakMap=="function"&&WeakMap.prototype,u=l?WeakMap.prototype.has:null,c=typeof WeakSet=="function"&&WeakSet.prototype,f=c?WeakSet.prototype.has:null,h=typeof WeakRef=="function"&&WeakRef.prototype,v=h?WeakRef.prototype.deref:null,g=Boolean.prototype.valueOf,_=Object.prototype.toString,w=Function.prototype.toString,p=String.prototype.match,m=String.prototype.slice,y=String.prototype.replace,C=String.prototype.toUpperCase,E=String.prototype.toLowerCase,O=RegExp.prototype.test,M=Array.prototype.concat,P=Array.prototype.join,F=Array.prototype.slice,H=Math.floor,ee=typeof BigInt=="function"?BigInt.prototype.valueOf:null,Pe=Object.getOwnPropertySymbols,ve=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,I=typeof Symbol=="function"&&typeof Symbol.iterator=="object",D=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===I||"symbol")?Symbol.toStringTag:null,J=Object.prototype.propertyIsEnumerable,Ee=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(T){return T.__proto__}:null);function U(T,A){if(T===1/0||T===-1/0||T!==T||T&&T>-1e3&&T<1e3||O.call(/e/,A))return A;var le=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof T=="number"){var pe=T<0?-H(-T):H(T);if(pe!==T){var Re=String(pe),X=m.call(A,Re.length+1);return y.call(Re,le,"$&_")+"."+y.call(y.call(X,/([0-9]{3})/g,"$&_"),/_$/,"")}}return y.call(A,le,"$&_")}var L=qk,K=L.custom,ce=Dg(K)?K:null;bd=function T(A,le,pe,Re){var X=le||{};if(kr(X,"quoteStyle")&&X.quoteStyle!=="single"&&X.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(kr(X,"maxStringLength")&&(typeof X.maxStringLength=="number"?X.maxStringLength<0&&X.maxStringLength!==1/0:X.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var Or=kr(X,"customInspect")?X.customInspect:!0;if(typeof Or!="boolean"&&Or!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(kr(X,"indent")&&X.indent!==null&&X.indent!=="	"&&!(parseInt(X.indent,10)===X.indent&&X.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(kr(X,"numericSeparator")&&typeof X.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var An=X.numericSeparator;if(typeof A>"u")return"undefined";if(A===null)return"null";if(typeof A=="boolean")return A?"true":"false";if(typeof A=="string")return Ug(A,X);if(typeof A=="number"){if(A===0)return 1/0/A>0?"0":"-0";var pt=String(A);return An?U(A,pt):pt}if(typeof A=="bigint"){var Mr=String(A)+"n";return An?U(A,Mr):Mr}var Ic=typeof X.depth>"u"?5:X.depth;if(typeof pe>"u"&&(pe=0),pe>=Ic&&Ic>0&&typeof A=="object")return qt(A)?"[Array]":"[Object]";var mi=rE(X,pe);if(typeof Re>"u")Re=[];else if(Bg(Re,A)>=0)return"[Circular]";function $t(gi,Ua,iE){if(Ua&&(Re=F.call(Re),Re.push(Ua)),iE){var Wg={depth:X.depth};return kr(X,"quoteStyle")&&(Wg.quoteStyle=X.quoteStyle),T(gi,Wg,pe+1,Re)}return T(gi,X,pe+1,Re)}if(typeof A=="function"&&!Zt(A)){var Lg=Vb(A),qg=Da(A,$t);return"[Function"+(Lg?": "+Lg:" (anonymous)")+"]"+(qg.length>0?" { "+P.call(qg,", ")+" }":"")}if(Dg(A)){var $g=I?y.call(String(A),/^(Symbol\(.*\))_[^)]*$/,"$1"):ve.call(A);return typeof A=="object"&&!I?Ns($g):$g}if(Zb(A)){for(var Ds="<"+E.call(String(A.nodeName)),Ac=A.attributes||[],Ba=0;Ba<Ac.length;Ba++)Ds+=" "+Ac[Ba].name+"="+_e(fi(Ac[Ba].value),"double",X);return Ds+=">",A.childNodes&&A.childNodes.length&&(Ds+="..."),Ds+="</"+E.call(String(A.nodeName))+">",Ds}if(qt(A)){if(A.length===0)return"[]";var Pc=Da(A,$t);return mi&&!tE(Pc)?"["+Tc(Pc,mi)+"]":"[ "+P.call(Pc,", ")+" ]"}if(pi(A)){var kc=Da(A,$t);return!("cause"in Error.prototype)&&"cause"in A&&!J.call(A,"cause")?"{ ["+String(A)+"] "+P.call(M.call("[cause]: "+$t(A.cause),kc),", ")+" }":kc.length===0?"["+String(A)+"]":"{ ["+String(A)+"] "+P.call(kc,", ")+" }"}if(typeof A=="object"&&Or){if(ce&&typeof A[ce]=="function"&&L)return L(A,{depth:Ic-pe});if(Or!=="symbol"&&typeof A.inspect=="function")return A.inspect()}if(Qb(A)){var jg=[];return n&&n.call(A,function(gi,Ua){jg.push($t(Ua,A,!0)+" => "+$t(gi,A))}),Fg("Map",r.call(A),jg,mi)}if(Yb(A)){var Hg=[];return a&&a.call(A,function(gi){Hg.push($t(gi,A))}),Fg("Set",o.call(A),Hg,mi)}if(Kb(A))return Ec("WeakMap");if(Xb(A))return Ec("WeakSet");if(Jb(A))return Ec("WeakRef");if(Hb(A))return Ns($t(Number(A)));if(Gb(A))return Ns($t(ee.call(A)));if(zb(A))return Ns(g.call(A));if(jb(A))return Ns($t(String(A)));if(typeof window<"u"&&A===window)return"{ [object Window] }";if(A===Lu)return"{ [object globalThis] }";if(!Ms(A)&&!Zt(A)){var Rc=Da(A,$t),zg=Ee?Ee(A)===Object.prototype:A instanceof Object||A.constructor===Object,Oc=A instanceof Object?"":"null prototype",Gg=!zg&&D&&Object(A)===A&&D in A?m.call(Rr(A),8,-1):Oc?"Object":"",nE=zg||typeof A.constructor!="function"?"":A.constructor.name?A.constructor.name+" ":"",Mc=nE+(Gg||Oc?"["+P.call(M.call([],Gg||[],Oc||[]),": ")+"] ":"");return Rc.length===0?Mc+"{}":mi?Mc+"{"+Tc(Rc,mi)+"}":Mc+"{ "+P.call(Rc,", ")+" }"}return String(A)};function _e(T,A,le){var pe=(le.quoteStyle||A)==="double"?'"':"'";return pe+T+pe}function fi(T){return y.call(String(T),/"/g,"&quot;")}function qt(T){return Rr(T)==="[object Array]"&&(!D||!(typeof T=="object"&&D in T))}function Ms(T){return Rr(T)==="[object Date]"&&(!D||!(typeof T=="object"&&D in T))}function Zt(T){return Rr(T)==="[object RegExp]"&&(!D||!(typeof T=="object"&&D in T))}function pi(T){return Rr(T)==="[object Error]"&&(!D||!(typeof T=="object"&&D in T))}function jb(T){return Rr(T)==="[object String]"&&(!D||!(typeof T=="object"&&D in T))}function Hb(T){return Rr(T)==="[object Number]"&&(!D||!(typeof T=="object"&&D in T))}function zb(T){return Rr(T)==="[object Boolean]"&&(!D||!(typeof T=="object"&&D in T))}function Dg(T){if(I)return T&&typeof T=="object"&&T instanceof Symbol;if(typeof T=="symbol")return!0;if(!T||typeof T!="object"||!ve)return!1;try{return ve.call(T),!0}catch{}return!1}function Gb(T){if(!T||typeof T!="object"||!ee)return!1;try{return ee.call(T),!0}catch{}return!1}var Wb=Object.prototype.hasOwnProperty||function(T){return T in this};function kr(T,A){return Wb.call(T,A)}function Rr(T){return _.call(T)}function Vb(T){if(T.name)return T.name;var A=p.call(w.call(T),/^function\s*([\w$]+)/);return A?A[1]:null}function Bg(T,A){if(T.indexOf)return T.indexOf(A);for(var le=0,pe=T.length;le<pe;le++)if(T[le]===A)return le;return-1}function Qb(T){if(!r||!T||typeof T!="object")return!1;try{r.call(T);try{o.call(T)}catch{return!0}return T instanceof Map}catch{}return!1}function Kb(T){if(!u||!T||typeof T!="object")return!1;try{u.call(T,u);try{f.call(T,f)}catch{return!0}return T instanceof WeakMap}catch{}return!1}function Jb(T){if(!v||!T||typeof T!="object")return!1;try{return v.call(T),!0}catch{}return!1}function Yb(T){if(!o||!T||typeof T!="object")return!1;try{o.call(T);try{r.call(T)}catch{return!0}return T instanceof Set}catch{}return!1}function Xb(T){if(!f||!T||typeof T!="object")return!1;try{f.call(T,f);try{u.call(T,u)}catch{return!0}return T instanceof WeakSet}catch{}return!1}function Zb(T){return!T||typeof T!="object"?!1:typeof HTMLElement<"u"&&T instanceof HTMLElement?!0:typeof T.nodeName=="string"&&typeof T.getAttribute=="function"}function Ug(T,A){if(T.length>A.maxStringLength){var le=T.length-A.maxStringLength,pe="... "+le+" more character"+(le>1?"s":"");return Ug(m.call(T,0,A.maxStringLength),A)+pe}var Re=y.call(y.call(T,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,eE);return _e(Re,"single",A)}function eE(T){var A=T.charCodeAt(0),le={8:"b",9:"t",10:"n",12:"f",13:"r"}[A];return le?"\\"+le:"\\x"+(A<16?"0":"")+C.call(A.toString(16))}function Ns(T){return"Object("+T+")"}function Ec(T){return T+" { ? }"}function Fg(T,A,le,pe){var Re=pe?Tc(le,pe):P.call(le,", ");return T+" ("+A+") {"+Re+"}"}function tE(T){for(var A=0;A<T.length;A++)if(Bg(T[A],`
`)>=0)return!1;return!0}function rE(T,A){var le;if(T.indent==="	")le="	";else if(typeof T.indent=="number"&&T.indent>0)le=P.call(Array(T.indent+1)," ");else return null;return{base:le,prev:P.call(Array(A+1),le)}}function Tc(T,A){if(T.length===0)return"";var le=`
`+A.prev+A.base;return le+P.call(T,","+le)+`
`+A.prev}function Da(T,A){var le=qt(T),pe=[];if(le){pe.length=T.length;for(var Re=0;Re<T.length;Re++)pe[Re]=kr(T,Re)?A(T[Re],T):""}var X=typeof Pe=="function"?Pe(T):[],Or;if(I){Or={};for(var An=0;An<X.length;An++)Or["$"+X[An]]=X[An]}for(var pt in T)kr(T,pt)&&(le&&String(Number(pt))===pt&&pt<T.length||I&&Or["$"+pt]instanceof Symbol||(O.call(/[^\w$]/,pt)?pe.push(A(pt,T)+": "+A(T[pt],T)):pe.push(pt+": "+A(T[pt],T))));if(typeof Pe=="function")for(var Mr=0;Mr<X.length;Mr++)J.call(T,X[Mr])&&pe.push("["+A(X[Mr])+"]: "+A(T[X[Mr]],T));return pe}return bd}var Ed,Gv;function $k(){if(Gv)return Ed;Gv=1;var t=ne,e=Lt(),r=_1(),n=t("%TypeError%"),i=t("%WeakMap%",!0),s=t("%Map%",!0),o=e("WeakMap.prototype.get",!0),a=e("WeakMap.prototype.set",!0),l=e("WeakMap.prototype.has",!0),u=e("Map.prototype.get",!0),c=e("Map.prototype.set",!0),f=e("Map.prototype.has",!0),h=function(w,p){for(var m=w,y;(y=m.next)!==null;m=y)if(y.key===p)return m.next=y.next,y.next=w.next,w.next=y,y},v=function(w,p){var m=h(w,p);return m&&m.value},g=function(w,p,m){var y=h(w,p);y?y.value=m:w.next={key:p,next:w.next,value:m}},_=function(w,p){return!!h(w,p)};return Ed=function(){var p,m,y,C={assert:function(E){if(!C.has(E))throw new n("Side channel does not contain "+r(E))},get:function(E){if(i&&E&&(typeof E=="object"||typeof E=="function")){if(p)return o(p,E)}else if(s){if(m)return u(m,E)}else if(y)return v(y,E)},has:function(E){if(i&&E&&(typeof E=="object"||typeof E=="function")){if(p)return l(p,E)}else if(s){if(m)return f(m,E)}else if(y)return _(y,E);return!1},set:function(E,O){i&&E&&(typeof E=="object"||typeof E=="function")?(p||(p=new i),a(p,E,O)):s?(m||(m=new s),c(m,E,O)):(y||(y={key:{},next:null}),g(y,E,O))}};return C},Ed}var Td,Wv;function jk(){if(Wv)return Td;Wv=1;var t=ne,e=Tn,r=$k()(),n=t("%TypeError%"),i={assert:function(s,o){if(!s||typeof s!="object"&&typeof s!="function")throw new n("`O` is not an object");if(typeof o!="string")throw new n("`slot` must be a string");if(r.assert(s),!i.has(s,o))throw new n("`"+o+"` is not present on `O`")},get:function(s,o){if(!s||typeof s!="object"&&typeof s!="function")throw new n("`O` is not an object");if(typeof o!="string")throw new n("`slot` must be a string");var a=r.get(s);return a&&a["$"+o]},has:function(s,o){if(!s||typeof s!="object"&&typeof s!="function")throw new n("`O` is not an object");if(typeof o!="string")throw new n("`slot` must be a string");var a=r.get(s);return!!a&&e(a,"$"+o)},set:function(s,o,a){if(!s||typeof s!="object"&&typeof s!="function")throw new n("`O` is not an object");if(typeof o!="string")throw new n("`slot` must be a string");var l=r.get(s);l||(l={},r.set(s,l)),l["$"+o]=a}};return Object.freeze&&Object.freeze(i),Td=i,Td}var Id,Vv;function Hk(){if(Vv)return Id;Vv=1;var t=jk(),e=SyntaxError,r=typeof StopIteration=="object"?StopIteration:null;return Id=function(i){if(!r)throw new e("this environment lacks StopIteration");t.set(i,"[[Done]]",!1);var s={next:function(){var a=t.get(this,"[[Iterator]]"),l=t.get(a,"[[Done]]");try{return{done:l,value:l?void 0:a.next()}}catch(u){if(t.set(a,"[[Done]]",!0),u!==r)throw u;return{done:!0,value:void 0}}}};return t.set(s,"[[Iterator]]",i),s},Id}var Ad,Qv;function zk(){if(Qv)return Ad;Qv=1;var t={}.toString;return Ad=Array.isArray||function(e){return t.call(e)=="[object Array]"},Ad}var Pd,Kv;function w1(){if(Kv)return Pd;Kv=1;var t=String.prototype.valueOf,e=function(o){try{return t.call(o),!0}catch{return!1}},r=Object.prototype.toString,n="[object String]",i=fc()();return Pd=function(o){return typeof o=="string"?!0:typeof o!="object"?!1:i?e(o):r.call(o)===n},Pd}var kd,Jv;function Gk(){if(Jv)return kd;Jv=1;var t=typeof Map=="function"&&Map.prototype?Map:null,e=typeof Set=="function"&&Set.prototype?Set:null,r;t||(r=function(o){return!1});var n=t?Map.prototype.has:null,i=e?Set.prototype.has:null;return!r&&!n&&(r=function(o){return!1}),kd=r||function(o){if(!o||typeof o!="object")return!1;try{if(n.call(o),i)try{i.call(o)}catch{return!0}return o instanceof t}catch{}return!1},kd}var Rd,Yv;function Wk(){if(Yv)return Rd;Yv=1;var t=typeof Map=="function"&&Map.prototype?Map:null,e=typeof Set=="function"&&Set.prototype?Set:null,r;e||(r=function(o){return!1});var n=t?Map.prototype.has:null,i=e?Set.prototype.has:null;return!r&&!i&&(r=function(o){return!1}),Rd=r||function(o){if(!o||typeof o!="object")return!1;try{if(i.call(o),n)try{n.call(o)}catch{return!0}return o instanceof e}catch{}return!1},Rd}var Xv;function Vk(){if(Xv)return Ws.exports;Xv=1;var t=Uk(),e=Hk();if(og()||sg()){var r=Symbol.iterator;Ws.exports=function(F){if(F!=null&&typeof F[r]<"u")return F[r]();if(t(F))return Array.prototype[r].call(F)}}else{var n=zk(),i=w1(),s=ne,o=s("%Map%",!0),a=s("%Set%",!0),l=Lt(),u=l("Array.prototype.push"),c=l("String.prototype.charCodeAt"),f=l("String.prototype.slice"),h=function(F,H){var ee=F.length;if(H+1>=ee)return H+1;var Pe=c(F,H);if(Pe<55296||Pe>56319)return H+1;var ve=c(F,H+1);return ve<56320||ve>57343?H+1:H+2},v=function(F){var H=0;return{next:function(){var Pe=H>=F.length,ve;return Pe||(ve=F[H],H+=1),{done:Pe,value:ve}}}},g=function(F,H){if(n(F)||t(F))return v(F);if(i(F)){var ee=0;return{next:function(){var ve=h(F,ee),I=f(F,ee,ve);return ee=ve,{done:ve>F.length,value:I}}}}if(H&&typeof F["_es6-shim iterator_"]<"u")return F["_es6-shim iterator_"]()};if(!o&&!a)Ws.exports=function(F){if(F!=null)return g(F,!0)};else{var _=Gk(),w=Wk(),p=l("Map.prototype.forEach",!0),m=l("Set.prototype.forEach",!0);if(typeof process>"u"||!process.versions||!process.versions.node)var y=l("Map.prototype.iterator",!0),C=l("Set.prototype.iterator",!0);var E=l("Map.prototype.@@iterator",!0)||l("Map.prototype._es6-shim iterator_",!0),O=l("Set.prototype.@@iterator",!0)||l("Set.prototype._es6-shim iterator_",!0),M=function(F){if(_(F)){if(y)return e(y(F));if(E)return E(F);if(p){var H=[];return p(F,function(Pe,ve){u(H,[ve,Pe])}),v(H)}}if(w(F)){if(C)return e(C(F));if(O)return O(F);if(m){var ee=[];return m(F,function(Pe){u(ee,Pe)}),v(ee)}}};Ws.exports=function(F){return M(F)||g(F)}}}return Ws.exports}var Od,Zv;function Qk(){if(Zv)return Od;Zv=1;var t=TypeError;return Od=function(r){if(!r||typeof r.next!="function")throw new t("iterator must be an object with a `next` method");if(arguments.length>1){var n=arguments[1];if(typeof n!="function")throw new t("`callback`, if provided, must be a function")}for(var i=n||[],s;(s=r.next())&&!s.done;)n?n(s.value):i.push(s.value);if(!n)return i},Od}var Md,e_;function Kk(){if(e_)return Md;e_=1;var t=Vk(),e=TypeError,r=Qk();return Md=function(i){var s=t(i);if(!s)throw new e("non-iterable value provided");return arguments.length>1?r(s,arguments[1]):r(s)},Md}var Nd,t_;function Jk(){if(t_)return Nd;t_=1;var t=ne,e=t("%TypeError%");return Nd=function(n,i){if(n==null)throw new e(i||"Cannot call method on "+n);return n},Nd}var Dd,r_;function pc(){return r_||(r_=1,Dd=Jk()),Dd}var Bd,n_;function ug(){return n_||(n_=1,Bd=Number.isNaN||function(e){return e!==e}),Bd}var Ud,i_;function S1(){if(i_)return Ud;i_=1;var t=ug();return Ud=function(e){return(typeof e=="number"||typeof e=="bigint")&&!t(e)&&e!==1/0&&e!==-1/0},Ud}var Fd,s_;function cg(){if(s_)return Fd;s_=1;var t=ne,e=t("%Math.abs%"),r=t("%Math.floor%"),n=ug(),i=S1();return Fd=function(o){if(typeof o!="number"||n(o)||!i(o))return!1;var a=e(o);return r(a)===a},Fd}var Ld,o_;function Yk(){if(o_)return Ld;o_=1;var t=ne,e=t("%Array.prototype%"),r=t("%RangeError%"),n=t("%SyntaxError%"),i=t("%TypeError%"),s=cg(),o=Math.pow(2,32)-1,a=d1(),l=t("%Object.setPrototypeOf%",!0)||(a?function(u,c){return u.__proto__=c,u}:null);return Ld=function(c){if(!s(c)||c<0)throw new i("Assertion failed: `length` must be an integer Number >= 0");if(c>o)throw new r("length is greater than (2**32 - 1)");var f=arguments.length>1?arguments[1]:e,h=[];if(f!==e){if(!l)throw new n("ArrayCreate: a `proto` argument that is not `Array.prototype` is not supported in an environment that does not support setting the [[Prototype]]");l(h,f)}return c!==0&&(h.length=c),h},Ld}var qd,a_;function hi(){return a_||(a_=1,qd=function(e){return typeof e=="string"||typeof e=="symbol"}),qd}var $d,l_;function ot(){if(l_)return $d;l_=1;var t=v1();return $d=function(r){return typeof r=="symbol"?"Symbol":typeof r=="bigint"?"BigInt":t(r)},$d}var jd,u_;function x1(){if(u_)return jd;u_=1;var t=ne,e=t("%TypeError%"),r=_1(),n=hi(),i=ot();return jd=function(o,a){if(i(o)!=="Object")throw new e("Assertion failed: Type(O) is not Object");if(!n(a))throw new e("Assertion failed: IsPropertyKey(P) is not true, got "+r(a));return o[a]},jd}var Hd,c_;function C1(){if(c_)return Hd;c_=1;var t=ne,e=t("%Array%"),r=!e.isArray&&Lt()("Object.prototype.toString");return Hd=e.isArray||function(i){return r(i)==="[object Array]"},Hd}var zd,d_;function b1(){return d_||(d_=1,zd=C1()),zd}var nl={exports:{}},Gd,h_;function Xk(){return h_||(h_=1,Gd=ne),Gd}var Wd,f_;function dg(){if(f_)return Wd;f_=1;var t=ne,e=Tn,r=t("%TypeError%");return Wd=function(i,s){if(i.Type(s)!=="Object")return!1;var o={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};for(var a in s)if(e(s,a)&&!o[a])return!1;if(i.IsDataDescriptor(s)&&i.IsAccessorDescriptor(s))throw new r("Property Descriptors may not be both accessor and data descriptors");return!0},Wd}var Vd,p_;function E1(){if(p_)return Vd;p_=1;var t=dc,e=ne,r=t()&&e("%Object.defineProperty%",!0),n=t.hasArrayLengthDefineBug(),i=n&&C1(),s=Lt(),o=s("Object.prototype.propertyIsEnumerable");return Vd=function(l,u,c,f,h,v){if(!r){if(!l(v)||!v["[[Configurable]]"]||!v["[[Writable]]"]||h in f&&o(f,h)!==!!v["[[Enumerable]]"])return!1;var g=v["[[Value]]"];return f[h]=g,u(f[h],g)}return n&&h==="length"&&"[[Value]]"in v&&i(f)&&f.length!==v["[[Value]]"]?(f.length=v["[[Value]]"],f.length===v["[[Value]]"]):(r(f,h,c(v)),!0)},Vd}var Qd,m_;function Zk(){if(m_)return Qd;m_=1;var t=Tn;return Qd=function(r){return t(r,"[[StartIndex]]")&&t(r,"[[EndIndex]]")&&r["[[StartIndex]]"]>=0&&r["[[EndIndex]]"]>=r["[[StartIndex]]"]&&String(parseInt(r["[[StartIndex]]"],10))===String(r["[[StartIndex]]"])&&String(parseInt(r["[[EndIndex]]"],10))===String(r["[[EndIndex]]"])},Qd}var Kd,g_;function mc(){if(g_)return Kd;g_=1;var t=ne,e=t("%TypeError%"),r=t("%SyntaxError%"),n=Tn,i=cg(),s=Zk(),o={"Property Descriptor":function(l){var u={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};if(!l)return!1;for(var c in l)if(n(l,c)&&!u[c])return!1;var f=n(l,"[[Value]]"),h=n(l,"[[Get]]")||n(l,"[[Set]]");if(f&&h)throw new e("Property Descriptors may not be both accessor and data descriptors");return!0},"Match Record":s,"Iterator Record":function(l){return n(l,"[[Iterator]]")&&n(l,"[[NextMethod]]")&&n(l,"[[Done]]")},"PromiseCapability Record":function(l){return!!l&&n(l,"[[Resolve]]")&&typeof l["[[Resolve]]"]=="function"&&n(l,"[[Reject]]")&&typeof l["[[Reject]]"]=="function"&&n(l,"[[Promise]]")&&l["[[Promise]]"]&&typeof l["[[Promise]]"].then=="function"},"AsyncGeneratorRequest Record":function(l){return!!l&&n(l,"[[Completion]]")&&n(l,"[[Capability]]")&&o["PromiseCapability Record"](l["[[Capability]]"])},"RegExp Record":function(l){return l&&n(l,"[[IgnoreCase]]")&&typeof l["[[IgnoreCase]]"]=="boolean"&&n(l,"[[Multiline]]")&&typeof l["[[Multiline]]"]=="boolean"&&n(l,"[[DotAll]]")&&typeof l["[[DotAll]]"]=="boolean"&&n(l,"[[Unicode]]")&&typeof l["[[Unicode]]"]=="boolean"&&n(l,"[[CapturingGroupsCount]]")&&typeof l["[[CapturingGroupsCount]]"]=="number"&&i(l["[[CapturingGroupsCount]]"])&&l["[[CapturingGroupsCount]]"]>=0}};return Kd=function(l,u,c,f){var h=o[u];if(typeof h!="function")throw new r("unknown record type: "+u);if(l(f)!=="Object"||!h(f))throw new e(c+" must be a "+u)},Kd}var Jd,y_;function eR(){return y_||(y_=1,Jd=function(e){if(typeof e>"u")return e;var r={};return"[[Value]]"in e&&(r.value=e["[[Value]]"]),"[[Writable]]"in e&&(r.writable=!!e["[[Writable]]"]),"[[Get]]"in e&&(r.get=e["[[Get]]"]),"[[Set]]"in e&&(r.set=e["[[Set]]"]),"[[Enumerable]]"in e&&(r.enumerable=!!e["[[Enumerable]]"]),"[[Configurable]]"in e&&(r.configurable=!!e["[[Configurable]]"]),r}),Jd}var Yd,v_;function T1(){if(v_)return Yd;v_=1;var t=mc(),e=eR(),r=ot();return Yd=function(i){return typeof i<"u"&&t(r,"Property Descriptor","Desc",i),e(i)},Yd}var Xd,__;function gc(){if(__)return Xd;__=1;var t=Tn,e=ot(),r=mc();return Xd=function(i){return!(typeof i>"u"||(r(e,"Property Descriptor","Desc",i),!t(i,"[[Get]]")&&!t(i,"[[Set]]")))},Xd}var Zd,w_;function yc(){if(w_)return Zd;w_=1;var t=Tn,e=ot(),r=mc();return Zd=function(i){return!(typeof i>"u"||(r(e,"Property Descriptor","Desc",i),!t(i,"[[Value]]")&&!t(i,"[[Writable]]")))},Zd}var eh,S_;function hg(){if(S_)return eh;S_=1;var t=ug();return eh=function(r,n){return r===n?r===0?1/r===1/n:!0:t(r)&&t(n)},eh}var th,x_;function tR(){return x_||(x_=1,th=function(e){return!!e}),th}var rh,C_;function I1(){if(C_)return rh;C_=1;var t=Function.prototype.toString,e=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,r,n;if(typeof e=="function"&&typeof Object.defineProperty=="function")try{r=Object.defineProperty({},"length",{get:function(){throw n}}),n={},e(function(){throw 42},null,r)}catch(m){m!==n&&(e=null)}else e=null;var i=/^\s*class\b/,s=function(y){try{var C=t.call(y);return i.test(C)}catch{return!1}},o=function(y){try{return s(y)?!1:(t.call(y),!0)}catch{return!1}},a=Object.prototype.toString,l="[object Object]",u="[object Function]",c="[object GeneratorFunction]",f="[object HTMLAllCollection]",h="[object HTML document.all class]",v="[object HTMLCollection]",g=typeof Symbol=="function"&&!!Symbol.toStringTag,_=!(0 in[,]),w=function(){return!1};if(typeof document=="object"){var p=document.all;a.call(p)===a.call(document.all)&&(w=function(y){if((_||!y)&&(typeof y>"u"||typeof y=="object"))try{var C=a.call(y);return(C===f||C===h||C===v||C===l)&&y("")==null}catch{}return!1})}return rh=e?function(y){if(w(y))return!0;if(!y||typeof y!="function"&&typeof y!="object")return!1;try{e(y,null,r)}catch(C){if(C!==n)return!1}return!s(y)&&o(y)}:function(y){if(w(y))return!0;if(!y||typeof y!="function"&&typeof y!="object")return!1;if(g)return o(y);if(s(y))return!1;var C=a.call(y);return C!==u&&C!==c&&!/^\[object HTML/.test(C)?!1:o(y)},rh}var nh,b_;function A1(){return b_||(b_=1,nh=I1()),nh}var ih,E_;function P1(){if(E_)return ih;E_=1;var t=Tn,e=ne,r=e("%TypeError%"),n=ot(),i=tR(),s=A1();return ih=function(a){if(n(a)!=="Object")throw new r("ToPropertyDescriptor requires an object");var l={};if(t(a,"enumerable")&&(l["[[Enumerable]]"]=i(a.enumerable)),t(a,"configurable")&&(l["[[Configurable]]"]=i(a.configurable)),t(a,"value")&&(l["[[Value]]"]=a.value),t(a,"writable")&&(l["[[Writable]]"]=i(a.writable)),t(a,"get")){var u=a.get;if(typeof u<"u"&&!s(u))throw new r("getter must be a function");l["[[Get]]"]=u}if(t(a,"set")){var c=a.set;if(typeof c<"u"&&!s(c))throw new r("setter must be a function");l["[[Set]]"]=c}if((t(l,"[[Get]]")||t(l,"[[Set]]"))&&(t(l,"[[Value]]")||t(l,"[[Writable]]")))throw new r("Invalid property descriptor. Cannot both specify accessors and a value or writable attribute");return l},ih}var sh,T_;function rR(){if(T_)return sh;T_=1;var t=ne,e=t("%TypeError%"),r=dg(),n=E1(),i=T1(),s=gc(),o=yc(),a=hi(),l=hg(),u=P1(),c=ot();return sh=function(h,v,g){if(c(h)!=="Object")throw new e("Assertion failed: Type(O) is not Object");if(!a(v))throw new e("Assertion failed: IsPropertyKey(P) is not true");var _=r({Type:c,IsDataDescriptor:o,IsAccessorDescriptor:s},g)?g:u(g);if(!r({Type:c,IsDataDescriptor:o,IsAccessorDescriptor:s},_))throw new e("Assertion failed: Desc is not a valid Property Descriptor");return n(o,l,i,h,v,_)},sh}var I_;function nR(){if(I_)return nl.exports;I_=1;var t=Xk(),e=t("%Reflect.construct%",!0),r=rR();try{r({},"",{"[[Get]]":function(){}})}catch{r=null}if(r&&e){var n={},i={};r(i,"length",{"[[Get]]":function(){throw n},"[[Enumerable]]":!0}),nl.exports=function(o){try{e(o,i)}catch(a){return a===n}}}else nl.exports=function(o){return typeof o=="function"&&!!o.prototype};return nl.exports}var oh,A_;function iR(){if(A_)return oh;A_=1;var t=ne,e=t("%Symbol.species%",!0),r=t("%TypeError%"),n=Yk(),i=x1(),s=b1(),o=nR(),a=ot(),l=cg();return oh=function(c,f){if(!l(f)||f<0)throw new r("Assertion failed: length must be an integer >= 0");var h=s(c);if(!h)return n(f);var v=i(c,"constructor");if(e&&a(v)==="Object"&&(v=i(v,e),v===null&&(v=void 0)),typeof v>"u")return n(f);if(!o(v))throw new r("C must be a constructor");return new v(f)},oh}var ah,P_;function sR(){if(P_)return ah;P_=1;var t=ne,e=Lt(),r=t("%TypeError%"),n=b1(),i=t("%Reflect.apply%",!0)||e("Function.prototype.apply");return ah=function(o,a){var l=arguments.length>2?arguments[2]:[];if(!n(l))throw new r("Assertion failed: optional `argumentsList`, if provided, must be a List");return i(o,a,l)},ah}var lh,k_;function k1(){return k_||(k_=1,lh=function(e){return e===null||typeof e!="function"&&typeof e!="object"}),lh}var uh,R_;function oR(){if(R_)return uh;R_=1;var t=ne,e=t("%Object.preventExtensions%",!0),r=t("%Object.isExtensible%",!0),n=k1();return uh=e?function(s){return!n(s)&&r(s)}:function(s){return!n(s)},uh}var ch,O_;function aR(){return O_||(O_=1,ch=function(e,r){return!!r&&typeof r=="object"&&"[[Enumerable]]"in r&&"[[Configurable]]"in r&&(e.IsAccessorDescriptor(r)||e.IsDataDescriptor(r))}),ch}var dh,M_;function lR(){if(M_)return dh;M_=1;var t=mc(),e=gc(),r=yc(),n=ot();return dh=function(s){return typeof s>"u"?!1:(t(n,"Property Descriptor","Desc",s),!e(s)&&!r(s))},dh}var hh,N_;function uR(){if(N_)return hh;N_=1;var t=ne,e=t("%TypeError%"),r=E1(),n=aR(),i=dg(),s=T1(),o=gc(),a=yc(),l=lR(),u=hi(),c=hg(),f=ot();return hh=function(v,g,_,w,p){var m=f(v);if(m!=="Undefined"&&m!=="Object")throw new e("Assertion failed: O must be undefined or an Object");if(!u(g))throw new e("Assertion failed: P must be a Property Key");if(f(_)!=="Boolean")throw new e("Assertion failed: extensible must be a Boolean");if(!i({Type:f,IsDataDescriptor:a,IsAccessorDescriptor:o},w))throw new e("Assertion failed: Desc must be a Property Descriptor");if(f(p)!=="Undefined"&&!i({Type:f,IsDataDescriptor:a,IsAccessorDescriptor:o},p))throw new e("Assertion failed: current must be a Property Descriptor, or undefined");if(f(p)==="Undefined")return _?m==="Undefined"?!0:o(w)?r(a,c,s,v,g,w):r(a,c,s,v,g,{"[[Configurable]]":!!w["[[Configurable]]"],"[[Enumerable]]":!!w["[[Enumerable]]"],"[[Value]]":w["[[Value]]"],"[[Writable]]":!!w["[[Writable]]"]}):!1;if(!n({IsAccessorDescriptor:o,IsDataDescriptor:a},p))throw new e("`current`, when present, must be a fully populated and valid Property Descriptor");if(!p["[[Configurable]]"]){if("[[Configurable]]"in w&&w["[[Configurable]]"]||"[[Enumerable]]"in w&&!c(w["[[Enumerable]]"],p["[[Enumerable]]"])||!l(w)&&!c(o(w),o(p)))return!1;if(o(p)){if("[[Get]]"in w&&!c(w["[[Get]]"],p["[[Get]]"])||"[[Set]]"in w&&!c(w["[[Set]]"],p["[[Set]]"]))return!1}else if(!p["[[Writable]]"]&&("[[Writable]]"in w&&w["[[Writable]]"]||"[[Value]]"in w&&!c(w["[[Value]]"],p["[[Value]]"])))return!1}if(m!=="Undefined"){var y,C;return a(p)&&o(w)?(y=("[[Configurable]]"in w?w:p)["[[Configurable]]"],C=("[[Enumerable]]"in w?w:p)["[[Enumerable]]"],r(a,c,s,v,g,{"[[Configurable]]":!!y,"[[Enumerable]]":!!C,"[[Get]]":("[[Get]]"in w?w:p)["[[Get]]"],"[[Set]]":("[[Set]]"in w?w:p)["[[Set]]"]})):o(p)&&a(w)?(y=("[[Configurable]]"in w?w:p)["[[Configurable]]"],C=("[[Enumerable]]"in w?w:p)["[[Enumerable]]"],r(a,c,s,v,g,{"[[Configurable]]":!!y,"[[Enumerable]]":!!C,"[[Value]]":("[[Value]]"in w?w:p)["[[Value]]"],"[[Writable]]":!!("[[Writable]]"in w?w:p)["[[Writable]]"]})):r(a,c,s,v,g,w)}return!0},hh}var fh,D_;function cR(){if(D_)return fh;D_=1;var t=ne,e=ag,r=t("%SyntaxError%"),n=t("%TypeError%"),i=dg(),s=gc(),o=yc(),a=oR(),l=hi(),u=P1(),c=hg(),f=ot(),h=uR();return fh=function(g,_,w){if(f(g)!=="Object")throw new n("Assertion failed: O must be an Object");if(!l(_))throw new n("Assertion failed: P must be a Property Key");if(!i({Type:f,IsDataDescriptor:o,IsAccessorDescriptor:s},w))throw new n("Assertion failed: Desc must be a Property Descriptor");if(!e){if(s(w))throw new r("This environment does not support accessor property descriptors.");var p=!(_ in g)&&w["[[Writable]]"]&&w["[[Enumerable]]"]&&w["[[Configurable]]"]&&"[[Value]]"in w,m=_ in g&&(!("[[Configurable]]"in w)||w["[[Configurable]]"])&&(!("[[Enumerable]]"in w)||w["[[Enumerable]]"])&&(!("[[Writable]]"in w)||w["[[Writable]]"])&&"[[Value]]"in w;if(p||m)return g[_]=w["[[Value]]"],c(g[_],w["[[Value]]"]);throw new r("This environment does not support defining non-writable, non-enumerable, or non-configurable properties")}var y=e(g,_),C=y&&u(y),E=a(g);return h(g,_,E,w,C)},fh}var ph,B_;function dR(){if(B_)return ph;B_=1;var t=ne,e=t("%TypeError%"),r=hi(),n=cR(),i=ot();return ph=function(o,a,l){if(i(o)!=="Object")throw new e("Assertion failed: Type(O) is not Object");if(!r(a))throw new e("Assertion failed: IsPropertyKey(P) is not true");var u={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Value]]":l,"[[Writable]]":!0};return n(o,a,u)},ph}var mh,U_;function hR(){if(U_)return mh;U_=1;var t=ne,e=t("%TypeError%"),r=dR(),n=hi(),i=ot();return mh=function(o,a,l){if(i(o)!=="Object")throw new e("Assertion failed: Type(O) is not Object");if(!n(a))throw new e("Assertion failed: IsPropertyKey(P) is not true");var u=r(o,a,l);if(!u)throw new e("unable to create data property")},mh}var gh,F_;function fR(){if(F_)return gh;F_=1;var t=ne,e=t("%TypeError%"),r=hi(),n=ot();return gh=function(s,o){if(n(s)!=="Object")throw new e("Assertion failed: `O` must be an Object");if(!r(o))throw new e("Assertion failed: `P` must be a Property Key");return o in s},gh}var yh,L_;function pR(){if(L_)return yh;L_=1;var t=Math.floor;return yh=function(r,n){var i=r%n;return t(i>=0?i:i+n)},yh}var vh,q_;function mR(){if(q_)return vh;q_=1;var t=pR();return vh=function(r,n){return t(r,n)},vh}var _h,$_;function gR(){return $_||($_=1,_h=function(e){return e===null||typeof e!="function"&&typeof e!="object"}),_h}var wh,j_;function yR(){if(j_)return wh;j_=1;var t=Date.prototype.getDay,e=function(o){try{return t.call(o),!0}catch{return!1}},r=Object.prototype.toString,n="[object Date]",i=fc()();return wh=function(o){return typeof o!="object"||o===null?!1:i?e(o):r.call(o)===n},wh}var il={exports:{}},H_;function vR(){if(H_)return il.exports;H_=1;var t=Object.prototype.toString,e=og();if(e){var r=Symbol.prototype.toString,n=/^Symbol\(.*\)$/,i=function(o){return typeof o.valueOf()!="symbol"?!1:n.test(r.call(o))};il.exports=function(o){if(typeof o=="symbol")return!0;if(t.call(o)!=="[object Symbol]")return!1;try{return i(o)}catch{return!1}}}else il.exports=function(o){return!1};return il.exports}var Sh,z_;function _R(){if(z_)return Sh;z_=1;var t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol",e=gR(),r=I1(),n=yR(),i=vR(),s=function(l,u){if(typeof l>"u"||l===null)throw new TypeError("Cannot call method on "+l);if(typeof u!="string"||u!=="number"&&u!=="string")throw new TypeError('hint must be "string" or "number"');var c=u==="string"?["toString","valueOf"]:["valueOf","toString"],f,h,v;for(v=0;v<c.length;++v)if(f=l[c[v]],r(f)&&(h=f.call(l),e(h)))return h;throw new TypeError("No default value")},o=function(l,u){var c=l[u];if(c!==null&&typeof c<"u"){if(!r(c))throw new TypeError(c+" returned for property "+u+" of object "+l+" is not a function");return c}};return Sh=function(l){if(e(l))return l;var u="default";arguments.length>1&&(arguments[1]===String?u="string":arguments[1]===Number&&(u="number"));var c;if(t&&(Symbol.toPrimitive?c=o(l,Symbol.toPrimitive):i(l)&&(c=Symbol.prototype.valueOf)),typeof c<"u"){var f=c.call(l,u);if(e(f))return f;throw new TypeError("unable to convert exotic object to primitive")}return u==="default"&&(n(l)||i(l))&&(u="string"),s(l,u==="default"?"number":u)},Sh}var xh,G_;function wR(){if(G_)return xh;G_=1;var t=_R();return xh=function(r){return arguments.length>1?t(r,arguments[1]):t(r)},xh}var Ch,W_;function SR(){if(W_)return Ch;W_=1;var t=Lt(),e=fc()(),r,n,i,s;if(e){r=t("Object.prototype.hasOwnProperty"),n=t("RegExp.prototype.exec"),i={};var o=function(){throw i};s={toString:o,valueOf:o},typeof Symbol.toPrimitive=="symbol"&&(s[Symbol.toPrimitive]=o)}var a=t("Object.prototype.toString"),l=Object.getOwnPropertyDescriptor,u="[object RegExp]";return Ch=e?function(f){if(!f||typeof f!="object")return!1;var h=l(f,"lastIndex"),v=h&&r(h,"value");if(!v)return!1;try{n(f,s)}catch(g){return g===i}}:function(f){return!f||typeof f!="object"&&typeof f!="function"?!1:a(f)===u},Ch}var bh,V_;function xR(){if(V_)return bh;V_=1;var t=Lt(),e=ne,r=SR(),n=t("RegExp.prototype.exec"),i=e("%TypeError%");return bh=function(o){if(!r(o))throw new i("`regex` must be a RegExp");return function(l){return n(o,l)!==null}},bh}var Eh,Q_;function R1(){if(Q_)return Eh;Q_=1;var t=ne,e=t("%String%"),r=t("%TypeError%");return Eh=function(i){if(typeof i=="symbol")throw new r("Cannot convert a Symbol value to a string");return e(i)},Eh}var Th,K_;function O1(){if(K_)return Th;K_=1;var t=pc(),e=R1(),r=Lt(),n=r("String.prototype.replace"),i=/^\s$/.test(""),s=i?/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+/:/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+/,o=i?/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+$/:/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+$/;return Th=function(){var l=e(t(this));return n(n(l,s,""),o,"")},Th}var Ih,J_;function M1(){if(J_)return Ih;J_=1;var t=O1(),e="",r="";return Ih=function(){return String.prototype.trim&&e.trim()===e&&r.trim()===r&&("_"+r).trim()==="_"+r&&(r+"_").trim()===r+"_"?String.prototype.trim:t},Ih}var Ah,Y_;function CR(){if(Y_)return Ah;Y_=1;var t=ks,e=M1();return Ah=function(){var n=e();return t(String.prototype,{trim:n},{trim:function(){return String.prototype.trim!==n}}),n},Ah}var Ph,X_;function bR(){if(X_)return Ph;X_=1;var t=Ra,e=ks,r=pc(),n=O1(),i=M1(),s=CR(),o=t(i()),a=function(u){return r(u),o(u)};return e(a,{getPolyfill:i,implementation:n,shim:s}),Ph=a,Ph}var kh,Z_;function ER(){if(Z_)return kh;Z_=1;var t=ne,e=t("%Number%"),r=t("%RegExp%"),n=t("%TypeError%"),i=t("%parseInt%"),s=Lt(),o=xR(),a=s("String.prototype.slice"),l=o(/^0b[01]+$/i),u=o(/^0o[0-7]+$/i),c=o(/^[-+]0x[0-9a-f]+$/i),f=["","",""].join(""),h=new r("["+f+"]","g"),v=o(h),g=bR(),_=ot();return kh=function w(p){if(_(p)!=="String")throw new n("Assertion failed: `argument` is not a String");if(l(p))return e(i(a(p,2),2));if(u(p))return e(i(a(p,2),8));if(v(p)||c(p))return NaN;var m=g(p);return m!==p?w(m):e(p)},kh}var Rh,e0;function TR(){if(e0)return Rh;e0=1;var t=ne,e=t("%TypeError%"),r=t("%Number%"),n=k1(),i=wR(),s=ER();return Rh=function(a){var l=n(a)?a:i(a,r);if(typeof l=="symbol")throw new e("Cannot convert a Symbol value to a number");if(typeof l=="bigint")throw new e("Conversion from 'BigInt' to 'number' is not allowed.");return typeof l=="string"?s(l):r(l)},Rh}var Oh,t0;function IR(){if(t0)return Oh;t0=1;var t=ot(),e=Math.floor;return Oh=function(n){return t(n)==="BigInt"?n:e(n)},Oh}var Mh,r0;function AR(){if(r0)return Mh;r0=1;var t=ne,e=IR(),r=t("%TypeError%");return Mh=function(i){if(typeof i!="number"&&typeof i!="bigint")throw new r("argument must be a Number or a BigInt");var s=i<0?-e(-i):e(i);return s===0?0:s},Mh}var Nh,n0;function PR(){if(n0)return Nh;n0=1;var t=mR(),e=TR(),r=AR(),n=S1(),i=4294967296;return Nh=function(o){var a=e(o);if(!n(a)||a===0)return 0;var l=r(a),u=t(l,i);return u===0?0:u},Nh}var Dh,i0;function kR(){if(i0)return Dh;i0=1;var t=ne,e=t("%Object%"),r=pc();return Dh=function(i){return r(i),e(i)},Dh}var Bh,s0;function N1(){if(s0)return Bh;s0=1;var t=iR(),e=sR(),r=hR(),n=x1(),i=fR(),s=A1(),o=PR(),a=kR(),l=R1(),u=Lt(),c=w1(),f=Object("a"),h=f[0]!=="a"||!(0 in f),v=u("String.prototype.split");return Bh=function(_){var w=a(this),p=h&&c(w)?v(w,""):w,m=o(p.length);if(!s(_))throw new TypeError("Array.prototype.map callback must be a function");var y;arguments.length>1&&(y=arguments[1]);for(var C=t(w,m),E=0;E<m;){var O=l(E),M=i(w,O);if(M){var P=n(w,O),F=e(_,y,[P,E,w]);r(C,O,F)}E+=1}return C},Bh}var Uh,o0;function RR(){return o0||(o0=1,Uh=function(e){var r=!0,n=!0,i=!1;if(typeof e=="function"){try{e.call("f",function(s,o,a){typeof a!="object"&&(r=!1)}),e.call([null],function(){"use strict";n=typeof this=="string"},"x")}catch{i=!0}return!i&&r&&n}return!1}),Uh}var Fh,a0;function D1(){if(a0)return Fh;a0=1;var t=RR(),e=N1();return Fh=function(){var n=Array.prototype.map;return t(n)?n:e},Fh}var Lh,l0;function OR(){if(l0)return Lh;l0=1;var t=ks,e=D1();return Lh=function(){var n=e();return t(Array.prototype,{map:n},{map:function(){return Array.prototype.map!==n}}),n},Lh}var qh,u0;function MR(){if(u0)return qh;u0=1;var t=ks,e=pc(),r=Lt(),n=N1(),i=D1(),s=i(),o=OR(),a=r("Array.prototype.slice"),l=function(c,f){return e(c),s.apply(c,a(arguments,1))};return t(l,{getPolyfill:i,implementation:n,shim:o}),qh=l,qh}var NR=hc;NR();var DR=Dk(),BR=Bk(),UR=Kk(),FR=MR(),B1=ne,U1=Ra,LR=U1(B1("%Promise.all%")),qR=U1(B1("%Promise.reject%")),F1=function(e){var r=this;if(BR(r)!=="Object")throw new TypeError("`this` value must be an object");var n=UR(e);return LR(r,FR(n,function(i){var s=function(l){return{status:"fulfilled",value:l}},o=function(l){return{status:"rejected",reason:l}},a=DR(r,i);try{return a.then(s,o)}catch(l){return qR(r,l)}}))},$R=hc,jR=F1,L1=function(){return $R(),typeof Promise.allSettled=="function"?Promise.allSettled:jR},HR=hc,zR=L1,GR=ks,WR=function(){HR();var e=zR();return GR(Promise,{allSettled:e},{allSettled:function(){return Promise.allSettled!==e}}),e};(function(t){var e=Ra,r=ks,n=hc,i=F1,s=L1,o=WR;n();var a=e(s()),l=function(c){return a(typeof this>"u"?Promise:this,c)};r(l,{getPolyfill:s,implementation:i,shim:o}),t.exports=l,t.exports.default=l})(u1);var VR=u1.exports;const QR=li(VR);var fg=function(){function t(e){var r=e.logger;this._queue=[],this._batchRunning=!1,this._paused=!1,this._logger=Ps(si({name:"rate-limiter",emoji:!0},r))}return t.prototype.request=function(e,r){return Jt(this,void 0,Promise,function(){var n=this;return Mt(this,function(i){switch(i.label){case 0:return this._logger.trace("request start"),[4,new Promise(function(s,o){var a,l={req:e,resolve:s,reject:o,limitReachedBehavior:(a=r==null?void 0:r.limitReachedBehavior)!==null&&a!==void 0?a:"enqueue"};n._batchRunning||n._nextBatchTimer||n._paused?(n._logger.trace("request queued batchRunning:".concat(n._batchRunning.toString()," hasNextBatchTimer:").concat((!!n._nextBatchTimer).toString()," paused:").concat(n._paused.toString())),n._queue.push(l)):n._runRequestBatch([l])})];case 1:return[2,i.sent()]}})})},t.prototype.clear=function(){this._queue=[]},t.prototype.pause=function(){this._paused=!0},t.prototype.resume=function(){this._paused=!1,this._runNextBatch()},Object.defineProperty(t.prototype,"stats",{get:function(){var e,r,n,i,s;return{lastKnownLimit:(r=(e=this._parameters)===null||e===void 0?void 0:e.limit)!==null&&r!==void 0?r:null,lastKnownRemainingRequests:(i=(n=this._parameters)===null||n===void 0?void 0:n.remaining)!==null&&i!==void 0?i:null,lastKnownResetDate:Ut((s=this._parameters)===null||s===void 0?void 0:s.resetsAt,function(o){return new Date(o)})}},enumerable:!1,configurable:!0}),t.prototype._runRequestBatch=function(e){return Jt(this,void 0,void 0,function(){var r,n,i,s,o,a,l,u,c=this;return Mt(this,function(f){switch(f.label){case 0:return this._logger.trace("runRequestBatch start specs:".concat(e.length)),this._batchRunning=!0,this._parameters&&this._logger.debug("Remaining requests: ".concat(this._parameters.remaining)),this._logger.debug("Doing ".concat(e.length," requests, new queue length is ").concat(this._queue.length)),r=e.map(function(h){return Jt(c,void 0,Promise,function(){var v,g,_,w,p,m,y;return Mt(this,function(C){switch(C.label){case 0:v=h.req,g=h.resolve,_=h.reject,C.label=1;case 1:return C.trys.push([1,3,,4]),[4,this.doRequest(v)];case 2:if(w=C.sent(),p=this.needsToRetryAfter(w),p!==null)throw this._queue.unshift(h),this._logger.info("Retrying after ".concat(p," ms")),new Cv(p);return m=this.getParametersFromResponse(w),g(w),[2,m];case 3:if(y=C.sent(),y instanceof Cv)throw y;return _(y),[2,void 0];case 4:return[2]}})})}),[4,QR.call(Promise,r)];case 1:return n=f.sent(),i=n.filter(function(h){return h.status==="rejected"}),s=Date.now(),i.length?(this._logger.trace("runRequestBatch some rejected"),o=Math.max.apply(Math,vn([s],Pr(i.map(function(h){return h.reason.retryAt})),!1)),a=o-s,this._logger.warn("Waiting for ".concat(a," ms because the rate limit was exceeded")),this._nextBatchTimer=setTimeout(function(){c._parameters=void 0,c._runNextBatch()},a)):(this._logger.trace("runRequestBatch none rejected"),l=n.filter(function(h){return h.status==="fulfilled"&&h.value!==void 0}).map(function(h){return h.value}).reduce(function(h,v){return h?v.remaining<h.remaining?v:h:v},void 0),this._batchRunning=!1,l&&(this._parameters=l,l.resetsAt<s||l.remaining>0?(this._logger.trace("runRequestBatch canRunMore"),this._runNextBatch()):(u=l.resetsAt-s,this._logger.trace("runRequestBatch delay:".concat(u)),this._logger.warn("Waiting for ".concat(u," ms because the rate limit was reached")),this._queue=this._queue.filter(function(h){switch(h.limitReachedBehavior){case"enqueue":return!0;case"null":return h.resolve(null),!1;case"throw":return h.reject(new ng("Request removed from queue because the rate limit was reached")),!1;default:throw new Error("this should never happen")}}),this._nextBatchTimer=setTimeout(function(){c._parameters=void 0,c._runNextBatch()},u)))),this._logger.trace("runRequestBatch end"),[2]}})})},t.prototype._runNextBatch=function(){if(!this._paused){this._logger.trace("runNextBatch start"),this._nextBatchTimer&&(clearTimeout(this._nextBatchTimer),this._nextBatchTimer=void 0);var e=this._parameters?Math.min(this._parameters.remaining,this._parameters.limit/10):1,r=this._queue.splice(0,e);r.length&&this._runRequestBatch(r),this._logger.trace("runNextBatch end")}},t}(),KR=function(){function t(e){this._children=new Map,this._paused=!1,this._partitionKeyCallback=e.getPartitionKey,this._createChildCallback=e.createChild}return t.prototype.request=function(e,r){return Jt(this,void 0,Promise,function(){var n,i;return Mt(this,function(s){switch(s.label){case 0:return n=this._partitionKeyCallback(e),i=this._getChild(n),[4,i.request(e,r)];case 1:return[2,s.sent()]}})})},t.prototype.clear=function(){var e,r;try{for(var n=bl(this._children.values()),i=n.next();!i.done;i=n.next()){var s=i.value;s.clear()}}catch(o){e={error:o}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}},t.prototype.pause=function(){var e,r;this._paused=!0;try{for(var n=bl(this._children.values()),i=n.next();!i.done;i=n.next()){var s=i.value;s.pause()}}catch(o){e={error:o}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}},t.prototype.resume=function(){var e,r;this._paused=!1;try{for(var n=bl(this._children.values()),i=n.next();!i.done;i=n.next()){var s=i.value;s.resume()}}catch(o){e={error:o}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}},t.prototype.getChildStats=function(e){if(!this._children.has(e))return null;var r=this._children.get(e);return r instanceof fg?r.stats:null},t.prototype._getChild=function(e){if(this._children.has(e))return this._children.get(e);var r=this._createChildCallback(e);return this._paused&&r.pause(),this._children.set(e,r),r},t}(),q1=function(){function t(e){var r=e.logger,n=e.bucketSize,i=e.timeFrame,s=e.doRequest,o=e.getPartitionKey;this._partitionedQueue=new Map,this._usedFromBucket=new Map,this._paused=!1,this._logger=Ps(si({name:"rate-limiter",emoji:!0},r)),this._bucketSize=n,this._timeFrame=i,this._callback=s,this._partitionKeyCallback=o}return t.prototype.request=function(e,r){return Jt(this,void 0,Promise,function(){var n=this;return Mt(this,function(i){switch(i.label){case 0:return[4,new Promise(function(s,o){var a,l,u={req:e,resolve:s,reject:o,limitReachedBehavior:(a=r==null?void 0:r.limitReachedBehavior)!==null&&a!==void 0?a:"enqueue"},c=n._partitionKeyCallback(e),f=(l=n._usedFromBucket.get(c))!==null&&l!==void 0?l:0;if(f>=n._bucketSize||n._paused)switch(u.limitReachedBehavior){case"enqueue":{var h=n._getPartitionedQueue(c);h.push(u),f+h.length>=n._bucketSize?n._logger.warn("Rate limit of ".concat(n._bucketSize," for ").concat(c?"partition ".concat(c):"default partition"," was reached, waiting for ").concat(n._paused?"the limiter to be unpaused":"a free bucket entry","; queue size is ").concat(h.length)):n._logger.info("Enqueueing request for ".concat(c?"partition ".concat(c):"default partition"," because the rate limiter is paused; queue size is ").concat(h.length));break}case"null":{u.resolve(null),n._paused?n._logger.info("Returning null for request for ".concat(c?"partition ".concat(c):"default partition"," because the rate limiter is paused")):n._logger.warn("Rate limit of ".concat(n._bucketSize," for ").concat(c?"partition ".concat(c):"default partition"," was reached, dropping request and returning null"));break}case"throw":{u.reject(new ng("Request dropped because ".concat(n._paused?"the rate limiter is paused":"the rate limit for ".concat(c?"partition ".concat(c):"default partition"," was reached"))));break}default:throw new Error("this should never happen")}else n._runRequest(u,c)})];case 1:return[2,i.sent()]}})})},t.prototype.clear=function(){this._partitionedQueue.clear()},t.prototype.pause=function(){this._paused=!0},t.prototype.resume=function(){var e,r;this._paused=!1;try{for(var n=bl(this._partitionedQueue.keys()),i=n.next();!i.done;i=n.next()){var s=i.value;this._runNextRequest(s)}}catch(o){e={error:o}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}},t.prototype._getPartitionedQueue=function(e){if(this._partitionedQueue.has(e))return this._partitionedQueue.get(e);var r=[];return this._partitionedQueue.set(e,r),r},t.prototype._runRequest=function(e,r){var n;return Jt(this,void 0,void 0,function(){var i,s,o,a,l,u,c=this;return Mt(this,function(f){switch(f.label){case 0:i=this._getPartitionedQueue(r),this._logger.debug("doing a request for ".concat(r?"partition ".concat(r):"default partition",", new queue length is ").concat(i.length)),this._usedFromBucket.set(r,((n=this._usedFromBucket.get(r))!==null&&n!==void 0?n:0)+1),s=e.req,o=e.resolve,a=e.reject,f.label=1;case 1:return f.trys.push([1,3,4,5]),l=o,[4,this._callback(s)];case 2:return l.apply(void 0,[f.sent()]),[3,5];case 3:return u=f.sent(),a(u),[3,5];case 4:return setTimeout(function(){var h=c._usedFromBucket.get(r)-1;c._usedFromBucket.set(r,h),i.length&&h<c._bucketSize&&c._runNextRequest(r)},this._timeFrame),[7];case 5:return[2]}})})},t.prototype._runNextRequest=function(e){if(!this._paused){var r=this._getPartitionedQueue(e),n=r.shift();n&&this._runRequest(n,e)}},t}(),pp=function(){function t(e){var r=e.logger,n=e.bucketSize,i=e.timeFrame,s=e.doRequest;this._queue=[],this._usedFromBucket=0,this._paused=!1,this._logger=Ps(si({name:"rate-limiter",emoji:!0},r)),this._bucketSize=n,this._timeFrame=i,this._callback=s}return t.prototype.request=function(e,r){return Jt(this,void 0,Promise,function(){var n=this;return Mt(this,function(i){switch(i.label){case 0:return[4,new Promise(function(s,o){var a,l={req:e,resolve:s,reject:o,limitReachedBehavior:(a=r==null?void 0:r.limitReachedBehavior)!==null&&a!==void 0?a:"enqueue"};if(n._usedFromBucket>=n._bucketSize||n._paused)switch(l.limitReachedBehavior){case"enqueue":{n._queue.push(l),n._usedFromBucket+n._queue.length>=n._bucketSize?n._logger.warn("Rate limit of ".concat(n._bucketSize," was reached, waiting for ").concat(n._paused?"the limiter to be unpaused":"a free bucket entry","; queue size is ").concat(n._queue.length)):n._logger.info("Enqueueing request because the rate limiter is paused; queue size is ".concat(n._queue.length));break}case"null":{l.resolve(null),n._logger.warn("Rate limit of ".concat(n._bucketSize," was reached, dropping request and returning null")),n._paused?n._logger.info("Returning null for request because the rate limiter is paused"):n._logger.warn("Rate limit of ".concat(n._bucketSize," was reached, dropping request and returning null"));break}case"throw":{l.reject(new ng("Request dropped because ".concat(n._paused?"the rate limiter is paused":"the rate limit was reached")));break}default:throw new Error("this should never happen")}else n._runRequest(l)})];case 1:return[2,i.sent()]}})})},t.prototype.clear=function(){this._queue=[]},t.prototype.pause=function(){this._paused=!0},t.prototype.resume=function(){this._paused=!1,this._runNextRequest()},t.prototype._runRequest=function(e){return Jt(this,void 0,void 0,function(){var r,n,i,s,o,a=this;return Mt(this,function(l){switch(l.label){case 0:this._logger.debug("doing a request, new queue length is ".concat(this._queue.length)),this._usedFromBucket+=1,r=e.req,n=e.resolve,i=e.reject,l.label=1;case 1:return l.trys.push([1,3,4,5]),s=n,[4,this._callback(r)];case 2:return s.apply(void 0,[l.sent()]),[3,5];case 3:return o=l.sent(),i(o),[3,5];case 4:return setTimeout(function(){a._usedFromBucket-=1,a._queue.length&&a._usedFromBucket<a._bucketSize&&a._runNextRequest()},this._timeFrame),[7];case 5:return[2]}})})},t.prototype._runNextRequest=function(){if(!this._paused){var e=this._queue.shift();e&&this._runRequest(e)}},t}(),JR=function(t){As(e,t);function e(r,n){return t.call(this,si(si({},n),{doRequest:function(i,s){return Jt(this,void 0,Promise,function(){return Mt(this,function(o){switch(o.label){case 0:return[4,r.request(i,s)];case 1:return[2,o.sent()]}})})}}))||this}return e}(pp),mp={exports:{}};(function(t,e){var r=typeof self<"u"?self:Lu,n=function(){function s(){this.fetch=!1,this.DOMException=r.DOMException}return s.prototype=r,new s}();(function(s){(function(o){var a={searchParams:"URLSearchParams"in s,iterable:"Symbol"in s&&"iterator"in Symbol,blob:"FileReader"in s&&"Blob"in s&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in s,arrayBuffer:"ArrayBuffer"in s};function l(I){return I&&DataView.prototype.isPrototypeOf(I)}if(a.arrayBuffer)var u=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],c=ArrayBuffer.isView||function(I){return I&&u.indexOf(Object.prototype.toString.call(I))>-1};function f(I){if(typeof I!="string"&&(I=String(I)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(I))throw new TypeError("Invalid character in header field name");return I.toLowerCase()}function h(I){return typeof I!="string"&&(I=String(I)),I}function v(I){var D={next:function(){var J=I.shift();return{done:J===void 0,value:J}}};return a.iterable&&(D[Symbol.iterator]=function(){return D}),D}function g(I){this.map={},I instanceof g?I.forEach(function(D,J){this.append(J,D)},this):Array.isArray(I)?I.forEach(function(D){this.append(D[0],D[1])},this):I&&Object.getOwnPropertyNames(I).forEach(function(D){this.append(D,I[D])},this)}g.prototype.append=function(I,D){I=f(I),D=h(D);var J=this.map[I];this.map[I]=J?J+", "+D:D},g.prototype.delete=function(I){delete this.map[f(I)]},g.prototype.get=function(I){return I=f(I),this.has(I)?this.map[I]:null},g.prototype.has=function(I){return this.map.hasOwnProperty(f(I))},g.prototype.set=function(I,D){this.map[f(I)]=h(D)},g.prototype.forEach=function(I,D){for(var J in this.map)this.map.hasOwnProperty(J)&&I.call(D,this.map[J],J,this)},g.prototype.keys=function(){var I=[];return this.forEach(function(D,J){I.push(J)}),v(I)},g.prototype.values=function(){var I=[];return this.forEach(function(D){I.push(D)}),v(I)},g.prototype.entries=function(){var I=[];return this.forEach(function(D,J){I.push([J,D])}),v(I)},a.iterable&&(g.prototype[Symbol.iterator]=g.prototype.entries);function _(I){if(I.bodyUsed)return Promise.reject(new TypeError("Already read"));I.bodyUsed=!0}function w(I){return new Promise(function(D,J){I.onload=function(){D(I.result)},I.onerror=function(){J(I.error)}})}function p(I){var D=new FileReader,J=w(D);return D.readAsArrayBuffer(I),J}function m(I){var D=new FileReader,J=w(D);return D.readAsText(I),J}function y(I){for(var D=new Uint8Array(I),J=new Array(D.length),Ee=0;Ee<D.length;Ee++)J[Ee]=String.fromCharCode(D[Ee]);return J.join("")}function C(I){if(I.slice)return I.slice(0);var D=new Uint8Array(I.byteLength);return D.set(new Uint8Array(I)),D.buffer}function E(){return this.bodyUsed=!1,this._initBody=function(I){this._bodyInit=I,I?typeof I=="string"?this._bodyText=I:a.blob&&Blob.prototype.isPrototypeOf(I)?this._bodyBlob=I:a.formData&&FormData.prototype.isPrototypeOf(I)?this._bodyFormData=I:a.searchParams&&URLSearchParams.prototype.isPrototypeOf(I)?this._bodyText=I.toString():a.arrayBuffer&&a.blob&&l(I)?(this._bodyArrayBuffer=C(I.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):a.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(I)||c(I))?this._bodyArrayBuffer=C(I):this._bodyText=I=Object.prototype.toString.call(I):this._bodyText="",this.headers.get("content-type")||(typeof I=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):a.searchParams&&URLSearchParams.prototype.isPrototypeOf(I)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},a.blob&&(this.blob=function(){var I=_(this);if(I)return I;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?_(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(p)}),this.text=function(){var I=_(this);if(I)return I;if(this._bodyBlob)return m(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(y(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},a.formData&&(this.formData=function(){return this.text().then(F)}),this.json=function(){return this.text().then(JSON.parse)},this}var O=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function M(I){var D=I.toUpperCase();return O.indexOf(D)>-1?D:I}function P(I,D){D=D||{};var J=D.body;if(I instanceof P){if(I.bodyUsed)throw new TypeError("Already read");this.url=I.url,this.credentials=I.credentials,D.headers||(this.headers=new g(I.headers)),this.method=I.method,this.mode=I.mode,this.signal=I.signal,!J&&I._bodyInit!=null&&(J=I._bodyInit,I.bodyUsed=!0)}else this.url=String(I);if(this.credentials=D.credentials||this.credentials||"same-origin",(D.headers||!this.headers)&&(this.headers=new g(D.headers)),this.method=M(D.method||this.method||"GET"),this.mode=D.mode||this.mode||null,this.signal=D.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&J)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(J)}P.prototype.clone=function(){return new P(this,{body:this._bodyInit})};function F(I){var D=new FormData;return I.trim().split("&").forEach(function(J){if(J){var Ee=J.split("="),U=Ee.shift().replace(/\+/g," "),L=Ee.join("=").replace(/\+/g," ");D.append(decodeURIComponent(U),decodeURIComponent(L))}}),D}function H(I){var D=new g,J=I.replace(/\r?\n[\t ]+/g," ");return J.split(/\r?\n/).forEach(function(Ee){var U=Ee.split(":"),L=U.shift().trim();if(L){var K=U.join(":").trim();D.append(L,K)}}),D}E.call(P.prototype);function ee(I,D){D||(D={}),this.type="default",this.status=D.status===void 0?200:D.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in D?D.statusText:"OK",this.headers=new g(D.headers),this.url=D.url||"",this._initBody(I)}E.call(ee.prototype),ee.prototype.clone=function(){return new ee(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new g(this.headers),url:this.url})},ee.error=function(){var I=new ee(null,{status:0,statusText:""});return I.type="error",I};var Pe=[301,302,303,307,308];ee.redirect=function(I,D){if(Pe.indexOf(D)===-1)throw new RangeError("Invalid status code");return new ee(null,{status:D,headers:{location:I}})},o.DOMException=s.DOMException;try{new o.DOMException}catch{o.DOMException=function(D,J){this.message=D,this.name=J;var Ee=Error(D);this.stack=Ee.stack},o.DOMException.prototype=Object.create(Error.prototype),o.DOMException.prototype.constructor=o.DOMException}function ve(I,D){return new Promise(function(J,Ee){var U=new P(I,D);if(U.signal&&U.signal.aborted)return Ee(new o.DOMException("Aborted","AbortError"));var L=new XMLHttpRequest;function K(){L.abort()}L.onload=function(){var ce={status:L.status,statusText:L.statusText,headers:H(L.getAllResponseHeaders()||"")};ce.url="responseURL"in L?L.responseURL:ce.headers.get("X-Request-URL");var _e="response"in L?L.response:L.responseText;J(new ee(_e,ce))},L.onerror=function(){Ee(new TypeError("Network request failed"))},L.ontimeout=function(){Ee(new TypeError("Network request failed"))},L.onabort=function(){Ee(new o.DOMException("Aborted","AbortError"))},L.open(U.method,U.url,!0),U.credentials==="include"?L.withCredentials=!0:U.credentials==="omit"&&(L.withCredentials=!1),"responseType"in L&&a.blob&&(L.responseType="blob"),U.headers.forEach(function(ce,_e){L.setRequestHeader(_e,ce)}),U.signal&&(U.signal.addEventListener("abort",K),L.onreadystatechange=function(){L.readyState===4&&U.signal.removeEventListener("abort",K)}),L.send(typeof U._bodyInit>"u"?null:U._bodyInit)})}return ve.polyfill=!0,s.fetch||(s.fetch=ve,s.Headers=g,s.Request=P,s.Response=ee),o.Headers=g,o.Request=P,o.Response=ee,o.fetch=ve,Object.defineProperty(o,"__esModule",{value:!0}),o})({})})(n),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var i=n;e=i.fetch,e.default=i.fetch,e.fetch=i.fetch,e.Headers=i.Headers,e.Request=i.Request,e.Response=i.Response,t.exports=e})(mp,mp.exports);var $1=mp.exports;const YR=li($1);var $h=Object.prototype.hasOwnProperty,Si=Array.isArray,tr=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),XR=function(e){for(;e.length>1;){var r=e.pop(),n=r.obj[r.prop];if(Si(n)){for(var i=[],s=0;s<n.length;++s)typeof n[s]<"u"&&i.push(n[s]);r.obj[r.prop]=i}}},j1=function(e,r){for(var n=r&&r.plainObjects?Object.create(null):{},i=0;i<e.length;++i)typeof e[i]<"u"&&(n[i]=e[i]);return n},ZR=function t(e,r,n){if(!r)return e;if(typeof r!="object"){if(Si(e))e.push(r);else if(e&&typeof e=="object")(n&&(n.plainObjects||n.allowPrototypes)||!$h.call(Object.prototype,r))&&(e[r]=!0);else return[e,r];return e}if(!e||typeof e!="object")return[e].concat(r);var i=e;return Si(e)&&!Si(r)&&(i=j1(e,n)),Si(e)&&Si(r)?(r.forEach(function(s,o){if($h.call(e,o)){var a=e[o];a&&typeof a=="object"&&s&&typeof s=="object"?e[o]=t(a,s,n):e.push(s)}else e[o]=s}),e):Object.keys(r).reduce(function(s,o){var a=r[o];return $h.call(s,o)?s[o]=t(s[o],a,n):s[o]=a,s},i)},eO=function(e,r){return Object.keys(r).reduce(function(n,i){return n[i]=r[i],n},e)},tO=function(t,e,r){var n=t.replace(/\+/g," ");if(r==="iso-8859-1")return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch{return n}},rO=function(e,r,n){if(e.length===0)return e;var i=e;if(typeof e=="symbol"?i=Symbol.prototype.toString.call(e):typeof e!="string"&&(i=String(e)),n==="iso-8859-1")return escape(i).replace(/%u[0-9a-f]{4}/gi,function(l){return"%26%23"+parseInt(l.slice(2),16)+"%3B"});for(var s="",o=0;o<i.length;++o){var a=i.charCodeAt(o);if(a===45||a===46||a===95||a===126||a>=48&&a<=57||a>=65&&a<=90||a>=97&&a<=122){s+=i.charAt(o);continue}if(a<128){s=s+tr[a];continue}if(a<2048){s=s+(tr[192|a>>6]+tr[128|a&63]);continue}if(a<55296||a>=57344){s=s+(tr[224|a>>12]+tr[128|a>>6&63]+tr[128|a&63]);continue}o+=1,a=65536+((a&1023)<<10|i.charCodeAt(o)&1023),s+=tr[240|a>>18]+tr[128|a>>12&63]+tr[128|a>>6&63]+tr[128|a&63]}return s},nO=function(e){for(var r=[{obj:{o:e},prop:"o"}],n=[],i=0;i<r.length;++i)for(var s=r[i],o=s.obj[s.prop],a=Object.keys(o),l=0;l<a.length;++l){var u=a[l],c=o[u];typeof c=="object"&&c!==null&&n.indexOf(c)===-1&&(r.push({obj:o,prop:u}),n.push(c))}return XR(r),e},iO=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},sO=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},oO=function(e,r){return[].concat(e,r)},pg={arrayToObject:j1,assign:eO,combine:oO,compact:nO,decode:tO,encode:rO,isBuffer:sO,isRegExp:iO,merge:ZR},aO=String.prototype.replace,lO=/%20/g,uO=pg,c0={RFC1738:"RFC1738",RFC3986:"RFC3986"},cO=uO.assign({default:c0.RFC3986,formatters:{RFC1738:function(t){return aO.call(t,lO,"+")},RFC3986:function(t){return String(t)}}},c0),H1=pg,co=cO,dO=Object.prototype.hasOwnProperty,d0={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,r){return e+"["+r+"]"},repeat:function(e){return e}},zi=Array.isArray,hO=Array.prototype.push,gp=function(t,e){hO.apply(t,zi(e)?e:[e])},fO=Date.prototype.toISOString,h0=co.default,Xe={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:H1.encode,encodeValuesOnly:!1,format:h0,formatter:co.formatters[h0],indices:!1,serializeDate:function(e){return fO.call(e)},skipNulls:!1,strictNullHandling:!1},pO=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},mO=function t(e,r,n,i,s,o,a,l,u,c,f,h,v){var g=e;if(typeof a=="function"?g=a(r,g):g instanceof Date?g=c(g):n==="comma"&&zi(g)&&(g=g.join(",")),g===null){if(i)return o&&!h?o(r,Xe.encoder,v,"key"):r;g=""}if(pO(g)||H1.isBuffer(g)){if(o){var _=h?r:o(r,Xe.encoder,v,"key");return[f(_)+"="+f(o(g,Xe.encoder,v,"value"))]}return[f(r)+"="+f(String(g))]}var w=[];if(typeof g>"u")return w;var p;if(zi(a))p=a;else{var m=Object.keys(g);p=l?m.sort(l):m}for(var y=0;y<p.length;++y){var C=p[y];s&&g[C]===null||(zi(g)?gp(w,t(g[C],typeof n=="function"?n(r,C):r,n,i,s,o,a,l,u,c,f,h,v)):gp(w,t(g[C],r+(u?"."+C:"["+C+"]"),n,i,s,o,a,l,u,c,f,h,v)))}return w},gO=function(e){if(!e)return Xe;if(e.encoder!==null&&e.encoder!==void 0&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var r=e.charset||Xe.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=co.default;if(typeof e.format<"u"){if(!dO.call(co.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var i=co.formatters[n],s=Xe.filter;return(typeof e.filter=="function"||zi(e.filter))&&(s=e.filter),{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:Xe.addQueryPrefix,allowDots:typeof e.allowDots>"u"?Xe.allowDots:!!e.allowDots,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:Xe.charsetSentinel,delimiter:typeof e.delimiter>"u"?Xe.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:Xe.encode,encoder:typeof e.encoder=="function"?e.encoder:Xe.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:Xe.encodeValuesOnly,filter:s,formatter:i,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:Xe.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:Xe.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:Xe.strictNullHandling}},yO=function(t,e){var r=t,n=gO(e),i,s;typeof n.filter=="function"?(s=n.filter,r=s("",r)):zi(n.filter)&&(s=n.filter,i=s);var o=[];if(typeof r!="object"||r===null)return"";var a;e&&e.arrayFormat in d0?a=e.arrayFormat:e&&"indices"in e?a=e.indices?"indices":"repeat":a="indices";var l=d0[a];i||(i=Object.keys(r)),n.sort&&i.sort(n.sort);for(var u=0;u<i.length;++u){var c=i[u];n.skipNulls&&r[c]===null||gp(o,mO(r[c],c,l,n.strictNullHandling,n.skipNulls,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.formatter,n.encodeValuesOnly,n.charset))}var f=o.join(n.delimiter),h=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?h+="utf8=%26%2310003%3B&":h+="utf8=%E2%9C%93&"),f.length>0?h+f:""};const z1=li(yO);var vO=pg;vO.decode;const d=Symbol("twurpleRawData");class W{constructor(e){this[d]=e}}class mr extends Error{constructor(e,r){var n;super(e,r),Object.setPrototypeOf(this,new.target.prototype),(n=Error.captureStackTrace)===null||n===void 0||n.call(Error,this,new.target.constructor)}get name(){return this.constructor.name}}class _O extends mr{constructor(){super("Relation returned null - this may be a library bug or a race condition in your own code")}}function Y(t){if(t==null)throw new _O;return t}function N(t,e,r){return n=>{const i=r?function(){return`[${e}#${this[r]} - please check https://twurple.js.org/reference/${t}/classes/${e}.html for available properties]`}:function(){return`[${e} - please check https://twurple.js.org/reference/${t}/classes/${e}.html for available properties]`};Object.defineProperty(n.prototype,Symbol.for("nodejs.util.inspect.custom"),{value:i,enumerable:!1})}}let yp=class extends W{get authorName(){return this[d].author_name}get bitsEnabled(){return this[d].bits_enabled}get installable(){return this[d].can_install}get configurationLocation(){return this[d].configuration_location}get description(){return this[d].description}get tosUrl(){return this[d].eula_tos_url}get hasChatSupport(){return this[d].has_chat_support}get iconUrl(){return this[d].icon_url}getIconUrl(e){return this[d].icon_urls[e]}get id(){return this[d].id}get name(){return this[d].name}get privacyPolicyUrl(){return this[d].privacy_policy_url}get requestsIdentityLink(){return this[d].request_identity_link}get screenshotUrls(){return this[d].screenshot_urls}get state(){return this[d].state}get subscriptionsSupportLevel(){return this[d].subscriptions_support_level}get summary(){return this[d].summary}get supportEmail(){return this[d].support_email}get version(){return this[d].version}get viewerSummery(){return this[d].viewer_summary}get allowedConfigUrls(){return this[d].allowlisted_config_urls}get allowedPanelUrls(){return this[d].allowlisted_panel_urls}get mobileViewerUrl(){var e,r;return(r=(e=this[d].views.mobile)===null||e===void 0?void 0:e.viewer_url)!==null&&r!==void 0?r:null}get panelViewerUrl(){var e,r;return(r=(e=this[d].views.panel)===null||e===void 0?void 0:e.viewer_url)!==null&&r!==void 0?r:null}get panelHeight(){var e,r;return(r=(e=this[d].views.panel)===null||e===void 0?void 0:e.height)!==null&&r!==void 0?r:null}get panelCanLinkExternalContent(){var e,r;return(r=(e=this[d].views.panel)===null||e===void 0?void 0:e.can_link_external_content)!==null&&r!==void 0?r:null}get overlayViewerUrl(){var e,r;return(r=(e=this[d].views.video_overlay)===null||e===void 0?void 0:e.viewer_url)!==null&&r!==void 0?r:null}get overlayCanLinkExternalContent(){var e,r;return(r=(e=this[d].views.video_overlay)===null||e===void 0?void 0:e.can_link_external_content)!==null&&r!==void 0?r:null}get componentViewerUrl(){var e,r;return(r=(e=this[d].views.component)===null||e===void 0?void 0:e.viewer_url)!==null&&r!==void 0?r:null}get componentAspectWidth(){var e,r;return(r=(e=this[d].views.component)===null||e===void 0?void 0:e.aspect_width)!==null&&r!==void 0?r:null}get componentAspectHeight(){var e,r;return(r=(e=this[d].views.component)===null||e===void 0?void 0:e.aspect_height)!==null&&r!==void 0?r:null}get componentAspectRatioX(){var e,r;return(r=(e=this[d].views.component)===null||e===void 0?void 0:e.aspect_ratio_x)!==null&&r!==void 0?r:null}get componentAspectRatioY(){var e,r;return(r=(e=this[d].views.component)===null||e===void 0?void 0:e.aspect_ratio_y)!==null&&r!==void 0?r:null}get componentAutoScales(){var e,r;return(r=(e=this[d].views.component)===null||e===void 0?void 0:e.autoscale)!==null&&r!==void 0?r:null}get componentScalePixels(){var e,r;return(r=(e=this[d].views.component)===null||e===void 0?void 0:e.scale_pixels)!==null&&r!==void 0?r:null}get componentTargetHeight(){var e,r;return(r=(e=this[d].views.component)===null||e===void 0?void 0:e.target_height)!==null&&r!==void 0?r:null}get componentSize(){var e,r;return(r=(e=this[d].views.component)===null||e===void 0?void 0:e.size)!==null&&r!==void 0?r:null}get componentZoom(){var e,r;return(r=(e=this[d].views.component)===null||e===void 0?void 0:e.zoom)!==null&&r!==void 0?r:null}get componentZoomPixels(){var e,r;return(r=(e=this[d].views.component)===null||e===void 0?void 0:e.zoom_pixels)!==null&&r!==void 0?r:null}get componentCanLinkExternalContent(){var e,r;return(r=(e=this[d].views.component)===null||e===void 0?void 0:e.can_link_external_content)!==null&&r!==void 0?r:null}get configViewerUrl(){var e,r;return(r=(e=this[d].views.config)===null||e===void 0?void 0:e.viewer_url)!==null&&r!==void 0?r:null}get configCanLinkExternalContent(){var e,r;return(r=(e=this[d].views.config)===null||e===void 0?void 0:e.can_link_external_content)!==null&&r!==void 0?r:null}};yp=S([N("api","HelixExtension","id")],yp);class _n extends mr{constructor(e){super(`${e} - this should never happen, please file a bug in the GitHub issue tracker`)}}function x(t){return typeof t=="string"?t:typeof t=="number"?t.toString(10):t.id}function ho(t){return typeof t=="string"?t:t.name}class oi extends mr{constructor(e,r,n,i,s,o){super(`Encountered HTTP status code ${e}: ${r}

URL: ${n}
Method: ${i}
Body:
${!o&&s.length>150?`${s.slice(0,147)}...`:s}`),this._statusCode=e,this._url=n,this._method=i,this._body=s}get statusCode(){return this._statusCode}get url(){return this._url}get method(){return this._method}get body(){return this._body}}async function vp(t,e){var r;if(!t.ok){const n=t.headers.get("Content-Type")==="application/json",i=n?JSON.stringify(await t.json(),null,2):await t.text(),s=z1(e.query,{arrayFormat:"repeat",addQueryPrefix:!0}),o=`${e.url}${s}`;throw new oi(t.status,t.statusText,o,(r=e.method)!==null&&r!==void 0?r:"GET",i,n)}}async function G1(t){if(t.status===204)return;const e=await t.text();if(e)return JSON.parse(e)}function wO(t,e){switch(e){case"helix":return`https://api.twitch.tv/helix/${t.replace(/^\//,"")}`;case"auth":return`https://id.twitch.tv/oauth2/${t.replace(/^\//,"")}`;case"custom":return t;default:return t}}async function vc(t,e,r,n,i={}){var s,o;const a=(s=t.type)!==null&&s!==void 0?s:"helix",l=wO(t.url,a),u=z1(t.query,{arrayFormat:"repeat",addQueryPrefix:!0}),c=new $1.Headers({Accept:"application/json"});let f;t.jsonBody&&(f=JSON.stringify(t.jsonBody),c.append("Content-Type","application/json")),e&&a!=="auth"&&c.append("Client-ID",e),r&&c.append("Authorization",`${a==="helix"?n??"Bearer":"OAuth"} ${r}`);const h={...i,method:(o=t.method)!==null&&o!==void 0?o:"GET",headers:c,body:f};return await YR(`${l}${u}`,h)}async function Oa(t,e,r,n,i={}){const s=await vc(t,e,r,n,i);return await vp(s,t),await G1(s)}function ue(t){return{broadcaster_id:x(t)}}class SO extends mr{}class xO extends fg{async doRequest({options:e,clientId:r,accessToken:n,authorizationType:i,fetchOptions:s}){return await vc(e,r,n,i,s)}needsToRetryAfter(e){return e.status===429&&(!e.headers.has("ratelimit-remaining")||Number(e.headers.get("ratelimit-remaining"))===0)?+e.headers.get("ratelimit-reset")*1e3-Date.now():null}getParametersFromResponse(e){const{headers:r}=e;return{limit:+r.get("ratelimit-limit"),remaining:+r.get("ratelimit-remaining"),resetsAt:+r.get("ratelimit-reset")*1e3}}}function CO(t){switch(typeof t){case"undefined":return"";case"object":{if(t===null)return"";if("cacheKey"in t)return t.cacheKey;const e=JSON.stringify(t);if(e!=="{}")return e}default:return t.toString()}}function W1(t,e,r){return[t,...e.map(CO)].join("/")+(r?"/":"")}function Ma(t){return class extends t{constructor(){super(...arguments),this.cache=new Map}getFromCache(e){if(this._cleanCache(),this.cache.has(e)){const r=this.cache.get(e);if(r)return r.value}}setCache(e,r,n){this.cache.set(e,{value:r,expires:Date.now()+n*1e3})}removeFromCache(e,r){const n=this._getInternalCacheKey(e,r);r?this.cache.forEach((i,s)=>{s.startsWith(n)&&this.cache.delete(s)}):this.cache.delete(n)}_cleanCache(){const e=Date.now();this.cache.forEach((r,n)=>{r.expires<e&&this.cache.delete(n)})}_getInternalCacheKey(e,r){if(typeof e=="string"){let n=e;return n.endsWith("/")||(n+="/"),n}else{const n=e.shift();return W1(n,e,r)}}}}function he(t=1/0){return function(e,r,n){if(n.get){const i=n.get;n.get=function(){const s=W1(r,[]),o=this.getFromCache(s);if(o)return o;const a=i.call(this);return this.setCache(s,a,t),a}}return n}}class bO{constructor(e,r,n,i=!1){this.owner=e,this.event=r,this.listener=n,this._internal=i}unbind(){this.owner.removeListener(this)}}class Rs{constructor(){this._eventListeners=new Map,this._internalEventListeners=new Map}on(e,r){return this._addListener(!1,e,r)}addListener(e,r){return this._addListener(!1,e,r)}removeListener(e,r){this._removeListener(!1,e,r)}registerEvent(){const e=r=>this.addListener(e,r);return e}emit(e,...r){if(this._eventListeners.has(e))for(const n of this._eventListeners.get(e))n(...r);if(this._internalEventListeners.has(e))for(const n of this._internalEventListeners.get(e))n(...r)}registerInternalEvent(){const e=r=>this.addInternalListener(e,r);return e}addInternalListener(e,r){return this._addListener(!0,e,r)}removeInternalListener(e,r){this._removeListener(!0,e,r)}_addListener(e,r,n){const i=e?this._eventListeners:this._internalEventListeners;return i.has(r)?i.get(r).push(n):i.set(r,[n]),new bO(this,r,n,e)}_removeListener(e,r,n){const i=e?this._eventListeners:this._internalEventListeners;if(!r)i.clear();else if(typeof r=="object"){const s=r;this._removeListener(s._internal,s.event,s.listener)}else{const s=r;if(i.has(s))if(n){const o=i.get(s);let a=0;for(;(a=o.indexOf(n))!==-1;)o.splice(a,1)}else i.delete(s)}}}const EO=6e4;function TO(t){return Ut(t.expiresIn,e=>t.obtainmentTimestamp+e*1e3-EO)}function Gi(t){var e;return(e=Ut(TO(t),r=>Date.now()>r))!==null&&e!==void 0?e:!1}class Yn extends mr{constructor(e){super("Invalid token supplied",e)}}class Il extends mr{}function IO(t,e,r,n){return{grant_type:"authorization_code",client_id:t,client_secret:e,code:r,redirect_uri:n}}function AO(t,e){return{grant_type:"client_credentials",client_id:t,client_secret:e}}function PO(t,e,r){return{grant_type:"refresh_token",client_id:t,client_secret:e,refresh_token:r}}let ou=class extends W{constructor(e){super(e),this._obtainmentDate=new Date}get clientId(){return this[d].client_id}get userId(){var e;return(e=this[d].user_id)!==null&&e!==void 0?e:null}get userName(){var e;return(e=this[d].login)!==null&&e!==void 0?e:null}get scopes(){return this[d].scopes}get expiryDate(){return Ut(this[d].expires_in,e=>new Date(this._obtainmentDate.getTime()+e*1e3))}};ou=S([N("auth","TokenInfo","clientId")],ou);function mg(t){var e,r;return{accessToken:t.access_token,refreshToken:t.refresh_token||null,scope:(e=t.scope)!==null&&e!==void 0?e:[],expiresIn:(r=t.expires_in)!==null&&r!==void 0?r:null,obtainmentTimestamp:Date.now()}}async function kO(t,e,r,n){return mg(await Oa({type:"auth",url:"token",method:"POST",query:IO(t,e,r,n)}))}async function RO(t,e){return mg(await Oa({type:"auth",url:"token",method:"POST",query:AO(t,e)}))}async function f0(t,e,r){return mg(await Oa({type:"auth",url:"token",method:"POST",query:PO(t,e,r)}))}async function ws(t,e){try{const r=await Oa({type:"auth",url:"validate"},e,t);return new ou(r)}catch(r){throw r instanceof oi&&r.statusCode===401?new Yn({cause:r}):r}}const OO=new Map([["channel_commercial",["channel:edit:commercial"]],["channel_editor",["channel:manage:broadcast"]],["channel_read",["channel:read:stream_key"]],["channel_subscriptions",["channel:read:subscriptions"]],["user_blocks_read",["user:read:blocked_users"]],["user_blocks_edit",["user:manage:blocked_users"]],["user_follows_edit",["user:edit:follows"]],["user_read",["user:read:email"]],["user_subscriptions",["user:read:subscriptions"]],["user:edit:broadcast",["channel:manage:broadcast","channel:manage:extensions"]]]);function MO(t,e){if(e!=null&&e.length){const r=new Set(t.flatMap(n=>{var i;return[n,...(i=OO.get(n))!==null&&i!==void 0?i:[]]}));if(e.every(n=>!r.has(n))){const n=e.join(", ");throw new Error(`This token does not have any of the requested scopes (${n}) and can not be upgraded.
If you need dynamically upgrading scopes, please implement the AuthProvider interface accordingly:

	https://twurple.js.org/reference/auth/interfaces/AuthProvider.html`)}}}function _p(t,e){for(const r of e)MO(t,r)}async function V1(t,e,r,n,i){if(i!=null&&i.length||!r){const s=await ws(e,t);if(!s.userId)throw new Error("Trying to use an app access token as a user access token");const o=n??s.scopes;return i&&_p(o,i.filter(a=>!!a)),[o,s.userId]}return[n,r]}class p0{constructor(e){this._newTokenScopeSets=[],this._newTokenPromise=null,this._queuedScopeSets=[],this._queueExecutor=null,this._queuePromise=null,this._executor=e}async fetch(...e){var r;const n=e.filter(a=>!!a);if(this._newTokenPromise){if(!n.length)return await this._newTokenPromise;if(this._queueExecutor?this._queuedScopeSets.push(...n):this._queuedScopeSets=[...n],!this._queuePromise){const{promise:a,resolve:l,reject:u}=Lo();this._queuePromise=a,this._queueExecutor=async()=>{var c;if(this._queuePromise){this._newTokenScopeSets=this._queuedScopeSets,this._queuedScopeSets=[],this._newTokenPromise=this._queuePromise,this._queuePromise=null,this._queueExecutor=null;try{l(await this._executor(this._newTokenScopeSets))}catch(f){u(f)}finally{this._newTokenPromise=null,this._newTokenScopeSets=[],(c=this._queueExecutor)===null||c===void 0||c.call(this)}}}}return await this._queuePromise}this._newTokenScopeSets=[...n];const{promise:i,resolve:s,reject:o}=Lo();this._newTokenPromise=i;try{s(await this._executor(this._newTokenScopeSets))}catch(a){o(a)}finally{this._newTokenPromise=null,this._newTokenScopeSets=[],(r=this._queueExecutor)===null||r===void 0||r.call(this)}return await i}}class m0 extends mr{constructor(e){super(`The user context for the user ${e} has been disabled.
This happened because the access token became invalid (e.g. by expiry) and refreshing it failed (e.g. because the account's password was changed).

Use .addUser(), .addUserForToken() or .addUserForCode() for the same user context to re-enable the user with a new, valid token.`),this.userId=e}}class NO extends mr{constructor(e){super(`User ${e} was removed while trying to fetch a token.

Make sure you're not executing any actions when you want to remove a user.`),this.userId=e}}class DO extends mr{constructor(e){super(`Unknown intent: ${e}`),this.intent=e}}let wn=class extends Rs{constructor(e){var r;super(),this._userAccessTokens=new Map,this._userTokenFetchers=new Map,this._intentToUserId=new Map,this._userIdToIntents=new Map,this._cachedRefreshFailures=new Set,this.onRefresh=this.registerEvent(),this.onRefreshFailure=this.registerEvent(),this._clientId=e.clientId,this._clientSecret=e.clientSecret,this._redirectUri=e.redirectUri,this._appImpliedScopes=(r=e.appImpliedScopes)!==null&&r!==void 0?r:[],this._appTokenFetcher=new p0(async n=>await this._fetchAppToken(n))}addUser(e,r,n){const i=x(e);if(!r.refreshToken)throw new Error(`Trying to add user ${i} without refresh token`);this._cachedRefreshFailures.delete(i),this._userAccessTokens.set(i,{...r,userId:i}),this._userTokenFetchers.has(i)||this._userTokenFetchers.set(i,new p0(async s=>await this._fetchUserToken(i,s))),n&&this.addIntentsToUser(e,n)}async addUserForToken(e,r){let n=null;if(e.accessToken&&!Gi(e))try{const a=await ws(e.accessToken);n=[e,a]}catch(a){if(!(a instanceof Yn))throw a}if(!n){if(!e.refreshToken)throw new Yn;const a=await f0(this._clientId,this._clientSecret,e.refreshToken),l=await ws(a.accessToken);this.emit(this.onRefresh,l.userId,a),n=[a,l]}const[i,s]=n;if(!s.userId)throw new Il("Could not determine a user ID for your token; you might be trying to disguise an app token as a user token.");const o=i.scope?i:{...i,scope:s.scopes};return this.addUser(s.userId,o,r),s.userId}async addUserForCode(e,r){if(!this._redirectUri)throw new Error("This method requires you to pass a `redirectUri` as a configuration property");const n=await kO(this._clientId,this._clientSecret,e,this._redirectUri);return await this.addUserForToken(n,r)}hasUser(e){return this._userTokenFetchers.has(x(e))}removeUser(e){const r=x(e);if(this._userIdToIntents.has(r)){const n=this._userIdToIntents.get(r);for(const i of n)this._intentToUserId.delete(i);this._userIdToIntents.delete(r)}this._userAccessTokens.delete(r),this._userTokenFetchers.delete(r),this._cachedRefreshFailures.delete(r)}addIntentsToUser(e,r){const n=x(e);if(!this._userAccessTokens.has(n))throw new Error("Trying to add intents to a user that was not added to this provider");for(const i of r)this._intentToUserId.has(i)&&this._userIdToIntents.get(this._intentToUserId.get(i)).delete(i),this._intentToUserId.set(i,n),this._userIdToIntents.has(n)?this._userIdToIntents.get(n).add(i):this._userIdToIntents.set(n,new Set([i]))}getIntentsForUser(e){const r=x(e);return this._userIdToIntents.has(r)?Array.from(this._userIdToIntents.get(r)):[]}removeIntents(e){var r;for(const n of e)if(this._intentToUserId.has(n)){const i=this._intentToUserId.get(n);(r=this._userIdToIntents.get(i))===null||r===void 0||r.delete(n),this._intentToUserId.delete(n)}}async refreshAccessTokenForUser(e){const r=x(e);if(this._cachedRefreshFailures.has(r))throw new m0(r);const n=this._userAccessTokens.get(r);if(!n)throw new Error("Trying to refresh token for user that was not added to the provider");const i=await this._refreshUserTokenWithCallback(r,n.refreshToken);return this._checkIntermediateUserRemoval(r),this._userAccessTokens.set(r,{...i,userId:r}),this.emit(this.onRefresh,r,i),{...i,userId:r}}async refreshAccessTokenForIntent(e){if(!this._intentToUserId.has(e))throw new DO(e);const r=this._intentToUserId.get(e);return await this.refreshAccessTokenForUser(r)}get clientId(){return this._clientId}getCurrentScopesForUser(e){var r;const n=this._userAccessTokens.get(x(e));if(!n)throw new Error("Trying to get scopes for user that was not added to the provider");return(r=n.scope)!==null&&r!==void 0?r:[]}async getAccessTokenForUser(e,...r){const n=x(e),i=this._userTokenFetchers.get(n);if(!i)return null;if(this._cachedRefreshFailures.has(n))throw new m0(n);return await i.fetch(...r)}async getAccessTokenForIntent(e,...r){if(!this._intentToUserId.has(e))return null;const n=this._intentToUserId.get(e),i=await this.getAccessTokenForUser(n,...r);if(!i)throw new _n(`Found intent ${e} corresponding to user ID ${n} but no token was found`);return{...i,userId:n}}async getAnyAccessToken(e){if(e){const r=x(e);if(this._userAccessTokens.has(r)){const n=await this.getAccessTokenForUser(r);if(!n)throw new _n(`Token for user ID ${r} exists but nothing was returned by getAccessTokenForUser`);return{...n,userId:r}}}return await this.getAppAccessToken()}async getAppAccessToken(e=!1){return e&&(this._appAccessToken=void 0),await this._appTokenFetcher.fetch(...this._appImpliedScopes.map(r=>[r]))}_checkIntermediateUserRemoval(e){if(!this._userTokenFetchers.has(e))throw this._cachedRefreshFailures.delete(e),new NO(e)}async _fetchUserToken(e,r){const n=this._userAccessTokens.get(e);if(!n)throw new Error("Trying to get token for user that was not added to the provider");if(n.accessToken&&!Gi(n))try{if(n.scope)return _p(n.scope,r),n;const[s=[]]=await V1(this._clientId,n.accessToken,e,n.scope,r),o={...n,scope:s};return this._checkIntermediateUserRemoval(e),this._userAccessTokens.set(e,o),o}catch(s){if(!(s instanceof Yn))throw s}this._checkIntermediateUserRemoval(e);const i=await this.refreshAccessTokenForUser(e);return _p(i.scope,r),i}async _refreshUserTokenWithCallback(e,r){try{return await f0(this.clientId,this._clientSecret,r)}catch(n){throw this._cachedRefreshFailures.add(e),this.emit(this.onRefreshFailure,e),n}}async _fetchAppToken(e){if(e.length>0)for(const r of e)if(this._appImpliedScopes.length){if(r.every(n=>!this._appImpliedScopes.includes(n)))throw new Error(`One of the scopes ${r.join(", ")} requested but only the scope ${this._appImpliedScopes.join(", ")} is implied`)}else throw new Error(`One of the scopes ${r.join(", ")} requested but the client credentials flow does not support scopes`);return!this._appAccessToken||Gi(this._appAccessToken)?await this._refreshAppToken():this._appAccessToken}async _refreshAppToken(){return this._appAccessToken=await RO(this._clientId,this._clientSecret)}};S([j(!1)],wn.prototype,"_clientSecret",void 0);S([j(!1)],wn.prototype,"_userAccessTokens",void 0);S([j(!1)],wn.prototype,"_userTokenFetchers",void 0);S([j(!1)],wn.prototype,"_appAccessToken",void 0);S([j(!1)],wn.prototype,"_appTokenFetcher",void 0);wn=S([N("auth","RefreshingAuthProvider","clientId")],wn);let Ss=class{constructor(e,r,n){this._clientId=e||"",this._accessToken=typeof r=="string"?{accessToken:r,refreshToken:null,scope:n??[],expiresIn:null,obtainmentTimestamp:Date.now()}:r,this._scopes=n}get clientId(){return this._clientId}async getAccessTokenForUser(e,...r){return await this._getAccessToken(r)}async getAccessTokenForIntent(e,...r){return await this._getAccessToken(r)}async getAnyAccessToken(){return await this._getAccessToken()}getCurrentScopesForUser(){var e;return(e=this._scopes)!==null&&e!==void 0?e:[]}async _getAccessToken(e){const[r,n]=await V1(this._clientId,this._accessToken.accessToken,this._userId,this._scopes,e);return this._scopes=r,this._userId=n,{...this._accessToken,userId:n}}};S([j(!1)],Ss.prototype,"_clientId",void 0);S([j(!1)],Ss.prototype,"_accessToken",void 0);Ss=S([N("auth","StaticAuthProvider","clientId")],Ss);var Q1={};function Ft(t,e){typeof e=="boolean"&&(e={forever:e}),this._originalTimeouts=JSON.parse(JSON.stringify(t)),this._timeouts=t,this._options=e||{},this._maxRetryTime=e&&e.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._timer=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}var BO=Ft;Ft.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts.slice(0)};Ft.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timer&&clearTimeout(this._timer),this._timeouts=[],this._cachedTimeouts=null};Ft.prototype.retry=function(t){if(this._timeout&&clearTimeout(this._timeout),!t)return!1;var e=new Date().getTime();if(t&&e-this._operationStart>=this._maxRetryTime)return this._errors.push(t),this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(t);var r=this._timeouts.shift();if(r===void 0)if(this._cachedTimeouts)this._errors.splice(0,this._errors.length-1),r=this._cachedTimeouts.slice(-1);else return!1;var n=this;return this._timer=setTimeout(function(){n._attempts++,n._operationTimeoutCb&&(n._timeout=setTimeout(function(){n._operationTimeoutCb(n._attempts)},n._operationTimeout),n._options.unref&&n._timeout.unref()),n._fn(n._attempts)},r),this._options.unref&&this._timer.unref(),!0};Ft.prototype.attempt=function(t,e){this._fn=t,e&&(e.timeout&&(this._operationTimeout=e.timeout),e.cb&&(this._operationTimeoutCb=e.cb));var r=this;this._operationTimeoutCb&&(this._timeout=setTimeout(function(){r._operationTimeoutCb()},r._operationTimeout)),this._operationStart=new Date().getTime(),this._fn(this._attempts)};Ft.prototype.try=function(t){console.log("Using RetryOperation.try() is deprecated"),this.attempt(t)};Ft.prototype.start=function(t){console.log("Using RetryOperation.start() is deprecated"),this.attempt(t)};Ft.prototype.start=Ft.prototype.try;Ft.prototype.errors=function(){return this._errors};Ft.prototype.attempts=function(){return this._attempts};Ft.prototype.mainError=function(){if(this._errors.length===0)return null;for(var t={},e=null,r=0,n=0;n<this._errors.length;n++){var i=this._errors[n],s=i.message,o=(t[s]||0)+1;t[s]=o,o>=r&&(e=i,r=o)}return e};(function(t){var e=BO;t.operation=function(r){var n=t.timeouts(r);return new e(n,{forever:r&&(r.forever||r.retries===1/0),unref:r&&r.unref,maxRetryTime:r&&r.maxRetryTime})},t.timeouts=function(r){if(r instanceof Array)return[].concat(r);var n={retries:10,factor:2,minTimeout:1*1e3,maxTimeout:1/0,randomize:!1};for(var i in r)n[i]=r[i];if(n.minTimeout>n.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var s=[],o=0;o<n.retries;o++)s.push(this.createTimeout(o,n));return r&&r.forever&&!s.length&&s.push(this.createTimeout(o,n)),s.sort(function(a,l){return a-l}),s},t.createTimeout=function(r,n){var i=n.randomize?Math.random()+1:1,s=Math.round(i*Math.max(n.minTimeout,1)*Math.pow(n.factor,r));return s=Math.min(s,n.maxTimeout),s},t.wrap=function(r,n,i){if(n instanceof Array&&(i=n,n=null),!i){i=[];for(var s in r)typeof r[s]=="function"&&i.push(s)}for(var o=0;o<i.length;o++){var a=i[o],l=r[a];r[a]=(function(c){var f=t.operation(n),h=Array.prototype.slice.call(arguments,1),v=h.pop();h.push(function(g){f.retry(g)||(g&&(arguments[0]=f.mainError()),v.apply(this,arguments))}),f.attempt(function(){c.apply(r,h)})}).bind(r,l),r[a].options=n}}})(Q1);var UO=Q1;function FO(t={}){const{count:e=10,period:r="all",startDate:n,contextUserId:i}=t;return{count:e.toString(),period:r,started_at:n==null?void 0:n.toISOString(),user_id:i}}class ye{constructor(e){this._client=e}_getUserContextIdWithDefault(e){var r;return(r=this._client._getUserIdFromRequestContext(e))!==null&&r!==void 0?r:e}}S([j(!1)],ye.prototype,"_client",void 0);let au=class extends W{constructor(e,r){super(e),this._client=r}get userId(){return this[d].user_id}get userName(){return this[d].user_login}get userDisplayName(){return this[d].user_name}get rank(){return this[d].rank}get amount(){return this[d].score}async getUser(){return Y(await this._client.users.getUserById(this[d].user_id))}};S([j(!1)],au.prototype,"_client",void 0);au=S([N("api","HelixBitsLeaderboardEntry","userId")],au);let qo=class extends W{constructor(e,r){super(e),this._client=r}get entries(){return this[d].data.map(e=>new au(e,this._client))}get totalCount(){return this[d].total}};S([j(!1)],qo.prototype,"_client",void 0);S([he()],qo.prototype,"entries",null);qo=S([Ma,N("api","HelixBitsLeaderboard")],qo);let wp=class extends W{constructor(e){super(r1(e,r=>r.prefix.toLowerCase()))}getCheermoteDisplayInfo(e,r,n){e=e.toLowerCase();const{background:i,state:s,scale:o}=n,{tiers:a}=this[d][e],l=a.sort((u,c)=>c.min_bits-u.min_bits).find(u=>u.min_bits<=r);if(!l)throw new _n(`Cheermote "${e}" does not have an applicable tier for ${r} bits`);return{url:l.images[i][s][o],color:l.color}}getPossibleNames(){return Object.keys(this[d])}};wp=S([N("api","HelixCheermoteList")],wp);let Sp=class extends ye{async getLeaderboard(e,r={}){const n=await this._client.callApi({type:"helix",url:"bits/leaderboard",userId:x(e),scopes:["bits:read"],query:FO(r)});return new qo(n,this._client)}async getCheermotes(e){const r=await this._client.callApi({type:"helix",url:"bits/cheermotes",userId:fr(e,x),query:fr(e,ue)});return new wp(r.data)}};Sp=S([N("api","HelixBitsApi")],Sp);function LO(t){var e;return{game_id:t.gameId,broadcaster_language:t.language,title:t.title,delay:(e=t.delay)===null||e===void 0?void 0:e.toString(),tags:t.tags,content_classification_labels:t.contentClassificationLabels,is_branded_content:t.isBrandedContent}}function qO(t,e){return{broadcaster_id:x(t),length:e}}function g0(t,e){return{broadcaster_id:x(t),user_id:x(e)}}function jh(t,e){return{broadcaster_id:x(t),user_id:fr(e,x)}}function y0(t,e){return{broadcaster_id:fr(e,x),user_id:x(t)}}function Me(t,e){return{[t]:e}}function v0(t){return{user_id:x(t)}}function K1(t,e){return{broadcaster_id:t,moderator_id:e}}function _c(t,e){return{broadcaster_id:x(t),id:e}}function J1(t,e){return{broadcaster_id:x(t),user_id:e.map(x)}}let Xn=class extends W{constructor(e,r){super(e),this._client=r}get id(){return this[d].user_id}get name(){return this[d].user_login}get displayName(){return this[d].user_name}async getUser(){return Y(await this._client.users.getUserById(this[d].user_id))}};S([j(!1)],Xn.prototype,"_client",void 0);Xn=S([N("api","HelixUserRelation","id")],Xn);class Nt{constructor(e,r,n,i,s,o=100){this._callOptions=e,this._queryParamName=r,this._matchKey=n,this._mapper=s,this._limitPerRequest=o,this._requestedIds=[],this._requestResolversById=new Map,this._waitTimer=null,this._client=i,this._delay=i._batchDelay}async request(e){const{promise:r,resolve:n,reject:i}=Lo();return this._requestedIds.includes(e)||this._requestedIds.push(e),this._requestResolversById.has(e)?this._requestResolversById.get(e).push({resolve:n,reject:i}):this._requestResolversById.set(e,[{resolve:n,reject:i}]),this._waitTimer&&(clearTimeout(this._waitTimer),this._waitTimer=null),this._requestedIds.length>=this._limitPerRequest?this._handleBatch(this._requestedIds.splice(0,this._limitPerRequest)):this._waitTimer=setTimeout(()=>{this._handleBatch(this._requestedIds.splice(0,this._limitPerRequest))},this._delay),await r}async _handleBatch(e){var r;try{const{data:n}=await this._doRequest(e),i=r1(n,this._matchKey);for(const s of e){for(const o of(r=this._requestResolversById.get(s))!==null&&r!==void 0?r:[])Object.prototype.hasOwnProperty.call(i,s)?o.resolve(this._mapper(i[s])):o.resolve(null);this._requestResolversById.delete(s)}}catch{await Promise.all(e.map(async i=>{var s,o;try{const a=await this._doRequest([i]);for(const l of(s=this._requestResolversById.get(i))!==null&&s!==void 0?s:[])l.resolve(a.data.length?this._mapper(a.data[0]):null)}catch(a){for(const l of(o=this._requestResolversById.get(i))!==null&&o!==void 0?o:[])l.reject(a)}this._requestResolversById.delete(i)}))}}async _doRequest(e){return await this._client.callApi({type:"helix",...this._callOptions,query:{...this._callOptions.query,[this._queryParamName]:e}})}}S([j(!1)],Nt.prototype,"_client",void 0);var Hh;Object.prototype.hasOwnProperty.call(Symbol,"asyncIterator")||(Symbol.asyncIterator=(Hh=Symbol.asyncIterator)!==null&&Hh!==void 0?Hh:Symbol.for("Symbol.asyncIterator"));let Ce=class{constructor(e,r,n,i=100){this._callOptions=e,this._mapper=n,this._limitPerPage=i,this._isFinished=!1,this._client=r}get current(){var e;return(e=this._currentData)===null||e===void 0?void 0:e.data}async getNext(){var e;if(this._isFinished)return[];const r=await this._fetchData();return!((e=r.data)===null||e===void 0)&&e.length?this._processResult(r):(this._isFinished=!0,[])}async getAll(){this.reset();const e=[];do{const r=await this.getNext();if(!r.length)break;e.push(...r)}while(this._currentCursor);return this.reset(),e}get currentCursor(){return this._currentCursor}reset(){this._currentCursor=void 0,this._isFinished=!1,this._currentData=void 0}async*[Symbol.asyncIterator](){for(this.reset();;){const e=await this.getNext();if(!e.length)break;yield*e[Symbol.iterator]()}}async _fetchData(e={}){return await this._client.callApi({type:"helix",...this._callOptions,...e,query:{...this._callOptions.query,after:this._currentCursor,first:this._limitPerPage.toString(),...e.query}})}_processResult(e){return this._currentCursor=e.pagination?e.pagination.cursor:void 0,this._currentCursor===void 0&&(this._isFinished=!0),this._currentData=e,e.data.reduce((r,n)=>{const i=this._mapper(n);return Array.isArray(i)?[...r,...i]:[...r,i]},[])}};S([j(!1)],Ce.prototype,"_client",void 0);Ce=S([N("api","HelixPaginatedRequest")],Ce);let ai=class extends Ce{async getTotalCount(){var e;return((e=this._currentData)!==null&&e!==void 0?e:await this._fetchData({query:{after:void 0}})).total}};ai=S([N("api","HelixPaginatedRequestWithTotal")],ai);function De(t,e,r){var n;let i;return{get data(){var s,o;return i??(i=(o=(s=t.data)===null||s===void 0?void 0:s.map(a=>new e(a,r)))!==null&&o!==void 0?o:[])},cursor:(n=t.pagination)===null||n===void 0?void 0:n.cursor}}function sn(t,e,r){let n;return{get data(){var i,s;return n??(n=(s=(i=t.data)===null||i===void 0?void 0:i.map(o=>new e(o,r)))!==null&&s!==void 0?s:[])},cursor:t.pagination.cursor,total:t.total}}function ae({after:t,before:e,limit:r}={}){return{after:t,before:e,first:r==null?void 0:r.toString()}}let Wi=class extends W{constructor(e,r){super(e),this._client=r}get id(){return this[d].broadcaster_id}get name(){return this[d].broadcaster_login}get displayName(){return this[d].broadcaster_name}async getBroadcaster(){return Y(await this._client.users.getUserById(this[d].broadcaster_id))}get language(){return this[d].broadcaster_language}get gameId(){return this[d].game_id}get gameName(){return this[d].game_name}async getGame(){return this[d].game_id?Y(await this._client.games.getGameById(this[d].game_id)):null}get title(){return this[d].title}get delay(){return this[d].delay}get tags(){return this[d].tags}get contentClassificationLabels(){return this[d].content_classification_labels}get isBrandedContent(){return this[d].is_branded_content}};S([j(!1)],Wi.prototype,"_client",void 0);Wi=S([N("api","HelixChannel","id")],Wi);let lu=class extends W{constructor(e,r){super(e),this._client=r}get userId(){return this[d].user_id}get userDisplayName(){return this[d].user_name}async getUser(){return Y(await this._client.users.getUserById(this[d].user_id))}get creationDate(){return new Date(this[d].created_at)}};S([j(!1)],lu.prototype,"_client",void 0);lu=S([N("api","HelixChannelEditor","userId")],lu);let $o=class extends W{constructor(e,r){super(e),this._client=r}get userId(){return this[d].user_id}get userName(){return this[d].user_login}get userDisplayName(){return this[d].user_name}async getUser(){return Y(await this._client.users.getUserById(this[d].user_id))}get followDate(){return new Date(this[d].followed_at)}};S([j(!1)],$o.prototype,"_client",void 0);$o=S([N("api","HelixChannelFollower","userId")],$o);let jo=class extends W{constructor(e,r){super(e),this._client=r}get broadcasterId(){return this[d].broadcaster_id}get broadcasterName(){return this[d].broadcaster_login}get broadcasterDisplayName(){return this[d].broadcaster_name}async getBroadcaster(){return Y(await this._client.users.getUserById(this[d].broadcaster_id))}get followDate(){return new Date(this[d].followed_at)}};S([j(!1)],jo.prototype,"_client",void 0);jo=S([N("api","HelixFollowedChannel","broadcasterId")],jo);let uu=class extends ye{constructor(){super(...arguments),this._getChannelByIdBatcher=new Nt({url:"channels"},"broadcaster_id","broadcaster_id",this._client,e=>new Wi(e,this._client))}async getChannelInfoById(e){const r=x(e),n=await this._client.callApi({type:"helix",url:"channels",userId:r,query:ue(r)});return Ut(n.data[0],i=>new Wi(i,this._client))}async getChannelInfoByIdBatched(e){return await this._getChannelByIdBatcher.request(x(e))}async getChannelInfoByIds(e){const r=e.map(x);return(await this._client.callApi({type:"helix",url:"channels",query:Me("broadcaster_id",r)})).data.map(i=>new Wi(i,this._client))}async updateChannelInfo(e,r){await this._client.callApi({type:"helix",url:"channels",method:"PATCH",userId:x(e),scopes:["channel:manage:broadcast"],query:ue(e),jsonBody:LO(r)})}async startChannelCommercial(e,r){await this._client.callApi({type:"helix",url:"channels/commercial",method:"POST",userId:x(e),scopes:["channel:edit:commercial"],jsonBody:qO(e,r)})}async getChannelEditors(e){return(await this._client.callApi({type:"helix",url:"channels/editors",userId:x(e),scopes:["channel:read:editors"],query:ue(e)})).data.map(n=>new lu(n,this._client))}async getVips(e,r){const n=await this._client.callApi({type:"helix",url:"channels/vips",userId:x(e),scopes:["channel:read:vips","channel:manage:vips"],query:{...ue(e),...ae(r)}});return De(n,Xn,this._client)}getVipsPaginated(e){return new Ce({url:"channels/vips",userId:x(e),scopes:["channel:read:vips","channel:manage:vips"],query:ue(e)},this._client,r=>new Xn(r,this._client))}async checkVipForUsers(e,r){return(await this._client.callApi({type:"helix",url:"channels/vips",userId:x(e),scopes:["channel:read:vips","channel:manage:vips"],query:J1(e,r)})).data.map(i=>new Xn(i,this._client))}async checkVipForUser(e,r){const n=x(r);return(await this.checkVipForUsers(e,[n])).some(s=>s.id===n)}async addVip(e,r){await this._client.callApi({type:"helix",url:"channels/vips",method:"POST",userId:x(e),scopes:["channel:manage:vips"],query:g0(e,r)})}async removeVip(e,r){await this._client.callApi({type:"helix",url:"channels/vips",method:"DELETE",userId:x(e),scopes:["channel:manage:vips"],query:g0(e,r)})}async getChannelFollowerCount(e){return(await this._client.callApi({type:"helix",url:"channels/followers",method:"GET",userId:x(e),query:{...jh(e),...ae({limit:1})}})).total}async getChannelFollowers(e,r,n){const i=await this._client.callApi({type:"helix",url:"channels/followers",method:"GET",userId:x(e),canOverrideScopedUserContext:!0,scopes:["moderator:read:followers"],query:{...jh(e,r),...ae(n)}});return sn(i,$o,this._client)}getChannelFollowersPaginated(e){return new ai({url:"channels/followers",method:"GET",userId:x(e),canOverrideScopedUserContext:!0,scopes:["moderator:read:followers"],query:jh(e)},this._client,r=>new $o(r,this._client))}async getFollowedChannels(e,r,n){const i=await this._client.callApi({type:"helix",url:"channels/followed",method:"GET",userId:x(e),scopes:["user:read:follows"],query:{...y0(e,r),...ae(n)}});return sn(i,jo,this._client)}getFollowedChannelsPaginated(e,r){return new ai({url:"channels/followed",method:"GET",userId:x(e),scopes:["user:read:follows"],query:y0(e,r)},this._client,n=>new jo(n,this._client))}};S([j(!1)],uu.prototype,"_getChannelByIdBatcher",void 0);uu=S([N("api","HelixChannelApi")],uu);function $O(t,e){return{broadcaster_id:x(t),only_manageable_rewards:e==null?void 0:e.toString()}}function _0(t,e){return{broadcaster_id:x(t),id:e}}function w0(t){var e,r,n;const i={title:t.title,cost:t.cost,prompt:t.prompt,background_color:t.backgroundColor,is_enabled:t.isEnabled,is_user_input_required:t.userInputRequired,should_redemptions_skip_request_queue:t.autoFulfill};return t.maxRedemptionsPerStream!==void 0&&(i.is_max_per_stream_enabled=!!t.maxRedemptionsPerStream,i.max_per_stream=(e=t.maxRedemptionsPerStream)!==null&&e!==void 0?e:0),t.maxRedemptionsPerUserPerStream!==void 0&&(i.is_max_per_user_per_stream_enabled=!!t.maxRedemptionsPerUserPerStream,i.max_per_user_per_stream=(r=t.maxRedemptionsPerUserPerStream)!==null&&r!==void 0?r:0),t.globalCooldown!==void 0&&(i.is_global_cooldown_enabled=!!t.globalCooldown,i.global_cooldown_seconds=(n=t.globalCooldown)!==null&&n!==void 0?n:0),"isPaused"in t&&(i.is_paused=t.isPaused),i}function S0(t,e,r){return{broadcaster_id:x(t),reward_id:e,id:r}}function x0(t,e,r,n){return{broadcaster_id:x(t),reward_id:e,status:r,sort:n.newestFirst?"NEWEST":"OLDEST"}}let Nn=class extends W{constructor(e,r){super(e),this._client=r}get id(){return this[d].id}get broadcasterId(){return this[d].broadcaster_id}get broadcasterName(){return this[d].broadcaster_login}get broadcasterDisplayName(){return this[d].broadcaster_name}async getBroadcaster(){return Y(await this._client.users.getUserById(this[d].broadcaster_id))}getImageUrl(e){var r,n;const i=`url_${e}x`;return(n=(r=this[d].image)===null||r===void 0?void 0:r[i])!==null&&n!==void 0?n:this[d].default_image[i]}get backgroundColor(){return this[d].background_color}get isEnabled(){return this[d].is_enabled}get cost(){return this[d].cost}get title(){return this[d].title}get prompt(){return this[d].prompt}get userInputRequired(){return this[d].is_user_input_required}get maxRedemptionsPerStream(){return this[d].max_per_stream_setting.is_enabled?this[d].max_per_stream_setting.max_per_stream:null}get maxRedemptionsPerUserPerStream(){return this[d].max_per_user_per_stream_setting.is_enabled?this[d].max_per_user_per_stream_setting.max_per_user_per_stream:null}get globalCooldown(){return this[d].global_cooldown_setting.is_enabled?this[d].global_cooldown_setting.global_cooldown_seconds:null}get isPaused(){return this[d].is_paused}get isInStock(){return this[d].is_in_stock}get redemptionsThisStream(){return this[d].redemptions_redeemed_current_stream}get autoFulfill(){return this[d].should_redemptions_skip_request_queue}get cooldownExpiryDate(){return this[d].cooldown_expires_at?new Date(this[d].cooldown_expires_at):null}};S([j(!1)],Nn.prototype,"_client",void 0);Nn=S([N("api","HelixCustomReward","id")],Nn);let Dn=class extends W{constructor(e,r){super(e),this._client=r}get id(){return this[d].id}get broadcasterId(){return this[d].broadcaster_id}get broadcasterName(){return this[d].broadcaster_login}get broadcasterDisplayName(){return this[d].broadcaster_name}async getBroadcaster(){return Y(await this._client.users.getUserById(this[d].broadcaster_id))}get userId(){return this[d].user_id}get userName(){return this[d].user_login}get userDisplayName(){return this[d].user_name}async getUser(){return Y(await this._client.users.getUserById(this[d].user_id))}get userInput(){return this[d].user_input}get isFulfilled(){return this[d].status==="FULFILLED"}get isCanceled(){return this[d].status==="CANCELED"}get redemptionDate(){return new Date(this[d].redeemed_at)}get rewardId(){return this[d].reward.id}get rewardTitle(){return this[d].reward.title}get rewardPrompt(){return this[d].reward.prompt}get rewardCost(){return this[d].reward.cost}async getReward(){return Y(await this._client.channelPoints.getCustomRewardById(this[d].broadcaster_id,this[d].reward.id))}async updateStatus(e){return(await this._client.channelPoints.updateRedemptionStatusByIds(this[d].broadcaster_id,this[d].reward.id,[this[d].id],e))[0]}};S([j(!1)],Dn.prototype,"_client",void 0);Dn=S([N("api","HelixCustomRewardRedemption","id")],Dn);let xp=class extends ye{async getCustomRewards(e,r){return(await this._client.callApi({type:"helix",url:"channel_points/custom_rewards",userId:x(e),scopes:["channel:read:redemptions","channel:manage:redemptions"],query:$O(e,r)})).data.map(i=>new Nn(i,this._client))}async getCustomRewardsByIds(e,r){return r.length?(await this._client.callApi({type:"helix",url:"channel_points/custom_rewards",userId:x(e),scopes:["channel:read:redemptions","channel:manage:redemptions"],query:_c(e,r)})).data.map(i=>new Nn(i,this._client)):[]}async getCustomRewardById(e,r){const n=await this.getCustomRewardsByIds(e,[r]);return n.length?n[0]:null}async createCustomReward(e,r){const n=await this._client.callApi({type:"helix",url:"channel_points/custom_rewards",method:"POST",userId:x(e),scopes:["channel:manage:redemptions"],query:ue(e),jsonBody:w0(r)});return new Nn(n.data[0],this._client)}async updateCustomReward(e,r,n){const i=await this._client.callApi({type:"helix",url:"channel_points/custom_rewards",method:"PATCH",userId:x(e),scopes:["channel:manage:redemptions"],query:_0(e,r),jsonBody:w0(n)});return new Nn(i.data[0],this._client)}async deleteCustomReward(e,r){await this._client.callApi({type:"helix",url:"channel_points/custom_rewards",method:"DELETE",userId:x(e),scopes:["channel:manage:redemptions"],query:_0(e,r)})}async getRedemptionsByIds(e,r,n){return n.length?(await this._client.callApi({type:"helix",url:"channel_points/custom_rewards/redemptions",userId:x(e),scopes:["channel:read:redemptions","channel:manage:redemptions"],query:S0(e,r,n)})).data.map(s=>new Dn(s,this._client)):[]}async getRedemptionById(e,r,n){const i=await this.getRedemptionsByIds(e,r,[n]);return i.length?i[0]:null}async getRedemptionsForBroadcaster(e,r,n,i){const s=await this._client.callApi({type:"helix",url:"channel_points/custom_rewards/redemptions",userId:x(e),scopes:["channel:read:redemptions","channel:manage:redemptions"],query:{...x0(e,r,n,i),...ae(i)}});return De(s,Dn,this._client)}getRedemptionsForBroadcasterPaginated(e,r,n,i){return new Ce({url:"channel_points/custom_rewards/redemptions",userId:x(e),scopes:["channel:read:redemptions","channel:manage:redemptions"],query:x0(e,r,n,i)},this._client,s=>new Dn(s,this._client),50)}async updateRedemptionStatusByIds(e,r,n,i){return n.length?(await this._client.callApi({type:"helix",url:"channel_points/custom_rewards/redemptions",method:"PATCH",userId:x(e),scopes:["channel:manage:redemptions"],query:S0(e,r,n),jsonBody:{status:i}})).data.map(o=>new Dn(o,this._client)):[]}};xp=S([N("api","HelixChannelPointsApi")],xp);let Ho=class extends W{get value(){return this[d].value}get decimalPlaces(){return this[d].decimal_places}get localizedValue(){return this.value/10**this.decimalPlaces}get currency(){return this[d].currency}};Ho=S([N("api","HelixCharityCampaignAmount")],Ho);let cu=class extends W{constructor(e,r){super(e),this._client=r}get id(){return this[d].id}get broadcasterId(){return this[d].broadcaster_id}get broadcasterName(){return this[d].broadcaster_login}get broadcasterDisplayName(){return this[d].broadcaster_name}async getBroadcaster(){return Y(await this._client.users.getUserById(this[d].broadcaster_id))}get charityName(){return this[d].charity_name}get charityDescription(){return this[d].charity_description}get charityLogo(){return this[d].charity_logo}get charityWebsite(){return this[d].charity_website}get currentAmount(){return new Ho(this[d].current_amount)}get targetAmount(){return new Ho(this[d].target_amount)}};S([j(!1)],cu.prototype,"_client",void 0);cu=S([N("api","HelixCharityCampaign","id")],cu);let du=class extends W{constructor(e,r){super(e),this._client=r}get campaignId(){return this[d].campaign_id}get donorId(){return this[d].user_id}get donorName(){return this[d].user_login}get donorDisplayName(){return this[d].user_name}async getDonor(){return Y(await this._client.users.getUserById(this[d].user_id))}get amount(){return new Ho(this[d].amount)}};S([j(!1)],du.prototype,"_client",void 0);du=S([N("api","HelixCharityCampaignDonation")],du);let Cp=class extends ye{async getCharityCampaign(e){const r=await this._client.callApi({type:"helix",url:"charity/campaigns",method:"GET",userId:x(e),scopes:["channel:read:charity"],query:ue(e)});return new cu(r.data[0],this._client)}async getCharityCampaignDonations(e,r){const n=await this._client.callApi({type:"helix",url:"charity/donations",userId:x(e),scopes:["channel:read:charity"],query:{...ue(e),...ae(r)}});return De(n,du,this._client)}};Cp=S([N("api","HelixCharityApi")],Cp);function jO(t){return{slow_mode:t.slowModeEnabled,slow_mode_wait_time:t.slowModeDelay,follower_mode:t.followerOnlyModeEnabled,follower_mode_duration:t.followerOnlyModeDelay,subscriber_mode:t.subscriberOnlyModeEnabled,emote_mode:t.emoteOnlyModeEnabled,unique_chat_mode:t.uniqueChatModeEnabled,non_moderator_chat_delay:t.nonModeratorChatDelayEnabled,non_moderator_chat_delay_duration:t.nonModeratorChatDelay}}function HO(t,e){return{user_id:x(t),color:e}}function zO(t,e,r){return{from_broadcaster_id:x(t),to_broadcaster_id:x(e),moderator_id:r}}let zo=class extends W{get id(){return this[d].id}get name(){return this[d].name}get formats(){return this[d].format}get scales(){return this[d].scale}get themeModes(){return this[d].theme_mode}getImageUrl(e){return this[d].images[`url_${e}x`]}getStaticImageUrl(e="1.0",r="light"){return this[d].format.includes("static")&&this[d].scale.includes(e)?this.getFormattedImageUrl(e,"static",r):null}getAnimatedImageUrl(e="1.0",r="light"){return this[d].format.includes("animated")&&this[d].scale.includes(e)?this.getFormattedImageUrl(e,"animated",r):null}getFormattedImageUrl(e="1.0",r="static",n="light"){return`https://static-cdn.jtvnw.net/emoticons/v2/${this[d].id}/${r}/${n}/${e}`}};zo=S([N("api","HelixEmote","id")],zo);let hu=class extends zo{constructor(e,r){super(e),this._client=r}get tier(){return this[d].tier||null}get type(){return this[d].emote_type}get emoteSetId(){return this[d].emote_set_id}async getAllEmotesFromSet(){return await this._client.chat.getEmotesFromSets([this[d].emote_set_id])}};S([j(!1)],hu.prototype,"_client",void 0);hu=S([N("api","HelixChannelEmote","id")],hu);let bp=class extends W{get id(){return this[d].id}getImageUrl(e){return this[d][`image_url_${e}x`]}get title(){return this[d].title}get description(){return this[d].description}get clickAction(){return this[d].click_action}get clickUrl(){return this[d].click_url}};bp=S([N("api","HelixChatBadgeVersion","id")],bp);let Go=class extends W{get id(){return this[d].set_id}get versions(){return this[d].versions.map(e=>new bp(e))}getVersion(e){var r;return(r=this.versions.find(n=>n.id===e))!==null&&r!==void 0?r:null}};S([he()],Go.prototype,"versions",null);Go=S([Ma,N("api","HelixChatBadgeSet","id")],Go);let Wo=class extends W{constructor(e,r){super(e),this._client=r}get userId(){return this[d].user_id}get userName(){return this[d].user_login}get userDisplayName(){return this[d].user_name}async getUser(){return Y(await this._client.users.getUserById(this[d].user_id))}};S([j(!1)],Wo.prototype,"_client",void 0);Wo=S([N("api","HelixChatChatter")],Wo);let fu=class extends W{get broadcasterId(){return this[d].broadcaster_id}get slowModeEnabled(){return this[d].slow_mode}get slowModeDelay(){return this[d].slow_mode_wait_time}get followerOnlyModeEnabled(){return this[d].follower_mode}get followerOnlyModeDelay(){return this[d].follower_mode_duration}get subscriberOnlyModeEnabled(){return this[d].subscriber_mode}get emoteOnlyModeEnabled(){return this[d].emote_mode}get uniqueChatModeEnabled(){return this[d].unique_chat_mode}};fu=S([N("api","HelixChatSettings","broadcasterId")],fu);let pu=class extends zo{constructor(e,r){super(e),this._client=r}get type(){return this[d].emote_type}get emoteSetId(){return this[d].emote_set_id}get ownerId(){switch(this[d].owner_id){case"0":case"twitch":return null;default:return this[d].owner_id}}async getOwner(){switch(this[d].owner_id){case"0":case"twitch":return null;default:return await this._client.users.getUserById(this[d].owner_id)}}};S([j(!1)],pu.prototype,"_client",void 0);pu=S([N("api","HelixEmoteFromSet","id")],pu);let mu=class extends fu{get nonModeratorChatDelayEnabled(){return this[d].non_moderator_chat_delay}get nonModeratorChatDelay(){return this[d].non_moderator_chat_delay_duration}};mu=S([N("api","HelixPrivilegedChatSettings","broadcasterId")],mu);let Ep=class extends ye{async getChatters(e,r){const n=x(e),i=await this._client.callApi({type:"helix",url:"chat/chatters",userId:n,canOverrideScopedUserContext:!0,scopes:["moderator:read:chatters"],query:{...this._createModeratorActionQuery(n),...ae(r)}});return sn(i,Wo,this._client)}getChattersPaginated(e){const r=x(e);return new ai({url:"chat/chatters",userId:r,canOverrideScopedUserContext:!0,scopes:["moderator:read:chatters"],query:this._createModeratorActionQuery(r)},this._client,n=>new Wo(n,this._client))}async getGlobalBadges(){return(await this._client.callApi({type:"helix",url:"chat/badges/global"})).data.map(r=>new Go(r))}async getChannelBadges(e){return(await this._client.callApi({type:"helix",url:"chat/badges",userId:x(e),query:ue(e)})).data.map(n=>new Go(n))}async getGlobalEmotes(){return(await this._client.callApi({type:"helix",url:"chat/emotes/global"})).data.map(r=>new zo(r))}async getChannelEmotes(e){return(await this._client.callApi({type:"helix",url:"chat/emotes",userId:x(e),query:ue(e)})).data.map(n=>new hu(n,this._client))}async getEmotesFromSets(e){return(await this._client.callApi({type:"helix",url:"chat/emotes/set",query:Me("emote_set_id",e)})).data.map(n=>new pu(n,this._client))}async getSettings(e){const r=await this._client.callApi({type:"helix",url:"chat/settings",userId:x(e),query:ue(e)});return new fu(r.data[0])}async getSettingsPrivileged(e){const r=x(e),n=await this._client.callApi({type:"helix",url:"chat/settings",userId:r,canOverrideScopedUserContext:!0,scopes:["moderator:read:chat_settings"],query:this._createModeratorActionQuery(r)});return new mu(n.data[0])}async updateSettings(e,r){const n=x(e),i=await this._client.callApi({type:"helix",url:"chat/settings",method:"PATCH",userId:n,canOverrideScopedUserContext:!0,scopes:["moderator:manage:chat_settings"],query:this._createModeratorActionQuery(n),jsonBody:jO(r)});return new mu(i.data[0])}async sendAnnouncement(e,r){const n=x(e);await this._client.callApi({type:"helix",url:"chat/announcements",method:"POST",userId:n,canOverrideScopedUserContext:!0,scopes:["moderator:manage:announcements"],query:this._createModeratorActionQuery(n),jsonBody:{message:r.message,color:r.color}})}async getColorsForUsers(e){const r=await this._client.callApi({type:"helix",url:"chat/color",query:Me("user_id",e.map(x))});return new Map(r.data.map(n=>[n.user_id,n.color||null]))}async getColorForUser(e){const r=await this._client.callApi({type:"helix",url:"chat/color",userId:x(e),query:Me("user_id",x(e))});if(r.data.length)return r.data[0].color||null}async setColorForUser(e,r){await this._client.callApi({type:"helix",url:"chat/color",method:"PUT",userId:x(e),scopes:["user:manage:chat_color"],query:HO(e,r)})}async shoutoutUser(e,r){const n=x(e);await this._client.callApi({type:"helix",url:"chat/shoutouts",method:"POST",userId:n,canOverrideScopedUserContext:!0,scopes:["moderator:manage:shoutouts"],query:zO(e,r,this._getUserContextIdWithDefault(n))})}_createModeratorActionQuery(e){return K1(e,this._getUserContextIdWithDefault(e))}};Ep=S([N("api","HelixChatApi")],Ep);function GO(t,e){return{broadcaster_id:x(t),has_delay:e.toString()}}function C0(t){const{filterType:e,ids:r,startDate:n,endDate:i,isFeatured:s}=t;return{[e]:r,started_at:n,ended_at:i,is_featured:s==null?void 0:s.toString()}}let Vi=class extends W{constructor(e,r){super(e),this._client=r}get id(){return this[d].id}get url(){return this[d].url}get embedUrl(){return this[d].embed_url}get broadcasterId(){return this[d].broadcaster_id}get broadcasterDisplayName(){return this[d].broadcaster_name}async getBroadcaster(){return Y(await this._client.users.getUserById(this[d].broadcaster_id))}get creatorId(){return this[d].creator_id}get creatorDisplayName(){return this[d].creator_name}async getCreator(){return Y(await this._client.users.getUserById(this[d].creator_id))}get videoId(){return this[d].video_id}async getVideo(){return Y(await this._client.videos.getVideoById(this[d].video_id))}get gameId(){return this[d].game_id}async getGame(){return this[d].game_id?Y(await this._client.games.getGameById(this[d].game_id)):null}get language(){return this[d].language}get title(){return this[d].title}get views(){return this[d].view_count}get creationDate(){return new Date(this[d].created_at)}get thumbnailUrl(){return this[d].thumbnail_url}get duration(){return this[d].duration}get vodOffset(){return this[d].vod_offset}get isFeatured(){return this[d].is_featured}};S([j(!1)],Vi.prototype,"_client",void 0);Vi=S([N("api","HelixClip","id")],Vi);let gu=class extends ye{constructor(){super(...arguments),this._getClipByIdBatcher=new Nt({url:"clips"},"id","id",this._client,e=>new Vi(e,this._client))}async getClipsForBroadcaster(e,r={}){return await this._getClips({...r,filterType:"broadcaster_id",ids:x(e),userId:x(e)})}getClipsForBroadcasterPaginated(e,r={}){return this._getClipsPaginated({...r,filterType:"broadcaster_id",ids:x(e),userId:x(e)})}async getClipsForGame(e,r={}){return await this._getClips({...r,filterType:"game_id",ids:e})}getClipsForGamePaginated(e,r={}){return this._getClipsPaginated({...r,filterType:"game_id",ids:e})}async getClipsByIds(e){return(await this._getClips({filterType:"id",ids:e})).data}async getClipById(e){const r=await this.getClipsByIds([e]);return r.length?r[0]:null}async getClipByIdBatched(e){return await this._getClipByIdBatcher.request(e)}async createClip(e){const{channel:r,createAfterDelay:n=!1}=e;return(await this._client.callApi({type:"helix",url:"clips",method:"POST",userId:x(r),scopes:["clips:edit"],canOverrideScopedUserContext:!0,query:GO(r,n)})).data[0].id}async _getClips(e){if(!e.ids.length)return{data:[]};const r=await this._client.callApi({type:"helix",url:"clips",userId:e.userId,query:{...C0(e),...ae(e)}});return De(r,Vi,this._client)}_getClipsPaginated(e){return new Ce({url:"clips",userId:e.userId,query:C0(e)},this._client,r=>new Vi(r,this._client))}};S([j(!1)],gu.prototype,"_getClipByIdBatcher",void 0);gu=S([N("api","HelixClipApi")],gu);class WO extends W{get id(){return this[d].id}get name(){return this[d].name}get description(){return this[d].description}}let Tp=class extends ye{async getAll(e){return(await this._client.callApi({url:"content_classification_labels",query:{locale:e}})).data.map(n=>new WO(n))}};Tp=S([N("api","HelixContentClassificationLabelApi")],Tp);function b0(t,e){return{user_id:e?fr(t.user,x):void 0,game_id:t.gameId,fulfillment_status:t.fulfillmentStatus}}function VO(t,e){return{fulfillment_status:e,entitlement_ids:t}}let Bn=class extends W{constructor(e,r){super(e),this._client=r}get id(){return this[d].id}get rewardId(){return this[d].benefit_id}get grantDate(){return new Date(this[d].timestamp)}get userId(){return this[d].user_id}async getUser(){return Y(await this._client.users.getUserById(this[d].user_id))}get gameId(){return this[d].game_id}async getGame(){return Y(await this._client.games.getGameById(this[d].game_id))}get fulfillmentStatus(){return this[d].fulfillment_status}get updateDate(){return new Date(this[d].last_updated)}};S([j(!1)],Bn.prototype,"_client",void 0);Bn=S([N("api","HelixDropsEntitlement")],Bn);let yu=class extends ye{constructor(){super(...arguments),this._getDropsEntitlementByIdBatcher=new Nt({url:"entitlements/drops"},"id","id",this._client,e=>new Bn(e,this._client))}async getDropsEntitlements(e,r=!1){const n=await this._client.callApi({type:"helix",url:"entitlements/drops",userId:fr(e.user,x),forceType:e.user&&r?"app":void 0,query:{...b0(e,r),...ae(e)}});return De(n,Bn,this._client)}getDropsEntitlementsPaginated(e,r=!1){return new Ce({url:"entitlements/drops",userId:fr(e.user,x),forceType:e.user&&r?"app":void 0,query:b0(e,r)},this._client,n=>new Bn(n,this._client))}async getDropsEntitlementsByIds(e){return(await this._client.callApi({type:"helix",url:"entitlements/drops",query:{id:e}})).data.map(n=>new Bn(n,this._client))}async getDropsEntitlementById(e){var r;return(r=(await this.getDropsEntitlementsByIds([e]))[0])!==null&&r!==void 0?r:null}async getDropsEntitlementByIdBatched(e){return await this._getDropsEntitlementByIdBatcher.request(e)}async updateDropsEntitlements(e,r){const n=await this._client.callApi({type:"helix",url:"entitlements/drops",method:"PATCH",jsonBody:VO(e,r)});return new Map(n.data.flatMap(i=>i.ids.map(s=>[s,i.status])))}};S([j(!1)],yu.prototype,"_getDropsEntitlementByIdBatcher",void 0);yu=S([N("api","HelixEntitlementApi")],yu);function ie(t){return{broadcaster_user_id:x(t)}}function sl(t,e){return{broadcaster_user_id:x(t),reward_id:e}}function Vs(t,e){return{broadcaster_user_id:t,moderator_user_id:e}}function QO(t){return{organization_id:t.organizationId,category_id:t.categoryId,campaign_id:t.campaignId}}let _r=class extends W{constructor(e,r){super(e),this._client=r}get id(){return this[d].id}get status(){return this[d].status}get type(){return this[d].type}get cost(){return this[d].cost}get condition(){return this[d].condition}get creationDate(){return new Date(this[d].created_at)}async unsubscribe(){await this._client.eventSub.deleteSubscription(this[d].id)}get _transport(){return this[d].transport}set _status(e){this[d].status=e}};S([j(!1)],_r.prototype,"_client",void 0);_r=S([N("api","HelixEventSubSubscription","id")],_r);let Bi=class extends ai{constructor(e,r,n){super({url:"eventsub/subscriptions",userId:r,query:e},n,i=>new _r(i,n))}async getTotalCost(){var e;return((e=this._currentData)!==null&&e!==void 0?e:await this._fetchData({query:{after:void 0}})).total_cost}async getMaxTotalCost(){var e;return((e=this._currentData)!==null&&e!==void 0?e:await this._fetchData({query:{after:void 0}})).max_total_cost}};Bi=S([N("api","HelixPaginatedEventSubSubscriptionsRequest")],Bi);let Ip=class extends ye{async getSubscriptions(e){const r=await this._client.callApi({type:"helix",url:"eventsub/subscriptions",query:ae(e)});return{...sn(r,_r,this._client),totalCost:r.total_cost,maxTotalCost:r.max_total_cost}}getSubscriptionsPaginated(){return new Bi({},void 0,this._client)}async getSubscriptionsForStatus(e,r){const n=await this._client.callApi({type:"helix",url:"eventsub/subscriptions",query:{...ae(r),status:e}});return{...sn(n,_r,this._client),totalCost:n.total_cost,maxTotalCost:n.max_total_cost}}getSubscriptionsForStatusPaginated(e){return new Bi({status:e},void 0,this._client)}async getSubscriptionsForType(e,r){const n=await this._client.callApi({type:"helix",url:"eventsub/subscriptions",query:{...ae(r),type:e}});return{...sn(n,_r,this._client),totalCost:n.total_cost,maxTotalCost:n.max_total_cost}}getSubscriptionsForTypePaginated(e){return new Bi({type:e},void 0,this._client)}async getSubscriptionsForUser(e,r){const n=await this._client.callApi({type:"helix",url:"eventsub/subscriptions",userId:x(e),query:{...Me("user_id",x(e)),...ae(r)}});return{...sn(n,_r,this._client),totalCost:n.total_cost,maxTotalCost:n.max_total_cost}}getSubscriptionsForUserPaginated(e){const r=x(e);return new Bi(Me("user_id",r),r,this._client)}async createSubscription(e,r,n,i,s,o,a,l){const u=i.method==="webhook",c=u?void 0:o;if(!u&&!s)throw new Error(`Transport ${i.method} can only handle subscriptions with user context`);const f={type:e,version:r,condition:n,transport:i};l&&(f.is_batching_enabled=!0);const h=await this._client.callApi({type:"helix",url:"eventsub/subscriptions",method:"POST",scopes:c,userId:fr(s,x),forceType:u?"app":"user",jsonBody:f});return new _r(h.data[0],this._client)}async deleteSubscription(e){await this._client.callApi({type:"helix",url:"eventsub/subscriptions",method:"DELETE",query:{id:e}})}async deleteAllSubscriptions(){await this._deleteSubscriptionsWithCondition()}async deleteBrokenSubscriptions(){await this._deleteSubscriptionsWithCondition(e=>e.status!=="enabled"&&e.status!=="webhook_callback_verification_pending")}async subscribeToStreamOnlineEvents(e,r){return await this.createSubscription("stream.online","1",ie(e),r,e)}async subscribeToStreamOfflineEvents(e,r){return await this.createSubscription("stream.offline","1",ie(e),r,e)}async subscribeToChannelUpdateEvents(e,r){return await this.createSubscription("channel.update","1",ie(e),r,e)}async subscribeToChannelFollowEvents(e,r){const n=x(e);return await this.createSubscription("channel.follow","2",Vs(n,this._getUserContextIdWithDefault(n)),r,n,["moderator:read:followers"],!0)}async subscribeToChannelSubscriptionEvents(e,r){return await this.createSubscription("channel.subscribe","1",ie(e),r,e,["channel:read:subscriptions"])}async subscribeToChannelSubscriptionGiftEvents(e,r){return await this.createSubscription("channel.subscription.gift","1",ie(e),r,e,["channel:read:subscriptions"])}async subscribeToChannelSubscriptionMessageEvents(e,r){return await this.createSubscription("channel.subscription.message","1",ie(e),r,e,["channel:read:subscriptions"])}async subscribeToChannelSubscriptionEndEvents(e,r){return await this.createSubscription("channel.subscription.end","1",ie(e),r,e,["channel:read:subscriptions"])}async subscribeToChannelCheerEvents(e,r){return await this.createSubscription("channel.cheer","1",ie(e),r,e,["bits:read"])}async subscribeToChannelCharityCampaignStartEvents(e,r){return await this.createSubscription("channel.charity_campaign.start","1",ie(e),r,e,["channel:read:charity"])}async subscribeToChannelCharityCampaignStopEvents(e,r){return await this.createSubscription("channel.charity_campaign.stop","1",ie(e),r,e,["channel:read:charity"])}async subscribeToChannelCharityDonationEvents(e,r){return await this.createSubscription("channel.charity_campaign.donate","1",ie(e),r,e,["channel:read:charity"])}async subscribeToChannelCharityCampaignProgressEvents(e,r){return await this.createSubscription("channel.charity_campaign.progress","1",ie(e),r,e,["channel:read:charity"])}async subscribeToChannelBanEvents(e,r){return await this.createSubscription("channel.ban","1",ie(e),r,e,["channel:moderate"])}async subscribeToChannelUnbanEvents(e,r){return await this.createSubscription("channel.unban","1",ie(e),r,e,["channel:moderate"])}async subscribeToChannelShieldModeBeginEvents(e,r){const n=x(e);return await this.createSubscription("channel.shield_mode.begin","1",Vs(n,this._getUserContextIdWithDefault(n)),r,n,["moderator:read:shield_mode","moderator:manage:shield_mode"],!0)}async subscribeToChannelShieldModeEndEvents(e,r){const n=x(e);return await this.createSubscription("channel.shield_mode.end","1",Vs(n,this._getUserContextIdWithDefault(n)),r,n,["moderator:read:shield_mode","moderator:manage:shield_mode"],!0)}async subscribeToChannelModeratorAddEvents(e,r){return await this.createSubscription("channel.moderator.add","1",ie(e),r,e,["moderation:read"])}async subscribeToChannelModeratorRemoveEvents(e,r){return await this.createSubscription("channel.moderator.remove","1",ie(e),r,e,["moderation:read"])}async subscribeToChannelRaidEventsFrom(e,r){return await this.createSubscription("channel.raid","1",Me("from_broadcaster_user_id",x(e)),r,e)}async subscribeToChannelRaidEventsTo(e,r){return await this.createSubscription("channel.raid","1",Me("to_broadcaster_user_id",x(e)),r,e)}async subscribeToChannelRewardAddEvents(e,r){return await this.createSubscription("channel.channel_points_custom_reward.add","1",ie(e),r,e,["channel:read:redemptions","channel:manage:redemptions"])}async subscribeToChannelRewardUpdateEvents(e,r){return await this.createSubscription("channel.channel_points_custom_reward.update","1",ie(e),r,e,["channel:read:redemptions","channel:manage:redemptions"])}async subscribeToChannelRewardUpdateEventsForReward(e,r,n){return await this.createSubscription("channel.channel_points_custom_reward.update","1",sl(e,r),n,e,["channel:read:redemptions","channel:manage:redemptions"])}async subscribeToChannelRewardRemoveEvents(e,r){return await this.createSubscription("channel.channel_points_custom_reward.remove","1",ie(e),r,e,["channel:read:redemptions","channel:manage:redemptions"])}async subscribeToChannelRewardRemoveEventsForReward(e,r,n){return await this.createSubscription("channel.channel_points_custom_reward.remove","1",sl(e,r),n,e,["channel:read:redemptions","channel:manage:redemptions"])}async subscribeToChannelRedemptionAddEvents(e,r){return await this.createSubscription("channel.channel_points_custom_reward_redemption.add","1",ie(e),r,e,["channel:read:redemptions","channel:manage:redemptions"])}async subscribeToChannelRedemptionAddEventsForReward(e,r,n){return await this.createSubscription("channel.channel_points_custom_reward_redemption.add","1",sl(e,r),n,e,["channel:read:redemptions","channel:manage:redemptions"])}async subscribeToChannelRedemptionUpdateEvents(e,r){return await this.createSubscription("channel.channel_points_custom_reward_redemption.update","1",ie(e),r,e,["channel:read:redemptions","channel:manage:redemptions"])}async subscribeToChannelRedemptionUpdateEventsForReward(e,r,n){return await this.createSubscription("channel.channel_points_custom_reward_redemption.update","1",sl(e,r),n,e,["channel:read:redemptions","channel:manage:redemptions"])}async subscribeToChannelPollBeginEvents(e,r){return await this.createSubscription("channel.poll.begin","1",ie(e),r,e,["channel:read:polls","channel:manage:polls"])}async subscribeToChannelPollProgressEvents(e,r){return await this.createSubscription("channel.poll.progress","1",ie(e),r,e,["channel:read:polls","channel:manage:polls"])}async subscribeToChannelPollEndEvents(e,r){return await this.createSubscription("channel.poll.end","1",ie(e),r,e,["channel:read:polls","channel:manage:polls"])}async subscribeToChannelPredictionBeginEvents(e,r){return await this.createSubscription("channel.prediction.begin","1",ie(e),r,e,["channel:read:predictions","channel:manage:predictions"])}async subscribeToChannelPredictionProgressEvents(e,r){return await this.createSubscription("channel.prediction.progress","1",ie(e),r,e,["channel:read:predictions","channel:manage:predictions"])}async subscribeToChannelPredictionLockEvents(e,r){return await this.createSubscription("channel.prediction.lock","1",ie(e),r,e,["channel:read:predictions","channel:manage:predictions"])}async subscribeToChannelPredictionEndEvents(e,r){return await this.createSubscription("channel.prediction.end","1",ie(e),r,e,["channel:read:predictions","channel:manage:predictions"])}async subscribeToChannelGoalBeginEvents(e,r){return await this.createSubscription("channel.goal.begin","1",ie(e),r,e,["channel:read:goals"])}async subscribeToChannelGoalProgressEvents(e,r){return await this.createSubscription("channel.goal.progress","1",ie(e),r,e,["channel:read:goals"])}async subscribeToChannelGoalEndEvents(e,r){return await this.createSubscription("channel.goal.end","1",ie(e),r,e,["channel:read:goals"])}async subscribeToChannelHypeTrainBeginEvents(e,r){return await this.createSubscription("channel.hype_train.begin","1",ie(e),r,e,["channel:read:hype_train"])}async subscribeToChannelHypeTrainProgressEvents(e,r){return await this.createSubscription("channel.hype_train.progress","1",ie(e),r,e,["channel:read:hype_train"])}async subscribeToChannelHypeTrainEndEvents(e,r){return await this.createSubscription("channel.hype_train.end","1",ie(e),r,e,["channel:read:hype_train"])}async subscribeToChannelShoutoutCreateEvents(e,r){const n=x(e);return await this.createSubscription("channel.shoutout.create","1",Vs(n,this._getUserContextIdWithDefault(n)),r,n,["moderator:read:shoutouts","moderator:manage:shoutouts"],!0)}async subscribeToChannelShoutoutReceiveEvents(e,r){const n=x(e);return await this.createSubscription("channel.shoutout.receive","1",Vs(n,this._getUserContextIdWithDefault(n)),r,n,["moderator:read:shoutouts","moderator:manage:shoutouts"],!0)}async subscribeToExtensionBitsTransactionCreateEvents(e,r){return await this.createSubscription("extension.bits_transaction.create","1",Me("extension_client_id",e),r)}async subscribeToUserAuthorizationGrantEvents(e,r){return await this.createSubscription("user.authorization.grant","1",Me("client_id",e),r)}async subscribeToUserAuthorizationRevokeEvents(e,r){return await this.createSubscription("user.authorization.revoke","1",Me("client_id",e),r)}async subscribeToUserUpdateEvents(e,r,n){return await this.createSubscription("user.update","1",Me("user_id",x(e)),r,e,n?["user:read:email"]:void 0)}async subscribeToDropEntitlementGrantEvents(e,r){return await this.createSubscription("drop.entitlement.grant","1",QO(e),r,void 0,void 0,!1,!0)}async _deleteSubscriptionsWithCondition(e){const r=this.getSubscriptionsPaginated();for await(const n of r)(!e||e(n))&&await n.unsubscribe()}};Ip=S([N("api","HelixEventSubApi")],Ip);function KO(t,e){return{extension_id:t,extension_version:e}}function JO(t){return{sku:t.sku,cost:{amount:t.cost,type:"bits"},display_name:t.displayName,in_development:t.inDevelopment,expiration:t.expirationDate,is_broadcast:t.broadcast}}function E0(t,e){return{extension_id:t,id:e.transactionIds}}let Vo=class extends W{constructor(e,r){super(e),this._client=r}get id(){return this[d].broadcaster_id}get displayName(){return this[d].broadcaster_name}async getChannel(){return Y(await this._client.channels.getChannelInfoById(this[d].broadcaster_id))}async getBroadcaster(){return Y(await this._client.users.getUserById(this[d].broadcaster_id))}get gameId(){return this[d].game_id}get gameName(){return this[d].game_name}async getGame(){return this[d].game_id?Y(await this._client.games.getGameById(this[d].game_id)):null}get title(){return this[d].title}};S([j(!1)],Vo.prototype,"_client",void 0);Vo=S([N("api","HelixChannelReference","id")],Vo);let vu=class extends W{get sku(){return this[d].sku}get cost(){return this[d].cost.amount}get displayName(){return this[d].display_name}get inDevelopment(){return this[d].in_development}get isBroadcast(){return this[d].is_broadcast}get expirationDate(){return Ut(this[d].expiration,e=>new Date(e))}};vu=S([N("api","HelixExtensionBitsProduct","sku")],vu);let Qo=class extends W{constructor(e,r){super(e),this._client=r}get id(){return this[d].id}get transactionDate(){return new Date(this[d].timestamp)}get broadcasterId(){return this[d].broadcaster_id}get broadcasterName(){return this[d].broadcaster_name}get broadcasterDisplayName(){return this[d].broadcaster_name}async getBroadcaster(){return Y(await this._client.users.getUserById(this[d].broadcaster_id))}get userId(){return this[d].user_id}get userName(){return this[d].user_login}get userDisplayName(){return this[d].user_name}async getUser(){return Y(await this._client.users.getUserById(this[d].user_id))}get productType(){return this[d].product_type}get productSku(){return this[d].product_data.sku}get productCost(){return this[d].product_data.cost.amount}get productDisplayName(){return this[d].product_data.displayName}get productInDevelopment(){return this[d].product_data.inDevelopment}};S([j(!1)],Qo.prototype,"_client",void 0);Qo=S([N("api","HelixExtensionTransaction","id")],Qo);let Ap=class extends ye{async getReleasedExtension(e,r){const n=await this._client.callApi({type:"helix",url:"extensions/released",query:KO(e,r)});return new yp(n.data[0])}async getLiveChannelsWithExtension(e,r){const n=await this._client.callApi({type:"helix",url:"extensions/live",query:{...Me("extension_id",e),...ae(r)}});return De(n,Vo,this._client)}getLiveChannelsWithExtensionPaginated(e){return new Ce({url:"extensions/live",query:Me("extension_id",e)},this._client,r=>new Vo(r,this._client))}async getExtensionBitsProducts(e){return(await this._client.callApi({type:"helix",url:"bits/extensions",forceType:"app",query:Me("should_include_all",e==null?void 0:e.toString())})).data.map(n=>new vu(n))}async putExtensionBitsProduct(e){const r=await this._client.callApi({type:"helix",url:"bits/extensions",method:"PUT",forceType:"app",jsonBody:JO(e)});return new vu(r.data[0])}async getExtensionTransactions(e,r={}){const n=await this._client.callApi({type:"helix",url:"extensions/transactions",forceType:"app",query:{...E0(e,r),...ae(r)}});return De(n,Qo,this._client)}getExtensionTransactionsPaginated(e,r={}){return new Ce({url:"extensions/transactions",forceType:"app",query:E0(e,r)},this._client,n=>new Qo(n,this._client))}};Ap=S([N("api","HelixExtensionsApi")],Ap);let Vt=class extends W{constructor(e,r){super(e),this._client=r}get id(){return this[d].id}get name(){return this[d].name}get boxArtUrl(){return this[d].box_art_url}get igdbId(){return this[d].igdb_id||null}getBoxArtUrl(e,r){return this[d].box_art_url.replace("{width}",e.toString()).replace("{height}",r.toString())}async getStreams(e){return await this._client.streams.getStreams({...e,game:this[d].id})}getStreamsPaginated(){return this._client.streams.getStreamsPaginated({game:this[d].id})}};S([j(!1)],Vt.prototype,"_client",void 0);Vt=S([N("api","HelixGame","id")],Vt);let xs=class extends ye{constructor(){super(...arguments),this._getGameByIdBatcher=new Nt({url:"games"},"id","id",this._client,e=>new Vt(e,this._client)),this._getGameByNameBatcher=new Nt({url:"games"},"name","name",this._client,e=>new Vt(e,this._client)),this._getGameByIgdbIdBatcher=new Nt({url:"games"},"igdb_id","igdb_id",this._client,e=>new Vt(e,this._client))}async getGamesByIds(e){return await this._getGames("id",e)}async getGamesByNames(e){return await this._getGames("name",e)}async getGamesByIgdbIds(e){return await this._getGames("igdb_id",e)}async getGameById(e){var r;return(r=(await this._getGames("id",[e]))[0])!==null&&r!==void 0?r:null}async getGameByName(e){var r;return(r=(await this._getGames("name",[e]))[0])!==null&&r!==void 0?r:null}async getGameByIgdbId(e){var r;return(r=(await this._getGames("igdb_id",[e]))[0])!==null&&r!==void 0?r:null}async getGameByIdBatched(e){return await this._getGameByIdBatcher.request(e)}async getGameByNameBatched(e){return await this._getGameByNameBatcher.request(e)}async getGameByIgdbIdBatched(e){return await this._getGameByIgdbIdBatcher.request(e)}async getTopGames(e){const r=await this._client.callApi({type:"helix",url:"games/top",query:ae(e)});return De(r,Vt,this._client)}getTopGamesPaginated(){return new Ce({url:"games/top"},this._client,e=>new Vt(e,this._client))}async _getGames(e,r){return r.length?(await this._client.callApi({type:"helix",url:"games",query:{[e]:r}})).data.map(i=>new Vt(i,this._client)):[]}};S([j(!1)],xs.prototype,"_getGameByIdBatcher",void 0);S([j(!1)],xs.prototype,"_getGameByNameBatcher",void 0);S([j(!1)],xs.prototype,"_getGameByIgdbIdBatcher",void 0);xs=S([N("api","HelixGameApi")],xs);let _u=class extends W{constructor(e,r){super(e),this._client=r}get id(){return this[d].id}get broadcasterId(){return this[d].broadcaster_id}get broadcasterDisplayName(){return this[d].broadcaster_name}get broadcasterName(){return this[d].broadcaster_login}async getBroadcaster(){return Y(await this._client.users.getUserById(this[d].broadcaster_id))}get type(){return this[d].type}get description(){return this[d].description}get currentAmount(){return this[d].current_amount}get targetAmount(){return this[d].target_amount}get creationDate(){return this[d].created_at}};S([j(!1)],_u.prototype,"_client",void 0);_u=S([N("api","HelixGoal","id")],_u);let Pp=class extends ye{async getGoals(e){return(await this._client.callApi({type:"helix",url:"goals",userId:x(e),scopes:["channel:read:goals"],query:ue(e)})).data.map(n=>new _u(n,this._client))}};Pp=S([N("api","HelixGoalApi")],Pp);let Ko=class extends W{constructor(e,r){super(e),this._client=r}get userId(){return this[d].user}async getUser(){return Y(await this._client.users.getUserById(this[d].user))}get type(){return this[d].type}get total(){return this[d].total}};S([j(!1)],Ko.prototype,"_client",void 0);Ko=S([N("api","HelixHypeTrainContribution","userId")],Ko);let Jo=class extends W{constructor(e,r){super(e),this._client=r}get eventId(){return this[d].id}get eventType(){return this[d].event_type}get eventDate(){return new Date(this[d].event_timestamp)}get eventVersion(){return this[d].version}get id(){return this[d].event_data.id}get broadcasterId(){return this[d].event_data.broadcaster_id}async getBroadcaster(){return Y(await this._client.users.getUserById(this[d].event_data.broadcaster_id))}get level(){return this[d].event_data.level}get startDate(){return new Date(this[d].event_data.started_at)}get expiryDate(){return new Date(this[d].event_data.expires_at)}get cooldownDate(){return new Date(this[d].event_data.cooldown_end_time)}get total(){return this[d].event_data.total}get goal(){return this[d].event_data.goal}get lastContribution(){return new Ko(this[d].event_data.last_contribution,this._client)}get topContributions(){return this[d].event_data.top_contributions.map(e=>new Ko(e,this._client))}};S([j(!1)],Jo.prototype,"_client",void 0);Jo=S([N("api","HelixHypeTrainEvent","id")],Jo);class YO extends ye{async getHypeTrainEventsForBroadcaster(e,r){const n=await this._client.callApi({type:"helix",url:"hypetrain/events",userId:x(e),scopes:["channel:read:hype_train"],query:{...ue(e),...ae(r)}});return De(n,Jo,this._client)}getHypeTrainEventsForBroadcasterPaginated(e){return new Ce({url:"hypetrain/events",userId:x(e),scopes:["channel:read:hype_train"],query:ue(e)},this._client,r=>new Jo(r,this._client))}}function T0(t,e){return{broadcaster_id:x(t),user_id:e==null?void 0:e.userId}}function I0(t,e){return{broadcaster_id:x(t),user_id:x(e)}}function XO(t,e,r){return{user_id:x(t),msg_id:e,action:r?"ALLOW":"DENY"}}function ZO(t){return{overall_level:t.overallLevel,aggression:t.aggression,bullying:t.bullying,disability:t.disability,misogyny:t.misogyny,race_ethnicity_or_religion:t.raceEthnicityOrReligion,sex_based_terms:t.sexBasedTerms,sexuality_sex_or_gender:t.sexualitySexOrGender,swearing:t.swearing}}function eM(t){return{data:{duration:t.duration,reason:t.reason,user_id:x(t.user)}}}function tM(t){return{is_active:t}}let wu=class extends W{get broadcasterId(){return this[d].broadcaster_id}get moderatorId(){return this[d].moderator_id}get overallLevel(){return this[d].overall_level?this[d].overall_level:null}get disability(){return this[d].disability}get aggression(){return this[d].aggression}get sexualitySexOrGender(){return this[d].sexuality_sex_or_gender}get misogyny(){return this[d].misogyny}get bullying(){return this[d].bullying}get swearing(){return this[d].swearing}get raceEthnicityOrReligion(){return this[d].race_ethnicity_or_religion}get sexBasedTerms(){return this[d].sex_based_terms}};wu=S([N("api","HelixAutoModSettings","broadcasterId")],wu);let kp=class extends W{get messageId(){return this[d].msg_id}get isPermitted(){return this[d].is_permitted}};kp=S([N("api","HelixAutoModStatus","messageId")],kp);let Cs=class extends W{constructor(e,r,n){super(e),this._expiryTimestamp=r,this._client=n}get creationDate(){return new Date(this[d].created_at)}get expiryDate(){return Ut(this._expiryTimestamp,e=>new Date(e))}get moderatorId(){return this[d].moderator_id}async getModerator(){return Y(await this._client.users.getUserById(this[d].moderator_id))}get userId(){return this[d].user_id}async getUser(){return Y(await this._client.users.getUserById(this[d].user_id))}};S([j(!1)],Cs.prototype,"_client",void 0);S([j(!1)],Cs.prototype,"_expiryTimestamp",void 0);Cs=S([N("api","HelixBanUser","userId")],Cs);let Su=class extends Cs{constructor(e,r){super(e,e.expires_at||null,r)}get userName(){return this[d].user_login}get userDisplayName(){return this[d].user_name}get moderatorName(){return this[d].moderator_login}get moderatorDisplayName(){return this[d].moderator_name}get reason(){return this[d].reason||null}};Su=S([N("api","HelixBan","userId")],Su);let xu=class extends W{get broadcasterId(){return this[d].broadcaster_id}get creationDate(){return new Date(this[d].created_at)}get expirationDate(){return this[d].expires_at?new Date(this[d].expires_at):null}get id(){return this[d].id}get moderatorId(){return this[d].moderator_id}get text(){return this[d].text}get updatedDate(){return new Date(this[d].updated_at)}};xu=S([N("api","HelixBlockedTerm","id")],xu);let Yo=class extends W{constructor(e,r){super(e),this._client=r}get userId(){return this[d].user_id}get userName(){return this[d].user_login}get userDisplayName(){return this[d].user_name}async getUser(){return Y(await this._client.users.getUserById(this[d].user_id))}};S([j(!1)],Yo.prototype,"_client",void 0);Yo=S([N("api","HelixModerator","userId")],Yo);let Xo=class extends W{constructor(e,r){super(e),this._client=r}get isActive(){return this[d].is_active}get moderatorId(){return this[d].moderator_id}get moderatorName(){return this[d].moderator_login}get moderatorDisplayName(){return this[d].moderator_name}async getModerator(){return Y(await this._client.users.getUserById(this[d].moderator_id))}get lastActivationDate(){return this[d].last_activated_at===""?null:new Date(this[d].last_activated_at)}};S([j(!1)],Xo.prototype,"_client",void 0);Xo=S([N("api","HelixShieldModeStatus")],Xo);let Rp=class extends ye{async getBannedUsers(e,r){const n=await this._client.callApi({type:"helix",url:"moderation/banned",userId:x(e),scopes:["moderation:read"],query:{...T0(e,r),...ae(r)}});return De(n,Su,this._client)}getBannedUsersPaginated(e){return new Ce({url:"moderation/banned",userId:x(e),scopes:["moderation:read"],query:ue(e)},this._client,r=>new Su(r,this._client),50)}async checkUserBan(e,r){const n=x(r);return(await this.getBannedUsers(e,{userId:n})).data.some(s=>s.userId===n)}async getModerators(e,r){const n=await this._client.callApi({type:"helix",url:"moderation/moderators",userId:x(e),scopes:["moderation:read","channel:manage:moderators"],query:{...T0(e,r),...ae(r)}});return De(n,Yo,this._client)}getModeratorsPaginated(e){return new Ce({url:"moderation/moderators",userId:x(e),scopes:["moderation:read","channel:manage:moderators"],query:ue(e)},this._client,r=>new Yo(r,this._client))}async checkUserMod(e,r){const n=x(r);return(await this.getModerators(e,{userId:n})).data.some(s=>s.userId===n)}async addModerator(e,r){await this._client.callApi({type:"helix",url:"moderation/moderators",method:"POST",userId:x(e),scopes:["channel:manage:moderators"],query:I0(e,r)})}async removeModerator(e,r){await this._client.callApi({type:"helix",url:"moderation/moderators",method:"DELETE",userId:x(e),scopes:["channel:manage:moderators"],query:I0(e,r)})}async checkAutoModStatus(e,r){return(await this._client.callApi({type:"helix",url:"moderation/enforcements/status",method:"POST",userId:x(e),scopes:["moderation:read"],query:ue(e),jsonBody:{data:r}})).data.map(i=>new kp(i))}async processHeldAutoModMessage(e,r,n){await this._client.callApi({type:"helix",url:"moderation/automod/message",method:"POST",userId:x(e),scopes:["moderator:manage:automod"],jsonBody:XO(e,r,n)})}async getAutoModSettings(e){const r=x(e);return(await this._client.callApi({type:"helix",url:"moderation/automod/settings",userId:r,scopes:["moderator:read:automod_settings"],canOverrideScopedUserContext:!0,query:this._createModeratorActionQuery(r)})).data.map(i=>new wu(i))}async updateAutoModSettings(e,r){const n=x(e);return(await this._client.callApi({type:"helix",url:"moderation/automod/settings",method:"PUT",userId:n,scopes:["moderator:manage:automod_settings"],canOverrideScopedUserContext:!0,query:this._createModeratorActionQuery(n),jsonBody:ZO(r)})).data.map(s=>new wu(s))}async banUser(e,r){const n=x(e);return(await this._client.callApi({type:"helix",url:"moderation/bans",method:"POST",userId:n,scopes:["moderator:manage:banned_users"],canOverrideScopedUserContext:!0,query:this._createModeratorActionQuery(n),jsonBody:eM(r)})).data.map(s=>new Cs(s,s.end_time,this._client))}async unbanUser(e,r){const n=x(e);await this._client.callApi({type:"helix",url:"moderation/bans",method:"DELETE",userId:n,scopes:["moderator:manage:banned_users"],canOverrideScopedUserContext:!0,query:{...this._createModeratorActionQuery(n),...Me("user_id",x(r))}})}async getBlockedTerms(e,r){const n=x(e),i=await this._client.callApi({type:"helix",url:"moderation/blocked_terms",userId:n,scopes:["moderator:read:blocked_terms"],canOverrideScopedUserContext:!0,query:{...this._createModeratorActionQuery(n),...ae(r)}});return De(i,xu,this._client)}async addBlockedTerm(e,r){const n=x(e);return(await this._client.callApi({type:"helix",url:"moderation/blocked_terms",method:"POST",userId:n,scopes:["moderator:manage:blocked_terms"],canOverrideScopedUserContext:!0,query:this._createModeratorActionQuery(n),jsonBody:{text:r}})).data.map(s=>new xu(s))}async removeBlockedTerm(e,r,n){const i=x(e);await this._client.callApi({type:"helix",url:"moderation/blocked_terms",method:"DELETE",userId:i,scopes:["moderator:manage:blocked_terms"],canOverrideScopedUserContext:!0,query:{...this._createModeratorActionQuery(i),id:n}})}async deleteChatMessages(e,r){const n=x(e);await this._client.callApi({type:"helix",url:"moderation/chat",method:"DELETE",userId:n,scopes:["moderator:manage:chat_messages"],canOverrideScopedUserContext:!0,query:{...this._createModeratorActionQuery(n),...Me("message_id",r)}})}async getShieldModeStatus(e){const r=x(e),n=await this._client.callApi({type:"helix",url:"moderation/shield_mode",method:"GET",userId:r,scopes:["moderator:read:shield_mode","moderator:manage:shield_mode"],canOverrideScopedUserContext:!0,query:this._createModeratorActionQuery(r)});return new Xo(n.data[0],this._client)}async updateShieldModeStatus(e,r){const n=x(e),i=await this._client.callApi({type:"helix",url:"moderation/shield_mode",method:"PUT",userId:n,scopes:["moderator:manage:shield_mode"],canOverrideScopedUserContext:!0,query:this._createModeratorActionQuery(n),jsonBody:tM(r)});return new Xo(i.data[0],this._client)}_createModeratorActionQuery(e){return K1(e,this._getUserContextIdWithDefault(e))}};Rp=S([N("api","HelixModerationApi")],Rp);function rM(t,e){var r;return{broadcaster_id:x(t),title:e.title,choices:e.choices.map(n=>({title:n})),duration:e.duration,channel_points_voting_enabled:e.channelPointsPerVote!=null,channel_points_per_vote:(r=e.channelPointsPerVote)!==null&&r!==void 0?r:0}}function nM(t,e,r){return{broadcaster_id:x(t),id:e,status:r?"TERMINATED":"ARCHIVED"}}let Op=class extends W{get id(){return this[d].id}get title(){return this[d].title}get totalVotes(){return this[d].votes}get channelPointsVotes(){return this[d].channel_points_votes}};Op=S([N("api","HelixPollChoice","id")],Op);let Vr=class extends W{constructor(e,r){super(e),this._client=r}get id(){return this[d].id}get broadcasterId(){return this[d].broadcaster_id}get broadcasterName(){return this[d].broadcaster_login}get broadcasterDisplayName(){return this[d].broadcaster_name}async getBroadcaster(){return Y(await this._client.users.getUserById(this[d].broadcaster_id))}get title(){return this[d].title}get isChannelPointsVotingEnabled(){return this[d].channel_points_voting_enabled}get channelPointsPerVote(){return this[d].channel_points_per_vote}get status(){return this[d].status}get durationInSeconds(){return this[d].duration}get startDate(){return new Date(this[d].started_at)}get endDate(){return new Date(this.startDate.getTime()+this[d].duration*1e3)}get choices(){return this[d].choices.map(e=>new Op(e))}};S([j(!1)],Vr.prototype,"_client",void 0);Vr=S([N("api","HelixPoll","id")],Vr);let Mp=class extends ye{async getPolls(e,r){const n=await this._client.callApi({type:"helix",url:"polls",userId:x(e),scopes:["channel:read:polls"],query:{...ue(e),...ae(r)}});return De(n,Vr,this._client)}getPollsPaginated(e){return new Ce({url:"polls",userId:x(e),scopes:["channel:read:polls"],query:ue(e)},this._client,r=>new Vr(r,this._client),20)}async getPollsByIds(e,r){return r.length?(await this._client.callApi({type:"helix",url:"polls",userId:x(e),scopes:["channel:read:polls"],query:_c(e,r)})).data.map(i=>new Vr(i,this._client)):[]}async getPollById(e,r){const n=await this.getPollsByIds(e,[r]);return n.length?n[0]:null}async createPoll(e,r){const n=await this._client.callApi({type:"helix",url:"polls",method:"POST",userId:x(e),scopes:["channel:manage:polls"],jsonBody:rM(e,r)});return new Vr(n.data[0],this._client)}async endPoll(e,r,n=!0){const i=await this._client.callApi({type:"helix",url:"polls",method:"PATCH",userId:x(e),scopes:["channel:manage:polls"],jsonBody:nM(e,r,n)});return new Vr(i.data[0],this._client)}};Mp=S([N("api","HelixPollApi")],Mp);function iM(t,e){return{broadcaster_id:x(t),title:e.title,outcomes:e.outcomes.map(r=>({title:r})),prediction_window:e.autoLockAfter}}function sM(t,e,r,n){return{broadcaster_id:x(t),id:e,status:r,winning_outcome_id:n}}let Cu=class extends W{constructor(e,r){super(e),this._client=r}get userId(){return this[d].id}get userName(){return this[d].login}get userDisplayName(){return this[d].name}async getUser(){return await this._client.users.getUserById(this[d].id)}get channelPointsUsed(){return this[d].channel_points_used}get channelPointsWon(){return this[d].channel_points_won}};S([j(!1)],Cu.prototype,"_client",void 0);Cu=S([N("api","HelixPredictor","userId")],Cu);let Zo=class extends W{constructor(e,r){super(e),this._client=r}get id(){return this[d].id}get title(){return this[d].title}get users(){return this[d].users}get totalChannelPoints(){return this[d].channel_points}get color(){return this[d].color}get topPredictors(){var e,r;return(r=(e=this[d].top_predictors)===null||e===void 0?void 0:e.map(n=>new Cu(n,this._client)))!==null&&r!==void 0?r:[]}};S([j(!1)],Zo.prototype,"_client",void 0);Zo=S([N("api","HelixPredictionOutcome","id")],Zo);let Qr=class extends W{constructor(e,r){super(e),this._client=r}get id(){return this[d].id}get broadcasterId(){return this[d].broadcaster_id}get broadcasterName(){return this[d].broadcaster_login}get broadcasterDisplayName(){return this[d].broadcaster_name}async getBroadcaster(){return Y(await this._client.users.getUserById(this[d].broadcaster_id))}get title(){return this[d].title}get status(){return this[d].status}get autoLockAfter(){return this[d].prediction_window}get creationDate(){return new Date(this[d].created_at)}get endDate(){return this[d].ended_at?new Date(this[d].ended_at):null}get lockDate(){return this[d].locked_at?new Date(this[d].locked_at):null}get outcomes(){return this[d].outcomes.map(e=>new Zo(e,this._client))}get winningOutcomeId(){return this[d].winning_outcome_id||null}get winningOutcome(){if(!this[d].winning_outcome_id)return null;const e=this[d].outcomes.find(r=>r.id===this[d].winning_outcome_id);if(!e)throw new _n("Winning outcome not found in outcomes array");return new Zo(e,this._client)}};S([j(!1)],Qr.prototype,"_client",void 0);Qr=S([N("api","HelixPrediction","id")],Qr);let Np=class extends ye{async getPredictions(e,r){const n=await this._client.callApi({type:"helix",url:"predictions",userId:x(e),scopes:["channel:read:predictions"],query:{...ue(e),...ae(r)}});return De(n,Qr,this._client)}getPredictionsPaginated(e){return new Ce({url:"predictions",userId:x(e),scopes:["channel:read:predictions"],query:ue(e)},this._client,r=>new Qr(r,this._client),20)}async getPredictionsByIds(e,r){return r.length?(await this._client.callApi({type:"helix",url:"predictions",userId:x(e),scopes:["channel:read:predictions"],query:_c(e,r)})).data.map(i=>new Qr(i,this._client)):[]}async getPredictionById(e,r){const n=await this.getPredictionsByIds(e,[r]);return n.length?n[0]:null}async createPrediction(e,r){const n=await this._client.callApi({type:"helix",url:"predictions",method:"POST",userId:x(e),scopes:["channel:manage:predictions"],jsonBody:iM(e,r)});return new Qr(n.data[0],this._client)}async lockPrediction(e,r){return await this._endPrediction(e,r,"LOCKED")}async resolvePrediction(e,r,n){return await this._endPrediction(e,r,"RESOLVED",n)}async cancelPrediction(e,r){return await this._endPrediction(e,r,"CANCELED")}async _endPrediction(e,r,n,i){const s=await this._client.callApi({type:"helix",url:"predictions",method:"PATCH",userId:x(e),scopes:["channel:manage:predictions"],jsonBody:sM(e,r,n,i)});return new Qr(s.data[0],this._client)}};Np=S([N("api","HelixPredictionApi")],Np);function oM(t,e){return{from_broadcaster_id:x(t),to_broadcaster_id:x(e)}}let Dp=class extends W{get creationDate(){return new Date(this[d].created_at)}get targetIsMature(){return this[d].is_mature}};Dp=S([N("api","HelixRaid")],Dp);let Bp=class extends ye{async startRaid(e,r){const n=await this._client.callApi({type:"helix",url:"raids",method:"POST",userId:x(e),scopes:["channel:manage:raids"],query:oM(e,r)});return new Dp(n.data[0])}async cancelRaid(e){await this._client.callApi({type:"helix",url:"raids",method:"DELETE",userId:x(e),scopes:["channel:manage:raids"],query:ue(e)})}};Bp=S([N("api","HelixRaidApi")],Bp);function Y1(t,e){var r;return{broadcaster_id:x(t),start_time:e==null?void 0:e.startDate,utc_offset:(r=e==null?void 0:e.utcOffset)===null||r===void 0?void 0:r.toString()}}function aM(t,e){return e.vacation?{broadcaster_id:x(t),is_vacation_enabled:"true",vacation_start_time:e.vacation.startDate,vacation_end_time:e.vacation.endDate,timezone:e.vacation.timezone}:{broadcaster_id:x(t),is_vacation_enabled:"false"}}function lM(t){return{start_time:t.startDate,timezone:t.timezone,is_recurring:t.isRecurring,duration:t.duration,category_id:t.categoryId,title:t.title}}function A0(t,e){return{broadcaster_id:x(t),id:e}}function uM(t){return{start_time:t.startDate,timezone:t.timezone,is_canceled:t.isCanceled,duration:t.duration,category_id:t.categoryId,title:t.title}}let mn=class extends W{constructor(e,r){super(e),this._client=r}get id(){return this[d].id}get startDate(){return new Date(this[d].start_time)}get endDate(){return new Date(this[d].end_time)}get title(){return this[d].title}get cancelEndDate(){return Ut(this[d].canceled_until,e=>new Date(e))}get categoryId(){var e,r;return(r=(e=this[d].category)===null||e===void 0?void 0:e.id)!==null&&r!==void 0?r:null}get categoryName(){var e,r;return(r=(e=this[d].category)===null||e===void 0?void 0:e.name)!==null&&r!==void 0?r:null}async getCategory(){var e;const r=(e=this[d].category)===null||e===void 0?void 0:e.id;return r?await this._client.games.getGameById(r):null}get isRecurring(){return this[d].is_recurring}};S([j(!1)],mn.prototype,"_client",void 0);mn=S([N("api","HelixScheduleSegment","id")],mn);let Up=class extends Ce{constructor(e,r,n){super({url:"schedule",query:Y1(e,n)},r,i=>new mn(i,r),25)}async _fetchData(e={}){var r;const n=await super._fetchData(e);return{data:(r=n.data.segments)!==null&&r!==void 0?r:[],pagination:n.pagination}}};Up=S([N("api","HelixPaginatedScheduleSegmentRequest")],Up);let bu=class extends W{constructor(e,r){super(e),this._client=r}get segments(){var e,r;return(r=(e=this[d].segments)===null||e===void 0?void 0:e.map(n=>new mn(n,this._client)))!==null&&r!==void 0?r:[]}get broadcasterId(){return this[d].broadcaster_id}get broadcasterName(){return this[d].broadcaster_login}get broadcasterDisplayName(){return this[d].broadcaster_name}async getBroadcaster(){return Y(await this._client.users.getUserById(this[d].broadcaster_id))}get vacationStartDate(){var e;const r=(e=this[d].vacation)===null||e===void 0?void 0:e.start_time;return r?new Date(r):null}get vacationEndDate(){var e;const r=(e=this[d].vacation)===null||e===void 0?void 0:e.end_time;return r?new Date(r):null}};S([j(!1)],bu.prototype,"_client",void 0);bu=S([N("api","HelixSchedule","broadcasterId")],bu);class cM extends ye{async getSchedule(e,r){const n=await this._client.callApi({type:"helix",url:"schedule",userId:x(e),query:{...Y1(e,r),...ae(r)}});return{data:new bu(n.data,this._client),cursor:n.pagination.cursor}}getScheduleSegmentsPaginated(e,r){return new Up(e,this._client,r)}async getScheduleSegmentsByIds(e,r){var n,i;return(i=(n=(await this._client.callApi({type:"helix",url:"schedule",userId:x(e),query:_c(e,r)})).data.segments)===null||n===void 0?void 0:n.map(o=>new mn(o,this._client)))!==null&&i!==void 0?i:[]}async getScheduleSegmentById(e,r){const n=await this.getScheduleSegmentsByIds(e,[r]);return n.length?n[0]:null}async getScheduleAsIcal(e){return await this._client.callApi({type:"helix",url:"schedule/icalendar",query:ue(e)})}async updateScheduleSettings(e,r){await this._client.callApi({type:"helix",url:"schedule/settings",method:"PATCH",userId:x(e),scopes:["channel:manage:schedule"],query:aM(e,r)})}async createScheduleSegment(e,r){const n=await this._client.callApi({type:"helix",url:"schedule/segment",method:"POST",userId:x(e),scopes:["channel:manage:schedule"],query:ue(e),jsonBody:lM(r)});return new mn(n.data.segments[0],this._client)}async updateScheduleSegment(e,r,n){const i=await this._client.callApi({type:"helix",url:"schedule/segment",method:"PATCH",userId:x(e),scopes:["channel:manage:schedule"],query:A0(e,r),jsonBody:uM(n)});return new mn(i.data.segments[0],this._client)}async deleteScheduleSegment(e,r){await this._client.callApi({type:"helix",url:"schedule/segment",method:"DELETE",userId:x(e),scopes:["channel:manage:schedule"],query:A0(e,r)})}}function P0(t,e){var r;return{query:t,live_only:(r=e.liveOnly)===null||r===void 0?void 0:r.toString()}}let ea=class extends W{constructor(e,r){super(e),this._client=r}get language(){return this[d].broadcaster_language}get id(){return this[d].id}get name(){return this[d].broadcaster_login}get displayName(){return this[d].display_name}async getUser(){return Y(await this._client.users.getUserById(this[d].id))}get gameId(){return this[d].game_id}get gameName(){return this[d].game_name}async getGame(){return this[d].game_id?Y(await this._client.games.getGameById(this[d].game_id)):null}get isLive(){return this[d].is_live}get tags(){return this[d].tags}get thumbnailUrl(){return this[d].thumbnail_url}get startDate(){return this[d].is_live?new Date(this[d].started_at):null}};S([j(!1)],ea.prototype,"_client",void 0);ea=S([N("api","HelixChannelSearchResult","id")],ea);let Fp=class extends ye{async searchCategories(e,r){const n=await this._client.callApi({type:"helix",url:"search/categories",query:{query:e,...ae(r)}});return De(n,Vt,this._client)}searchCategoriesPaginated(e){return new Ce({url:"search/categories",query:{query:e}},this._client,r=>new Vt(r,this._client))}async searchChannels(e,r={}){const n=await this._client.callApi({type:"helix",url:"search/channels",query:{...P0(e,r),...ae(r)}});return De(n,ea,this._client)}searchChannelsPaginated(e,r={}){return new Ce({url:"search/channels",query:P0(e,r)},this._client,n=>new ea(n,this._client))}};Fp=S([N("api","HelixSearchApi")],Fp);class dM extends mr{constructor(e){super("Your stream needs to be live to do this",e)}}function zh(t){return{game_id:t.game,language:t.language,type:t.type,user_id:t.userId,user_login:t.userName}}function hM(t,e){return{user_id:x(t),description:e}}function k0(t){return{video_id:t}}let nr=class extends W{constructor(e,r){super(e),this._client=r}get id(){return this[d].id}get userId(){return this[d].user_id}get userName(){return this[d].user_login}get userDisplayName(){return this[d].user_name}async getUser(){return Y(await this._client.users.getUserById(this[d].user_id))}get gameId(){return this[d].game_id}get gameName(){return this[d].game_name}async getGame(){return this[d].game_id?Y(await this._client.games.getGameById(this[d].game_id)):null}get type(){return this[d].type}get title(){return this[d].title}get viewers(){return this[d].viewer_count}get startDate(){return new Date(this[d].started_at)}get language(){return this[d].language}get thumbnailUrl(){return this[d].thumbnail_url}getThumbnailUrl(e,r){return this[d].thumbnail_url.replace("{width}",e.toString()).replace("{height}",r.toString())}get tags(){return this[d].tags}get isMature(){return this[d].is_mature}};S([j(!1)],nr.prototype,"_client",void 0);nr=S([N("api","HelixStream","id")],nr);let ta=class extends W{constructor(e,r){super(e),this._client=r}get id(){return this[d].id}get creationDate(){return new Date(this[d].created_at)}get description(){return this[d].description}get positionInSeconds(){return this[d].position_seconds}};S([j(!1)],ta.prototype,"_client",void 0);ta=S([N("api","HelixStreamMarker","id")],ta);let Lp=class extends ta{constructor(e,r,n){super(e,n),this._videoId=r}get url(){return this[d].URL}get videoId(){return this._videoId}async getVideo(){return Y(await this._client.videos.getVideoById(this._videoId))}};Lp=S([N("api","HelixStreamMarkerWithVideo","id")],Lp);var xi;let ra=xi=class extends ye{constructor(){super(...arguments),this._getStreamByUserIdBatcher=new Nt({url:"streams"},"user_id","user_id",this._client,e=>new nr(e,this._client)),this._getStreamByUserNameBatcher=new Nt({url:"streams"},"user_login","user_login",this._client,e=>new nr(e,this._client))}async getStreams(e={}){const r=await this._client.callApi({url:"streams",type:"helix",query:{...zh(e),...ae(e)}});return De(r,nr,this._client)}getStreamsPaginated(e={}){return new Ce({url:"streams",query:zh(e)},this._client,r=>new nr(r,this._client))}async getStreamsByUserNames(e){return(await this.getStreams({userName:e.map(ho)})).data}async getStreamByUserName(e){var r;return(r=(await this.getStreamsByUserNames([e]))[0])!==null&&r!==void 0?r:null}async getStreamByUserNameBatched(e){return await this._getStreamByUserNameBatcher.request(ho(e))}async getStreamsByUserIds(e){return(await this.getStreams({userId:e.map(x)})).data}async getStreamByUserId(e){const r=x(e),n=await this._client.callApi({url:"streams",type:"helix",userId:r,query:zh({userId:r})});return Ut(n.data[0],i=>new nr(i,this._client))}async getStreamByUserIdBatched(e){return await this._getStreamByUserIdBatcher.request(x(e))}async getStreamMarkersForUser(e,r){var n;const i=await this._client.callApi({url:"streams/markers",type:"helix",query:{...v0(e),...ae(r)},userId:x(e),scopes:["user:read:broadcast"],canOverrideScopedUserContext:!0});return{data:Sv(i.data.map(s=>xi._mapGetStreamMarkersResult(s,this._client))),cursor:(n=i.pagination)===null||n===void 0?void 0:n.cursor}}getStreamMarkersForUserPaginated(e){return new Ce({url:"streams/markers",query:v0(e),userId:x(e),scopes:["user:read:broadcast"],canOverrideScopedUserContext:!0},this._client,r=>xi._mapGetStreamMarkersResult(r,this._client))}async getStreamMarkersForVideo(e,r,n){var i;const s=await this._client.callApi({url:"streams/markers",type:"helix",query:{...k0(r),...ae(n)},userId:x(e),scopes:["user:read:broadcast"],canOverrideScopedUserContext:!0});return{data:Sv(s.data.map(o=>xi._mapGetStreamMarkersResult(o,this._client))),cursor:(i=s.pagination)===null||i===void 0?void 0:i.cursor}}getStreamMarkersForVideoPaginated(e,r){return new Ce({url:"streams/markers",query:k0(r),userId:x(e),scopes:["user:read:broadcast"],canOverrideScopedUserContext:!0},this._client,n=>xi._mapGetStreamMarkersResult(n,this._client))}async createStreamMarker(e,r){try{const n=await this._client.callApi({url:"streams/markers",method:"POST",type:"helix",userId:x(e),scopes:["channel:manage:broadcast"],canOverrideScopedUserContext:!0,jsonBody:hM(e,r)});return new ta(n.data[0],this._client)}catch(n){throw n instanceof oi&&n.statusCode===404?new dM({cause:n}):n}}async getStreamKey(e){const r=x(e);return(await this._client.callApi({type:"helix",url:"streams/key",userId:r,scopes:["channel:read:stream_key"],query:ue(e)})).data[0].stream_key}async getFollowedStreams(e,r){const n=x(e),i=await this._client.callApi({type:"helix",url:"streams/followed",userId:n,scopes:["user:read:follows"],query:{...Me("user_id",n),...ae(r)}});return De(i,nr,this._client)}getFollowedStreamsPaginated(e){const r=x(e);return new Ce({url:"streams/followed",userId:r,scopes:["user:read:follows"],query:Me("user_id",r)},this._client,n=>new nr(n,this._client))}static _mapGetStreamMarkersResult(e,r){return e.videos.reduce((n,i)=>[...n,...i.markers.map(s=>new Lp(s,i.video_id,r))],[])}};S([j(!1)],ra.prototype,"_getStreamByUserIdBatcher",void 0);S([j(!1)],ra.prototype,"_getStreamByUserNameBatcher",void 0);ra=xi=S([N("api","HelixStreamApi")],ra);function fM(t,e){return{broadcaster_id:x(t),user_id:x(e)}}let na=class extends W{constructor(e,r){super(e),this._client=r}get broadcasterId(){return this[d].broadcaster_id}get broadcasterName(){return this[d].broadcaster_login}get broadcasterDisplayName(){return this[d].broadcaster_name}async getBroadcaster(){return await this._client.users.getUserById(this[d].broadcaster_id)}get isGift(){return this[d].is_gift}get tier(){return this[d].tier}};S([j(!1)],na.prototype,"_client",void 0);na=S([N("api","HelixUserSubscription","broadcasterId")],na);let ia=class extends na{get broadcasterId(){return this[d].broadcaster_id}get broadcasterName(){return this[d].broadcaster_login}get broadcasterDisplayName(){return this[d].broadcaster_name}async getBroadcaster(){return Y(await this._client.users.getUserById(this[d].broadcaster_id))}get gifterId(){return this[d].is_gift?this[d].gifter_id:null}get gifterName(){return this[d].is_gift?this[d].gifter_login:null}get gifterDisplayName(){return this[d].is_gift?this[d].gifter_name:null}async getGifter(){return this[d].is_gift?Y(await this._client.users.getUserById(this[d].gifter_id)):null}get userId(){return this[d].user_id}get userName(){return this[d].user_login}get userDisplayName(){return this[d].user_name}async getUser(){return Y(await this._client.users.getUserById(this[d].user_id))}};ia=S([N("api","HelixSubscription","userId")],ia);let qp=class extends ai{constructor(e,r){super({url:"subscriptions",scopes:["channel:read:subscriptions"],userId:x(e),query:ue(e)},r,n=>new ia(n,r))}async getPoints(){var e;return((e=this._currentData)!==null&&e!==void 0?e:await this._fetchData({query:{after:void 0}})).points}};qp=S([N("api","HelixPaginatedSubscriptionsRequest")],qp);let $p=class extends ye{async getSubscriptions(e,r){const n=await this._client.callApi({url:"subscriptions",scopes:["channel:read:subscriptions"],type:"helix",userId:x(e),query:{...ue(e),...ae(r)}});return{...sn(n,ia,this._client),points:n.points}}getSubscriptionsPaginated(e){return new qp(e,this._client)}async getSubscriptionsForUsers(e,r){return(await this._client.callApi({type:"helix",url:"subscriptions",userId:x(e),scopes:["channel:read:subscriptions"],query:J1(e,r)})).data.map(i=>new ia(i,this._client))}async getSubscriptionForUser(e,r){const n=await this.getSubscriptionsForUsers(e,[r]);return n.length?n[0]:null}async checkUserSubscription(e,r){try{const n=await this._client.callApi({type:"helix",url:"subscriptions/user",userId:x(e),scopes:["user:read:subscriptions"],query:fM(r,e)});return new na(n.data[0],this._client)}catch(n){if(n instanceof oi&&n.statusCode===404)return null;throw n}}};$p=S([N("api","HelixSubscriptionApi")],$p);let sa=class extends W{constructor(e,r){super(e),this._client=r}get id(){return this[d].id}get name(){return this[d].team_name}get displayName(){return this[d].team_display_name}get backgroundImageUrl(){return this[d].background_image_url}get bannerUrl(){return this[d].banner}get creationDate(){return new Date(this[d].created_at)}get updateDate(){return new Date(this[d].updated_at)}get info(){return this[d].info}get logoThumbnailUrl(){return this[d].thumbnail_url}async getUserRelations(){return(await this._client.teams.getTeamById(this.id)).userRelations}};S([j(!1)],sa.prototype,"_client",void 0);sa=S([N("api","HelixTeam","id")],sa);let Eu=class extends sa{get userRelations(){return this[d].users.map(e=>new Xn(e,this._client))}};Eu=S([N("api","HelixTeamWithUsers","id")],Eu);let jp=class extends ye{async getTeamsForBroadcaster(e){var r,n;return(n=(r=(await this._client.callApi({type:"helix",url:"teams/channel",userId:x(e),query:ue(e)})).data)===null||r===void 0?void 0:r.map(s=>new sa(s,this._client)))!==null&&n!==void 0?n:[]}async getTeamById(e){try{const r=await this._client.callApi({type:"helix",url:"teams",query:{id:e}});return new Eu(r.data[0],this._client)}catch(r){if(r instanceof oi&&r.statusCode===500)return null;throw r}}async getTeamByName(e){try{const r=await this._client.callApi({type:"helix",url:"teams",query:{name:e}});return new Eu(r.data[0],this._client)}catch(r){if(r instanceof oi&&r.statusCode===404)return null;throw r}}};jp=S([N("api","HelixTeamApi")],jp);function pM(t,e){return{target_user_id:x(t),source_context:e.sourceContext,reason:e.reason}}function mM(t){return{target_user_id:x(t)}}class X1 extends W{get id(){return this[d].id}get version(){return this[d].version}get name(){return this[d].name}}let fo=class extends X1{constructor(e,r,n){super(n),this._slotType=e,this._slotId=r}get slotType(){return this._slotType}get slotId(){return this._slotId}};fo=S([N("api","HelixInstalledExtension","id")],fo);let Tu=class extends W{getExtensionAtSlot(e,r){const n=this[d][e][r];return n.active?new fo(e,r,n):null}getExtensionsForSlotType(e){return[...Object.entries(this[d][e])].filter(r=>r[1].active).map(([r,n])=>new fo(e,r,n))}getAllExtensions(){return[...Object.entries(this[d])].flatMap(([e,r])=>[...Object.entries(r)].filter(n=>n[1].active).map(([n,i])=>new fo(e,n,i)))}};Tu=S([N("api","HelixInstalledExtensionList")],Tu);let Hp=class extends X1{get canActivate(){return this[d].can_activate}get types(){return this[d].type}};Hp=S([N("api","HelixUserExtension","id")],Hp);let on=class extends W{constructor(e,r){super(e),this._client=r}get id(){return this[d].id}get name(){return this[d].login}get displayName(){return this[d].display_name}get description(){return this[d].description}get type(){return this[d].type}get broadcasterType(){return this[d].broadcaster_type}get profilePictureUrl(){return this[d].profile_image_url}get offlinePlaceholderUrl(){return this[d].offline_image_url}get creationDate(){return new Date(this[d].created_at)}async getStream(){return await this._client.streams.getStreamByUserId(this)}async getFollowedChannels(){return await this._client.channels.getFollowedChannels(this)}async getFollowedChannel(e){var r;return(r=(await this._client.channels.getFollowedChannels(this,e)).data[0])!==null&&r!==void 0?r:null}async follows(e){return await this.getFollowedChannel(e)!==null}async getChannelFollowers(){return await this._client.channels.getChannelFollowers(this)}async getChannelFollower(e){var r;return(r=(await this._client.channels.getChannelFollowers(this,e)).data[0])!==null&&r!==void 0?r:null}async isFollowedBy(e){return await this.getChannelFollower(e)!==null}async getSubscriptionTo(e){return await this._client.subscriptions.checkUserSubscription(this,e)}async isSubscribedTo(e){return await this.getSubscriptionTo(e)!==null}async getSubscriber(e){return await this._client.subscriptions.getSubscriptionForUser(this,e)}async hasSubscriber(e){return await this.getSubscriber(e)!==null}};S([j(!1)],on.prototype,"_client",void 0);on=S([N("api","HelixUser","id")],on);let Iu=class extends on{get email(){return this[d].email}async setDescription(e){return await this._client.users.updateAuthenticatedUser(this,{description:e})}};Iu=S([N("api","HelixPrivilegedUser","id")],Iu);let oa=class extends W{constructor(e,r){super(e),this._client=r}get userId(){return this[d].user_id}get userName(){return this[d].user_login}get userDisplayName(){return this[d].display_name}async getUser(){return Y(await this._client.users.getUserById(this[d].user_id))}};S([j(!1)],oa.prototype,"_client",void 0);oa=S([N("api","HelixUserBlock","userId")],oa);let aa=class extends ye{constructor(){super(...arguments),this._getUserByIdBatcher=new Nt({url:"users"},"id","id",this._client,e=>new on(e,this._client)),this._getUserByNameBatcher=new Nt({url:"users"},"login","login",this._client,e=>new on(e,this._client))}async getUsersByIds(e){return await this._getUsers("id",e.map(x))}async getUsersByNames(e){return await this._getUsers("login",e.map(ho))}async getUserById(e){const r=x(e),n=await this._client.callApi({type:"helix",url:"users",userId:r,query:{id:r}});return Ut(n.data[0],i=>new on(i,this._client))}async getUserByIdBatched(e){return await this._getUserByIdBatcher.request(x(e))}async getUserByName(e){const r=await this._getUsers("login",[ho(e)]);return r.length?r[0]:null}async getUserByNameBatched(e){return await this._getUserByNameBatcher.request(ho(e))}async getAuthenticatedUser(e,r=!1){var n;const i=await this._client.callApi({type:"helix",url:"users",forceType:"user",userId:x(e),scopes:r?["user:read:email"]:void 0});if(!(!((n=i.data)===null||n===void 0)&&n.length))throw new _n("Could not get authenticated user");return new Iu(i.data[0],this._client)}async updateAuthenticatedUser(e,r){const n=await this._client.callApi({type:"helix",url:"users",method:"PUT",userId:x(e),scopes:["user:edit"],query:{description:r.description}});return new Iu(n.data[0],this._client)}async getBlocks(e,r){const n=await this._client.callApi({type:"helix",url:"users/blocks",userId:x(e),scopes:["user:read:blocked_users"],query:{...ue(e),...ae(r)}});return De(n,oa,this._client)}getBlocksPaginated(e){return new Ce({url:"users/blocks",userId:x(e),scopes:["user:read:blocked_users"],query:ue(e)},this._client,r=>new oa(r,this._client))}async createBlock(e,r,n={}){await this._client.callApi({type:"helix",url:"users/blocks",method:"PUT",userId:x(e),scopes:["user:manage:blocked_users"],query:pM(r,n)})}async deleteBlock(e,r){await this._client.callApi({type:"helix",url:"users/blocks",method:"DELETE",userId:x(e),scopes:["user:manage:blocked_users"],query:mM(r)})}async getExtensionsForAuthenticatedUser(e,r=!1){return(await this._client.callApi({type:"helix",url:"users/extensions/list",userId:x(e),scopes:r?["user:edit:broadcast"]:["user:read:broadcast","user:edit:broadcast"]})).data.map(i=>new Hp(i))}async getActiveExtensions(e,r=!1){const n=x(e),i=await this._client.callApi({type:"helix",url:"users/extensions",userId:n,scopes:r?["user:read:broadcast","user:edit:broadcast"]:void 0,query:Me("user_id",n)});return new Tu(i.data)}async updateActiveExtensionsForAuthenticatedUser(e,r){const n=await this._client.callApi({type:"helix",url:"users/extensions",method:"PUT",userId:x(e),scopes:["user:edit:broadcast"],jsonBody:{data:r}});return new Tu(n.data)}async _getUsers(e,r){if(r.length===0)return[];const n={[e]:r};return(await this._client.callApi({type:"helix",url:"users",query:n})).data.map(s=>new on(s,this._client))}};S([j(!1)],aa.prototype,"_getUserByIdBatcher",void 0);S([j(!1)],aa.prototype,"_getUserByNameBatcher",void 0);aa=S([N("api","HelixUserApi")],aa);let Zn=class extends W{constructor(e,r){super(e),this._client=r}get id(){return this[d].id}get userId(){return this[d].user_id}get userName(){return this[d].user_login}get userDisplayName(){return this[d].user_name}async getUser(){return Y(await this._client.users.getUserById(this[d].user_id))}get title(){return this[d].title}get description(){return this[d].description}get creationDate(){return new Date(this[d].created_at)}get publishDate(){return new Date(this[d].published_at)}get url(){return this[d].url}get thumbnailUrl(){return this[d].thumbnail_url}getThumbnailUrl(e,r){return this[d].thumbnail_url.replace("%{width}",e.toString()).replace("%{height}",r.toString())}get isPublic(){return this[d].viewable==="public"}get views(){return this[d].view_count}get language(){return this[d].language}get type(){return this[d].type}get duration(){return this[d].duration}get durationInSeconds(){const e=this[d].duration.match(/\d+[hms]/g);if(!e)throw new _n(`Could not parse duration string: ${this[d].duration}`);return e.map(r=>{const n=/(\d+)([hms])/.exec(r);if(!n)throw new _n(`Could not parse partial duration string: ${r}`);const[,i,s]=n;return parseInt(i,10)*{h:3600,m:60,s:1}[s]}).reduce((r,n)=>r+n)}get streamId(){return this[d].stream_id}get mutedSegmentData(){var e,r;return(r=(e=this[d].muted_segments)===null||e===void 0?void 0:e.slice())!==null&&r!==void 0?r:[]}isMutedAt(e,r,n=!1){if(this[d].muted_segments===null)return!1;if(r==null)return this[d].muted_segments.some(s=>s.offset<=e&&e<=s.offset+s.duration);const i=e+r;return n?this[d].muted_segments.some(s=>{const o=s.offset+s.duration;return e<o&&s.offset<i}):this[d].muted_segments.some(s=>{const o=s.offset+s.duration;return s.offset<=e&&i<=o})}};S([j(!1)],Zn.prototype,"_client",void 0);S([he()],Zn.prototype,"durationInSeconds",null);Zn=S([Ma,N("api","HelixVideo","id")],Zn);var Al;let Au=Al=class extends ye{constructor(){super(...arguments),this._getVideoByIdBatcher=new Nt({url:"videos"},"id","id",this._client,e=>new Zn(e,this._client))}async getVideosByIds(e){return(await this._getVideos("id",e)).data}async getVideoById(e){const r=await this.getVideosByIds([e]);return r.length?r[0]:null}async getVideoByIdBatched(e){return await this._getVideoByIdBatcher.request(e)}async getVideosByUser(e,r={}){const n=x(e);return await this._getVideos("user_id",[n],r)}getVideosByUserPaginated(e,r={}){const n=x(e);return this._getVideosPaginated("user_id",[n],r)}async getVideosByGame(e,r={}){return await this._getVideos("game_id",[e],r)}getVideosByGamePaginated(e,r={}){return this._getVideosPaginated("game_id",[e],r)}async deleteVideosByIds(e,r){await this._client.callApi({type:"helix",url:"videos",method:"DELETE",scopes:["channel:manage:videos"],userId:x(e),query:{id:r}})}async _getVideos(e,r,n={}){if(!r.length)return{data:[]};const i=await this._client.callApi({type:"helix",url:"videos",userId:e==="user_id"?r[0]:void 0,query:{...Al._makeVideosQuery(e,r,n),...ae(n)}});return De(i,Zn,this._client)}_getVideosPaginated(e,r,n={}){return new Ce({url:"videos",userId:e==="user_id"?r[0]:void 0,query:Al._makeVideosQuery(e,r,n)},this._client,i=>new Zn(i,this._client))}static _makeVideosQuery(e,r,n={}){const{language:i,period:s,orderBy:o,type:a}=n;return{[e]:r,language:i,period:s,sort:o,type:a}}};S([j(!1)],Au.prototype,"_getVideoByIdBatcher",void 0);Au=Al=S([N("api","HelixVideoApi")],Au);function gM(t,e){return{from_user_id:x(t),to_user_id:x(e)}}let zp=class extends ye{async sendWhisper(e,r,n){await this._client.callApi({type:"helix",url:"whispers",method:"POST",userId:x(e),scopes:["user:manage:whispers"],query:gM(e,r),jsonBody:{message:n}})}};zp=S([N("api","HelixWhisperApi")],zp);class yM{constructor(e,r,n){this._options=e,this._httpStatus=r,this._resolvedUserId=n}get options(){return this._options}get httpStatus(){return this._httpStatus}get resolvedUserId(){return this._resolvedUserId}}let de=class extends Rs{constructor(e,r,n){super(),this.onRequest=this.registerEvent(),this._config=e,this._logger=r,this._rateLimiter=n}async requestScopesForUser(e,r){await this._config.authProvider.getAccessTokenForUser(e,...r.map(n=>[n]))}async getTokenInfo(){try{const e=await this.callApi({type:"auth",url:"validate"});return new ou(e)}catch(e){throw e instanceof oi&&e.statusCode===401?new Yn({cause:e}):e}}async callApi(e){var r;const{authProvider:n}=this._config;if(!((r=e.auth)!==null&&r!==void 0?r:!0))return await Oa(e,n.clientId,void 0,void 0,this._config.fetchOptions);let s=!1;if(e.forceType)switch(e.forceType){case"app":{if(!n.getAppAccessToken)throw new Error("Tried to make an API call that requires an app access token but your auth provider does not support that");const l=await n.getAppAccessToken();return await this._callApiUsingInitialToken(e,l)}case"user":{s=!0;break}default:throw new _n(`Unknown forced token type: ${e.forceType}`)}if(e.scopes&&(s=!0),s){const l=e.canOverrideScopedUserContext?this._getUserIdFromRequestContext(e.userId):e.userId;if(!l)throw new Error("Tried to make an API call with a user context but no context user ID");const u=await n.getAccessTokenForUser(l,e.scopes);if(!u)throw new Error(`Tried to make an API call with a user context for user ID ${l} but no token was found`);if(Gi(u)&&n.refreshAccessTokenForUser){const c=await n.refreshAccessTokenForUser(l);return await this._callApiUsingInitialToken(e,c,!0)}return await this._callApiUsingInitialToken(e,u)}const o=this._getUserIdFromRequestContext(e.userId),a=o===null?await n.getAnyAccessToken():await n.getAnyAccessToken(o??e.userId);if(Gi(a)&&a.userId&&n.refreshAccessTokenForUser){const l=await n.refreshAccessTokenForUser(a.userId);return await this._callApiUsingInitialToken(e,l,!0)}return await this._callApiUsingInitialToken(e,a)}get bits(){return new Sp(this)}get channels(){return new uu(this)}get channelPoints(){return new xp(this)}get charity(){return new Cp(this)}get chat(){return new Ep(this)}get clips(){return new gu(this)}get contentClassificationLabels(){return new Tp(this)}get entitlements(){return new yu(this)}get eventSub(){return new Ip(this)}get extensions(){return new Ap(this)}get games(){return new xs(this)}get hypeTrain(){return new YO(this)}get goals(){return new Pp(this)}get moderation(){return new Rp(this)}get polls(){return new Mp(this)}get predictions(){return new Np(this)}get raids(){return new Bp(this)}get schedule(){return new cM(this)}get search(){return new Fp(this)}get streams(){return new ra(this)}get subscriptions(){return new $p(this)}get teams(){return new jp(this)}get users(){return new aa(this)}get videos(){return new Au(this)}get whispers(){return new zp(this)}get rateLimiterStats(){return this._rateLimiter instanceof fg?this._rateLimiter.stats:null}get _authProvider(){return this._config.authProvider}get _batchDelay(){var e;return(e=this._config.batchDelay)!==null&&e!==void 0?e:0}_getUserIdFromRequestContext(e){return e}async _callApiUsingInitialToken(e,r,n=!1){var i;const{authProvider:s}=this._config,{authorizationType:o}=s;let a=await this._callApiInternal(e,s.clientId,r.accessToken,o);if(a.status===401&&!n){if(r.userId){if(s.refreshAccessTokenForUser){const l=await s.refreshAccessTokenForUser(r.userId);a=await this._callApiInternal(e,s.clientId,l.accessToken,o)}}else if(s.getAppAccessToken){const l=await s.getAppAccessToken(!0);a=await this._callApiInternal(e,s.clientId,l.accessToken,o)}}return this.emit(this.onRequest,new yM(e,a.status,(i=r.userId)!==null&&i!==void 0?i:null)),await vp(a,e),await G1(a)}async _callApiInternal(e,r,n,i){var s,o,a;const{fetchOptions:l}=this._config,u=(s=e.type)!==null&&s!==void 0?s:"helix";this._logger.debug(`Calling ${u} API: ${(o=e.method)!==null&&o!==void 0?o:"GET"} ${e.url}`),this._logger.trace(`Query: ${JSON.stringify(e.query)}`),e.jsonBody&&this._logger.trace(`Request body: ${JSON.stringify(e.jsonBody)}`);const c=UO.operation({retries:3,minTimeout:500,factor:2}),{promise:f,resolve:h,reject:v}=Lo();c.attempt(async()=>{try{const _=u==="helix"?await this._rateLimiter.request({options:e,clientId:r,accessToken:n,authorizationType:i,fetchOptions:l}):await vc(e,r,n,i,l);!_.ok&&_.status>=500&&_.status<600&&await vp(_,e),h(_)}catch(_){if(c.retry(_))return;v(c.mainError())}});const g=await f;return this._logger.debug(`Called ${u} API: ${(a=e.method)!==null&&a!==void 0?a:"GET"} ${e.url} - result: ${g.status}`),g}};S([he()],de.prototype,"bits",null);S([he()],de.prototype,"channels",null);S([he()],de.prototype,"channelPoints",null);S([he()],de.prototype,"charity",null);S([he()],de.prototype,"chat",null);S([he()],de.prototype,"clips",null);S([he()],de.prototype,"contentClassificationLabels",null);S([he()],de.prototype,"entitlements",null);S([he()],de.prototype,"eventSub",null);S([he()],de.prototype,"extensions",null);S([he()],de.prototype,"games",null);S([he()],de.prototype,"hypeTrain",null);S([he()],de.prototype,"goals",null);S([he()],de.prototype,"moderation",null);S([he()],de.prototype,"polls",null);S([he()],de.prototype,"predictions",null);S([he()],de.prototype,"raids",null);S([he()],de.prototype,"schedule",null);S([he()],de.prototype,"search",null);S([he()],de.prototype,"streams",null);S([he()],de.prototype,"subscriptions",null);S([he()],de.prototype,"teams",null);S([he()],de.prototype,"users",null);S([he()],de.prototype,"videos",null);S([he()],de.prototype,"whispers",null);de=S([Ma,N("api","ApiClient")],de);let Gp=class extends de{_getUserIdFromRequestContext(){return null}};Gp=S([N("api","ApiClient")],Gp);let Pu=class extends de{constructor(e,r,n,i){super(e,r,n),this._userId=i}_getUserIdFromRequestContext(){return this._userId}};Pu=S([N("api","ApiClient")],Pu);let Wp=class extends de{constructor(e){if(!e.authProvider)throw new SO("No auth provider given. Please supply the `authProvider` option.");const r={name:"twurple:api:rate-limiter",...e.logger};super(e,Ps({name:"twurple:api:client",...e.logger}),uc?new KR({getPartitionKey:n=>{var i;return(i=n.userId)!==null&&i!==void 0?i:null},createChild:()=>new xO({logger:r})}):new q1({logger:r,bucketSize:800,timeFrame:64e3,doRequest:async({options:n,clientId:i,accessToken:s,authorizationType:o,fetchOptions:a})=>await vc(n,i,s,o,a),getPartitionKey:n=>{var i;return(i=n.userId)!==null&&i!==void 0?i:null}}))}async asUser(e,r){const n=new Pu(this._config,this._logger,this._rateLimiter,x(e));return await r(n)}async asIntent(e,r){if(!this._authProvider.getAccessTokenForIntent)throw new Error("Trying to use intents with an auth provider that does not support them");for(const n of e){const i=await this._authProvider.getAccessTokenForIntent(n);if(i){const s=new Pu(this._config,this._logger,this._rateLimiter,i.userId);return await r(s)}}throw new Error(`Intents [${e.join(", ")}] not found in auth provider`)}async withoutUser(e){const r=new Gp(this._config,this._logger,this._rateLimiter);return await e(r)}};Wp=S([N("api","ApiClient")],Wp);function Os(){const{data:t}=Fo("twitch"),{clientId:e}=Bo.twitch,r=new Ss(e,t||"",Bo.twitch.scopes);return new Wp({authProvider:r})}function In(){const{data:t}=Fo("twitch"),e=Os();return xn({enabled:!!t,queryKey:["twitch","broadcaster",t],queryFn:async()=>{const{clientId:r}=Bo.twitch,{userId:n}=await ws(t,r);if(!n)throw Error("Twitch broadcaster not found");const i=await e.users.getUserById(n);if(!i)throw Error("Twitch broadcaster not found");return{id:i.id,userName:i.name,displayName:i.displayName,image:i.profilePictureUrl,url:`https://www.twitch.tv/${i.name}`}},...di})}function gg(){const{data:t}=In(),e=Os();return xn({enabled:!!t,queryKey:["twitch","badges",t==null?void 0:t.id],queryFn:async()=>{const[r,n]=await Promise.all([e.chat.getGlobalBadges(),e.chat.getChannelBadges(t.id)]);return new vM(r,n)},...di})}class vM{constructor(e,r){Fa(this,"badgeMap",new Map);this.set(e),this.set(r)}transform(e){const r=[];return e.forEach((n,i)=>{const s=this.get(i,n);s&&r.push(s)}),r}get(e,r=e==="subscriber"||e==="founder"?"0":"1"){var i,s;const n=(s=(i=this.badgeMap.get(e))==null?void 0:i.get(r))==null?void 0:s.getImageUrl(4);if(n)return{id:e,image:n}}set(e){e.forEach(r=>{const n=new Map;r.versions.forEach(i=>{n.set(i.id,i)}),this.badgeMap.set(r.id,n)})}}class _M extends Rs{constructor({lineBased:e,logger:r,additionalOptions:n}={}){super(),this._currentLine="",this._connecting=!1,this._connected=!1,this.onReceive=this.registerEvent(),this.onConnect=this.registerEvent(),this.onDisconnect=this.registerEvent(),this.onEnd=this.registerEvent(),this._lineBased=e??!1,this._logger=r,this._additionalOptions=n}get isConnecting(){return this._connecting}get isConnected(){return this._connected}sendLine(e){this._connected&&(e=e.replace(/[\0\r\n]/g,""),this.sendRaw(`${e}\r
`))}assumeExternalDisconnect(){var e;(e=this._logger)===null||e===void 0||e.trace("AbstractConnection assumeExternalDisconnect"),this._connected=!1,this._connecting=!1,this.clearSocket(),this.emit(this.onDisconnect,!1)}receiveRaw(e){var r,n;if(!this._lineBased){this.emit(this.onReceive,e);return}const i=e.split(`\r
`);if(this._currentLine+=(r=i.shift())!==null&&r!==void 0?r:"",i.length){this.emit(this.onReceive,this._currentLine),this._currentLine=(n=i.pop())!==null&&n!==void 0?n:"";for(const s of i)this.emit(this.onReceive,s)}}}class wM{constructor(){throw new Error("DirectConnection is not implemented in a browser environment")}}class SM extends Rs{constructor(e,r,n={}){var i;super(),this._type=e,this._target=r,this._config=n,this._retryLimit=1/0,this._initialRetryLimit=3,this._connecting=!1,this._connectionRetryCount=0,this.onReceive=this.registerEvent(),this.onConnect=this.registerEvent(),this.onDisconnect=this.registerEvent(),this.onEnd=this.registerEvent(),this._retryLimit=(i=n.retryLimit)!==null&&i!==void 0?i:1/0,this._logger=n.logger}get isConnected(){var e,r;return(r=(e=this._currentConnection)===null||e===void 0?void 0:e.isConnected)!==null&&r!==void 0?r:!1}get isConnecting(){var e,r;return(r=(e=this._currentConnection)===null||e===void 0?void 0:e.isConnecting)!==null&&r!==void 0?r:this._connecting}get hasSocket(){var e,r;return(r=(e=this._currentConnection)===null||e===void 0?void 0:e.hasSocket)!==null&&r!==void 0?r:!1}sendLine(e){var r;(r=this._currentConnection)===null||r===void 0||r.sendLine(e)}connect(){if(this._currentConnection||this._connecting)throw new Error("Connection already present");this._connecting=!0,this._connectionRetryCount=0,this._tryConnect(!0)}disconnect(){var e;if((e=this._logger)===null||e===void 0||e.trace(`PersistentConnection disconnect currentConnectionExists:${(!!this._currentConnection).toString()} connecting:${this._connecting.toString()}`),this._connecting=!1,this._currentConnection){const r=this._currentConnection;this._currentConnection=void 0,r.disconnect()}}assumeExternalDisconnect(){var e,r;(e=this._logger)===null||e===void 0||e.trace("PersistentConnection assumeExternalDisconnect"),(r=this._currentConnection)===null||r===void 0||r.assumeExternalDisconnect()}reconnect(){this._reconnect(!0)}acknowledgeSuccessfulReconnect(){this._previousConnection&&(this._previousConnection.disconnect(),this._previousConnection=void 0)}_startTryingToConnect(e=!1){this._connecting=!0,this._connectionRetryCount=0,this._tryConnect(e)}_tryConnect(e=!1){var r,n;(r=this._logger)===null||r===void 0||r.trace(`PersistentConnection tryConnect currentConnectionExists:${(!!this._currentConnection).toString()} connecting:${this._connecting.toString()}`);const i=e?this._initialRetryLimit:this._retryLimit;(n=this._retryTimerGenerator)!==null&&n!==void 0||(this._retryTimerGenerator=t1(120));const s=this._currentConnection=new this._type(BP(this._target),this._config);s.onReceive(o=>this.emit(this.onReceive,o)),s.onConnect(()=>{this.emit(this.onConnect),this._connecting=!1,this._retryTimerGenerator=void 0}),s.onDisconnect((o,a)=>{var l,u,c;if(this.emit(this.onDisconnect,o,a),o)this.emit(this.onEnd,!0),this._connecting=!1,this._retryTimerGenerator=void 0,s.disconnect(),this._currentConnection===s&&(this._currentConnection=void 0),this._previousConnection===s&&(this._previousConnection=void 0);else if(this._connecting){if((l=this._logger)===null||l===void 0||l.debug(`Connection error caught: ${(u=a==null?void 0:a.message)!==null&&u!==void 0?u:"unknown error"}`),this._connectionRetryCount>=i)return;this._connectionRetryCount++;const f=this._retryTimerGenerator.next().value;f!==0&&((c=this._logger)===null||c===void 0||c.info(`Retrying in ${f} seconds`)),setTimeout(()=>{var h;this._connecting&&((h=this._logger)===null||h===void 0||h.info(e?"Retrying connection":"Trying to reconnect"),this._tryConnect())},f*1e3)}else this._reconnect()}),s.connect()}_reconnect(e=!1){e&&this._config.overlapManualReconnect?(this._previousConnection=this._currentConnection,this._currentConnection=void 0):this.disconnect(),this._startTryingToConnect(e)}}var Ci=null;typeof WebSocket<"u"?Ci=WebSocket:typeof MozWebSocket<"u"?Ci=MozWebSocket:typeof global<"u"?Ci=global.WebSocket||global.MozWebSocket:typeof window<"u"?Ci=window.WebSocket||window.MozWebSocket:typeof self<"u"&&(Ci=self.WebSocket||self.MozWebSocket);class xM extends _M{constructor(e,r){if(super(r),this._socket=null,this._closingOnDemand=!1,e.hostName&&e.port)this._url=`ws${e.secure?"s":""}://${e.hostName}:${e.port}`;else if(e.url)this._url=e.url;else throw new Error("WebSocketConnection requires either hostName & port or url to be set")}get hasSocket(){return!!this._socket}sendRaw(e){var r;(r=this._socket)===null||r===void 0||r.send(e)}connect(){var e,r;(e=this._logger)===null||e===void 0||e.trace("WebSocketConnection connect"),this._connecting=!0,this._socket=new Ci(this._url,(r=this._additionalOptions)===null||r===void 0?void 0:r.wsOptions),this._socket.onopen=()=>{var n;(n=this._logger)===null||n===void 0||n.trace("WebSocketConnection onOpen"),this._connected=!0,this._connecting=!1,this.emit(this.onConnect)},this._socket.onmessage=({data:n})=>{this.receiveRaw(n.toString())},this._socket.onerror=n=>{var i;(i=this._logger)===null||i===void 0||i.trace(`WebSocketConnection onError message:${n.message}`)},this._socket.onclose=n=>{var i;const s=this._connected,o=this._connecting;if((i=this._logger)===null||i===void 0||i.trace(`WebSocketConnection onClose wasConnected:${s.toString()} wasConnecting:${o.toString()} closingOnDemand:${this._closingOnDemand.toString()} wasClean:${n.wasClean.toString()}`),this._connected=!1,this._connecting=!1,n.wasClean||this._closingOnDemand)this._closingOnDemand=!1,this.emit(this.onDisconnect,!0),this.emit(this.onEnd,!0);else{const a=new Error(`[${n.code}] ${n.reason}`);this.emit(this.onDisconnect,!1,a),this.emit(this.onEnd,!1,a)}this.clearSocket()}}disconnect(){var e,r;(e=this._logger)===null||e===void 0||e.trace("WebSocketConnection disconnect"),this._closingOnDemand=!0,(r=this._socket)===null||r===void 0||r.close()}clearSocket(){this._socket&&(this._socket.onopen=null,this._socket.onmessage=null,this._socket.onerror=null,this._socket.onclose=null,this._socket=null)}}function po(t){var e,r,n;if(Array.isArray(t)){for(r=Array(e=t.length);e--;)r[e]=(n=t[e])&&typeof n=="object"?po(n):n;return r}if(Object.prototype.toString.call(t)==="[object Object]"){r={};for(e in t)e==="__proto__"?Object.defineProperty(r,e,{value:po(t[e]),configurable:!0,enumerable:!0,writable:!0}):r[e]=(n=t[e])&&typeof n=="object"?po(n):n;return r}return t}const CM={name:"away-notify"};class ku extends Error{constructor(e,r,n){super(`command "${e}" expected ${r} or more parameters, got ${n}`),this._command=e,this._expectedParams=r,this._actualParams=n,Object.setPrototypeOf(this,ku.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ku)}get command(){return this._command}get expectedParams(){return this._expectedParams}get actualParams(){return this._actualParams}}class Ru extends Error{constructor(e,r,n,i){var s;super(`required parameter "${r}" did not validate against ${(s=n.type)!==null&&s!==void 0?s:"regex"} validation: "${i}"`),this._command=e,this._paramName=r,this._paramSpec=n,this._givenValue=i,Object.setPrototypeOf(this,Ru.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ru)}get command(){return this._command}get paramName(){return this._paramName}get paramSpec(){return this._paramSpec}get givenValue(){return this._givenValue}}const Qi={channelTypes:"#&",supportedUserModes:"iwso",supportedChannelModes:{prefix:"ov",list:"b",alwaysWithParam:"ovk",paramWhenSet:"l",noParam:"imnpst"},prefixes:[{modeChar:"v",prefix:"+"},{modeChar:"o",prefix:"@"}]};var Z1={exports:{}};(function(t){t.exports=e=>{if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")},t.exports.default=t.exports})(Z1);var bM=Z1.exports;const EM=li(bM);function Vp(t,e="#&"){return new RegExp(`^[${EM(e)}][^ \b\0
\r,]+$`).test(t)}const R0={0:"\0",n:`
`,r:"\r","":""};function O0(t){if(!t.startsWith("")||(t=t.substring(1),t.endsWith("")&&(t=t.slice(0,-1)),!t))return!1;t=t.replace(/\x10(.)/,(n,i)=>i in R0?R0[i]:"");let[e,r=""]=Qn(t," ",2);return e=e?e.toUpperCase():"",{command:e,params:r}}const TM={"\\":"\\",";":":","\n":"n","\r":"r"," ":"s"};function IM(t){return t.replace(/[\\;\n\r ]/g,e=>`\\${TM[e]}`)}function AM(t){let e=`${t.nick}`;return t.user&&(e+=`!${t.user}`),t.host&&(e+=`@${t.host}`),e}function PM(t,e,r,n,i=Qi,s=!1){const o=new t(t.COMMAND,void 0,{serverProperties:i}),a={};if(o._paramSpec&&cp(o._paramSpec,(l,u)=>{if(!(s&&l.noServer)&&!(!s&&l.noClient)){if(u in e){const c=e[u];if(c!==void 0){if(t.checkParam(c,l,i))a[u]={value:c,trailing:!!l.trailing};else if(!l.optional)throw new Error(`required parameter "${u}" did not suit requirements: "${c}"`)}}if(!(u in a)&&!l.optional)throw new Error(`required parameter "${u}" not found in command "${t.COMMAND}"`)}}),o._parsedParams=a,o._paramSpec)for(const l of Object.keys(o._paramSpec))Object.defineProperty(o,l,{get(){var u,c;return(c=(u=this._parsedParams)===null||u===void 0?void 0:u[l])===null||c===void 0?void 0:c.value}});return o._initPrefixAndTags(r,n),o}let R=class eC{static checkParam(e,r,n=Qi){return!(r.type==="channel"&&!Vp(e,n.channelTypes)||r.type==="channelList"&&!e.split(",").every(s=>Vp(s,n.channelTypes))||r.match&&!r.match.test(e))}constructor(e,{params:r,tags:n,prefix:i,rawLine:s}={},{serverProperties:o=Qi,isServer:a=!1,shouldParseParams:l=!0}={},u){this._params=[],this._serverProperties=Qi,this._paramSpec=u,this._command=e,this._params=r,this._tags=n??new Map,this._prefix=i,this._serverProperties=o,this._raw=s,l&&this.parseParams(a)}getMinParamCount(e=!1){return this._paramSpec?Object.values(this._paramSpec).filter(r=>r.noServer&&e||r.noClient&&!e?!1:!r.optional).length:0}get paramCount(){var e,r;return(r=(e=this._params)===null||e===void 0?void 0:e.length)!==null&&r!==void 0?r:0}prefixToString(){return this._prefix?AM(this._prefix):""}tagsToString(){return[...this._tags.entries()].map(([e,r])=>r?`${e}=${IM(r)}`:e).join(";")}toString(e=!1,r=!1){const i=[r?this._buildCommandFromRawParams():this._buildCommandFromNamedParams()];if(e){const o=this.prefixToString();o&&i.unshift(`:${o}`)}const s=this.tagsToString();return s&&i.unshift(`@${s}`),i.join(" ")}_initPrefixAndTags(e,r){this._prefix=e,r&&(this._tags=r)}parseParams(e=!1){if(this._params){let r=this.getMinParamCount(e);if(r>this._params.length)throw new ku(this._command,r,this._params.length);const n=this._paramSpec;if(!n)return;let i=0;const s={};for(const[o,a]of Object.entries(n)){if(a.noServer&&e||a.noClient&&!e)continue;if(this._params.length-i<=r){if(a.optional)continue;if(this._params.length-i!==r)throw new Error("not enough parameters left for required parameters parsing (this is a library bug)")}let l=this._params[i];if(!l){if(a.optional)break;throw new Error("unexpected parameter underflow")}if(a.rest){const u=[];for(;this._params[i]&&!this._params[i].trailing;)u.push(this._params[i].value),++i;if(!u.length){if(a.optional)continue;throw new Error(`no parameters left for required rest parameter "${o}"`)}l={value:u.join(" "),trailing:!1}}if(eC.checkParam(l.value,a))s[o]={...l},a.optional||--r,a.rest||++i;else if(!a.optional)throw new Ru(this._command,o,a,l.value);if(a.trailing)break}if(this._parsedParams=s,this._paramSpec)for(const o of Object.keys(this._paramSpec))Object.defineProperty(this,o,{get(){var a,l;return(l=(a=this._parsedParams)===null||a===void 0?void 0:a[o])===null||l===void 0?void 0:l.value}})}}get rawParamValues(){var e,r;return(r=(e=this._params)===null||e===void 0?void 0:e.map(n=>n.value))!==null&&r!==void 0?r:[]}get prefix(){return this._prefix}get command(){return this._command}get tags(){return this._tags}get rawLine(){return this._raw}isResponseTo(e){return!1}endsResponseTo(e){return!1}_acceptsInReplyCollection(e){return e.isResponseTo(this)}_buildCommandFromNamedParams(){const e=this._paramSpec?Object.keys(this._paramSpec):[];return[this._command,...e.map(r=>{var n;const i=(n=this._parsedParams)===null||n===void 0?void 0:n[r];if(i)return(i.trailing?":":"")+i.value}).filter(r=>r!==void 0)].join(" ")}_buildCommandFromRawParams(){var e,r;return[this._command,...(r=(e=this._params)===null||e===void 0?void 0:e.map(n=>`${n.trailing?":":""}${n.value}`))!==null&&r!==void 0?r:[]].join(" ")}};R.COMMAND="";R.SUPPORTS_CAPTURE=!1;class tC extends R{constructor(e,r,n){super(e,r,n,{reference:{},type:{optional:!0},additionalParams:{optional:!0}})}}tC.COMMAND="BATCH";const kM={name:"batch",messageTypes:[tC],usesTags:!0},RM={name:"cap-notify"};class rC extends R{constructor(e,r,n){super(e,r,n,{newUser:{},newHost:{}})}}rC.COMMAND="CHGHOST";const OM={name:"chghost",messageTypes:[rC]},MM={name:"invite-notify"};class nC extends R{}nC.COMMAND="ACK";const NM={name:"labeled-response",messageTypes:[nC],usesTags:!0},DM={name:"message-tags",usesTags:!0},BM={name:"multi-prefix"},UM=Object.freeze(Object.defineProperty({__proto__:null,AwayNotify:CM,Batch:kM,CapNotify:RM,ChgHost:OM,InviteNotify:MM,LabeledResponse:NM,MessageTags:DM,MultiPrefix:BM},Symbol.toStringTag,{value:"Module"}));class FM{constructor(e,r,...n){this._client=e,this._originalMessage=r,this._messages=[],this._endEventHandlers=new Map,this._types=new Set(n)}untilEvent(e){this._cleanEndEventHandler(e);const r=this._client.on(e,()=>this.end());this._endEventHandlers.set(e,r)}async promise(){return this._promise||(this._promise=new Promise(e=>this._promiseResolve=e)),await this._promise}collect(e){return this._originalMessage._acceptsInReplyCollection(e)?(this._messages.push(e),e.endsResponseTo(this._originalMessage)&&this.end(),!0):!1}end(){this._client.stopCollect(this),this._cleanEndEventHandlers(),this._promiseResolve&&this._promiseResolve(this._messages)}_cleanEndEventHandlers(){this._endEventHandlers.forEach(e=>this._client.removeListener(e)),this._endEventHandlers.clear()}_cleanEndEventHandler(e){this._endEventHandlers.has(e)&&(this._client.removeListener(this._endEventHandlers.get(e)),this._endEventHandlers.delete(e))}}class yg extends R{constructor(e,r,n){super(e,r,n,{password:{}})}}yg.COMMAND="PASS";class mo extends R{constructor(e,r,n){super(e,r,n,{nick:{}})}}mo.COMMAND="NICK";class vg extends R{constructor(e,r,n){super(e,r,n,{user:{},mode:{},unused:{},realName:{trailing:!0}})}}vg.COMMAND="USER";class iC extends R{constructor(e,r,n){super(e,r,n,{name:{},password:{}})}}iC.COMMAND="OPER";class _g extends R{constructor(e,r,n){super(e,r,n,{text:{trailing:!0,optional:!0}})}}_g.COMMAND="QUIT";class sC extends R{constructor(e,r,n){super(e,r,n,{server:{},reason:{trailing:!0}})}}sC.COMMAND="SQUIT";class la extends R{constructor(e,r,n){super(e,r,n,{channel:{type:"channel"},key:{optional:!0}})}}la.COMMAND="JOIN";class ua extends R{constructor(e,r,n){super(e,r,n,{channel:{type:"channel"},reason:{trailing:!0,optional:!0}})}}ua.COMMAND="PART";class Ou extends Error{constructor(e){super(`Unknown channel mode character ${e}`),this._char=e,Object.setPrototypeOf(this,Ou.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ou)}get char(){return this._char}}class oC extends R{constructor(e,r,n){super(e,r,n,{target:{},modes:{rest:!0,optional:!0}})}get isChannel(){return Vp(this.target,this._serverProperties.channelTypes)}separate(){const e=[],r=this.modes;if(!r)throw new Error("can't separate a channel mode request, just set actions");const n=r.split(" "),i=n.shift();let s="add";for(const o of i){let a=s;switch(o){case"+":{s="add";break}case"-":{s="remove";break}default:{let l=!1,u=!0;if(this.isChannel){if(this._serverProperties.supportedChannelModes.alwaysWithParam.includes(o)||this._serverProperties.supportedChannelModes.prefix.includes(o))l=!0;else if(this._serverProperties.supportedChannelModes.paramWhenSet.includes(o))s==="add"&&(l=!0);else if(this._serverProperties.supportedChannelModes.list.includes(o))n.length?l=!0:a="getList";else if(!this._serverProperties.supportedChannelModes.noParam.includes(o))throw new Ou(o)}else u=this._serverProperties.supportedUserModes.includes(o);if(l&&!n.length)continue;e.push({prefix:this._prefix,action:a,letter:o,param:l?n.shift():void 0,known:u})}}}return e}}oC.COMMAND="MODE";class aC extends R{constructor(e,r,n){super(e,r,n,{channel:{type:"channel"},newTopic:{optional:!0,trailing:!0}})}}aC.COMMAND="TOPIC";class Na extends R{constructor(e,r,n){super(e,r,n,{channel:{type:"channelList",optional:!0}})}}Na.COMMAND="NAMES";Na.SUPPORTS_CAPTURE=!0;class lC extends R{constructor(e,r,n){super(e,r,n,{channel:{optional:!0},server:{optional:!0}})}}lC.COMMAND="LIST";class uC extends R{constructor(e,r,n){super(e,r,n,{target:{},channel:{type:"channel"}})}}uC.COMMAND="INVITE";class cC extends R{constructor(e,r,n){super(e,r,n,{channel:{type:"channel"},target:{},reason:{trailing:!0,optional:!0}})}}cC.COMMAND="KICK";class dC extends R{constructor(e,r,n){super(e,r,n,{server:{optional:!0}})}}dC.COMMAND="TIME";class ca extends R{constructor(e,r,n){super(e,r,n,{target:{},text:{trailing:!0}})}}ca.COMMAND="PRIVMSG";class wc extends R{constructor(e,r,n){super(e,r,n,{target:{},text:{trailing:!0}})}}wc.COMMAND="NOTICE";class Sc extends R{constructor(e,r,n){super(e,r,n,{mask:{},flags:{optional:!0},extendedMask:{optional:!0,trailing:!0}})}}Sc.COMMAND="WHO";class hC extends R{constructor(e,r,n){super(e,r,n,{server:{optional:!0},nickMask:{}})}}hC.COMMAND="WHOIS";class fC extends R{constructor(e,r,n){super(e,r,n,{nick:{},count:{optional:!0},server:{optional:!0}})}}fC.COMMAND="WHOWAS";class pC extends R{constructor(e,r,n){super(e,r,n,{target:{},reason:{trailing:!0,optional:!0}})}}pC.COMMAND="KILL";class Mu extends R{constructor(e,r,n){super(e,r,n,{text:{trailing:!0}})}}Mu.COMMAND="PING";class Nu extends R{constructor(e,r,n){super(e,r,n,{server:{noClient:!0},text:{trailing:!0}})}}Nu.COMMAND="PONG";class mC extends R{constructor(e,r,n){super(e,r,n,{text:{trailing:!0}})}}mC.COMMAND="ERROR";class gC extends R{constructor(e,r,n){super(e,r,n,{text:{trailing:!0,optional:!0}})}}gC.COMMAND="AWAY";class yC extends R{}yC.COMMAND="REHASH";class vC extends R{}vC.COMMAND="RESTART";class _C extends R{constructor(e,r,n){super(e,r,n,{text:{trailing:!0}})}}_C.COMMAND="WALLOPS";class wC extends R{constructor(e,r,n){super(e,r,n,{nicks:{rest:!0}})}}wC.COMMAND="USERHOST";class SC extends R{constructor(e,r,n){super(e,r,n,{nicks:{rest:!0}})}}SC.COMMAND="ISON";class Pt extends R{constructor(e,r,n){super(e,r,n,{target:{match:/^(?:[a-z_\-\[\]\\^{}|`][a-z0-9_\-\[\]\\^{}|`]+|\*)$/i,optional:!0,noClient:!0},subCommand:{match:/^(?:LS|LIST|REQ|ACK|NAK|END|NEW|DEL)$/i},version:{match:/^\d+$/,optional:!0},continued:{match:/^\*$/,optional:!0},capabilities:{trailing:!0,optional:!0}})}isResponseTo(e){if(!(e instanceof Pt))return!1;switch(this.subCommand){case"ACK":case"NAK":return e.subCommand==="REQ"&&e.capabilities===this.capabilities.trim();case"LS":case"LIST":return e.subCommand===this.subCommand;default:return!1}}endsResponseTo(e){if(!(e instanceof Pt))return!1;switch(this.subCommand){case"LS":case"LIST":return!this.continued;default:return!0}}}Pt.COMMAND="CAP";Pt.SUPPORTS_CAPTURE=!0;class xC extends R{constructor(e,r,n){super(e,r,n,{target:{}})}}xC.COMMAND="TAGMSG";const CC=Object.freeze(Object.defineProperty({__proto__:null,Away:gC,CapabilityNegotiation:Pt,ChannelInvite:uC,ChannelJoin:la,ChannelKick:cC,ChannelList:lC,ChannelPart:ua,ClientQuit:_g,ErrorMessage:mC,IsOnQuery:SC,Kill:pC,Mode:oC,Names:Na,NickChange:mo,Notice:wc,OperLogin:iC,Password:yg,Ping:Mu,Pong:Nu,PrivateMessage:ca,Rehash:yC,Restart:vC,ServerQuit:sC,TagMessage:xC,Time:dC,Topic:aC,UserHostQuery:wC,UserRegistration:vg,Wallops:_C,WhoIsQuery:hC,WhoQuery:Sc,WhoWasQuery:fC},Symbol.toStringTag,{value:"Module"}));class wg extends R{constructor(e,r,n){super(e,r,n,{me:{},welcomeText:{trailing:!0}})}}wg.COMMAND="001";class bC extends R{constructor(e,r,n){super(e,r,n,{me:{},yourHost:{trailing:!0}})}}bC.COMMAND="002";class EC extends R{constructor(e,r,n){super(e,r,n,{me:{},createdText:{trailing:!0}})}}EC.COMMAND="003";class Sg extends R{constructor(e,r,n){super(e,r,n,{me:{},serverName:{},version:{},userModes:{},channelModes:{},channelModesWithParam:{optional:!0}})}}Sg.COMMAND="004";class xg extends R{constructor(e,r,n){super(e,r,n,{me:{},supports:{rest:!0},suffix:{trailing:!0}})}}xg.COMMAND="005";class TC extends R{constructor(e,r,n){super(e,r,n,{me:{},modes:{}})}}TC.COMMAND="221";class IC extends R{constructor(e,r,n){super(e,r,n,{me:{},nick:{},text:{trailing:!0}})}}IC.COMMAND="301";class AC extends R{constructor(e,r,n){super(e,r,n,{me:{},hosts:{trailing:!0}})}}AC.COMMAND="302";class PC extends R{constructor(e,r,n){super(e,r,n,{me:{},suffix:{trailing:!0}})}}PC.COMMAND="305";class kC extends R{constructor(e,r,n){super(e,r,n,{me:{},suffix:{trailing:!0}})}}kC.COMMAND="306";class RC extends R{constructor(e,r,n){super(e,r,n,{me:{},nick:{},username:{},host:{},_unused:{},realname:{trailing:!0}})}}RC.COMMAND="311";class OC extends R{constructor(e,r,n){super(e,r,n,{me:{},query:{},suffix:{trailing:!0}})}isResponseTo(e){return e instanceof Sc}endsResponseTo(){return!0}}OC.COMMAND="315";class MC extends R{constructor(e,r,n){super(e,r,n,{me:{},nickMask:{},suffix:{trailing:!0}})}}MC.COMMAND="318";class NC extends R{constructor(e,r,n){super(e,r,n,{me:{},nick:{},channels:{trailing:!0}})}}NC.COMMAND="319";class DC extends R{constructor(e,r,n){super(e,r,n,{me:{},channel:{type:"channel"},memberCount:{},topic:{trailing:!0}})}}DC.COMMAND="322";class BC extends R{constructor(e,r,n){super(e,r,n,{me:{},suffix:{trailing:!0}})}}BC.COMMAND="323";class UC extends R{constructor(e,r,n){super(e,r,n,{me:{},channel:{type:"channel"},modes:{rest:!0}})}}UC.COMMAND="324";class FC extends R{constructor(e,r,n){super(e,r,n,{me:{},channel:{type:"channel"},suffix:{trailing:!0}})}}FC.COMMAND="331";class LC extends R{constructor(e,r,n){super(e,r,n,{me:{},channel:{type:"channel"},topic:{trailing:!0}})}}LC.COMMAND="332";class qC extends R{constructor(e,r,n){super(e,r,n,{me:{},channel:{type:"channel"},who:{},ts:{}})}}qC.COMMAND="333";class $C extends R{constructor(e,r,n){super(e,r,n,{me:{},nick:{},channel:{type:"channel"}})}}$C.COMMAND="341";class jC extends R{constructor(e,r,n){super(e,r,n,{me:{},channel:{type:"channel"},mask:{},creatorName:{optional:!0},timestamp:{optional:!0}})}}jC.COMMAND="348";class HC extends R{constructor(e,r,n){super(e,r,n,{me:{},channel:{type:"channel"},suffix:{trailing:!0}})}}HC.COMMAND="349";class zC extends R{constructor(e,r,n){super(e,r,n,{me:{},channel:{},user:{},host:{},server:{},nick:{},flags:{},hopsAndRealName:{trailing:!0}})}get isAway(){return this.flags.includes("G")}get isOper(){return this.flags.includes("*")}get isBot(){return this.flags.includes("B")}isResponseTo(e){return e instanceof Sc}}zC.COMMAND="352";class GC extends R{constructor(e,r,n){super(e,r,n,{me:{},channelType:{},channel:{type:"channel"},names:{trailing:!0}})}isResponseTo(e){return e instanceof Na}}GC.COMMAND="353";class WC extends R{constructor(e,r,n){super(e,r,n,{me:{},channel:{},suffix:{trailing:!0}})}isResponseTo(e){return e instanceof Na}endsResponseTo(){return!0}}WC.COMMAND="366";class VC extends R{constructor(e,r,n){super(e,r,n,{me:{},channel:{type:"channel"},mask:{},creatorName:{optional:!0},timestamp:{optional:!0}})}}VC.COMMAND="367";class QC extends R{constructor(e,r,n){super(e,r,n,{me:{},channel:{type:"channel"},suffix:{trailing:!0}})}}QC.COMMAND="368";class KC extends R{constructor(e,r,n){super(e,r,n,{me:{},line:{trailing:!0}})}}KC.COMMAND="372";class JC extends R{constructor(e,r,n){super(e,r,n,{me:{},line:{trailing:!0}})}}JC.COMMAND="375";class Cg extends R{constructor(e,r,n){super(e,r,n,{me:{},suffix:{trailing:!0}})}}Cg.COMMAND="376";class YC extends R{constructor(e,r,n){super(e,r,n,{me:{},suffix:{trailing:!0}})}}YC.COMMAND="381";class XC extends R{constructor(e,r,n){super(e,r,n,{me:{},server:{optional:!0},timestamp:{trailing:!0}})}}XC.COMMAND="391";class ZC extends R{constructor(e,r,n){super(e,r,n,{me:{},nick:{},suffix:{trailing:!0}})}}ZC.COMMAND="401";class eb extends R{constructor(e,r,n){super(e,r,n,{me:{},server:{},suffix:{trailing:!0}})}}eb.COMMAND="402";class tb extends R{constructor(e,r,n){super(e,r,n,{me:{},channel:{},suffix:{trailing:!0}})}}tb.COMMAND="403";class rb extends R{constructor(e,r,n){super(e,r,n,{me:{},channel:{type:"channel"},suffix:{trailing:!0}})}}rb.COMMAND="404";class nb extends R{constructor(e,r,n){super(e,r,n,{me:{},channel:{type:"channel"},suffix:{trailing:!0}})}}nb.COMMAND="405";class ib extends R{constructor(e,r,n){super(e,r,n,{me:{},subCommand:{},suffix:{trailing:!0}})}}ib.COMMAND="410";class sb extends R{constructor(e,r,n){super(e,r,n,{me:{},originalCommand:{},suffix:{trailing:!0}})}isResponseTo(e){return e.command===this.originalCommand}endsResponseTo(){return!0}}sb.COMMAND="421";class bg extends R{constructor(e,r,n){super(e,r,n,{me:{},suffix:{trailing:!0}})}}bg.COMMAND="422";class ob extends R{constructor(e,r,n){super(e,r,n,{me:{},suffix:{trailing:!0}})}isResponseTo(e){return e.command==="NICK"}endsResponseTo(){return!0}}ob.COMMAND="431";class ab extends R{constructor(e,r,n){super(e,r,n,{me:{},nick:{},suffix:{trailing:!0}})}isResponseTo(e){return e.command==="NICK"}endsResponseTo(){return!0}}ab.COMMAND="432";class lb extends R{constructor(e,r,n){super(e,r,n,{me:{},nick:{},suffix:{trailing:!0}})}isResponseTo(e){return e.command==="NICK"}endsResponseTo(){return!0}}lb.COMMAND="433";class ub extends R{constructor(e,r,n){super(e,r,n,{me:{},nick:{},suffix:{trailing:!0}})}isResponseTo(e){return e.command==="NICK"}endsResponseTo(){return!0}}ub.COMMAND="436";class cb extends R{constructor(e,r,n){super(e,r,n,{me:{},nick:{},channel:{type:"channel"},suffix:{trailing:!0}})}isResponseTo(e){return e.command==="NICK"}endsResponseTo(){return!0}}cb.COMMAND="441";class db extends R{constructor(e,r,n){super(e,r,n,{me:{},channel:{type:"channel"},suffix:{trailing:!0}})}isResponseTo(e){return e.command==="NICK"}endsResponseTo(){return!0}}db.COMMAND="442";class hb extends R{constructor(e,r,n){super(e,r,n,{me:{},nick:{},channel:{type:"channel"},suffix:{trailing:!0}})}isResponseTo(e){return e.command==="NICK"}endsResponseTo(){return!0}}hb.COMMAND="443";class fb extends R{constructor(e,r,n){super(e,r,n,{me:{},suffix:{trailing:!0}})}}fb.COMMAND="451";class pb extends R{constructor(e,r,n){super(e,r,n,{me:{},originalCommand:{},suffix:{trailing:!0}})}}pb.COMMAND="461";class Eg extends R{constructor(e,r,n){super(e,r,n,{me:{},suffix:{trailing:!0}})}}Eg.COMMAND="462";class mb extends R{constructor(e,r,n){super(e,r,n,{me:{},channel:{type:"channel"},suffix:{trailing:!0}})}}mb.COMMAND="471";class gb extends R{constructor(e,r,n){super(e,r,n,{me:{},char:{},suffix:{trailing:!0}})}}gb.COMMAND="472";class yb extends R{constructor(e,r,n){super(e,r,n,{me:{},channel:{type:"channel"},suffix:{trailing:!0}})}}yb.COMMAND="473";class vb extends R{constructor(e,r,n){super(e,r,n,{me:{},channel:{type:"channel"},suffix:{trailing:!0}})}}vb.COMMAND="474";class _b extends R{constructor(e,r,n){super(e,r,n,{me:{},channel:{type:"channel"},suffix:{trailing:!0}})}}_b.COMMAND="475";class wb extends R{constructor(e,r,n){super(e,r,n,{me:{},channel:{},suffix:{trailing:!0}})}}wb.COMMAND="479";class Sb extends R{constructor(e,r,n){super(e,r,n,{me:{},suffix:{trailing:!0}})}}Sb.COMMAND="481";class xb extends R{constructor(e,r,n){super(e,r,n,{me:{},channel:{},suffix:{trailing:!0}})}}xb.COMMAND="482";class Cb extends R{constructor(e,r,n){super(e,r,n,{me:{},suffix:{trailing:!0}})}}Cb.COMMAND="491";class bb extends R{constructor(e,r,n){super(e,r,n,{me:{},modeChar:{optional:!0,match:/^\w$/},suffix:{trailing:!0}})}}bb.COMMAND="501";class Eb extends R{constructor(e,r,n){super(e,r,n,{me:{},suffix:{trailing:!0}})}}Eb.COMMAND="502";const Tb=Object.freeze(Object.defineProperty({__proto__:null,Error401NoSuchNick:ZC,Error402NoSuchServer:eb,Error403NoSuchChannel:tb,Error404CanNotSendToChan:rb,Error405TooManyChannels:nb,Error410InvalidCapCmd:ib,Error421UnknownCommand:sb,Error422NoMotd:bg,Error431NoNickNameGiven:ob,Error432ErroneusNickname:ab,Error433NickNameInUse:lb,Error436NickCollision:ub,Error441UserNotInChannel:cb,Error442NotOnChannel:db,Error443UserOnChannel:hb,Error451NotRegistered:fb,Error461NeedMoreParams:pb,Error462AlreadyRegistered:Eg,Error471ChannelIsFull:mb,Error472UnknownMode:gb,Error473InviteOnlyChan:yb,Error474BannedFromChan:vb,Error475BadChannelKey:_b,Error479BadChanName:wb,Error481NoPrivileges:Sb,Error482ChanOpPrivsNeeded:xb,Error491NoOperHost:Cb,Error501UmodeUnknownFlag:bb,Error502UsersDontMatch:Eb,Reply001Welcome:wg,Reply002YourHost:bC,Reply003Created:EC,Reply004ServerInfo:Sg,Reply005Isupport:xg,Reply221UmodeIs:TC,Reply301Away:IC,Reply302UserHost:AC,Reply305UnAway:PC,Reply306NowAway:kC,Reply311WhoisUser:RC,Reply315EndOfWho:OC,Reply318EndOfWhois:MC,Reply319WhoisChannels:NC,Reply322List:DC,Reply323ListEnd:BC,Reply324ChannelModeIs:UC,Reply331NoTopic:FC,Reply332Topic:LC,Reply333TopicWhoTime:qC,Reply341Inviting:$C,Reply348ExceptList:jC,Reply349EndOfExceptList:HC,Reply352WhoReply:zC,Reply353NamesReply:GC,Reply366EndOfNames:WC,Reply367BanList:VC,Reply368EndOfBanList:QC,Reply372Motd:KC,Reply375MotdStart:JC,Reply376EndOfMotd:Cg,Reply381YoureOper:YC,Reply391Time:XC},Symbol.toStringTag,{value:"Module"})),LM=new Map([...Object.values(CC),...Object.values(Tb)].map(t=>[t.COMMAND,t]));function qM(t){const[e,r]=Qn(t,"!",2);if(r){const[n,i]=Qn(r,"@",2);return i?{nick:e,user:n,host:i}:{nick:e,host:n}}else return{nick:e}}const M0={":":";",n:`
`,r:"\r",s:" "};function $M(t){const e=new Map,r=t.split(";");for(const n of r){const[i,s]=Qn(n,"=",2);i!==""&&e.set(i,s?s.replace(/\\(.?)/g,(o,a)=>Object.prototype.hasOwnProperty.call(M0,a)?M0[a]:a):"")}return e}function jM(t,e=Qi,r=LM,n=!1,i=[],s=!0){const o=t.split(" ");let a,l;const u=[];let c,f;for(;o.length;){if(a=o[0],a.startsWith("@")&&!c&&!l&&!f)c=$M(a.slice(1));else if(a.startsWith(":"))if(!f&&!l)a.length>1&&(f=qM(a.slice(1)));else{u.push({value:o.join(" ").slice(1),trailing:!0});break}else l?u.push({value:a,trailing:!1}):l=a.toUpperCase();o.shift()}if(c||(c=new Map),!l)throw new Error(`line without command received: ${t}`);s&&(s=!i.includes(l));let h=R;return r.has(l)&&(h=r.get(l)),new h(l,{params:u,tags:c,prefix:f,rawLine:t},{serverProperties:e,isServer:n,shouldParseParams:s})}class Ib extends Rs{constructor(e){super(),this._registered=!1,this._supportsCapabilities=!0,this._events=new Map,this._registeredMessageTypes=new Map,this.onConnect=this.registerEvent(),this.onRegister=this.registerEvent(),this.onDisconnect=this.registerEvent(),this.onPrivmsg=this.registerEvent(),this.onAction=this.registerEvent(),this.onNotice=this.registerEvent(),this.onNickChange=this.registerEvent(),this.onCtcp=this.registerEvent(),this.onCtcpReply=this.registerEvent(),this.onPasswordError=this.registerEvent(),this.onAnyMessage=this.registerEvent(),this._serverProperties=po(Qi),this._supportedFeatures={},this._collectors=[],this._clientCapabilities=new Map,this._serverCapabilities=new Map,this._negotiatedCapabilities=new Map,this._currentChannels=new Set,this._hasRegisteredBefore=!1,this._channelsFromLastRegister=new Set,this._initialConnectionSetupDone=!1;const{connection:r,credentials:n,channels:i,channelTypes:s,webSocket:o,logger:a={}}=e;this._options=e;const{pingOnInactivity:l=60,pingTimeout:u=10}=r;this._pingOnInactivity=l,this._pingTimeout=u,this._currentNick=n.nick,this._logger=Ps({name:"ircv3",emoji:!0,...a}),this.registerCoreMessageTypes();const{hostName:c,secure:f,reconnect:h=!0}=r,v={hostName:c,port:this.port,secure:f},g={lineBased:!0,logger:this._logger,additionalOptions:e.connectionOptions},_=o?xM:wM;h?this._connection=new SM(_,v,g):this._connection=new _(g,this._logger,e.connectionOptions);for(const w of Object.values(UM))this.addCapability(w);this.addInternalListener(this.onRegister,async()=>{const w=this._hasRegisteredBefore,p=this._channelsFromLastRegister;this._hasRegisteredBefore=!0,this._channelsFromLastRegister=new Set;const m=w&&this._options.rejoinChannelsOnReconnect?p:await up(i);if(m)for(const y of m)this.join(y)}),this.onTypedMessage(Pt,async({subCommand:w,capabilities:p})=>{const m=p.split(" ");switch(w.toUpperCase()){case"NEW":{this._logger.debug(`Server registered new capabilities: ${m.join(", ")}`);const y=Zs(m,E=>{if(!E)return{};const[O,M]=Qn(E,"=",2);return{[O]:{name:O,param:M||!0}}});for(const[E,O]of Object.entries(y))this._serverCapabilities.set(E,O);const C=Object.keys(y);await this._negotiateCapabilities(Array.from(this._clientCapabilities.entries()).filter(([E])=>C.includes(E)).map(([,E])=>E));break}case"DEL":{this._logger.debug(`Server removed capabilities: ${m.join(", ")}`);for(const y of m)this._serverCapabilities.delete(y),this._negotiatedCapabilities.delete(y)}}}),this.onTypedMessage(Mu,({text:w})=>{this.sendMessage(Nu,{text:w})}),this.onTypedMessage(wg,({me:w})=>this._handleReceivedClientNick(w)),this.onTypedMessage(Sg,({userModes:w})=>{w&&(this._serverProperties.supportedUserModes=w)}),this.onTypedMessage(xg,({supports:w})=>{const p=Zs(w.split(" "),m=>{const[y,C]=Qn(m,"=",2);return{[y]:C||!0}});this._supportedFeatures={...this._supportedFeatures,...p}}),this.onTypedMessage(Cg,({me:w})=>{this._registered||(this._handleReceivedClientNick(w),this._registered=!0,this.emit(this.onRegister))}),this.onTypedMessage(bg,({me:w})=>{this._registered||(this._handleReceivedClientNick(w),this._registered=!0,this.emit(this.onRegister))}),this.onTypedMessage(Eg,({me:w})=>{this._registered||(this._logger.warn("We thought we're not registered yet, but we actually are"),this._handleReceivedClientNick(w),this._registered=!0,this.emit(this.onRegister))}),this.onTypedMessage(ca,w=>{var p;const{target:m,text:y}=w,C=O0(y),E=(p=w.prefix)===null||p===void 0?void 0:p.nick;C?C.command==="ACTION"?this.emit(this.onAction,m,E,C.params,w):this.emit(this.onCtcp,m,E,C.command,C.params,w):this.emit(this.onPrivmsg,m,E,y,w)}),this.onTypedMessage(mo,w=>{var p;const{nick:m}=w,y=(p=w.prefix)===null||p===void 0?void 0:p.nick;y===this._currentNick&&(this._currentNick=m),this.emit(this.onNickChange,y,m,w)}),this.onTypedMessage(wc,w=>{var p;const{target:m,text:y}=w,C=O0(y),E=(p=w.prefix)===null||p===void 0?void 0:p.nick;C&&this.emit(this.onCtcpReply,m,E,C.command,C.params,w),this.emit(this.onNotice,m,E,y,w)}),this._options.manuallyAcknowledgeJoins||this.onTypedMessage(la,({channel:w,prefix:p})=>{(p==null?void 0:p.nick)===this._currentNick&&this.acknowledgeJoin(w)}),this.onTypedMessage(ua,w=>{var p;((p=w.prefix)===null||p===void 0?void 0:p.nick)===this._currentNick&&(this._currentChannels.delete(w.channel),this._channelsFromLastRegister.delete(w.channel))}),this.addInternalListener(this.onRegister,()=>this._startPingCheckTimer()),this._desiredNick=n.nick,this._userName=n.userName,this._realName=n.realName,s&&(this._serverProperties.channelTypes=s)}receiveLine(e){var r;this._logger.debug(`Received message: ${e}`);let n;try{n=jM(e,this._serverProperties,this._registeredMessageTypes,!0,this._options.nonConformingCommands)}catch(i){this._logger.error(`Error parsing message: ${i.message}`),this._logger.trace((r=i.stack)!==null&&r!==void 0?r:"No stack available");return}this._logger.trace(`Parsed message: ${JSON.stringify(n)}`),this._startPingCheckTimer(),this.emit(this.onAnyMessage,n),this._handleEvents(n)}get serverProperties(){return po(this._serverProperties)}get port(){const{webSocket:e,connection:{port:r,secure:n}}=this._options;return r||(e?n?443:80:n?6697:6667)}pingCheck(){const e=Date.now(),r=e.toString(),n=this.onTypedMessage(Nu,i=>{const{text:s}=i;s===r&&(this._logger.debug(`Current ping: ${Date.now()-e}ms`),this._pingTimeoutTimer&&clearTimeout(this._pingTimeoutTimer),this.removeMessageListener(n))});this._pingTimeoutTimer=setTimeout(()=>{this.removeMessageListener(n),this._options.connection.reconnect===!1?this._logger.error(`Disconnecting because the last ping took over ${this._pingTimeout} seconds`):this._logger.warn(`Reconnecting because the last ping took over ${this._pingTimeout} seconds`),this._connection.assumeExternalDisconnect()},this._pingTimeout*1e3),this.sendMessage(Mu,{text:r})}reconnect(e){this.quit(e),this.connect()}registerMessageType(e){e.COMMAND!==""&&(this._logger.trace(`Registering message type ${e.COMMAND}`),this._registeredMessageTypes.set(e.COMMAND.toUpperCase(),e))}knowsCommand(e){return this._registeredMessageTypes.has(e.toUpperCase())}getCommandClass(e){return this._registeredMessageTypes.get(e.toUpperCase())}acknowledgeJoin(e){this._currentChannels.add(e),this._channelsFromLastRegister.add(e)}connect(){this._supportsCapabilities=!1,this._negotiatedCapabilities=new Map,this._currentChannels=new Set,this._currentNick=this._desiredNick,this._setupConnection(),this._logger.info(`Connecting to ${this._options.connection.hostName}:${this.port}`),this._connection.connect()}addCapability(e){if(this._clientCapabilities.set(e.name,e),e.messageTypes)for(const r of Object.values(e.messageTypes))this.registerMessageType(r)}async registerCapability(e){return this.addCapability(e),this._serverCapabilities.has(e.name)?await this._negotiateCapabilities([e]):[]}send(e){this.sendRaw(e.toString())}sendRaw(e){this._connection.isConnected&&(this._logger.debug(`Sending message: ${e}`),this._connection.sendLine(e))}onNamedMessage(e,r,n){this._events.has(e)||this._events.set(e,new Map);const i=this._events.get(e);if(!n)do n=`${e}:${FP(Math.random()*1e4,4,"0")}`;while(i.has(n));return i.set(n,r),n}onTypedMessage(e,r,n){return this.onNamedMessage(e.COMMAND,r,n)}removeMessageListener(e){const[r]=e.split(":");this._events.has(r)&&this._events.get(r).delete(e)}createMessage(e,r,n){const i=n?new Map(Object.entries(n)):void 0;return PM(e,r,void 0,i,this.serverProperties)}sendMessage(e,r,n){this.send(this.createMessage(e,r,n))}async sendMessageAndCaptureReply(e,r){if(!e.SUPPORTS_CAPTURE)throw new Error(`The command "${e.COMMAND}" does not support reply capture`);const n=this.createMessage(e,r),i=this.collect(n).promise();return this.send(n),await i}get isConnected(){return this._connection.isConnected}get isConnecting(){return this._connection.isConnecting}get isRegistered(){return this._registered}get currentNick(){return this._currentNick}get currentChannels(){return Array.from(this._currentChannels)}collect(e,...r){const n=new FM(this,e,...r);return this._collectors.push(n),n}stopCollect(e){this._collectors.splice(this._collectors.findIndex(r=>r===e),1)}join(e,r){this.sendMessage(la,{channel:e,key:r})}part(e){this.sendMessage(ua,{channel:e})}quit(e){this.sendMessage(_g,{text:e}),this.quitAbruptly()}quitAbruptly(){this._registered=!1,this._connection.disconnect()}say(e,r,n={}){this.sendMessage(ca,{target:e,text:r},n)}sendCtcp(e,r,n){this.say(e,`${r.toUpperCase()} ${n}`)}action(e,r){this.sendCtcp(e,"ACTION",r)}changeNick(e){this._currentNick!==e&&(this._desiredNick=e,this.isRegistered&&this.sendMessage(mo,{nick:e}))}registerCoreMessageTypes(){cp(CC,e=>{this.registerMessageType(e)}),cp(Tb,e=>{this.registerMessageType(e)})}async _negotiateCapabilityBatch(e){return await Promise.all(e.filter(r=>r.length).map(async r=>await this._negotiateCapabilities(r)))}async _negotiateCapabilities(e){const r=Zs(e,o=>({[o.name]:o})),i=(await this.sendMessageAndCaptureReply(Pt,{subCommand:"REQ",capabilities:e.map(o=>o.name).join(" ")})).shift();if(!i)throw new Error("capability negotiation failed unexpectedly without any reply");if(!(i instanceof Pt))throw new Error(`capability negotiation failed unexpectedly with "${i.command}" command`);const s=i.capabilities.split(" ").filter(o=>o);if(i.subCommand==="ACK"){this._logger.debug(`Successfully negotiated capabilities: ${s.join(", ")}`);const o=s.map(a=>r[a]);for(const a of o){const l=this._clientCapabilities.get(a.name);l.param=a.param,this._negotiatedCapabilities.set(l.name,l)}return o}else return this._logger.warn(`Failed to negotiate capabilities: ${s.join(", ")}`),new Error("capabilities failed to negotiate")}_setupConnection(){this._initialConnectionSetupDone||(this._connection.onConnect(async()=>{var e,r;this._logger.info(`Connection to server ${this._options.connection.hostName}:${this.port} established`),this.emit(this.onConnect),this._logger.debug("Determining connection password");try{const[n]=await Promise.all([up(this._options.credentials.password),this.sendMessageAndCaptureReply(Pt,{subCommand:"LS",version:"302"}).then(i=>{if(!i.length||!(i[0]instanceof Pt))return this._logger.debug("Server does not support capabilities"),[];this._supportsCapabilities=!0;const s=i.map(a=>Zs(a.capabilities.split(" "),l=>{if(!l)return{};const[u,c]=Qn(l,"=",2);return{[u]:{name:u,param:c||!0}}}));this._serverCapabilities=new Map(Object.entries(Object.assign({},...s))),this._logger.debug(`Capabilities supported by server: ${Array.from(this._serverCapabilities.keys()).join(", ")}`);const o=s.map(a=>{const l=Object.keys(a);return Array.from(this._clientCapabilities.entries()).filter(([u])=>l.includes(u)).map(([,u])=>u)});return this._negotiateCapabilityBatch(o)}).then(()=>{this.sendMessage(Pt,{subCommand:"END"})})]);n&&this.sendMessage(yg,{password:n}),this.sendMessage(mo,{nick:this._desiredNick}),this.sendMessage(vg,{user:(e=this._userName)!==null&&e!==void 0?e:this._desiredNick,mode:"8",unused:"*",realName:(r=this._realName)!==null&&r!==void 0?r:this._desiredNick})}catch(n){this.emit(this.onPasswordError,n),this.quit()}}),this._initialConnectionSetupDone=!0,this._connection.onReceive(e=>{this.receiveLine(e)}),this._connection.onDisconnect((e,r)=>{var n;if(this._registered=!1,this._pingCheckTimer&&clearTimeout(this._pingCheckTimer),this._pingTimeoutTimer&&clearTimeout(this._pingTimeoutTimer),e)this._logger.info("Disconnected");else{const i=(n=this._options.connection.reconnect)!==null&&n!==void 0?n:!0,s=r?`Disconnected unexpectedly: ${r.message}`:"Disconnected unexpectedly";i?this._logger.warn(`${s}; trying to reconnect`):this._logger.error(s)}this.emit(this.onDisconnect,e,r)}),this._connection.onEnd(e=>{e||this._logger.warn("No further retries will be made")}))}_handleReceivedClientNick(e){this._currentNick!==e&&(this._currentNick!==""&&this._logger.warn(`Mismatching nicks: passed ${this._currentNick}, but you're actually ${e}`),this._currentNick=e)}_handleEvents(e){this._collectors.some(n=>n.collect(e));const r=this._events.get(e.constructor.COMMAND);if(r)for(const n of r.values())n(e)}_startPingCheckTimer(){this._pingCheckTimer&&clearTimeout(this._pingCheckTimer),this._connection.isConnected?this._pingCheckTimer=setTimeout(()=>this.pingCheck(),this._pingOnInactivity*1e3):this._pingCheckTimer=void 0}}S([j(!1)],Ib.prototype,"_options",void 0);class Tg extends R{constructor(e,r,n){super(e,r,n,{channel:{type:"channel"},user:{trailing:!0,optional:!0}})}get date(){const e=this._tags.get("tmi-sent-ts");return new Date(Number(e))}get channelId(){return this._tags.get("room-id")}get targetUserId(){var e;return(e=this._tags.get("target-user-id"))!==null&&e!==void 0?e:null}}Tg.COMMAND="CLEARCHAT";class Ab extends R{}Ab.COMMAND="RECONNECT";class Ig extends R{constructor(e,r,n){super(e,r,n,{channel:{type:"channel"}})}}Ig.COMMAND="ROOMSTATE";var Pl;let Sn=Pl=class{constructor(e,r){this._userName=e.toLowerCase(),this._userData=r?new Map(r):new Map}static _parseBadgesLike(e){return e?new Map(e.split(",").map(r=>{const n=r.indexOf("/");return n===-1?[r,""]:[r.slice(0,n),r.slice(n+1)]})):new Map}get userName(){return this._userName}get displayName(){var e;return(e=this._userData.get("display-name"))!==null&&e!==void 0?e:this._userName}get color(){return this._userData.get("color")}get badges(){const e=this._userData.get("badges");return Pl._parseBadgesLike(e)}get badgeInfo(){const e=this._userData.get("badge-info");return Pl._parseBadgesLike(e)}get userId(){return this._userData.get("user-id")}get userType(){return this._userData.get("user-type")}get isBroadcaster(){return this.badges.has("broadcaster")}get isSubscriber(){return this.badges.has("subscriber")||this.isFounder}get isFounder(){return this.badges.has("founder")}get isMod(){return this.badges.has("moderator")}get isVip(){const e=this._userData.get("vip");return e!=null&&e!=="0"}get isArtist(){return this.badges.has("artist-badge")}};S([j(!1)],Sn.prototype,"_userData",void 0);S([he()],Sn.prototype,"badges",null);S([he()],Sn.prototype,"badgeInfo",null);Sn=Pl=S([Ma,N("chat","ChatUser","userId")],Sn);function Ag(t){return t?new Map(t.split("/").map(e=>{const[r,n]=e.split(":",2);return n?[r,n.split(",")]:null}).filter(e=>e!==null)):new Map}class xc extends R{constructor(e,r,n){super(e,r,n,{channel:{type:"channel"},text:{trailing:!0,optional:!0}})}get id(){return this._tags.get("id")}get date(){const e=this._tags.get("tmi-sent-ts");return new Date(Number(e))}get userInfo(){return new Sn(this._tags.get("login"),this._tags)}get channelId(){var e;return(e=this._tags.get("room-id"))!==null&&e!==void 0?e:null}get emoteOffsets(){return Ag(this._tags.get("emotes"))}}xc.COMMAND="USERNOTICE";class Pb extends R{constructor(e,r,n){super(e,r,n,{channel:{type:"channel"}})}}Pb.COMMAND="USERSTATE";class Pg extends R{constructor(e,r,n){super(e,r,n,{target:{},text:{trailing:!0}})}get userInfo(){return new Sn(this._prefix.nick,this._tags)}get emoteOffsets(){return Ag(this._tags.get("emotes"))}}Pg.COMMAND="WHISPER";const HM={name:"twitch.tv/commands",messageTypes:[Tg,Ab,Ig,xc,Pb,Pg]},zM={name:"twitch.tv/membership"};class kg extends R{constructor(e,r,n){super(e,r,n,{channel:{type:"channel"},text:{trailing:!0}})}get date(){const e=this._tags.get("tmi-sent-ts");return new Date(Number(e))}get userName(){return this._tags.get("login")}get channelId(){return this._tags.get("room-id")}get targetMessageId(){return this._tags.get("target-msg-id")}}kg.COMMAND="CLEARMSG";class kb extends R{}kb.COMMAND="GLOBALUSERSTATE";const GM={name:"twitch.tv/tags",messageTypes:[kb,kg]},WM=["ONE","TWO","THREE","FOUR","FIVE","SIX","SEVEN","EIGHT","NINE","TEN"];let Du=class extends ca{get id(){return this._tags.get("id")}get date(){const e=this._tags.get("tmi-sent-ts");return new Date(Number(e))}get userInfo(){return new Sn(this._prefix.nick,this._tags)}get channelId(){var e;return(e=this._tags.get("room-id"))!==null&&e!==void 0?e:null}get isCheer(){return this._tags.has("bits")}get isRedemption(){return!!this._tags.get("custom-reward-id")}get rewardId(){return this._tags.get("custom-reward-id")||null}get isFirst(){return this._tags.get("first-msg")==="1"}get isReturningChatter(){return this._tags.get("returning-chatter")==="1"}get isHighlight(){return this._tags.get("msg-id")==="highlighted-message"}get isReply(){return this._tags.has("reply-parent-msg-id")}get parentMessageId(){var e;return(e=this._tags.get("reply-parent-msg-id"))!==null&&e!==void 0?e:null}get parentMessageText(){var e;return(e=this._tags.get("reply-parent-msg-body"))!==null&&e!==void 0?e:null}get parentMessageUserId(){var e;return(e=this._tags.get("reply-parent-user-id"))!==null&&e!==void 0?e:null}get parentMessageUserName(){var e;return(e=this._tags.get("reply-parent-user-login"))!==null&&e!==void 0?e:null}get parentMessageUserDisplayName(){var e;return(e=this._tags.get("reply-parent-display-name"))!==null&&e!==void 0?e:null}get threadMessageId(){var e;return(e=this._tags.get("reply-thread-parent-msg-id"))!==null&&e!==void 0?e:null}get threadMessageUserId(){var e;return(e=this._tags.get("reply-thread-parent-user-id"))!==null&&e!==void 0?e:null}get bits(){var e;return Number((e=this._tags.get("bits"))!==null&&e!==void 0?e:0)}get emoteOffsets(){return Ag(this._tags.get("emotes"))}get isHypeChat(){return this._tags.has("pinned-chat-paid-amount")}get hypeChatAmount(){return Ut(this._tags.get("pinned-chat-paid-amount"),Number)}get hypeChatDecimalPlaces(){return Ut(this._tags.get("pinned-chat-paid-exponent"),Number)}get hypeChatLocalizedAmount(){const e=this.hypeChatAmount;return e?e/10**this.hypeChatDecimalPlaces:null}get hypeChatCurrency(){var e;return(e=this._tags.get("pinned-chat-paid-currency"))!==null&&e!==void 0?e:null}get hypeChatLevel(){const e=this._tags.get("pinned-chat-paid-level");return e?WM.indexOf(e)+1:null}get hypeChatIsSystemMessage(){const e=this._tags.get("pinned-chat-paid-is-system-message");return e?!!Number(e):null}};Du=S([N("chat","ChatMessage","id")],Du);function VM(t){return t instanceof Du?t.tags.get("id"):t}function N0(t,e){if(t.length<=e)return[t];t=t.trim();const r=[];let n=0,i=e;for(;n<t.length;){let s=t.lastIndexOf(" ",i);(s===-1||s<=n||t.length-n+1<=e)&&(s=n+e);const o=t.slice(n,s).trim();o.length&&r.push(o),n=s+(t[s]===" "?1:0),i=n+e}return r}const QM=/^[a-z0-9][a-z0-9_]{0,24}$/;function Ue(t){const e=t.replace(/^#/,"").toLowerCase();if(!QM.test(e))throw new Error(`"${e}" is not a valid user or channel name. It must be at most 25 characters long, can only include letters, numbers and underscores, and can not start with an underscore.`);return e}function ol(t){return`#${Ue(t)}`}var Qp;let Bu=Qp=class extends Rs{constructor(e={}){var r,n,i,s,o;if(e.authProvider&&!e.authProvider.getAccessTokenForIntent)throw new Il("You can not connect to chat using an AuthProvider that does not support intents.\nTo get an anonymous, read-only connection, please don't pass an `AuthProvider` at all.\nTo get a read-write connection, please provide an auth provider that provides user access tokens via intents, such as `RefreshingAuthProvider`.");super(),this._authVerified=!1,this._authRetryCount=0,this.onConnect=this.registerEvent(),this.onDisconnect=this.registerEvent(),this.onTimeout=this.registerEvent(),this.onBan=this.registerEvent(),this.onBitsBadgeUpgrade=this.registerEvent(),this.onChatClear=this.registerEvent(),this.onEmoteOnly=this.registerEvent(),this.onFollowersOnly=this.registerEvent(),this.onJoin=this.registerEvent(),this.onJoinFailure=this.registerEvent(),this.onPart=this.registerEvent(),this.onMessageRemove=this.registerEvent(),this.onUniqueChat=this.registerEvent(),this.onRaid=this.registerEvent(),this.onRaidCancel=this.registerEvent(),this.onRitual=this.registerEvent(),this.onSlow=this.registerEvent(),this.onSubsOnly=this.registerEvent(),this.onSub=this.registerEvent(),this.onResub=this.registerEvent(),this.onSubGift=this.registerEvent(),this.onCommunitySub=this.registerEvent(),this.onSubExtend=this.registerEvent(),this.onRewardGift=this.registerEvent(),this.onPrimePaidUpgrade=this.registerEvent(),this.onGiftPaidUpgrade=this.registerEvent(),this.onPrimeCommunityGift=this.registerEvent(),this.onStandardPayForward=this.registerEvent(),this.onCommunityPayForward=this.registerEvent(),this.onAnnouncement=this.registerEvent(),this.onWhisper=this.registerEvent(),this.onNoPermission=this.registerEvent(),this.onMessageRatelimit=this.registerEvent(),this.onAuthenticationSuccess=this.registerEvent(),this.onAuthenticationFailure=this.registerEvent(),this.onTokenFetchFailure=this.registerEvent(),this.onMessageFailed=this.registerEvent(),this.onMessage=this.registerEvent(),this.onAction=this.registerEvent(),this._onJoinResult=this.registerInternalEvent(),this._ircClient=new Ib({connection:{hostName:(r=e.hostName)!==null&&r!==void 0?r:!((n=e.webSocket)!==null&&n!==void 0)||n?"irc-ws.chat.twitch.tv":"irc.chat.twitch.tv",secure:(i=e.ssl)!==null&&i!==void 0?i:!0},credentials:{nick:"",password:async()=>await this._getAuthToken()},webSocket:(s=e.webSocket)!==null&&s!==void 0?s:!0,connectionOptions:e.connectionOptions,logger:{name:"twurple:chat:irc",...e.logger},nonConformingCommands:["004"],manuallyAcknowledgeJoins:!0,rejoinChannelsOnReconnect:e.rejoinChannelsOnReconnect}),this._ircClient.onDisconnect((u,c)=>{this._messageRateLimiter.clear(),this._messageRateLimiter.pause(),this._joinRateLimiter.clear(),this._joinRateLimiter.pause(),this.emit(this.onDisconnect,u,c)}),this._ircClient.registerMessageType(Du),this._chatLogger=Ps({name:"twurple:chat:twitch",...e.logger}),this._authProvider=e.authProvider,this._useLegacyScopes=!!e.legacyScopes,this._readOnly=!!e.readOnly,this._authIntents=[...(o=e.authIntents)!==null&&o!==void 0?o:[],"chat"];const a=async({type:u,text:c,channel:f,tags:h})=>{u==="say"?this._ircClient.say(f,c,h):this._ircClient.action(f,c)},l=async u=>{const{promise:c,resolve:f,reject:h}=Lo();let v;const g=this.addInternalListener(this._onJoinResult,(_,w,p)=>{_===u&&(clearTimeout(v),p?h(p):f(),this.removeListener(g))});v=setTimeout(()=>{this.removeListener(g),this.emit(this._onJoinResult,u,void 0,"twurple_timeout"),h(new Error(`Did not receive a reply to join ${u} in time; assuming that the join failed`))},1e4),this._ircClient.join(u),await c};if(e.isAlwaysMod)this._messageRateLimiter=new pp({bucketSize:e.botLevel==="verified"?7500:100,timeFrame:32e3,doRequest:a});else{let u=20;e.botLevel==="verified"?u=7500:e.botLevel==="known"&&(u=50),this._messageRateLimiter=new JR(new q1({bucketSize:1,timeFrame:1200,logger:{minLevel:V.ERROR},doRequest:a,getPartitionKey:({channel:c})=>c}),{bucketSize:u,timeFrame:32e3})}this._joinRateLimiter=new pp({bucketSize:e.botLevel==="verified"?2e3:20,timeFrame:11e3,doRequest:l}),this._messageRateLimiter.pause(),this._joinRateLimiter.pause(),this._ircClient.addCapability(GM),this._ircClient.addCapability(HM),e.requestMembershipEvents&&this._ircClient.addCapability(zM),this._ircClient.onConnect(()=>{this.emit(this.onConnect)}),this._ircClient.onRegister(async()=>{this._messageRateLimiter.resume(),this._joinRateLimiter.resume(),this._authVerified=!0,this._authRetryTimer=void 0,this._authRetryCount=0,this.emit(this.onAuthenticationSuccess);const u=await up(e.channels);u&&await Promise.all(u.map(async c=>{var f;try{await this.join(c)}catch(h){this._chatLogger.warn(`Failed to join configured channel ${c}; original message: ${(f=h==null?void 0:h.message)!==null&&f!==void 0?f:h}`)}}))}),this._ircClient.onPasswordError(u=>{this._chatLogger.error(`Error fetching a token for connecting to the server: ${u.message}`),this.emit(this.onTokenFetchFailure,u)}),this._ircClient.onPrivmsg((u,c,f,h)=>{c!=="jtv"&&this.emit(this.onMessage,Ue(u),c,f,h)}),this._ircClient.onAction((u,c,f,h)=>{this.emit(this.onAction,Ue(u),c,f,h)}),this.addInternalListener(this._onJoinResult,(u,c,f)=>{f?this.emit(this.onJoinFailure,Ue(u),f):this._ircClient.acknowledgeJoin(u)}),this._ircClient.onTypedMessage(Tg,u=>{const{channel:c,user:f,tags:h}=u,v=Ue(c);if(f){const g=h.get("ban-duration");g===void 0?this.emit(this.onBan,v,f,u):this.emit(this.onTimeout,v,f,Number(g),u)}else this.emit(this.onChatClear,v,u)}),this._ircClient.onTypedMessage(kg,u=>{const{channel:c,targetMessageId:f}=u;this.emit(this.onMessageRemove,Ue(c),f,u)}),this._ircClient.onTypedMessage(la,({prefix:u,channel:c})=>{this.emit(this.onJoin,Ue(c),u.nick)}),this._ircClient.onTypedMessage(ua,({prefix:u,channel:c})=>{this.emit(this.onPart,Ue(c),u.nick)}),this._ircClient.onTypedMessage(Ig,({channel:u,tags:c})=>{let f=!1;if(c.has("subs-only")&&c.has("slow")&&(this.emit(this._onJoinResult,u,c),f=!0),!f){const h=Ue(u);if(c.has("slow")){const v=Number(c.get("slow"));v?this.emit(this.onSlow,h,!0,v):this.emit(this.onSlow,h,!1)}if(c.has("followers-only")){const v=Number(c.get("followers-only"));v===-1?this.emit(this.onFollowersOnly,h,!1):this.emit(this.onFollowersOnly,h,!0,v)}}}),this._ircClient.onTypedMessage(xc,u=>{const{channel:c,text:f,tags:h}=u,v=h.get("msg-id"),g=Ue(c);switch(v){case"sub":case"resub":{const _=v==="sub"?this.onSub:this.onResub,w=h.get("msg-param-sub-plan"),p=h.get("msg-param-streak-months"),m={userId:h.get("user-id"),displayName:h.get("display-name"),plan:w,planName:h.get("msg-param-sub-plan-name"),isPrime:w==="Prime",months:Number(h.get("msg-param-cumulative-months")),streak:p?Number(p):void 0,message:f};if(h.get("msg-param-was-gifted")==="true"){const C=h.get("msg-param-anon-gift")==="true",E=Number(h.get("msg-param-gift-months")),O=Number(h.get("msg-param-gift-month-being-redeemed"));C?m.originalGiftInfo={anonymous:!0,duration:E,redeemedMonth:O}:m.originalGiftInfo={anonymous:!1,duration:E,redeemedMonth:O,userId:h.get("msg-param-gifter-id"),userName:h.get("msg-param-gifter-login"),userDisplayName:h.get("msg-param-gifter-name")}}this.emit(_,g,h.get("login"),m,u);break}case"subgift":{const _=h.get("msg-param-sub-plan"),w=h.get("login"),p=w==="ananonymousgifter",m={userId:h.get("msg-param-recipient-id"),displayName:h.get("msg-param-recipient-display-name"),gifter:p?void 0:w,gifterUserId:p?void 0:h.get("user-id"),gifterDisplayName:p?void 0:h.get("display-name"),gifterGiftCount:p?void 0:Number(h.get("msg-param-sender-count")),giftDuration:Number(h.get("msg-param-gift-months")),plan:_,planName:h.get("msg-param-sub-plan-name"),isPrime:_==="Prime",months:Number(h.get("msg-param-months"))};this.emit(this.onSubGift,g,h.get("msg-param-recipient-user-name"),m,u);break}case"submysterygift":{const _=h.get("login"),w=_==="ananonymousgifter",p={gifter:w?void 0:_,gifterUserId:w?void 0:h.get("user-id"),gifterDisplayName:w?void 0:h.get("display-name"),gifterGiftCount:w?void 0:Number(h.get("msg-param-sender-count")),count:Number(h.get("msg-param-mass-gift-count")),plan:h.get("msg-param-sub-plan")};this.emit(this.onCommunitySub,g,h.get("login"),p,u);break}case"primepaidupgrade":{const _={userId:h.get("user-id"),displayName:h.get("display-name"),plan:h.get("msg-param-sub-plan")};this.emit(this.onPrimePaidUpgrade,g,h.get("login"),_,u);break}case"giftpaidupgrade":{const _={userId:h.get("user-id"),displayName:h.get("display-name"),gifter:h.get("msg-param-sender-login"),gifterDisplayName:h.get("msg-param-sender-name")};this.emit(this.onGiftPaidUpgrade,g,h.get("login"),_,u);break}case"standardpayforward":{const _=h.get("msg-param-prior-gifter-anonymous")==="true",w={userId:h.get("user-id"),displayName:h.get("display-name"),originalGifterUserId:_?void 0:h.get("msg-param-prior-gifter-id"),originalGifterDisplayName:_?void 0:h.get("msg-param-prior-gifter-display-name"),recipientUserId:h.get("msg-param-recipient-id"),recipientDisplayName:h.get("msg-param-recipient-display-name")};this.emit(this.onStandardPayForward,g,h.get("login"),w,u);break}case"communitypayforward":{const _=h.get("msg-param-prior-gifter-anonymous")==="true",w={userId:h.get("user-id"),displayName:h.get("display-name"),originalGifterUserId:_?void 0:h.get("msg-param-prior-gifter-id"),originalGifterDisplayName:_?void 0:h.get("msg-param-prior-gifter-display-name")};this.emit(this.onCommunityPayForward,g,h.get("login"),w,u);break}case"primecommunitygiftreceived":{const _={name:h.get("msg-param-gift-name"),gifter:h.get("login"),gifterDisplayName:h.get("display-name")};this.emit(this.onPrimeCommunityGift,g,h.get("msg-param-recipient"),_,u);break}case"raid":{const _={displayName:h.get("msg-param-displayName"),viewerCount:Number(h.get("msg-param-viewerCount"))};this.emit(this.onRaid,g,h.get("login"),_,u);break}case"unraid":{this.emit(this.onRaidCancel,g,u);break}case"ritual":{const _={ritualName:h.get("msg-param-ritual-name"),message:f};this.emit(this.onRitual,g,h.get("login"),_,u);break}case"bitsbadgetier":{const _={displayName:h.get("display-name"),threshold:Number(h.get("msg-param-threshold"))};this.emit(this.onBitsBadgeUpgrade,g,h.get("login"),_,u);break}case"extendsub":{const _={userId:h.get("user-id"),displayName:h.get("display-name"),plan:h.get("msg-param-sub-plan"),months:Number(h.get("msg-param-cumulative-months")),endMonth:Number(h.get("msg-param-sub-benefit-end-month"))};this.emit(this.onSubExtend,g,h.get("login"),_,u);break}case"rewardgift":{const _={domain:h.get("msg-param-domain"),gifterId:h.get("user-id"),gifterDisplayName:h.get("display-name"),count:Number(h.get("msg-param-selected-count")),gifterGiftCount:Number(h.get("msg-param-total-reward-count")),triggerType:h.get("msg-param-trigger-type")};this.emit(this.onRewardGift,g,h.get("login"),_,u);break}case"announcement":{const _={color:h.get("msg-param-color")};this.emit(this.onAnnouncement,g,h.get("login"),_,u);break}default:this._chatLogger.warn(`Unrecognized usernotice ID: ${v}`)}}),this._ircClient.onTypedMessage(Pg,u=>{this.emit(this.onWhisper,u.prefix.nick,u.text,u)}),this._ircClient.onTypedMessage(wc,async({target:u,text:c,tags:f})=>{const h=f.get("msg-id");switch(h){case"emote_only_on":{this.emit(this.onEmoteOnly,Ue(u),!0);break}case"emote_only_off":{this.emit(this.onEmoteOnly,Ue(u),!1);break}case"msg_channel_suspended":case"msg_banned":{this.emit(this._onJoinResult,u,void 0,h);break}case"r9k_on":{this.emit(this.onUniqueChat,Ue(u),!0);break}case"r9k_off":{this.emit(this.onUniqueChat,Ue(u),!1);break}case"subs_on":{this.emit(this.onSubsOnly,Ue(u),!0);break}case"subs_off":{this.emit(this.onSubsOnly,Ue(u),!1);break}case"cmds_available":break;case"followers_on":case"followers_on_zero":case"followers_off":case"slow_on":case"slow_off":break;case"timeout_success":break;case"unrecognized_cmd":break;case"no_permission":{this.emit(this.onNoPermission,Ue(u),c);break}case"msg_ratelimit":{this.emit(this.onMessageRatelimit,Ue(u),c);break}case"msg_duplicate":case"msg_emoteonly":case"msg_followersonly":case"msg_followersonly_followed":case"msg_followersonly_zero":case"msg_subsonly":case"msg_slowmode":case"msg_r9k":case"msg_verified_email":case"msg_timedout":case"msg_rejected_mandatory":case"msg_channel_blocked":{this.emit(this.onMessageFailed,Ue(u),h);break}case void 0:{if(c==="Login authentication failed"||c==="Improperly formatted AUTH"||c==="Invalid NICK"){this._authVerified=!1,this._authRetryTimer||(this._authRetryTimer=t1(120),this._authRetryCount=0);const v=this._authRetryTimer.next().value,g=++this._authRetryCount;this.emit(this.onAuthenticationFailure,c,g),v!==0&&this._chatLogger.info(`Retrying authentication in ${v} seconds`),await UP(v*1e3),this._ircClient.reconnect()}break}default:h.startsWith("usage_")||this._chatLogger.warn(`Unrecognized notice ID: '${h}'`)}})}connect(){this._authProvider||this._ircClient.changeNick(Qp._generateJustinfanNick()),this._ircClient.connect()}get irc(){return this._ircClient}get isConnected(){return this._ircClient.isConnected}get isConnecting(){return this._ircClient.isConnecting}get currentChannels(){return this._ircClient.currentChannels}async say(e,r,n={},i){const s={};n.replyTo&&(s["reply-parent-msg-id"]=VM(n.replyTo));const o=N0(r,500);await Promise.all(o.map(async a=>await this._messageRateLimiter.request({type:"say",channel:ol(e),text:a,tags:s},i)))}async action(e,r,n){const i=N0(r,490);await Promise.all(i.map(async s=>await this._messageRateLimiter.request({type:"action",channel:ol(e),text:s},n)))}async join(e){await this._joinRateLimiter.request(ol(e))}part(e){this._ircClient.part(ol(e))}quit(){this._ircClient.quitAbruptly()}reconnect(){this.quit(),this.connect()}async _getAuthToken(){var e,r;if(!this._authProvider){this._chatLogger.debug("No authProvider given; connecting anonymously");return}if(this._authToken&&!Gi(this._authToken)&&this._authVerified)return this._chatLogger.debug("AccessToken assumed to be correct from last connection"),`oauth:${this._authToken.accessToken}`;const n=this._getNecessaryScopes();let i,s=!1;for(const o of this._authIntents){try{if(this._authToken=await this._authProvider.getAccessTokenForIntent(o,n),!this._authToken)continue;s=!0;const a=await ws(this._authToken.accessToken);if(!a.userName)throw new Il("Could not determine a user name for your token; you might be trying to disguise an app token as a user token.");return this._ircClient.changeNick(a.userName),`oauth:${this._authToken.accessToken}`}catch(a){a instanceof Yn?i=a:this._chatLogger.error(`Retrieving an access token failed: ${a.message}`)}this._chatLogger.warn("No valid token available; trying to refresh");try{if(this._authToken=await((r=(e=this._authProvider).refreshAccessTokenForIntent)===null||r===void 0?void 0:r.call(e,"chat")),this._authToken){const a=await ws(this._authToken.accessToken);if(!a.userName)throw new Il("Could not determine a user name for your token; you might be trying to disguise an app token as a user token.");return this._ircClient.changeNick(a.userName),`oauth:${this._authToken.accessToken}`}}catch(a){a instanceof Yn?i=a:this._chatLogger.error(`Refreshing the access token failed: ${a.message}`)}}throw this._authVerified=!1,i??new Error(s?"Could not retrieve a valid token":`None of the queried intents (${this._authIntents.join(", ")}) are known by the auth provider${this._authProvider instanceof wn?".\nPlease add one of these to the user you want to connect with using the `addIntentToUser` method or the additional parameter to `addUser` or `addUserForToken`.":""}`)}_getNecessaryScopes(){return this._useLegacyScopes?["chat_login"]:this._readOnly?["chat:read"]:["chat:read","chat:edit"]}static _generateJustinfanNick(){return`justinfan${Math.floor(Math.random()*1e5).toString().padStart(5,"0")}`}};S([j(!1)],Bu.prototype,"_authProvider",void 0);Bu=Qp=S([N("chat","ChatClient")],Bu);function Rb(t,e={}){const{animationSettings:r="default",backgroundType:n="dark",size:i="1.0"}=e;return`https://static-cdn.jtvnw.net/emoticons/v2/${t}/${r}/${n}/${i}`}function KM(t,e){return[...e.entries()].flatMap(([r,n])=>n.map(i=>{const[s,o]=i.split("-"),a=+s,l=+o,u=dp(t,a,l+1);return{type:"emote",position:a,length:l-a+1,id:r,name:u}})).sort((r,n)=>r.position-n.position)}function JM(t,e){const r=[],n=new RegExp("(?<=^|\\s)([a-z]+(?:\\d+[a-z]+)*)(\\d+)(?=\\s|$)","gi");let i=null;for(;i=n.exec(t);){const s=i[1].toLowerCase();if(e.includes(s)){const o=Number(i[2]);r.push({type:"cheer",name:s,amount:o,position:i1(t.slice(0,i.index)),length:i[0].length})}}return r}function YM(t,e){const r=i1(t);if(!e.length)return[{type:"text",position:0,length:r,text:t}];const n=[];let i=0;for(const s of e)s.position>i&&n.push({type:"text",position:i,length:s.position-i,text:dp(t,i,s.position)}),n.push(s),i=s.position+s.length;return i<r&&n.push({type:"text",position:i,length:r-i,text:dp(t,i)}),n}function XM(t,e,r){if(!t)return[];const n=KM(t,e);return r&&(n.push(...JM(t,r)),n.sort((i,s)=>i.position-s.position)),YM(t,n)}function Ob(){const{data:t}=In(),e=Os();return xn({enabled:!!t,queryKey:["twitch","channelEmotes",t==null?void 0:t.id],queryFn:async()=>(await e.chat.getChannelEmotes(t.id)).map(n=>{const{id:i,name:s}=n;return{id:i,name:s,images:{default:D0(i),static:D0(i,!0)},source:"twitch"}}),...di})}function D0(t,e=!1){function r(n){return Rb(t,{animationSettings:e?"static":"default",backgroundType:"light",size:n})}return{x1:r("1.0"),x2:r("2.0"),x4:r("3.0")}}function Cc(){const{data:t}=In(),e=Os();return xn({enabled:!!t,queryKey:["twitch","cheermotes",t==null?void 0:t.id],queryFn:async()=>{const r=await e.bits.getCheermotes(t.id);return new ZM(r)},...di})}class ZM{constructor(e){Fa(this,"cheermoteList");this.cheermoteList=e}getAllNames(){return this.cheermoteList.getPossibleNames()}get(e,r){return{name:e,amount:r,color:this.cheerColor(e,r),images:{default:this.buildCheermoteUrls(e,r),static:this.buildCheermoteUrls(e,r,!0)}}}cheerColor(e,r){return this.cheermoteList.getCheermoteDisplayInfo(e,r,{background:"light",scale:"1",state:"static"}).color}buildCheermoteUrls(e,r,n=!1){const i=this.cheermoteList;function s(o){return i.getCheermoteDisplayInfo(e,r,{background:"light",scale:o,state:n?"static":"animated"}).url}return{x1:s("1"),x2:s("2"),x4:s("4")}}}function eN(){const{data:t}=Rg(),e=rm();async function r(n){if(t)return await e.fetchQuery({queryKey:["twitch","pronouns","user",n],queryFn:async()=>{const i=await tN(n);if(i)return t.get(i)},staleTime:5*60*1e3,gcTime:1*60*60*1e3,retry:0})}return{getPronouns:r}}function Rg(){return xn({queryKey:["twitch","pronouns","all"],queryFn:async()=>rN(),...di})}const Mb=lc.create({baseURL:"https://pronouns.alejo.io/api"});async function tN(t){const e=await Mb.get(`/users/${t}`).then(n=>n.data).catch(()=>{});if(!e)return;const[r]=e;if(r)return r.pronoun_id}async function rN(){const t=new Map;return(await Mb.get("/pronouns").then(r=>r.data)).forEach(({name:r,display:n})=>{t.set(r,n)}),t}const nN=lc.create({baseURL:"https://api.betterttv.net/3/cached"});async function iN(t,e){const r=new Map,n=await nN.get(`/users/${t}/${e}`).then(a=>a.data).catch(()=>null);if(!n)return r;const{channelEmotes:i,sharedEmotes:s}=n;if(!i||!s)return r;function o(a){a.forEach(l=>{r.set(l.code,{id:l.id,name:l.code,images:{default:B0(l.id),static:B0(l.id,!0)},source:"betterttv"})})}return o(i),o(s),r}function B0(t,e=!1){function r(n){return`https://cdn.betterttv.net/emote/${t}${e?"/static":""}/${n}x`}return{x1:r(1),x2:r(2),x4:r(3)}}const sN=lc.create({baseURL:"https://api.frankerfacez.com/v1"});async function oN(t,e){const r=new Map,n=await sN.get(`/room/${aN(t)}/${e}`).then(s=>s.data).catch(()=>null);if(!n)return r;const{sets:i}=n;return i&&Object.keys(i).forEach(s=>{i[s].emoticons.forEach(o=>{r.set(o.name,{id:o.id.toString(),name:o.name,images:{default:U0(o),static:U0(o,!0)},source:"frankerfacez"})})}),r}function U0(t,e=!1){let r=t.urls[1],n=t.urls[2]||r,i=t.urls[4]||n;return!e&&t.animated&&(r=t.animated[1],n=t.animated[2]||r,i=t.animated[4]||n),{x1:r,x2:n,x4:i}}function aN(t){switch(t){case"twitch":return"id";case"youtube":return"yt";default:throw Error(`Unhandled platform "${t}" in FFZ Platform URL Transformer`)}}function bc(){const{data:t}=In();return xn({enabled:!!t,queryKey:["twitch","thirdPartyEmotes",t==null?void 0:t.id],queryFn:async()=>{const e=new Map;return(await Promise.all([iN("twitch",t.id),oN("twitch",t.id)])).forEach(n=>{n.forEach((i,s)=>{e.set(s,i)})}),e},retry:1,retryOnMount:!1,gcTime:1/0,staleTime:1/0,refetchOnMount:!1,refetchOnWindowFocus:!1,refetchOnReconnect:!1})}const F0=["broadcaster","moderator","artist","vip","founder","subscriber"],L0=["action","highlight","cheer","reply","redeem","resub","announcement"],q0=["1000","2000","3000","Prime"],$0=["PRIMARY","BLUE","GREEN","ORANGE","PURPLE"],j0=[1,5,10,50,100,500,1e3,5e3,1e4],H0=["",".","...","!","?","!!","!?","?!"];function lN(){const t=Vm(),{data:e}=bc(),{data:r}=Ob(),{data:n}=Cc(),{data:i}=gg(),{data:s}=Rg(),o=Ix("twitch");function a(){if(!o)return;const l=Array.from(s.values()),u=[...r,...Array.from(e.values())],c=new Date,f=!$e(0,19),h="test message",v=`long test message${" long test message".repeat(5)}`,g="LongTestMessage".repeat(7);let _=h;$e(0,19)||(_=v),$e(0,19)||(_=g),_=`${_}${H0[$e(0,H0.length-1)]}`;let w=_;f&&(_=`${_} (first time chat)`);const p=[],m={id:`test-user-${c.getTime()}`,userName:"testuser",displayName:"testUser",pronouns:$e(0,1)?void 0:l[$e(0,l.length-1)],badges:[],roles:{broadcaster:!1,moderator:!1,artist:!1,vip:!1,founder:!1,subscriber:!1},followDate:new Date(0)},y=$e(0,1)?"user":F0[$e(0,F0.length-1)],C=i.get(y==="artist"?"artist-badge":y);y!=="user"&&C&&(m.badges=[C],m.roles[y]=!0,(y==="founder"||y==="broadcaster")&&(m.roles.subscriber=!0),m.userName=`test${y}`,m.displayName=`test${y.charAt(0).toUpperCase()}${y.slice(1)}`);let E={type:"basic"};if($e(0,1)){const M=L0[$e(0,L0.length-1)];switch(M){case"action":_=`${_} (/me action message)`,w=_,E={type:M};break;case"highlight":_=`${_} (highlighted message)`,w=_,E={type:M};break;case"cheer":{const P=j0[$e(0,j0.length-1)],F="Cheer";E={type:M,cheer:{amount:P}};const H=`${F}${P}`;w=`${_} (cheer message)`,_=`${H} ${w}`,p.unshift({type:"text",text:" "}),p.unshift({type:"cheer",text:H,cheer:n.get(F,P)})}break;case"reply":E={type:M,reply:{id:`test-reply-${c.getTime()}`,text:"test message being replied to",user:{id:`test-user-reply-${c.getTime()}`,userName:"testreplyuser",displayName:"testReplyUser"}}},_=`${_} (reply message)`,w=_;break;case"redeem":E={type:M,redeem:{id:`test-redeem-${c.getTime()}`,name:"Test Redeem",image:"https://static-cdn.jtvnw.net/custom-reward-images/default-4.png",color:"#FFC6FF",cost:$e(1,1e4)}},_=`${_} (channel point redemption requiring text)`,w=_;break;case"resub":E={type:M,resub:{months:$e(1,24),tier:q0[$e(0,q0.length-1)]}},_=`${_} (resub message)`,w=_;break;case"announcement":(y==="broadcaster"||y==="moderator")&&(E={type:M,announcement:{color:$0[$e(0,$0.length-1)]}},_=`${_} (announcement message)`,w=_);break}}if($e(0,1)&&u.length){const M=u[$e(0,u.length-1)];p.unshift({type:"text",text:" "}),p.unshift({type:"emote",emote:M,text:M.name}),_=`${M.name} ${_}`}E.type==="basic"&&!$e(0,4)&&(_="hi",w=_),p.push({type:"text",text:w});const O={...E,id:`test-message-${c.getTime()}`,first:f,date:c,user:m,text:_,parts:p,source:"twitch",tags:new Map([["test","1"]])};t({type:"add",payload:O})}return a}function $e(t,e){return Math.floor(Math.random()*(e-t+1))+t}const qr=1/3,$r="50%",xt=`${100/6}%`;function uN(){const[t,e]=G.useState({top:$r,left:$r,transform:"translate(-50%, -50%)"}),[r,n]=G.useState(!1),i=lN();return G.useEffect(()=>{function s(a){n(!0);const l=window.innerWidth,u=window.innerHeight,c=a.clientX,f=a.clientY;f<u*qr?c<l*qr?e({top:xt,left:xt,transform:"translate(-50%, -50%)"}):c<l*qr*2?e({top:xt,left:$r,transform:"translate(-50%, -50%)"}):e({top:xt,right:xt,transform:"translate(50%, -50%)"}):f<u*qr*2?c<l*qr?e({top:$r,left:xt,transform:"translate(-50%, -50%)"}):c<l*qr*2?e({top:$r,left:$r,transform:"translate(-50%, -50%)"}):e({top:$r,right:xt,transform:"translate(50%, -50%)"}):c<l*qr?e({bottom:xt,left:xt,transform:"translate(-50%, 50%)"}):c<l*qr*2?e({bottom:xt,left:$r,transform:"translate(-50%, 50%)"}):e({bottom:xt,right:xt,transform:"translate(50%, 50%)"})}function o(){n(!1)}return document.addEventListener("mousemove",s),document.addEventListener("mouseleave",o),()=>{document.removeEventListener("mousemove",s),document.removeEventListener("mouseleave",o)}},[i]),r?Q.jsx("button",{onClick:i,className:"btn-shadow-i !fixed z-[999] flex justify-center gap-2 overflow-hidden rounded-2xl border-2 border-emerald-800 bg-gradient-to-b from-lime-600 to-emerald-700 px-3 py-1 text-center hover:from-lime-500 hover:to-emerald-600 focus:outline-offset-8",style:{...t},children:Q.jsx("span",{className:"font-grandstander font-semibold text-lime-100 text-shadow text-shadow-c-black/75 text-shadow-y-px",children:"Send Test Message"})}):null}var Nb={exports:{}},Gh={exports:{}},z0;function cN(){return z0||(z0=1,function(t){(function(e,r){t.exports?t.exports=r():e.EvEmitter=r()})(typeof window<"u"?window:Lu,function(){function e(){}let r=e.prototype;return r.on=function(n,i){if(!n||!i)return this;let s=this._events=this._events||{},o=s[n]=s[n]||[];return o.includes(i)||o.push(i),this},r.once=function(n,i){if(!n||!i)return this;this.on(n,i);let s=this._onceEvents=this._onceEvents||{},o=s[n]=s[n]||{};return o[i]=!0,this},r.off=function(n,i){let s=this._events&&this._events[n];if(!s||!s.length)return this;let o=s.indexOf(i);return o!=-1&&s.splice(o,1),this},r.emitEvent=function(n,i){let s=this._events&&this._events[n];if(!s||!s.length)return this;s=s.slice(0),i=i||[];let o=this._onceEvents&&this._onceEvents[n];for(let a of s)o&&o[a]&&(this.off(n,a),delete o[a]),a.apply(this,i);return this},r.allOff=function(){return delete this._events,delete this._onceEvents,this},e})}(Gh)),Gh.exports}/*!
 * imagesLoaded v5.0.0
 * JavaScript is all like "You images are done yet or what?"
 * MIT License
 */(function(t){(function(e,r){t.exports?t.exports=r(e,cN()):e.imagesLoaded=r(e,e.EvEmitter)})(typeof window<"u"?window:Lu,function(r,n){let i=r.jQuery,s=r.console;function o(h){return Array.isArray(h)?h:typeof h=="object"&&typeof h.length=="number"?[...h]:[h]}function a(h,v,g){if(!(this instanceof a))return new a(h,v,g);let _=h;if(typeof h=="string"&&(_=document.querySelectorAll(h)),!_){s.error(`Bad element for imagesLoaded ${_||h}`);return}this.elements=o(_),this.options={},typeof v=="function"?g=v:Object.assign(this.options,v),g&&this.on("always",g),this.getImages(),i&&(this.jqDeferred=new i.Deferred),setTimeout(this.check.bind(this))}a.prototype=Object.create(n.prototype),a.prototype.getImages=function(){this.images=[],this.elements.forEach(this.addElementImages,this)};const l=[1,9,11];a.prototype.addElementImages=function(h){h.nodeName==="IMG"&&this.addImage(h),this.options.background===!0&&this.addElementBackgroundImages(h);let{nodeType:v}=h;if(!v||!l.includes(v))return;let g=h.querySelectorAll("img");for(let _ of g)this.addImage(_);if(typeof this.options.background=="string"){let _=h.querySelectorAll(this.options.background);for(let w of _)this.addElementBackgroundImages(w)}};const u=/url\((['"])?(.*?)\1\)/gi;a.prototype.addElementBackgroundImages=function(h){let v=getComputedStyle(h);if(!v)return;let g=u.exec(v.backgroundImage);for(;g!==null;){let _=g&&g[2];_&&this.addBackground(_,h),g=u.exec(v.backgroundImage)}},a.prototype.addImage=function(h){let v=new c(h);this.images.push(v)},a.prototype.addBackground=function(h,v){let g=new f(h,v);this.images.push(g)},a.prototype.check=function(){if(this.progressedCount=0,this.hasAnyBroken=!1,!this.images.length){this.complete();return}let h=(v,g,_)=>{setTimeout(()=>{this.progress(v,g,_)})};this.images.forEach(function(v){v.once("progress",h),v.check()})},a.prototype.progress=function(h,v,g){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!h.isLoaded,this.emitEvent("progress",[this,h,v]),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,h),this.progressedCount===this.images.length&&this.complete(),this.options.debug&&s&&s.log(`progress: ${g}`,h,v)},a.prototype.complete=function(){let h=this.hasAnyBroken?"fail":"done";if(this.isComplete=!0,this.emitEvent(h,[this]),this.emitEvent("always",[this]),this.jqDeferred){let v=this.hasAnyBroken?"reject":"resolve";this.jqDeferred[v](this)}};function c(h){this.img=h}c.prototype=Object.create(n.prototype),c.prototype.check=function(){if(this.getIsImageComplete()){this.confirm(this.img.naturalWidth!==0,"naturalWidth");return}this.proxyImage=new Image,this.img.crossOrigin&&(this.proxyImage.crossOrigin=this.img.crossOrigin),this.proxyImage.addEventListener("load",this),this.proxyImage.addEventListener("error",this),this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.proxyImage.src=this.img.currentSrc||this.img.src},c.prototype.getIsImageComplete=function(){return this.img.complete&&this.img.naturalWidth},c.prototype.confirm=function(h,v){this.isLoaded=h;let{parentNode:g}=this.img,_=g.nodeName==="PICTURE"?g:this.img;this.emitEvent("progress",[this,_,v])},c.prototype.handleEvent=function(h){let v="on"+h.type;this[v]&&this[v](h)},c.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},c.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},c.prototype.unbindEvents=function(){this.proxyImage.removeEventListener("load",this),this.proxyImage.removeEventListener("error",this),this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)};function f(h,v){this.url=h,this.element=v,this.img=new Image}return f.prototype=Object.create(c.prototype),f.prototype.check=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.img.src=this.url,this.getIsImageComplete()&&(this.confirm(this.img.naturalWidth!==0,"naturalWidth"),this.unbindEvents())},f.prototype.unbindEvents=function(){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},f.prototype.confirm=function(h,v){this.isLoaded=h,this.emitEvent("progress",[this,this.element,v])},a.makeJQueryPlugin=function(h){h=h||r.jQuery,h&&(i=h,i.fn.imagesLoaded=function(v,g){return new a(this,v,g).jqDeferred.promise(i(this))})},a.makeJQueryPlugin(),a})})(Nb);var dN=Nb.exports;const hN=li(dN);function fN(t){const e=Km(),r=Vm(),n=G.useRef(null),i=G.useRef(),[s,o]=G.useState();function a(){r({type:"remove",payload:t.id})}return G.useEffect(()=>{let l=!1;async function u(){if(i.current)return;const c=await e.onEvent({type:"message",message:t,remove:a});if(l)return;i.current=c||{};const{fragment:f}=i.current;o(mN(f))}return u(),()=>{l=!0}},[]),G.useEffect(()=>{if(!n.current||!i.current||!s)return;const{callback:l}=i.current;if(!l)return;const u=n.current.firstElementChild;hN(u,()=>{l(u)})},[s]),s===""&&a(),s?Q.jsx("div",{className:"slime2-chat-message",dangerouslySetInnerHTML:{__html:s},ref:n}):null}const pN=G.memo(fN);function mN(t){if(!t)return"";const e=t instanceof DocumentFragment?t:t[0],r=document.createElement("div");r.appendChild(e);const n=r.innerHTML;return r.remove(),n}function gN(){const t=fA();function e(){return t.map(r=>Q.jsx(pN,{...r},r.id))}return Q.jsx("div",{id:"slime2-chat-list",children:e()})}function Db(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(r=Db(t[e]))&&(n&&(n+=" "),n+=r);else for(e in t)t[e]&&(n&&(n+=" "),n+=e);return n}function yN(){for(var t,e,r=0,n="";r<arguments.length;)(t=arguments[r++])&&(e=Db(t))&&(n&&(n+=" "),n+=e);return n}function Og({children:t,status:e,staticPosition:r=!1,className:n}){return Q.jsx(Q.Fragment,{children:Q.jsx("div",{className:yN("m-3 flex items-center justify-center rounded-xl px-6 py-3",e==="error"?"bg-rose-900 font-radiocanada text-white":"bg-emerald-800 font-grandstander text-lime-100",e==="success"&&"slime2-loader-success",!r&&"absolute inset-x-0",n),children:t})})}function Wh({message:t,staticPosition:e}){return Q.jsxs(Og,{status:"error",staticPosition:e,children:[Q.jsx("strong",{className:"font-semibold",children:"Key Invalid"}),": ",t," Download a new key from [",Q.jsx("a",{href:"https://slime2.stream/account",target:"_blank",rel:"noreferrer",className:"text-rose-200 underline",children:"slime2.stream/account"}),"]."]})}var vN={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function _N(t){if(typeof t=="number")return{value:t,unit:"px"};var e,r=(t.match(/^[0-9.]*/)||"").toString();r.includes(".")?e=parseFloat(r):e=parseInt(r,10);var n=(t.match(/[^0-9]*$/)||"").toString();return vN[n]?{value:e,unit:n}:(console.warn("React Spinners: ".concat(t," is not a valid css value. Defaulting to ").concat(e,"px.")),{value:e,unit:"px"})}function al(t){var e=_N(t);return"".concat(e.value).concat(e.unit)}var wN=function(t,e,r){var n="react-spinners-".concat(t,"-").concat(r);if(typeof window>"u"||!window.document)return n;var i=document.createElement("style");document.head.appendChild(i);var s=i.sheet,o=`
    @keyframes `.concat(n,` {
      `).concat(e,`
    }
  `);return s&&s.insertRule(o,0),n},Uu=globalThis&&globalThis.__assign||function(){return Uu=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Uu.apply(this,arguments)},SN=globalThis&&globalThis.__rest||function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r},xN=wN("ScaleLoader","0% {transform: scaley(1.0)} 50% {transform: scaley(0.4)} 100% {transform: scaley(1.0)}","scale");function CN(t){var e=t.loading,r=e===void 0?!0:e,n=t.color,i=n===void 0?"#000000":n,s=t.speedMultiplier,o=s===void 0?1:s,a=t.cssOverride,l=a===void 0?{}:a,u=t.height,c=u===void 0?35:u,f=t.width,h=f===void 0?4:f,v=t.radius,g=v===void 0?2:v,_=t.margin,w=_===void 0?2:_,p=SN(t,["loading","color","speedMultiplier","cssOverride","height","width","radius","margin"]),m=Uu({display:"inherit"},l),y=function(C){return{backgroundColor:i,width:al(h),height:al(c),margin:al(w),borderRadius:al(g),display:"inline-block",animation:"".concat(xN," ").concat(1/o,"s ").concat(C*.1,"s infinite cubic-bezier(0.2, 0.68, 0.18, 1.08)"),animationFillMode:"both"}};return r?G.createElement("span",Uu({style:m},p),G.createElement("span",{style:y(1)}),G.createElement("span",{style:y(2)}),G.createElement("span",{style:y(3)}),G.createElement("span",{style:y(4)}),G.createElement("span",{style:y(5)})):null}var Bb={},Ub={},Mg={exports:{}},we=String,Fb=function(){return{isColorSupported:!1,reset:we,bold:we,dim:we,italic:we,underline:we,inverse:we,hidden:we,strikethrough:we,black:we,red:we,green:we,yellow:we,blue:we,magenta:we,cyan:we,white:we,gray:we,bgBlack:we,bgRed:we,bgGreen:we,bgYellow:we,bgBlue:we,bgMagenta:we,bgCyan:we,bgWhite:we}};Mg.exports=Fb();Mg.exports.createColors=Fb;var bN=Mg.exports;(function(t){Object.defineProperty(t,"__esModule",{value:!0});function e(l,u){for(var c in u)Object.defineProperty(l,c,{enumerable:!0,get:u[c]})}e(t,{dim:function(){return o},default:function(){return a}});const r=n(bN);function n(l){return l&&l.__esModule?l:{default:l}}let i=new Set;function s(l,u,c){typeof process<"u"&&{}.JEST_WORKER_ID||c&&i.has(c)||(c&&i.add(c),console.warn(""),u.forEach(f=>console.warn(l,"-",f)))}function o(l){return r.default.dim(l)}const a={info(l,u){s(r.default.bold(r.default.cyan("info")),...Array.isArray(l)?[l]:[u,l])},warn(l,u){s(r.default.bold(r.default.yellow("warn")),...Array.isArray(l)?[l]:[u,l])},risk(l,u){s(r.default.bold(r.default.magenta("risk")),...Array.isArray(l)?[l]:[u,l])}}})(Ub);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i}});const e=r(Ub);function r(s){return s&&s.__esModule?s:{default:s}}function n({version:s,from:o,to:a}){e.default.warn(`${o}-color-renamed`,[`As of Tailwind CSS ${s}, \`${o}\` has been renamed to \`${a}\`.`,"Update your configuration file to silence this warning."])}const i={inherit:"inherit",current:"currentColor",transparent:"transparent",black:"#000",white:"#fff",slate:{50:"#f8fafc",100:"#f1f5f9",200:"#e2e8f0",300:"#cbd5e1",400:"#94a3b8",500:"#64748b",600:"#475569",700:"#334155",800:"#1e293b",900:"#0f172a",950:"#020617"},gray:{50:"#f9fafb",100:"#f3f4f6",200:"#e5e7eb",300:"#d1d5db",400:"#9ca3af",500:"#6b7280",600:"#4b5563",700:"#374151",800:"#1f2937",900:"#111827",950:"#030712"},zinc:{50:"#fafafa",100:"#f4f4f5",200:"#e4e4e7",300:"#d4d4d8",400:"#a1a1aa",500:"#71717a",600:"#52525b",700:"#3f3f46",800:"#27272a",900:"#18181b",950:"#09090b"},neutral:{50:"#fafafa",100:"#f5f5f5",200:"#e5e5e5",300:"#d4d4d4",400:"#a3a3a3",500:"#737373",600:"#525252",700:"#404040",800:"#262626",900:"#171717",950:"#0a0a0a"},stone:{50:"#fafaf9",100:"#f5f5f4",200:"#e7e5e4",300:"#d6d3d1",400:"#a8a29e",500:"#78716c",600:"#57534e",700:"#44403c",800:"#292524",900:"#1c1917",950:"#0c0a09"},red:{50:"#fef2f2",100:"#fee2e2",200:"#fecaca",300:"#fca5a5",400:"#f87171",500:"#ef4444",600:"#dc2626",700:"#b91c1c",800:"#991b1b",900:"#7f1d1d",950:"#450a0a"},orange:{50:"#fff7ed",100:"#ffedd5",200:"#fed7aa",300:"#fdba74",400:"#fb923c",500:"#f97316",600:"#ea580c",700:"#c2410c",800:"#9a3412",900:"#7c2d12",950:"#431407"},amber:{50:"#fffbeb",100:"#fef3c7",200:"#fde68a",300:"#fcd34d",400:"#fbbf24",500:"#f59e0b",600:"#d97706",700:"#b45309",800:"#92400e",900:"#78350f",950:"#451a03"},yellow:{50:"#fefce8",100:"#fef9c3",200:"#fef08a",300:"#fde047",400:"#facc15",500:"#eab308",600:"#ca8a04",700:"#a16207",800:"#854d0e",900:"#713f12",950:"#422006"},lime:{50:"#f7fee7",100:"#ecfccb",200:"#d9f99d",300:"#bef264",400:"#a3e635",500:"#84cc16",600:"#65a30d",700:"#4d7c0f",800:"#3f6212",900:"#365314",950:"#1a2e05"},green:{50:"#f0fdf4",100:"#dcfce7",200:"#bbf7d0",300:"#86efac",400:"#4ade80",500:"#22c55e",600:"#16a34a",700:"#15803d",800:"#166534",900:"#14532d",950:"#052e16"},emerald:{50:"#ecfdf5",100:"#d1fae5",200:"#a7f3d0",300:"#6ee7b7",400:"#34d399",500:"#10b981",600:"#059669",700:"#047857",800:"#065f46",900:"#064e3b",950:"#022c22"},teal:{50:"#f0fdfa",100:"#ccfbf1",200:"#99f6e4",300:"#5eead4",400:"#2dd4bf",500:"#14b8a6",600:"#0d9488",700:"#0f766e",800:"#115e59",900:"#134e4a",950:"#042f2e"},cyan:{50:"#ecfeff",100:"#cffafe",200:"#a5f3fc",300:"#67e8f9",400:"#22d3ee",500:"#06b6d4",600:"#0891b2",700:"#0e7490",800:"#155e75",900:"#164e63",950:"#083344"},sky:{50:"#f0f9ff",100:"#e0f2fe",200:"#bae6fd",300:"#7dd3fc",400:"#38bdf8",500:"#0ea5e9",600:"#0284c7",700:"#0369a1",800:"#075985",900:"#0c4a6e",950:"#082f49"},blue:{50:"#eff6ff",100:"#dbeafe",200:"#bfdbfe",300:"#93c5fd",400:"#60a5fa",500:"#3b82f6",600:"#2563eb",700:"#1d4ed8",800:"#1e40af",900:"#1e3a8a",950:"#172554"},indigo:{50:"#eef2ff",100:"#e0e7ff",200:"#c7d2fe",300:"#a5b4fc",400:"#818cf8",500:"#6366f1",600:"#4f46e5",700:"#4338ca",800:"#3730a3",900:"#312e81",950:"#1e1b4b"},violet:{50:"#f5f3ff",100:"#ede9fe",200:"#ddd6fe",300:"#c4b5fd",400:"#a78bfa",500:"#8b5cf6",600:"#7c3aed",700:"#6d28d9",800:"#5b21b6",900:"#4c1d95",950:"#2e1065"},purple:{50:"#faf5ff",100:"#f3e8ff",200:"#e9d5ff",300:"#d8b4fe",400:"#c084fc",500:"#a855f7",600:"#9333ea",700:"#7e22ce",800:"#6b21a8",900:"#581c87",950:"#3b0764"},fuchsia:{50:"#fdf4ff",100:"#fae8ff",200:"#f5d0fe",300:"#f0abfc",400:"#e879f9",500:"#d946ef",600:"#c026d3",700:"#a21caf",800:"#86198f",900:"#701a75",950:"#4a044e"},pink:{50:"#fdf2f8",100:"#fce7f3",200:"#fbcfe8",300:"#f9a8d4",400:"#f472b6",500:"#ec4899",600:"#db2777",700:"#be185d",800:"#9d174d",900:"#831843",950:"#500724"},rose:{50:"#fff1f2",100:"#ffe4e6",200:"#fecdd3",300:"#fda4af",400:"#fb7185",500:"#f43f5e",600:"#e11d48",700:"#be123c",800:"#9f1239",900:"#881337",950:"#4c0519"},get lightBlue(){return n({version:"v2.2",from:"lightBlue",to:"sky"}),this.sky},get warmGray(){return n({version:"v3.0",from:"warmGray",to:"stone"}),this.stone},get trueGray(){return n({version:"v3.0",from:"trueGray",to:"neutral"}),this.neutral},get coolGray(){return n({version:"v3.0",from:"coolGray",to:"gray"}),this.gray},get blueGray(){return n({version:"v3.0",from:"blueGray",to:"slate"}),this.slate}}})(Bb);let Vh=Bb;var EN=(Vh.__esModule?Vh:{default:Vh}).default;const TN=li(EN);function Lb({message:t,items:e,staticPosition:r}){return Q.jsxs(Og,{status:"loading",staticPosition:r,className:"flex-col",children:[Q.jsxs("div",{className:"flex items-center justify-center gap-3",children:[Kp,t,Kp]}),e&&Q.jsx("div",{className:"flex flex-col",children:e.map(n=>Q.jsx(IN,{...n},n.message))})]})}function IN({message:t,status:e}){let r=Kp;switch(e){case"error":r=Q.jsx("p",{children:""});break;case"success":r=Q.jsx("p",{children:""});break}return Q.jsxs("div",{className:"flex items-center justify-between gap-2",children:[Q.jsx("p",{children:t}),r]})}const Kp=Q.jsx(CN,{color:TN.lime[100],loading:!0,speedMultiplier:.5,height:16,width:3,radius:10});function AN({children:t}){const[e,r]=G.useReducer(pA,Qm);return Q.jsx(Ex.Provider,{value:e,children:Q.jsx(Tx.Provider,{value:r,children:t})})}const G0=60,W0=20;function PN({broadcaster:t,staticPosition:e}){const[r,n]=G.useState(!1);return G.useEffect(()=>{setTimeout(()=>{n(!0)},4*1e3)},[]),r?null:Q.jsxs(Og,{status:"success",staticPosition:e,className:"flex-col gap-1",children:[Q.jsxs("div",{className:"flex items-center justify-center",children:["Connected to",Q.jsx("a",{href:t.url,target:"_blank",children:Q.jsxs("div",{className:"relative mx-3 inline-block",children:[Q.jsx("img",{src:t.image,alt:"Your Profile Picture",width:G0,height:G0,className:"inline rounded-full"}),Q.jsx("img",{src:"https://slime2.stream/assets/twitch-logo.svg",height:W0,width:W0,alt:"Stream Platform Logo",className:"absolute -bottom-px -right-1"})]})}),t.displayName]}),Q.jsx("p",{children:"Hover to send test messages!"})]})}function qb(){const{data:t}=In(),e=Os();return xn({enabled:!!t,queryKey:["twitch","channelPointRewards",t==null?void 0:t.id],queryFn:async()=>{const r=new Map;return(await e.channelPoints.getCustomRewards(t.id).catch(()=>[])).forEach(i=>{r.set(i.id,i)}),r},...di})}function kN(){const{data:t}=Cc();function e(r,n){const{name:i,amount:s,position:o,length:a}=r;return{type:"cheer",text:n.slice(o,o+a),cheer:t.get(i,s)}}return e}function RN(){const{data:t}=bc();function e(r,n){const{position:i,length:s,id:o,name:a}=r,l=n.slice(i,i+s),u=t.get(l);return u?{type:"emote",text:l,emote:u}:{type:"emote",text:l,emote:{id:o,name:a,images:{default:V0(o),static:V0(o,!0)},source:"twitch"}}}return e}function V0(t,e=!1){function r(n){return Rb(t,{animationSettings:e?"static":"default",backgroundType:"light",size:n})}return{x1:r("1.0"),x2:r("2.0"),x4:r("3.0")}}function ON(){const{data:t}=bc();function e(r){const n=[],{text:i}=r,s=MN(Array.from(t.keys()));return i.split(s).forEach(o=>{if(o==="")return;const a=t.get(o);a&&n.push({type:"emote",text:o,emote:a}),n.push({type:"text",text:o})}),n}return e}function MN(t){const e=t.map(NN).join("|"),r=String.raw`(?<=\s|[.,!]|^)(${e})(?=\s|[.,!]|$)`;return new RegExp(r,"g")}function NN(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function DN(){const{data:t}=Cc(),e=ON(),r=kN(),n=RN();function i(s,o,a=!1){if(!s)return[];const l=XM(s,o,a?t.getAllNames():void 0),u=[];return l.forEach(c=>{switch(c.type){default:case"text":u.push(...e(c));break;case"cheer":u.push(r(c,s));break;case"emote":u.push(n(c,s));break}}),u}return i}function BN(){const{data:t}=In(),e=Os(),r=rm();async function n(i){if(t)return await r.fetchQuery({queryKey:["twitch","followDate",i],queryFn:async()=>{if(i===t.id)return new Date(0);const s=await e.channels.getChannelFollowers(t.id,i),[o]=s.data;return o==null?void 0:o.followDate},staleTime:1*60*60*1e3,gcTime:2*60*60*1e3,retry:1})}return{getFollowDate:n}}function UN(){const{getPronouns:t}=eN(),{getFollowDate:e}=BN(),{data:r}=gg();async function n(i){const{userId:s,userName:o,displayName:a,badges:l,color:u,isBroadcaster:c,isMod:f,isArtist:h,isVip:v,isFounder:g,isSubscriber:_}=i;return{id:s,userName:o,displayName:a,pronouns:await t(o),badges:r.transform(l),color:u,roles:{broadcaster:c,moderator:f,artist:h,vip:v,founder:g,subscriber:_},followDate:await e(s)}}return n}function FN(){const{data:t}=qb(),e=DN(),r=UN();async function n(i,s,o){if(s instanceof xc&&(o=s.text),!o)return;const{type:a}=i,l={id:s.id,first:s.tags.get("first-msg")==="1",date:s.date,text:o,parts:e(o,s.emoteOffsets,a==="cheer"),user:await r(s.userInfo),tags:s.tags,source:"twitch",...i};if(a!=="basic")return l;if(s.tags.get("msg-id")==="highlighted-message")return{...l,type:"highlight"};const u=s.tags.get("custom-reward-id");if(u){const h=t.get(u);if(h){const v={id:h.id,name:h.title,cost:h.cost,image:h.getImageUrl(4),color:h.backgroundColor};return{...l,type:"redeem",redeem:v}}}function c(h){return s.tags.get(`reply-parent-${h}`)||""}const f=c("msg-id");if(f){const h={id:f,text:c("msg-body"),user:{id:c("user-id"),userName:c("user-login"),displayName:c("display-name")}};return{...l,type:"reply",reply:h}}return l}return n}function LN(){const{data:t}=Fo("twitch"),{data:e}=In(),{clientId:r}=Bo.twitch,n=new Ss(r,t||"",Bo.twitch.scopes),s=G.useRef(new Bu({authProvider:n,channels:[e.userName]})).current;return s.isConnected||s.connect(),s}function qN(){const t=Km(),e=Vm(),r=LN(),n=FN();function i(a){a&&e({type:"add",payload:a})}function s(a=null){e({type:"clear",payload:a}),t.onModMessageDelete(a?{type:"user",id:a}:{type:"all",id:null})}function o(a){e({type:"remove",payload:a}),t.onModMessageDelete({type:"single",id:a})}return G.useEffect(()=>{const a=[];return a.push(r.onMessage(async(l,u,c,f)=>{const{bits:h}=f,g=await n(h?{type:"cheer",cheer:{amount:h}}:{type:"basic"},f,c);i(g)}),r.onAction(async(l,u,c,f)=>{const h=await n({type:"action"},f,c);i(h)}),r.onResub(async(l,u,c,f)=>{const h={type:"resub",resub:{months:c.months,tier:c.plan}},v=await n(h,f);i(v)}),r.onAnnouncement(async(l,u,c,f)=>{const h={type:"announcement",announcement:{color:c.color}},v=await n(h,f);i(v)}),r.onChatClear(()=>{s()}),r.onTimeout((l,u,c,f)=>{s(f.targetUserId)}),r.onBan((l,u,c)=>{s(c.targetUserId)}),r.onMessageRemove((l,u)=>{o(u)})),()=>{a.forEach(l=>{l&&r.removeListener(l)})}}),null}function $N(){const{data:t,status:e}=In(),{status:r}=gg(),{status:n}=Ob(),{status:i}=qb(),{status:s}=Cc(),{status:o}=Rg(),{status:a}=bc(),[l,u]=Ix("twitch"),c=[e,r,n,i,s,o,a].some(f=>f==="pending");return G.useEffect(()=>{c||setTimeout(()=>{u()},1.5*1e3)},[c,u]),l?Q.jsxs(Q.Fragment,{children:[Q.jsx(PN,{broadcaster:t,staticPosition:!0}),Q.jsx(qN,{})]}):Q.jsx(Lb,{staticPosition:!0,message:"Key verified! Loading Twitch data...",items:[{message:"Loading broadcaster...",status:e},{message:"Loading badges...",status:r},{message:"Loading channel emotes...",status:n},{message:"Loading channel point rewards...",status:i},{message:"Loading cheermotes...",status:s},{message:"Loading pronouns...",status:o},{message:"Loading third party emotes...",status:a}]})}function ft(t){return new Promise((e,r)=>{t.oncomplete=t.onsuccess=()=>e(t.result),t.onabort=t.onerror=()=>r(t.error)})}function $b(t,e){const r=indexedDB.open(t);r.onupgradeneeded=()=>r.result.createObjectStore(e);const n=ft(r);return(i,s)=>n.then(o=>s(o.transaction(e,i).objectStore(e)))}let Qh;function Xt(){return Qh||(Qh=$b("keyval-store","keyval")),Qh}function jN(t,e=Xt()){return e("readonly",r=>ft(r.get(t)))}function HN(t,e,r=Xt()){return r("readwrite",n=>(n.put(e,t),ft(n.transaction)))}function zN(t,e=Xt()){return e("readwrite",r=>(t.forEach(n=>r.put(n[1],n[0])),ft(r.transaction)))}function GN(t,e=Xt()){return e("readonly",r=>Promise.all(t.map(n=>ft(r.get(n)))))}function WN(t,e,r=Xt()){return r("readwrite",n=>new Promise((i,s)=>{n.get(t).onsuccess=function(){try{n.put(e(this.result),t),i(ft(n.transaction))}catch(o){s(o)}}}))}function VN(t,e=Xt()){return e("readwrite",r=>(r.delete(t),ft(r.transaction)))}function QN(t,e=Xt()){return e("readwrite",r=>(t.forEach(n=>r.delete(n)),ft(r.transaction)))}function KN(t=Xt()){return t("readwrite",e=>(e.clear(),ft(e.transaction)))}function Ng(t,e){return t.openCursor().onsuccess=function(){this.result&&(e(this.result),this.result.continue())},ft(t.transaction)}function JN(t=Xt()){return t("readonly",e=>{if(e.getAllKeys)return ft(e.getAllKeys());const r=[];return Ng(e,n=>r.push(n.key)).then(()=>r)})}function YN(t=Xt()){return t("readonly",e=>{if(e.getAll)return ft(e.getAll());const r=[];return Ng(e,n=>r.push(n.value)).then(()=>r)})}function XN(t=Xt()){return t("readonly",e=>{if(e.getAll&&e.getAllKeys)return Promise.all([ft(e.getAllKeys()),ft(e.getAll())]).then(([n,i])=>n.map((s,o)=>[s,i[o]]));const r=[];return t("readonly",n=>Ng(n,i=>r.push([i.key,i.value])).then(()=>r))})}class ZN{constructor(e){Fa(this,"clientStore");this.clientStore=$b(`${e}-db`,`${e}-store`)}get(e){return jN(e,this.clientStore)}getMany(e){return GN(e,this.clientStore)}set(e,r){return HN(e,r,this.clientStore)}setMany(e){return zN(e,this.clientStore)}update(e,r){return WN(e,r,this.clientStore)}del(e){return VN(e,this.clientStore)}delMany(e){return QN(e,this.clientStore)}clear(){return KN(this.clientStore)}keys(){return JN(this.clientStore)}values(){return YN(this.clientStore)}entries(){return XN(this.clientStore)}}const eD=new ZN("slime2-client");function tD(){const{status:t,error:e}=Fo("twitch"),{status:r,error:n}=Fo("google"),i=G.useRef(!1),s=gA();if(G.useEffect(()=>{if(i.current)return;function a(c){s({type:"event",setFunction:c})}function l(c){s({type:"modMessageDelete",setFunction:c})}function u(c,f){s({type:"key",authProvider:c,key:f})}globalThis.slime2={onEvent:a,onModMessageDelete:l,setKey:u,storage:eD},dispatchEvent(new CustomEvent("slime2:ready")),i.current=!0},[]),t==="error"||r==="error"){if(e instanceof op&&n instanceof op)return Q.jsx(Wh,{message:"No key found."});if(e instanceof ap)return Q.jsx(Wh,{message:"Twitch key expired."});if(n instanceof ap)return Q.jsx(Wh,{message:"YouTube key expired."})}return[t,r].some(a=>a==="pending")?Q.jsx(Lb,{message:"Verifying Key..."}):Q.jsxs(AN,{children:[Q.jsx("div",{className:"absolute inset-x-0",children:Q.jsx($N,{})}),Q.jsx(uN,{}),Q.jsx(gN,{})]})}function rD({children:t}){const[e,r]=G.useReducer(yA,Rx);return Q.jsx(Ox.Provider,{value:e,children:Q.jsx(Mx.Provider,{value:r,children:t})})}function nD({children:t}){const[e,r]=G.useReducer(mA,Ax);return Q.jsx(Px.Provider,{value:e,children:Q.jsx(kx.Provider,{value:r,children:t})})}const iD=lf.createRoot(document.getElementById("slime2-root")),sD=new GE;iD.render(Q.jsx(CE.StrictMode,{children:Q.jsx(rD,{children:Q.jsx(KE,{client:sD,children:Q.jsx(nD,{children:Q.jsx(tD,{})})})})}));
